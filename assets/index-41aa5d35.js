var zx=Object.defineProperty;var jx=(e,t,n)=>t in e?zx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var L=(e,t,n)=>(jx(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function Of(e,t){const n=Object.create(null),i=e.split(",");for(let s=0;s<i.length;s++)n[i[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const Ot={},Fs=[],cn=()=>{},$x=()=>!1,Ux=/^on[^a-z]/,uc=e=>Ux.test(e),Vf=e=>e.startsWith("onUpdate:"),ue=Object.assign,Lf=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Hx=Object.prototype.hasOwnProperty,yt=(e,t)=>Hx.call(e,t),tt=Array.isArray,Bs=e=>Qo(e)==="[object Map]",hc=e=>Qo(e)==="[object Set]",Wp=e=>Qo(e)==="[object Date]",ft=e=>typeof e=="function",ne=e=>typeof e=="string",uo=e=>typeof e=="symbol",Dt=e=>e!==null&&typeof e=="object",ev=e=>Dt(e)&&ft(e.then)&&ft(e.catch),nv=Object.prototype.toString,Qo=e=>nv.call(e),Wx=e=>Qo(e).slice(8,-1),iv=e=>Qo(e)==="[object Object]",Nf=e=>ne(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,nl=Of(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),fc=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},qx=/-(\w)/g,Dn=fc(e=>e.replace(qx,(t,n)=>n?n.toUpperCase():"")),Kx=/\B([A-Z])/g,hr=fc(e=>e.replace(Kx,"-$1").toLowerCase()),dc=fc(e=>e.charAt(0).toUpperCase()+e.slice(1)),pu=fc(e=>e?`on${dc(e)}`:""),ho=(e,t)=>!Object.is(e,t),il=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},xl=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},El=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let qp;const uh=()=>qp||(qp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ff(e){if(tt(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],s=ne(i)?Xx(i):Ff(i);if(s)for(const r in s)t[r]=s[r]}return t}else{if(ne(e))return e;if(Dt(e))return e}}const Qx=/;(?![^(]*\))/g,Yx=/:([^]+)/,Gx=/\/\*[^]*?\*\//g;function Xx(e){const t={};return e.replace(Gx,"").split(Qx).forEach(n=>{if(n){const i=n.split(Yx);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Yo(e){let t="";if(ne(e))t=e;else if(tt(e))for(let n=0;n<e.length;n++){const i=Yo(e[n]);i&&(t+=i+" ")}else if(Dt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Jx="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Zx=Of(Jx);function sv(e){return!!e||e===""}function tE(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=pc(e[i],t[i]);return n}function pc(e,t){if(e===t)return!0;let n=Wp(e),i=Wp(t);if(n||i)return n&&i?e.getTime()===t.getTime():!1;if(n=uo(e),i=uo(t),n||i)return e===t;if(n=tt(e),i=tt(t),n||i)return n&&i?tE(e,t):!1;if(n=Dt(e),i=Dt(t),n||i){if(!n||!i)return!1;const s=Object.keys(e).length,r=Object.keys(t).length;if(s!==r)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!pc(e[o],t[o]))return!1}}return String(e)===String(t)}function eE(e,t){return e.findIndex(n=>pc(n,t))}const Cn=e=>ne(e)?e:e==null?"":tt(e)||Dt(e)&&(e.toString===nv||!ft(e.toString))?JSON.stringify(e,rv,2):String(e),rv=(e,t)=>t&&t.__v_isRef?rv(e,t.value):Bs(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,s])=>(n[`${i} =>`]=s,n),{})}:hc(t)?{[`Set(${t.size})`]:[...t.values()]}:Dt(t)&&!tt(t)&&!iv(t)?String(t):t;let He;class ov{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=He,!t&&He&&(this.index=(He.scopes||(He.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=He;try{return He=this,t()}finally{He=n}}}on(){He=this}off(){He=this.parent}stop(t){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function nE(e){return new ov(e)}function iE(e,t=He){t&&t.active&&t.effects.push(e)}function av(){return He}function sE(e){He&&He.cleanups.push(e)}const Bf=e=>{const t=new Set(e);return t.w=0,t.n=0,t},lv=e=>(e.w&Ei)>0,cv=e=>(e.n&Ei)>0,rE=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Ei},oE=e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const s=t[i];lv(s)&&!cv(s)?s.delete(e):t[n++]=s,s.w&=~Ei,s.n&=~Ei}t.length=n}},hh=new WeakMap;let Rr=0,Ei=1;const fh=30;let sn;const rs=Symbol(""),dh=Symbol("");class zf{constructor(t,n=null,i){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,iE(this,i)}run(){if(!this.active)return this.fn();let t=sn,n=_i;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=sn,sn=this,_i=!0,Ei=1<<++Rr,Rr<=fh?rE(this):Kp(this),this.fn()}finally{Rr<=fh&&oE(this),Ei=1<<--Rr,sn=this.parent,_i=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){sn===this?this.deferStop=!0:this.active&&(Kp(this),this.onStop&&this.onStop(),this.active=!1)}}function Kp(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let _i=!0;const uv=[];function fr(){uv.push(_i),_i=!1}function dr(){const e=uv.pop();_i=e===void 0?!0:e}function je(e,t,n){if(_i&&sn){let i=hh.get(e);i||hh.set(e,i=new Map);let s=i.get(n);s||i.set(n,s=Bf()),hv(s)}}function hv(e,t){let n=!1;Rr<=fh?cv(e)||(e.n|=Ei,n=!lv(e)):n=!e.has(sn),n&&(e.add(sn),sn.deps.push(e))}function Yn(e,t,n,i,s,r){const o=hh.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&tt(e)){const l=Number(i);o.forEach((c,u)=>{(u==="length"||u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),t){case"add":tt(e)?Nf(n)&&a.push(o.get("length")):(a.push(o.get(rs)),Bs(e)&&a.push(o.get(dh)));break;case"delete":tt(e)||(a.push(o.get(rs)),Bs(e)&&a.push(o.get(dh)));break;case"set":Bs(e)&&a.push(o.get(rs));break}if(a.length===1)a[0]&&ph(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);ph(Bf(l))}}function ph(e,t){const n=tt(e)?e:[...e];for(const i of n)i.computed&&Qp(i);for(const i of n)i.computed||Qp(i)}function Qp(e,t){(e!==sn||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const aE=Of("__proto__,__v_isRef,__isVue"),fv=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(uo)),lE=jf(),cE=jf(!1,!0),uE=jf(!0),Yp=hE();function hE(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=At(this);for(let r=0,o=this.length;r<o;r++)je(i,"get",r+"");const s=i[t](...n);return s===-1||s===!1?i[t](...n.map(At)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){fr();const i=At(this)[t].apply(this,n);return dr(),i}}),e}function fE(e){const t=At(this);return je(t,"has",e),t.hasOwnProperty(e)}function jf(e=!1,t=!1){return function(i,s,r){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&r===(e?t?CE:_v:t?mv:gv).get(i))return i;const o=tt(i);if(!e){if(o&&yt(Yp,s))return Reflect.get(Yp,s,r);if(s==="hasOwnProperty")return fE}const a=Reflect.get(i,s,r);return(uo(s)?fv.has(s):aE(s))||(e||je(i,"get",s),t)?a:_e(a)?o&&Nf(s)?a:a.value:Dt(a)?e?vv(a):mc(a):a}}const dE=dv(),pE=dv(!0);function dv(e=!1){return function(n,i,s,r){let o=n[i];if(Qs(o)&&_e(o)&&!_e(s))return!1;if(!e&&(!Tl(s)&&!Qs(s)&&(o=At(o),s=At(s)),!tt(n)&&_e(o)&&!_e(s)))return o.value=s,!0;const a=tt(n)&&Nf(i)?Number(i)<n.length:yt(n,i),l=Reflect.set(n,i,s,r);return n===At(r)&&(a?ho(s,o)&&Yn(n,"set",i,s):Yn(n,"add",i,s)),l}}function gE(e,t){const n=yt(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&Yn(e,"delete",t,void 0),i}function mE(e,t){const n=Reflect.has(e,t);return(!uo(t)||!fv.has(t))&&je(e,"has",t),n}function _E(e){return je(e,"iterate",tt(e)?"length":rs),Reflect.ownKeys(e)}const pv={get:lE,set:dE,deleteProperty:gE,has:mE,ownKeys:_E},yE={get:uE,set(e,t){return!0},deleteProperty(e,t){return!0}},vE=ue({},pv,{get:cE,set:pE}),$f=e=>e,gc=e=>Reflect.getPrototypeOf(e);function ya(e,t,n=!1,i=!1){e=e.__v_raw;const s=At(e),r=At(t);n||(t!==r&&je(s,"get",t),je(s,"get",r));const{has:o}=gc(s),a=i?$f:n?qf:fo;if(o.call(s,t))return a(e.get(t));if(o.call(s,r))return a(e.get(r));e!==s&&e.get(t)}function va(e,t=!1){const n=this.__v_raw,i=At(n),s=At(e);return t||(e!==s&&je(i,"has",e),je(i,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function ba(e,t=!1){return e=e.__v_raw,!t&&je(At(e),"iterate",rs),Reflect.get(e,"size",e)}function Gp(e){e=At(e);const t=At(this);return gc(t).has.call(t,e)||(t.add(e),Yn(t,"add",e,e)),this}function Xp(e,t){t=At(t);const n=At(this),{has:i,get:s}=gc(n);let r=i.call(n,e);r||(e=At(e),r=i.call(n,e));const o=s.call(n,e);return n.set(e,t),r?ho(t,o)&&Yn(n,"set",e,t):Yn(n,"add",e,t),this}function Jp(e){const t=At(this),{has:n,get:i}=gc(t);let s=n.call(t,e);s||(e=At(e),s=n.call(t,e)),i&&i.call(t,e);const r=t.delete(e);return s&&Yn(t,"delete",e,void 0),r}function Zp(){const e=At(this),t=e.size!==0,n=e.clear();return t&&Yn(e,"clear",void 0,void 0),n}function Aa(e,t){return function(i,s){const r=this,o=r.__v_raw,a=At(o),l=t?$f:e?qf:fo;return!e&&je(a,"iterate",rs),o.forEach((c,u)=>i.call(s,l(c),l(u),r))}}function wa(e,t,n){return function(...i){const s=this.__v_raw,r=At(s),o=Bs(r),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=s[e](...i),u=n?$f:t?qf:fo;return!t&&je(r,"iterate",l?dh:rs),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function ai(e){return function(...t){return e==="delete"?!1:this}}function bE(){const e={get(r){return ya(this,r)},get size(){return ba(this)},has:va,add:Gp,set:Xp,delete:Jp,clear:Zp,forEach:Aa(!1,!1)},t={get(r){return ya(this,r,!1,!0)},get size(){return ba(this)},has:va,add:Gp,set:Xp,delete:Jp,clear:Zp,forEach:Aa(!1,!0)},n={get(r){return ya(this,r,!0)},get size(){return ba(this,!0)},has(r){return va.call(this,r,!0)},add:ai("add"),set:ai("set"),delete:ai("delete"),clear:ai("clear"),forEach:Aa(!0,!1)},i={get(r){return ya(this,r,!0,!0)},get size(){return ba(this,!0)},has(r){return va.call(this,r,!0)},add:ai("add"),set:ai("set"),delete:ai("delete"),clear:ai("clear"),forEach:Aa(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=wa(r,!1,!1),n[r]=wa(r,!0,!1),t[r]=wa(r,!1,!0),i[r]=wa(r,!0,!0)}),[e,n,t,i]}const[AE,wE,xE,EE]=bE();function Uf(e,t){const n=t?e?EE:xE:e?wE:AE;return(i,s,r)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?i:Reflect.get(yt(n,s)&&s in i?n:i,s,r)}const TE={get:Uf(!1,!1)},IE={get:Uf(!1,!0)},SE={get:Uf(!0,!1)},gv=new WeakMap,mv=new WeakMap,_v=new WeakMap,CE=new WeakMap;function PE(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function kE(e){return e.__v_skip||!Object.isExtensible(e)?0:PE(Wx(e))}function mc(e){return Qs(e)?e:Hf(e,!1,pv,TE,gv)}function yv(e){return Hf(e,!1,vE,IE,mv)}function vv(e){return Hf(e,!0,yE,SE,_v)}function Hf(e,t,n,i,s){if(!Dt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=s.get(e);if(r)return r;const o=kE(e);if(o===0)return e;const a=new Proxy(e,o===2?i:n);return s.set(e,a),a}function zs(e){return Qs(e)?zs(e.__v_raw):!!(e&&e.__v_isReactive)}function Qs(e){return!!(e&&e.__v_isReadonly)}function Tl(e){return!!(e&&e.__v_isShallow)}function bv(e){return zs(e)||Qs(e)}function At(e){const t=e&&e.__v_raw;return t?At(t):e}function Wf(e){return xl(e,"__v_skip",!0),e}const fo=e=>Dt(e)?mc(e):e,qf=e=>Dt(e)?vv(e):e;function Av(e){_i&&sn&&(e=At(e),hv(e.dep||(e.dep=Bf())))}function wv(e,t){e=At(e);const n=e.dep;n&&ph(n)}function _e(e){return!!(e&&e.__v_isRef===!0)}function wn(e){return xv(e,!1)}function RE(e){return xv(e,!0)}function xv(e,t){return _e(e)?e:new ME(e,t)}class ME{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:At(t),this._value=n?t:fo(t)}get value(){return Av(this),this._value}set value(t){const n=this.__v_isShallow||Tl(t)||Qs(t);t=n?t:At(t),ho(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:fo(t),wv(this))}}function un(e){return _e(e)?e.value:e}const DE={get:(e,t,n)=>un(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const s=e[t];return _e(s)&&!_e(n)?(s.value=n,!0):Reflect.set(e,t,n,i)}};function Ev(e){return zs(e)?e:new Proxy(e,DE)}class OE{constructor(t,n,i,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new zf(t,()=>{this._dirty||(this._dirty=!0,wv(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const t=At(this);return Av(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function VE(e,t,n=!1){let i,s;const r=ft(e);return r?(i=e,s=cn):(i=e.get,s=e.set),new OE(i,s,r||!s,n)}function yi(e,t,n,i){let s;try{s=i?e(...i):e()}catch(r){_c(r,t,n)}return s}function hn(e,t,n,i){if(ft(e)){const r=yi(e,t,n,i);return r&&ev(r)&&r.catch(o=>{_c(o,t,n)}),r}const s=[];for(let r=0;r<e.length;r++)s.push(hn(e[r],t,n,i));return s}function _c(e,t,n,i=!0){const s=t?t.vnode:null;if(t){let r=t.parent;const o=t.proxy,a=n;for(;r;){const c=r.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,o,a)===!1)return}r=r.parent}const l=t.appContext.config.errorHandler;if(l){yi(l,null,10,[e,o,a]);return}}LE(e,n,s,i)}function LE(e,t,n,i=!0){console.error(e)}let po=!1,gh=!1;const Ee=[];let xn=0;const js=[];let zn=null,Qi=0;const Tv=Promise.resolve();let Kf=null;function Iv(e){const t=Kf||Tv;return e?t.then(this?e.bind(this):e):t}function NE(e){let t=xn+1,n=Ee.length;for(;t<n;){const i=t+n>>>1;go(Ee[i])<e?t=i+1:n=i}return t}function Qf(e){(!Ee.length||!Ee.includes(e,po&&e.allowRecurse?xn+1:xn))&&(e.id==null?Ee.push(e):Ee.splice(NE(e.id),0,e),Sv())}function Sv(){!po&&!gh&&(gh=!0,Kf=Tv.then(Pv))}function FE(e){const t=Ee.indexOf(e);t>xn&&Ee.splice(t,1)}function BE(e){tt(e)?js.push(...e):(!zn||!zn.includes(e,e.allowRecurse?Qi+1:Qi))&&js.push(e),Sv()}function tg(e,t=po?xn+1:0){for(;t<Ee.length;t++){const n=Ee[t];n&&n.pre&&(Ee.splice(t,1),t--,n())}}function Cv(e){if(js.length){const t=[...new Set(js)];if(js.length=0,zn){zn.push(...t);return}for(zn=t,zn.sort((n,i)=>go(n)-go(i)),Qi=0;Qi<zn.length;Qi++)zn[Qi]();zn=null,Qi=0}}const go=e=>e.id==null?1/0:e.id,zE=(e,t)=>{const n=go(e)-go(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Pv(e){gh=!1,po=!0,Ee.sort(zE);const t=cn;try{for(xn=0;xn<Ee.length;xn++){const n=Ee[xn];n&&n.active!==!1&&yi(n,null,14)}}finally{xn=0,Ee.length=0,Cv(),po=!1,Kf=null,(Ee.length||js.length)&&Pv()}}function jE(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||Ot;let s=n;const r=t.startsWith("update:"),o=r&&t.slice(7);if(o&&o in i){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=i[u]||Ot;f&&(s=n.map(d=>ne(d)?d.trim():d)),h&&(s=n.map(El))}let a,l=i[a=pu(t)]||i[a=pu(Dn(t))];!l&&r&&(l=i[a=pu(hr(t))]),l&&hn(l,e,6,s);const c=i[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,hn(c,e,6,s)}}function kv(e,t,n=!1){const i=t.emitsCache,s=i.get(e);if(s!==void 0)return s;const r=e.emits;let o={},a=!1;if(!ft(e)){const l=c=>{const u=kv(c,t,!0);u&&(a=!0,ue(o,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!r&&!a?(Dt(e)&&i.set(e,null),null):(tt(r)?r.forEach(l=>o[l]=null):ue(o,r),Dt(e)&&i.set(e,o),o)}function yc(e,t){return!e||!uc(t)?!1:(t=t.slice(2).replace(/Once$/,""),yt(e,t[0].toLowerCase()+t.slice(1))||yt(e,hr(t))||yt(e,t))}let tn=null,vc=null;function Il(e){const t=tn;return tn=e,vc=e&&e.type.__scopeId||null,t}function bc(e){vc=e}function Ac(){vc=null}function Yf(e,t=tn,n){if(!t||e._n)return e;const i=(...s)=>{i._d&&hg(-1);const r=Il(t);let o;try{o=e(...s)}finally{Il(r),i._d&&hg(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function gu(e){const{type:t,vnode:n,proxy:i,withProxy:s,props:r,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:h,data:f,setupState:d,ctx:p,inheritAttrs:g}=e;let m,_;const y=Il(e);try{if(n.shapeFlag&4){const A=s||i;m=An(u.call(A,A,h,r,d,f,p)),_=l}else{const A=t;m=An(A.length>1?A(r,{attrs:l,slots:a,emit:c}):A(r,null)),_=t.props?l:$E(l)}}catch(A){Kr.length=0,_c(A,e,1),m=Pt(fs)}let w=m;if(_&&g!==!1){const A=Object.keys(_),{shapeFlag:E}=w;A.length&&E&7&&(o&&A.some(Vf)&&(_=UE(_,o)),w=Ys(w,_))}return n.dirs&&(w=Ys(w),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&(w.transition=n.transition),m=w,Il(y),m}const $E=e=>{let t;for(const n in e)(n==="class"||n==="style"||uc(n))&&((t||(t={}))[n]=e[n]);return t},UE=(e,t)=>{const n={};for(const i in e)(!Vf(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function HE(e,t,n){const{props:i,children:s,component:r}=e,{props:o,children:a,patchFlag:l}=t,c=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?eg(i,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==i[f]&&!yc(c,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?eg(i,o,c):!0:!!o;return!1}function eg(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(t[r]!==e[r]&&!yc(n,r))return!0}return!1}function WE({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const qE=e=>e.__isSuspense;function KE(e,t){t&&t.pendingBranch?tt(e)?t.effects.push(...e):t.effects.push(e):BE(e)}const xa={};function os(e,t,n){return Rv(e,t,n)}function Rv(e,t,{immediate:n,deep:i,flush:s,onTrack:r,onTrigger:o}=Ot){var a;const l=av()===((a=me)==null?void 0:a.scope)?me:null;let c,u=!1,h=!1;if(_e(e)?(c=()=>e.value,u=Tl(e)):zs(e)?(c=()=>e,i=!0):tt(e)?(h=!0,u=e.some(A=>zs(A)||Tl(A)),c=()=>e.map(A=>{if(_e(A))return A.value;if(zs(A))return Xi(A);if(ft(A))return yi(A,l,2)})):ft(e)?t?c=()=>yi(e,l,2):c=()=>{if(!(l&&l.isUnmounted))return f&&f(),hn(e,l,3,[d])}:c=cn,t&&i){const A=c;c=()=>Xi(A())}let f,d=A=>{f=y.onStop=()=>{yi(A,l,4)}},p;if(yo)if(d=cn,t?n&&hn(t,l,3,[c(),h?[]:void 0,d]):c(),s==="sync"){const A=B1();p=A.__watcherHandles||(A.__watcherHandles=[])}else return cn;let g=h?new Array(e.length).fill(xa):xa;const m=()=>{if(y.active)if(t){const A=y.run();(i||u||(h?A.some((E,I)=>ho(E,g[I])):ho(A,g)))&&(f&&f(),hn(t,l,3,[A,g===xa?void 0:h&&g[0]===xa?[]:g,d]),g=A)}else y.run()};m.allowRecurse=!!t;let _;s==="sync"?_=m:s==="post"?_=()=>Fe(m,l&&l.suspense):(m.pre=!0,l&&(m.id=l.uid),_=()=>Qf(m));const y=new zf(c,_);t?n?m():g=y.run():s==="post"?Fe(y.run.bind(y),l&&l.suspense):y.run();const w=()=>{y.stop(),l&&l.scope&&Lf(l.scope.effects,y)};return p&&p.push(w),w}function QE(e,t,n){const i=this.proxy,s=ne(e)?e.includes(".")?Mv(i,e):()=>i[e]:e.bind(i,i);let r;ft(t)?r=t:(r=t.handler,n=t);const o=me;Gs(this);const a=Rv(s,r.bind(i),n);return o?Gs(o):as(),a}function Mv(e,t){const n=t.split(".");return()=>{let i=e;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}function Xi(e,t){if(!Dt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),_e(e))Xi(e.value,t);else if(tt(e))for(let n=0;n<e.length;n++)Xi(e[n],t);else if(hc(e)||Bs(e))e.forEach(n=>{Xi(n,t)});else if(iv(e))for(const n in e)Xi(e[n],t);return e}function Dv(e,t){const n=tn;if(n===null)return e;const i=Tc(n)||n.proxy,s=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,a,l,c=Ot]=t[r];o&&(ft(o)&&(o={mounted:o,updated:o}),o.deep&&Xi(a),s.push({dir:o,instance:i,value:a,oldValue:void 0,arg:l,modifiers:c}))}return e}function Bi(e,t,n,i){const s=e.dirs,r=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];r&&(a.oldValue=r[o].value);let l=a.dir[i];l&&(fr(),hn(l,n,8,[e.el,a,e,t]),dr())}}function Gf(e,t){return ft(e)?(()=>ue({name:e.name},t,{setup:e}))():e}const sl=e=>!!e.type.__asyncLoader,Ov=e=>e.type.__isKeepAlive;function YE(e,t){Vv(e,"a",t)}function GE(e,t){Vv(e,"da",t)}function Vv(e,t,n=me){const i=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(wc(t,i,n),n){let s=n.parent;for(;s&&s.parent;)Ov(s.parent.vnode)&&XE(i,t,n,s),s=s.parent}}function XE(e,t,n,i){const s=wc(t,e,i,!0);Lv(()=>{Lf(i[t],s)},n)}function wc(e,t,n=me,i=!1){if(n){const s=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;fr(),Gs(n);const a=hn(t,n,e,o);return as(),dr(),a});return i?s.unshift(r):s.push(r),r}}const si=e=>(t,n=me)=>(!yo||e==="sp")&&wc(e,(...i)=>t(...i),n),JE=si("bm"),Xf=si("m"),ZE=si("bu"),t1=si("u"),e1=si("bum"),Lv=si("um"),n1=si("sp"),i1=si("rtg"),s1=si("rtc");function r1(e,t=me){wc("ec",e,t)}const Jf="components";function Nv(e,t){return Bv(Jf,e,!0,t)||e}const Fv=Symbol.for("v-ndc");function o1(e){return ne(e)?Bv(Jf,e,!1)||e:e||Fv}function Bv(e,t,n=!0,i=!1){const s=tn||me;if(s){const r=s.type;if(e===Jf){const a=L1(r,!1);if(a&&(a===t||a===Dn(t)||a===dc(Dn(t))))return r}const o=ng(s[e]||r[e],t)||ng(s.appContext[e],t);return!o&&i?r:o}}function ng(e,t){return e&&(e[t]||e[Dn(t)]||e[dc(Dn(t))])}function mo(e,t,n,i){let s;const r=n&&n[i];if(tt(e)||ne(e)){s=new Array(e.length);for(let o=0,a=e.length;o<a;o++)s[o]=t(e[o],o,void 0,r&&r[o])}else if(typeof e=="number"){s=new Array(e);for(let o=0;o<e;o++)s[o]=t(o+1,o,void 0,r&&r[o])}else if(Dt(e))if(e[Symbol.iterator])s=Array.from(e,(o,a)=>t(o,a,void 0,r&&r[a]));else{const o=Object.keys(e);s=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];s[a]=t(e[c],c,a,r&&r[a])}}else s=[];return n&&(n[i]=s),s}const mh=e=>e?Gv(e)?Tc(e)||e.proxy:mh(e.parent):null,qr=ue(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>mh(e.parent),$root:e=>mh(e.root),$emit:e=>e.emit,$options:e=>Zf(e),$forceUpdate:e=>e.f||(e.f=()=>Qf(e.update)),$nextTick:e=>e.n||(e.n=Iv.bind(e.proxy)),$watch:e=>QE.bind(e)}),mu=(e,t)=>e!==Ot&&!e.__isScriptSetup&&yt(e,t),a1={get({_:e},t){const{ctx:n,setupState:i,data:s,props:r,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const d=o[t];if(d!==void 0)switch(d){case 1:return i[t];case 2:return s[t];case 4:return n[t];case 3:return r[t]}else{if(mu(i,t))return o[t]=1,i[t];if(s!==Ot&&yt(s,t))return o[t]=2,s[t];if((c=e.propsOptions[0])&&yt(c,t))return o[t]=3,r[t];if(n!==Ot&&yt(n,t))return o[t]=4,n[t];_h&&(o[t]=0)}}const u=qr[t];let h,f;if(u)return t==="$attrs"&&je(e,"get",t),u(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(n!==Ot&&yt(n,t))return o[t]=4,n[t];if(f=l.config.globalProperties,yt(f,t))return f[t]},set({_:e},t,n){const{data:i,setupState:s,ctx:r}=e;return mu(s,t)?(s[t]=n,!0):i!==Ot&&yt(i,t)?(i[t]=n,!0):yt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:s,propsOptions:r}},o){let a;return!!n[o]||e!==Ot&&yt(e,o)||mu(t,o)||(a=r[0])&&yt(a,o)||yt(i,o)||yt(qr,o)||yt(s.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:yt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function ig(e){return tt(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let _h=!0;function l1(e){const t=Zf(e),n=e.proxy,i=e.ctx;_h=!1,t.beforeCreate&&sg(t.beforeCreate,e,"bc");const{data:s,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:d,updated:p,activated:g,deactivated:m,beforeDestroy:_,beforeUnmount:y,destroyed:w,unmounted:A,render:E,renderTracked:I,renderTriggered:P,errorCaptured:O,serverPrefetch:z,expose:K,inheritAttrs:nt,components:lt,directives:St,filters:ie}=t;if(c&&c1(c,i,null),o)for(const et in o){const ct=o[et];ft(ct)&&(i[et]=ct.bind(n))}if(s){const et=s.call(n,n);Dt(et)&&(e.data=mc(et))}if(_h=!0,r)for(const et in r){const ct=r[et],kt=ft(ct)?ct.bind(n,n):ft(ct.get)?ct.get.bind(n,n):cn,Me=!ft(ct)&&ft(ct.set)?ct.set.bind(n):cn,De=pe({get:kt,set:Me});Object.defineProperty(i,et,{enumerable:!0,configurable:!0,get:()=>De.value,set:Xt=>De.value=Xt})}if(a)for(const et in a)zv(a[et],i,n,et);if(l){const et=ft(l)?l.call(n):l;Reflect.ownKeys(et).forEach(ct=>{rl(ct,et[ct])})}u&&sg(u,e,"c");function at(et,ct){tt(ct)?ct.forEach(kt=>et(kt.bind(n))):ct&&et(ct.bind(n))}if(at(JE,h),at(Xf,f),at(ZE,d),at(t1,p),at(YE,g),at(GE,m),at(r1,O),at(s1,I),at(i1,P),at(e1,y),at(Lv,A),at(n1,z),tt(K))if(K.length){const et=e.exposed||(e.exposed={});K.forEach(ct=>{Object.defineProperty(et,ct,{get:()=>n[ct],set:kt=>n[ct]=kt})})}else e.exposed||(e.exposed={});E&&e.render===cn&&(e.render=E),nt!=null&&(e.inheritAttrs=nt),lt&&(e.components=lt),St&&(e.directives=St)}function c1(e,t,n=cn){tt(e)&&(e=yh(e));for(const i in e){const s=e[i];let r;Dt(s)?"default"in s?r=Pn(s.from||i,s.default,!0):r=Pn(s.from||i):r=Pn(s),_e(r)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[i]=r}}function sg(e,t,n){hn(tt(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function zv(e,t,n,i){const s=i.includes(".")?Mv(n,i):()=>n[i];if(ne(e)){const r=t[e];ft(r)&&os(s,r)}else if(ft(e))os(s,e.bind(n));else if(Dt(e))if(tt(e))e.forEach(r=>zv(r,t,n,i));else{const r=ft(e.handler)?e.handler.bind(n):t[e.handler];ft(r)&&os(s,r,e)}}function Zf(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,a=r.get(t);let l;return a?l=a:!s.length&&!n&&!i?l=t:(l={},s.length&&s.forEach(c=>Sl(l,c,o,!0)),Sl(l,t,o)),Dt(t)&&r.set(t,l),l}function Sl(e,t,n,i=!1){const{mixins:s,extends:r}=t;r&&Sl(e,r,n,!0),s&&s.forEach(o=>Sl(e,o,n,!0));for(const o in t)if(!(i&&o==="expose")){const a=u1[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const u1={data:rg,props:og,emits:og,methods:Mr,computed:Mr,beforeCreate:Oe,created:Oe,beforeMount:Oe,mounted:Oe,beforeUpdate:Oe,updated:Oe,beforeDestroy:Oe,beforeUnmount:Oe,destroyed:Oe,unmounted:Oe,activated:Oe,deactivated:Oe,errorCaptured:Oe,serverPrefetch:Oe,components:Mr,directives:Mr,watch:f1,provide:rg,inject:h1};function rg(e,t){return t?e?function(){return ue(ft(e)?e.call(this,this):e,ft(t)?t.call(this,this):t)}:t:e}function h1(e,t){return Mr(yh(e),yh(t))}function yh(e){if(tt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Oe(e,t){return e?[...new Set([].concat(e,t))]:t}function Mr(e,t){return e?ue(Object.create(null),e,t):t}function og(e,t){return e?tt(e)&&tt(t)?[...new Set([...e,...t])]:ue(Object.create(null),ig(e),ig(t??{})):t}function f1(e,t){if(!e)return t;if(!t)return e;const n=ue(Object.create(null),e);for(const i in t)n[i]=Oe(e[i],t[i]);return n}function jv(){return{app:null,config:{isNativeTag:$x,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let d1=0;function p1(e,t){return function(i,s=null){ft(i)||(i=ue({},i)),s!=null&&!Dt(s)&&(s=null);const r=jv(),o=new Set;let a=!1;const l=r.app={_uid:d1++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:z1,get config(){return r.config},set config(c){},use(c,...u){return o.has(c)||(c&&ft(c.install)?(o.add(c),c.install(l,...u)):ft(c)&&(o.add(c),c(l,...u))),l},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),l},component(c,u){return u?(r.components[c]=u,l):r.components[c]},directive(c,u){return u?(r.directives[c]=u,l):r.directives[c]},mount(c,u,h){if(!a){const f=Pt(i,s);return f.appContext=r,u&&t?t(f,c):e(f,c,h),a=!0,l._container=c,c.__vue_app__=l,Tc(f.component)||f.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(c,u){return r.provides[c]=u,l},runWithContext(c){Cl=l;try{return c()}finally{Cl=null}}};return l}}let Cl=null;function rl(e,t){if(me){let n=me.provides;const i=me.parent&&me.parent.provides;i===n&&(n=me.provides=Object.create(i)),n[e]=t}}function Pn(e,t,n=!1){const i=me||tn;if(i||Cl){const s=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:Cl._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&ft(t)?t.call(i&&i.proxy):t}}function g1(e,t,n,i=!1){const s={},r={};xl(r,Ec,1),e.propsDefaults=Object.create(null),$v(e,t,s,r);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=i?s:yv(s):e.type.props?e.props=s:e.props=r,e.attrs=r}function m1(e,t,n,i){const{props:s,attrs:r,vnode:{patchFlag:o}}=e,a=At(s),[l]=e.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(yc(e.emitsOptions,f))continue;const d=t[f];if(l)if(yt(r,f))d!==r[f]&&(r[f]=d,c=!0);else{const p=Dn(f);s[p]=vh(l,a,p,d,e,!1)}else d!==r[f]&&(r[f]=d,c=!0)}}}else{$v(e,t,s,r)&&(c=!0);let u;for(const h in a)(!t||!yt(t,h)&&((u=hr(h))===h||!yt(t,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(s[h]=vh(l,a,h,void 0,e,!0)):delete s[h]);if(r!==a)for(const h in r)(!t||!yt(t,h))&&(delete r[h],c=!0)}c&&Yn(e,"set","$attrs")}function $v(e,t,n,i){const[s,r]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(nl(l))continue;const c=t[l];let u;s&&yt(s,u=Dn(l))?!r||!r.includes(u)?n[u]=c:(a||(a={}))[u]=c:yc(e.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(r){const l=At(n),c=a||Ot;for(let u=0;u<r.length;u++){const h=r[u];n[h]=vh(s,l,h,c[h],e,!yt(c,h))}}return o}function vh(e,t,n,i,s,r){const o=e[n];if(o!=null){const a=yt(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&ft(l)){const{propsDefaults:c}=s;n in c?i=c[n]:(Gs(s),i=c[n]=l.call(null,t),as())}else i=l}o[0]&&(r&&!a?i=!1:o[1]&&(i===""||i===hr(n))&&(i=!0))}return i}function Uv(e,t,n=!1){const i=t.propsCache,s=i.get(e);if(s)return s;const r=e.props,o={},a=[];let l=!1;if(!ft(e)){const u=h=>{l=!0;const[f,d]=Uv(h,t,!0);ue(o,f),d&&a.push(...d)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!r&&!l)return Dt(e)&&i.set(e,Fs),Fs;if(tt(r))for(let u=0;u<r.length;u++){const h=Dn(r[u]);ag(h)&&(o[h]=Ot)}else if(r)for(const u in r){const h=Dn(u);if(ag(h)){const f=r[u],d=o[h]=tt(f)||ft(f)?{type:f}:ue({},f);if(d){const p=ug(Boolean,d.type),g=ug(String,d.type);d[0]=p>-1,d[1]=g<0||p<g,(p>-1||yt(d,"default"))&&a.push(h)}}}const c=[o,a];return Dt(e)&&i.set(e,c),c}function ag(e){return e[0]!=="$"}function lg(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function cg(e,t){return lg(e)===lg(t)}function ug(e,t){return tt(t)?t.findIndex(n=>cg(n,e)):ft(t)&&cg(t,e)?0:-1}const Hv=e=>e[0]==="_"||e==="$stable",td=e=>tt(e)?e.map(An):[An(e)],_1=(e,t,n)=>{if(t._n)return t;const i=Yf((...s)=>td(t(...s)),n);return i._c=!1,i},Wv=(e,t,n)=>{const i=e._ctx;for(const s in e){if(Hv(s))continue;const r=e[s];if(ft(r))t[s]=_1(s,r,i);else if(r!=null){const o=td(r);t[s]=()=>o}}},qv=(e,t)=>{const n=td(t);e.slots.default=()=>n},y1=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=At(t),xl(t,"_",n)):Wv(t,e.slots={})}else e.slots={},t&&qv(e,t);xl(e.slots,Ec,1)},v1=(e,t,n)=>{const{vnode:i,slots:s}=e;let r=!0,o=Ot;if(i.shapeFlag&32){const a=t._;a?n&&a===1?r=!1:(ue(s,t),!n&&a===1&&delete s._):(r=!t.$stable,Wv(t,s)),o=t}else t&&(qv(e,t),o={default:1});if(r)for(const a in s)!Hv(a)&&!(a in o)&&delete s[a]};function bh(e,t,n,i,s=!1){if(tt(e)){e.forEach((f,d)=>bh(f,t&&(tt(t)?t[d]:t),n,i,s));return}if(sl(i)&&!s)return;const r=i.shapeFlag&4?Tc(i.component)||i.component.proxy:i.el,o=s?null:r,{i:a,r:l}=e,c=t&&t.r,u=a.refs===Ot?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==l&&(ne(c)?(u[c]=null,yt(h,c)&&(h[c]=null)):_e(c)&&(c.value=null)),ft(l))yi(l,a,12,[o,u]);else{const f=ne(l),d=_e(l);if(f||d){const p=()=>{if(e.f){const g=f?yt(h,l)?h[l]:u[l]:l.value;s?tt(g)&&Lf(g,r):tt(g)?g.includes(r)||g.push(r):f?(u[l]=[r],yt(h,l)&&(h[l]=u[l])):(l.value=[r],e.k&&(u[e.k]=l.value))}else f?(u[l]=o,yt(h,l)&&(h[l]=o)):d&&(l.value=o,e.k&&(u[e.k]=o))};o?(p.id=-1,Fe(p,n)):p()}}}const Fe=KE;function b1(e){return A1(e)}function A1(e,t){const n=uh();n.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:d=cn,insertStaticContent:p}=e,g=(v,b,x,T=null,C=null,k=null,j=!1,V=null,N=!!b.dynamicChildren)=>{if(v===b)return;v&&!wr(v,b)&&(T=S(v),Xt(v,C,k,!0),v=null),b.patchFlag===-2&&(N=!1,b.dynamicChildren=null);const{type:M,ref:Y,shapeFlag:H}=b;switch(M){case xc:m(v,b,x,T);break;case fs:_(v,b,x,T);break;case _u:v==null&&y(b,x,T,j);break;case we:lt(v,b,x,T,C,k,j,V,N);break;default:H&1?E(v,b,x,T,C,k,j,V,N):H&6?St(v,b,x,T,C,k,j,V,N):(H&64||H&128)&&M.process(v,b,x,T,C,k,j,V,N,F)}Y!=null&&C&&bh(Y,v&&v.ref,k,b||v,!b)},m=(v,b,x,T)=>{if(v==null)i(b.el=a(b.children),x,T);else{const C=b.el=v.el;b.children!==v.children&&c(C,b.children)}},_=(v,b,x,T)=>{v==null?i(b.el=l(b.children||""),x,T):b.el=v.el},y=(v,b,x,T)=>{[v.el,v.anchor]=p(v.children,b,x,T,v.el,v.anchor)},w=({el:v,anchor:b},x,T)=>{let C;for(;v&&v!==b;)C=f(v),i(v,x,T),v=C;i(b,x,T)},A=({el:v,anchor:b})=>{let x;for(;v&&v!==b;)x=f(v),s(v),v=x;s(b)},E=(v,b,x,T,C,k,j,V,N)=>{j=j||b.type==="svg",v==null?I(b,x,T,C,k,j,V,N):z(v,b,C,k,j,V,N)},I=(v,b,x,T,C,k,j,V)=>{let N,M;const{type:Y,props:H,shapeFlag:G,transition:rt,dirs:dt}=v;if(N=v.el=o(v.type,k,H&&H.is,H),G&8?u(N,v.children):G&16&&O(v.children,N,null,T,C,k&&Y!=="foreignObject",j,V),dt&&Bi(v,null,T,"created"),P(N,v,v.scopeId,j,T),H){for(const Ct in H)Ct!=="value"&&!nl(Ct)&&r(N,Ct,null,H[Ct],k,v.children,T,C,Wt);"value"in H&&r(N,"value",null,H.value),(M=H.onVnodeBeforeMount)&&yn(M,T,v)}dt&&Bi(v,null,T,"beforeMount");const Rt=(!C||C&&!C.pendingBranch)&&rt&&!rt.persisted;Rt&&rt.beforeEnter(N),i(N,b,x),((M=H&&H.onVnodeMounted)||Rt||dt)&&Fe(()=>{M&&yn(M,T,v),Rt&&rt.enter(N),dt&&Bi(v,null,T,"mounted")},C)},P=(v,b,x,T,C)=>{if(x&&d(v,x),T)for(let k=0;k<T.length;k++)d(v,T[k]);if(C){let k=C.subTree;if(b===k){const j=C.vnode;P(v,j,j.scopeId,j.slotScopeIds,C.parent)}}},O=(v,b,x,T,C,k,j,V,N=0)=>{for(let M=N;M<v.length;M++){const Y=v[M]=V?ui(v[M]):An(v[M]);g(null,Y,b,x,T,C,k,j,V)}},z=(v,b,x,T,C,k,j)=>{const V=b.el=v.el;let{patchFlag:N,dynamicChildren:M,dirs:Y}=b;N|=v.patchFlag&16;const H=v.props||Ot,G=b.props||Ot;let rt;x&&zi(x,!1),(rt=G.onVnodeBeforeUpdate)&&yn(rt,x,b,v),Y&&Bi(b,v,x,"beforeUpdate"),x&&zi(x,!0);const dt=C&&b.type!=="foreignObject";if(M?K(v.dynamicChildren,M,V,x,T,dt,k):j||ct(v,b,V,null,x,T,dt,k,!1),N>0){if(N&16)nt(V,b,H,G,x,T,C);else if(N&2&&H.class!==G.class&&r(V,"class",null,G.class,C),N&4&&r(V,"style",H.style,G.style,C),N&8){const Rt=b.dynamicProps;for(let Ct=0;Ct<Rt.length;Ct++){const Jt=Rt[Ct],nn=H[Jt],Ss=G[Jt];(Ss!==nn||Jt==="value")&&r(V,Jt,nn,Ss,C,v.children,x,T,Wt)}}N&1&&v.children!==b.children&&u(V,b.children)}else!j&&M==null&&nt(V,b,H,G,x,T,C);((rt=G.onVnodeUpdated)||Y)&&Fe(()=>{rt&&yn(rt,x,b,v),Y&&Bi(b,v,x,"updated")},T)},K=(v,b,x,T,C,k,j)=>{for(let V=0;V<b.length;V++){const N=v[V],M=b[V],Y=N.el&&(N.type===we||!wr(N,M)||N.shapeFlag&70)?h(N.el):x;g(N,M,Y,null,T,C,k,j,!0)}},nt=(v,b,x,T,C,k,j)=>{if(x!==T){if(x!==Ot)for(const V in x)!nl(V)&&!(V in T)&&r(v,V,x[V],null,j,b.children,C,k,Wt);for(const V in T){if(nl(V))continue;const N=T[V],M=x[V];N!==M&&V!=="value"&&r(v,V,M,N,j,b.children,C,k,Wt)}"value"in T&&r(v,"value",x.value,T.value)}},lt=(v,b,x,T,C,k,j,V,N)=>{const M=b.el=v?v.el:a(""),Y=b.anchor=v?v.anchor:a("");let{patchFlag:H,dynamicChildren:G,slotScopeIds:rt}=b;rt&&(V=V?V.concat(rt):rt),v==null?(i(M,x,T),i(Y,x,T),O(b.children,x,Y,C,k,j,V,N)):H>0&&H&64&&G&&v.dynamicChildren?(K(v.dynamicChildren,G,x,C,k,j,V),(b.key!=null||C&&b===C.subTree)&&Kv(v,b,!0)):ct(v,b,x,Y,C,k,j,V,N)},St=(v,b,x,T,C,k,j,V,N)=>{b.slotScopeIds=V,v==null?b.shapeFlag&512?C.ctx.activate(b,x,T,j,N):ie(b,x,T,C,k,j,N):mt(v,b,N)},ie=(v,b,x,T,C,k,j)=>{const V=v.component=R1(v,T,C);if(Ov(v)&&(V.ctx.renderer=F),M1(V),V.asyncDep){if(C&&C.registerDep(V,at),!v.el){const N=V.subTree=Pt(fs);_(null,N,b,x)}return}at(V,v,b,x,C,k,j)},mt=(v,b,x)=>{const T=b.component=v.component;if(HE(v,b,x))if(T.asyncDep&&!T.asyncResolved){et(T,b,x);return}else T.next=b,FE(T.update),T.update();else b.el=v.el,T.vnode=b},at=(v,b,x,T,C,k,j)=>{const V=()=>{if(v.isMounted){let{next:Y,bu:H,u:G,parent:rt,vnode:dt}=v,Rt=Y,Ct;zi(v,!1),Y?(Y.el=dt.el,et(v,Y,j)):Y=dt,H&&il(H),(Ct=Y.props&&Y.props.onVnodeBeforeUpdate)&&yn(Ct,rt,Y,dt),zi(v,!0);const Jt=gu(v),nn=v.subTree;v.subTree=Jt,g(nn,Jt,h(nn.el),S(nn),v,C,k),Y.el=Jt.el,Rt===null&&WE(v,Jt.el),G&&Fe(G,C),(Ct=Y.props&&Y.props.onVnodeUpdated)&&Fe(()=>yn(Ct,rt,Y,dt),C)}else{let Y;const{el:H,props:G}=b,{bm:rt,m:dt,parent:Rt}=v,Ct=sl(b);if(zi(v,!1),rt&&il(rt),!Ct&&(Y=G&&G.onVnodeBeforeMount)&&yn(Y,Rt,b),zi(v,!0),H&&wt){const Jt=()=>{v.subTree=gu(v),wt(H,v.subTree,v,C,null)};Ct?b.type.__asyncLoader().then(()=>!v.isUnmounted&&Jt()):Jt()}else{const Jt=v.subTree=gu(v);g(null,Jt,x,T,v,C,k),b.el=Jt.el}if(dt&&Fe(dt,C),!Ct&&(Y=G&&G.onVnodeMounted)){const Jt=b;Fe(()=>yn(Y,Rt,Jt),C)}(b.shapeFlag&256||Rt&&sl(Rt.vnode)&&Rt.vnode.shapeFlag&256)&&v.a&&Fe(v.a,C),v.isMounted=!0,b=x=T=null}},N=v.effect=new zf(V,()=>Qf(M),v.scope),M=v.update=()=>N.run();M.id=v.uid,zi(v,!0),M()},et=(v,b,x)=>{b.component=v;const T=v.vnode.props;v.vnode=b,v.next=null,m1(v,b.props,T,x),v1(v,b.children,x),fr(),tg(),dr()},ct=(v,b,x,T,C,k,j,V,N=!1)=>{const M=v&&v.children,Y=v?v.shapeFlag:0,H=b.children,{patchFlag:G,shapeFlag:rt}=b;if(G>0){if(G&128){Me(M,H,x,T,C,k,j,V,N);return}else if(G&256){kt(M,H,x,T,C,k,j,V,N);return}}rt&8?(Y&16&&Wt(M,C,k),H!==M&&u(x,H)):Y&16?rt&16?Me(M,H,x,T,C,k,j,V,N):Wt(M,C,k,!0):(Y&8&&u(x,""),rt&16&&O(H,x,T,C,k,j,V,N))},kt=(v,b,x,T,C,k,j,V,N)=>{v=v||Fs,b=b||Fs;const M=v.length,Y=b.length,H=Math.min(M,Y);let G;for(G=0;G<H;G++){const rt=b[G]=N?ui(b[G]):An(b[G]);g(v[G],rt,x,null,C,k,j,V,N)}M>Y?Wt(v,C,k,!0,!1,H):O(b,x,T,C,k,j,V,N,H)},Me=(v,b,x,T,C,k,j,V,N)=>{let M=0;const Y=b.length;let H=v.length-1,G=Y-1;for(;M<=H&&M<=G;){const rt=v[M],dt=b[M]=N?ui(b[M]):An(b[M]);if(wr(rt,dt))g(rt,dt,x,null,C,k,j,V,N);else break;M++}for(;M<=H&&M<=G;){const rt=v[H],dt=b[G]=N?ui(b[G]):An(b[G]);if(wr(rt,dt))g(rt,dt,x,null,C,k,j,V,N);else break;H--,G--}if(M>H){if(M<=G){const rt=G+1,dt=rt<Y?b[rt].el:T;for(;M<=G;)g(null,b[M]=N?ui(b[M]):An(b[M]),x,dt,C,k,j,V,N),M++}}else if(M>G)for(;M<=H;)Xt(v[M],C,k,!0),M++;else{const rt=M,dt=M,Rt=new Map;for(M=dt;M<=G;M++){const $e=b[M]=N?ui(b[M]):An(b[M]);$e.key!=null&&Rt.set($e.key,M)}let Ct,Jt=0;const nn=G-dt+1;let Ss=!1,$p=0;const Ar=new Array(nn);for(M=0;M<nn;M++)Ar[M]=0;for(M=rt;M<=H;M++){const $e=v[M];if(Jt>=nn){Xt($e,C,k,!0);continue}let _n;if($e.key!=null)_n=Rt.get($e.key);else for(Ct=dt;Ct<=G;Ct++)if(Ar[Ct-dt]===0&&wr($e,b[Ct])){_n=Ct;break}_n===void 0?Xt($e,C,k,!0):(Ar[_n-dt]=M+1,_n>=$p?$p=_n:Ss=!0,g($e,b[_n],x,null,C,k,j,V,N),Jt++)}const Up=Ss?w1(Ar):Fs;for(Ct=Up.length-1,M=nn-1;M>=0;M--){const $e=dt+M,_n=b[$e],Hp=$e+1<Y?b[$e+1].el:T;Ar[M]===0?g(null,_n,x,Hp,C,k,j,V,N):Ss&&(Ct<0||M!==Up[Ct]?De(_n,x,Hp,2):Ct--)}}},De=(v,b,x,T,C=null)=>{const{el:k,type:j,transition:V,children:N,shapeFlag:M}=v;if(M&6){De(v.component.subTree,b,x,T);return}if(M&128){v.suspense.move(b,x,T);return}if(M&64){j.move(v,b,x,F);return}if(j===we){i(k,b,x);for(let H=0;H<N.length;H++)De(N[H],b,x,T);i(v.anchor,b,x);return}if(j===_u){w(v,b,x);return}if(T!==2&&M&1&&V)if(T===0)V.beforeEnter(k),i(k,b,x),Fe(()=>V.enter(k),C);else{const{leave:H,delayLeave:G,afterLeave:rt}=V,dt=()=>i(k,b,x),Rt=()=>{H(k,()=>{dt(),rt&&rt()})};G?G(k,dt,Rt):Rt()}else i(k,b,x)},Xt=(v,b,x,T=!1,C=!1)=>{const{type:k,props:j,ref:V,children:N,dynamicChildren:M,shapeFlag:Y,patchFlag:H,dirs:G}=v;if(V!=null&&bh(V,null,x,v,!0),Y&256){b.ctx.deactivate(v);return}const rt=Y&1&&G,dt=!sl(v);let Rt;if(dt&&(Rt=j&&j.onVnodeBeforeUnmount)&&yn(Rt,b,v),Y&6)mn(v.component,x,T);else{if(Y&128){v.suspense.unmount(x,T);return}rt&&Bi(v,null,b,"beforeUnmount"),Y&64?v.type.remove(v,b,x,C,F,T):M&&(k!==we||H>0&&H&64)?Wt(M,b,x,!1,!0):(k===we&&H&384||!C&&Y&16)&&Wt(N,b,x),T&&Ye(v)}(dt&&(Rt=j&&j.onVnodeUnmounted)||rt)&&Fe(()=>{Rt&&yn(Rt,b,v),rt&&Bi(v,null,b,"unmounted")},x)},Ye=v=>{const{type:b,el:x,anchor:T,transition:C}=v;if(b===we){Ge(x,T);return}if(b===_u){A(v);return}const k=()=>{s(x),C&&!C.persisted&&C.afterLeave&&C.afterLeave()};if(v.shapeFlag&1&&C&&!C.persisted){const{leave:j,delayLeave:V}=C,N=()=>j(x,k);V?V(v.el,k,N):N()}else k()},Ge=(v,b)=>{let x;for(;v!==b;)x=f(v),s(v),v=x;s(b)},mn=(v,b,x)=>{const{bum:T,scope:C,update:k,subTree:j,um:V}=v;T&&il(T),C.stop(),k&&(k.active=!1,Xt(j,v,b,x)),V&&Fe(V,b),Fe(()=>{v.isUnmounted=!0},b),b&&b.pendingBranch&&!b.isUnmounted&&v.asyncDep&&!v.asyncResolved&&v.suspenseId===b.pendingId&&(b.deps--,b.deps===0&&b.resolve())},Wt=(v,b,x,T=!1,C=!1,k=0)=>{for(let j=k;j<v.length;j++)Xt(v[j],b,x,T,C)},S=v=>v.shapeFlag&6?S(v.component.subTree):v.shapeFlag&128?v.suspense.next():f(v.anchor||v.el),U=(v,b,x)=>{v==null?b._vnode&&Xt(b._vnode,null,null,!0):g(b._vnode||null,v,b,null,null,null,x),tg(),Cv(),b._vnode=v},F={p:g,um:Xt,m:De,r:Ye,mt:ie,mc:O,pc:ct,pbc:K,n:S,o:e};let Q,wt;return t&&([Q,wt]=t(F)),{render:U,hydrate:Q,createApp:p1(U,Q)}}function zi({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Kv(e,t,n=!1){const i=e.children,s=t.children;if(tt(i)&&tt(s))for(let r=0;r<i.length;r++){const o=i[r];let a=s[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[r]=ui(s[r]),a.el=o.el),n||Kv(o,a)),a.type===xc&&(a.el=o.el)}}function w1(e){const t=e.slice(),n=[0];let i,s,r,o,a;const l=e.length;for(i=0;i<l;i++){const c=e[i];if(c!==0){if(s=n[n.length-1],e[s]<c){t[i]=s,n.push(i);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,e[n[a]]<c?r=a+1:o=a;c<e[n[r]]&&(r>0&&(t[i]=n[r-1]),n[r]=i)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=t[o];return n}const x1=e=>e.__isTeleport,we=Symbol.for("v-fgt"),xc=Symbol.for("v-txt"),fs=Symbol.for("v-cmt"),_u=Symbol.for("v-stc"),Kr=[];let rn=null;function Ut(e=!1){Kr.push(rn=e?null:[])}function E1(){Kr.pop(),rn=Kr[Kr.length-1]||null}let _o=1;function hg(e){_o+=e}function Qv(e){return e.dynamicChildren=_o>0?rn||Fs:null,E1(),_o>0&&rn&&rn.push(e),e}function ee(e,t,n,i,s,r){return Qv(Z(e,t,n,i,s,r,!0))}function ed(e,t,n,i,s){return Qv(Pt(e,t,n,i,s,!0))}function Ah(e){return e?e.__v_isVNode===!0:!1}function wr(e,t){return e.type===t.type&&e.key===t.key}const Ec="__vInternal",Yv=({key:e})=>e??null,ol=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?ne(e)||_e(e)||ft(e)?{i:tn,r:e,k:t,f:!!n}:e:null);function Z(e,t=null,n=null,i=0,s=null,r=e===we?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Yv(t),ref:t&&ol(t),scopeId:vc,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:tn};return a?(nd(l,n),r&128&&e.normalize(l)):n&&(l.shapeFlag|=ne(n)?8:16),_o>0&&!o&&rn&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&rn.push(l),l}const Pt=T1;function T1(e,t=null,n=null,i=0,s=null,r=!1){if((!e||e===Fv)&&(e=fs),Ah(e)){const a=Ys(e,t,!0);return n&&nd(a,n),_o>0&&!r&&rn&&(a.shapeFlag&6?rn[rn.indexOf(e)]=a:rn.push(a)),a.patchFlag|=-2,a}if(N1(e)&&(e=e.__vccOpts),t){t=I1(t);let{class:a,style:l}=t;a&&!ne(a)&&(t.class=Yo(a)),Dt(l)&&(bv(l)&&!tt(l)&&(l=ue({},l)),t.style=Ff(l))}const o=ne(e)?1:qE(e)?128:x1(e)?64:Dt(e)?4:ft(e)?2:0;return Z(e,t,n,i,s,o,r,!0)}function I1(e){return e?bv(e)||Ec in e?ue({},e):e:null}function Ys(e,t,n=!1){const{props:i,ref:s,patchFlag:r,children:o}=e,a=t?C1(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Yv(a),ref:t&&t.ref?n&&s?tt(s)?s.concat(ol(t)):[s,ol(t)]:ol(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==we?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Ys(e.ssContent),ssFallback:e.ssFallback&&Ys(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function al(e=" ",t=0){return Pt(xc,null,e,t)}function S1(e="",t=!1){return t?(Ut(),ed(fs,null,e)):Pt(fs,null,e)}function An(e){return e==null||typeof e=="boolean"?Pt(fs):tt(e)?Pt(we,null,e.slice()):typeof e=="object"?ui(e):Pt(xc,null,String(e))}function ui(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Ys(e)}function nd(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(tt(t))n=16;else if(typeof t=="object")if(i&65){const s=t.default;s&&(s._c&&(s._d=!1),nd(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(Ec in t)?t._ctx=tn:s===3&&tn&&(tn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ft(t)?(t={default:t,_ctx:tn},n=32):(t=String(t),i&64?(n=16,t=[al(t)]):n=8);e.children=t,e.shapeFlag|=n}function C1(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const s in i)if(s==="class")t.class!==i.class&&(t.class=Yo([t.class,i.class]));else if(s==="style")t.style=Ff([t.style,i.style]);else if(uc(s)){const r=t[s],o=i[s];o&&r!==o&&!(tt(r)&&r.includes(o))&&(t[s]=r?[].concat(r,o):o)}else s!==""&&(t[s]=i[s])}return t}function yn(e,t,n,i=null){hn(e,t,7,[n,i])}const P1=jv();let k1=0;function R1(e,t,n){const i=e.type,s=(t?t.appContext:e.appContext)||P1,r={uid:k1++,vnode:e,type:i,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new ov(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Uv(i,s),emitsOptions:kv(i,s),emit:null,emitted:null,propsDefaults:Ot,inheritAttrs:i.inheritAttrs,ctx:Ot,data:Ot,props:Ot,attrs:Ot,slots:Ot,refs:Ot,setupState:Ot,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=jE.bind(null,r),e.ce&&e.ce(r),r}let me=null,id,Cs,fg="__VUE_INSTANCE_SETTERS__";(Cs=uh()[fg])||(Cs=uh()[fg]=[]),Cs.push(e=>me=e),id=e=>{Cs.length>1?Cs.forEach(t=>t(e)):Cs[0](e)};const Gs=e=>{id(e),e.scope.on()},as=()=>{me&&me.scope.off(),id(null)};function Gv(e){return e.vnode.shapeFlag&4}let yo=!1;function M1(e,t=!1){yo=t;const{props:n,children:i}=e.vnode,s=Gv(e);g1(e,n,s,t),y1(e,i);const r=s?D1(e,t):void 0;return yo=!1,r}function D1(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Wf(new Proxy(e.ctx,a1));const{setup:i}=n;if(i){const s=e.setupContext=i.length>1?V1(e):null;Gs(e),fr();const r=yi(i,e,0,[e.props,s]);if(dr(),as(),ev(r)){if(r.then(as,as),t)return r.then(o=>{dg(e,o,t)}).catch(o=>{_c(o,e,0)});e.asyncDep=r}else dg(e,r,t)}else Xv(e,t)}function dg(e,t,n){ft(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Dt(t)&&(e.setupState=Ev(t)),Xv(e,n)}let pg;function Xv(e,t,n){const i=e.type;if(!e.render){if(!t&&pg&&!i.render){const s=i.template||Zf(e).template;if(s){const{isCustomElement:r,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=i,c=ue(ue({isCustomElement:r,delimiters:a},o),l);i.render=pg(s,c)}}e.render=i.render||cn}Gs(e),fr(),l1(e),dr(),as()}function O1(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return je(e,"get","$attrs"),t[n]}}))}function V1(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return O1(e)},slots:e.slots,emit:e.emit,expose:t}}function Tc(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Ev(Wf(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in qr)return qr[n](e)},has(t,n){return n in t||n in qr}}))}function L1(e,t=!0){return ft(e)?e.displayName||e.name:e.name||t&&e.__name}function N1(e){return ft(e)&&"__vccOpts"in e}const pe=(e,t)=>VE(e,t,yo);function sd(e,t,n){const i=arguments.length;return i===2?Dt(t)&&!tt(t)?Ah(t)?Pt(e,null,[t]):Pt(e,t):Pt(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&Ah(n)&&(n=[n]),Pt(e,t,n))}const F1=Symbol.for("v-scx"),B1=()=>Pn(F1),z1="3.3.4",j1="http://www.w3.org/2000/svg",Yi=typeof document<"u"?document:null,gg=Yi&&Yi.createElement("template"),$1={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const s=t?Yi.createElementNS(j1,e):Yi.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:e=>Yi.createTextNode(e),createComment:e=>Yi.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Yi.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,s,r){const o=n?n.previousSibling:t.lastChild;if(s&&(s===r||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{gg.innerHTML=i?`<svg>${e}</svg>`:e;const a=gg.content;if(i){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function U1(e,t,n){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function H1(e,t,n){const i=e.style,s=ne(n);if(n&&!s){if(t&&!ne(t))for(const r in t)n[r]==null&&wh(i,r,"");for(const r in n)wh(i,r,n[r])}else{const r=i.display;s?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=r)}}const mg=/\s*!important$/;function wh(e,t,n){if(tt(n))n.forEach(i=>wh(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=W1(e,t);mg.test(n)?e.setProperty(hr(i),n.replace(mg,""),"important"):e[i]=n}}const _g=["Webkit","Moz","ms"],yu={};function W1(e,t){const n=yu[t];if(n)return n;let i=Dn(t);if(i!=="filter"&&i in e)return yu[t]=i;i=dc(i);for(let s=0;s<_g.length;s++){const r=_g[s]+i;if(r in e)return yu[t]=r}return t}const yg="http://www.w3.org/1999/xlink";function q1(e,t,n,i,s){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(yg,t.slice(6,t.length)):e.setAttributeNS(yg,t,n);else{const r=Zx(t);n==null||r&&!sv(n)?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}function K1(e,t,n,i,s,r,o){if(t==="innerHTML"||t==="textContent"){i&&o(i,s,r),e[t]=n??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=n;const c=a==="OPTION"?e.getAttribute("value"):e.value,u=n??"";c!==u&&(e.value=u),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=sv(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function Gi(e,t,n,i){e.addEventListener(t,n,i)}function Q1(e,t,n,i){e.removeEventListener(t,n,i)}function Y1(e,t,n,i,s=null){const r=e._vei||(e._vei={}),o=r[t];if(i&&o)o.value=i;else{const[a,l]=G1(t);if(i){const c=r[t]=Z1(i,s);Gi(e,a,c,l)}else o&&(Q1(e,a,o,l),r[t]=void 0)}}const vg=/(?:Once|Passive|Capture)$/;function G1(e){let t;if(vg.test(e)){t={};let i;for(;i=e.match(vg);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):hr(e.slice(2)),t]}let vu=0;const X1=Promise.resolve(),J1=()=>vu||(X1.then(()=>vu=0),vu=Date.now());function Z1(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;hn(tT(i,n.value),t,5,[i])};return n.value=e,n.attached=J1(),n}function tT(e,t){if(tt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>s=>!s._stopped&&i&&i(s))}else return t}const bg=/^on[a-z]/,eT=(e,t,n,i,s=!1,r,o,a,l)=>{t==="class"?U1(e,i,s):t==="style"?H1(e,n,i):uc(t)?Vf(t)||Y1(e,t,n,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):nT(e,t,i,s))?K1(e,t,i,r,o,a,l):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),q1(e,t,i,s))};function nT(e,t,n,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&bg.test(t)&&ft(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||bg.test(t)&&ne(n)?!1:t in e}const Pl=e=>{const t=e.props["onUpdate:modelValue"]||!1;return tt(t)?n=>il(t,n):t};function iT(e){e.target.composing=!0}function Ag(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const sT={created(e,{modifiers:{lazy:t,trim:n,number:i}},s){e._assign=Pl(s);const r=i||s.props&&s.props.type==="number";Gi(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),r&&(a=El(a)),e._assign(a)}),n&&Gi(e,"change",()=>{e.value=e.value.trim()}),t||(Gi(e,"compositionstart",iT),Gi(e,"compositionend",Ag),Gi(e,"change",Ag))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:i,number:s}},r){if(e._assign=Pl(r),e.composing||document.activeElement===e&&e.type!=="range"&&(n||i&&e.value.trim()===t||(s||e.type==="number")&&El(e.value)===t))return;const o=t??"";e.value!==o&&(e.value=o)}},rT={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const s=hc(t);Gi(e,"change",()=>{const r=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>n?El(kl(o)):kl(o));e._assign(e.multiple?s?new Set(r):r:r[0])}),e._assign=Pl(i)},mounted(e,{value:t}){wg(e,t)},beforeUpdate(e,t,n){e._assign=Pl(n)},updated(e,{value:t}){wg(e,t)}};function wg(e,t){const n=e.multiple;if(!(n&&!tt(t)&&!hc(t))){for(let i=0,s=e.options.length;i<s;i++){const r=e.options[i],o=kl(r);if(n)tt(t)?r.selected=eE(t,o)>-1:r.selected=t.has(o);else if(pc(kl(r),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function kl(e){return"_value"in e?e._value:e.value}const oT=ue({patchProp:eT},$1);let xg;function aT(){return xg||(xg=b1(oT))}const lT=(...e)=>{const t=aT().createApp(...e),{mount:n}=t;return t.mount=i=>{const s=cT(i);if(!s)return;const r=t._component;!ft(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function cT(e){return ne(e)?document.querySelector(e):e}var uT=!1;/*!
  * pinia v2.1.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const hT=Symbol();var Eg;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Eg||(Eg={}));function fT(){const e=nE(!0),t=e.run(()=>wn({}));let n=[],i=[];const s=Wf({install(r){s._a=r,r.provide(hT,s),r.config.globalProperties.$pinia=s,i.forEach(o=>n.push(o)),i=[]},use(r){return!this._a&&!uT?i.push(r):n.push(r),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Ms=typeof window<"u";function dT(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Et=Object.assign;function bu(e,t){const n={};for(const i in t){const s=t[i];n[i]=dn(s)?s.map(e):e(s)}return n}const Qr=()=>{},dn=Array.isArray,pT=/\/$/,gT=e=>e.replace(pT,"");function Au(e,t,n="/"){let i,s={},r="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=t.slice(0,l),r=t.slice(l+1,a>-1?a:t.length),s=e(r)),a>-1&&(i=i||t.slice(0,a),o=t.slice(a,t.length)),i=vT(i??t,n),{fullPath:i+(r&&"?")+r+o,path:i,query:s,hash:o}}function mT(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Tg(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function _T(e,t,n){const i=t.matched.length-1,s=n.matched.length-1;return i>-1&&i===s&&Xs(t.matched[i],n.matched[s])&&Jv(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Xs(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Jv(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!yT(e[n],t[n]))return!1;return!0}function yT(e,t){return dn(e)?Ig(e,t):dn(t)?Ig(t,e):e===t}function Ig(e,t){return dn(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function vT(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let r=n.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+i.slice(o-(o===i.length?1:0)).join("/")}var vo;(function(e){e.pop="pop",e.push="push"})(vo||(vo={}));var Yr;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Yr||(Yr={}));function bT(e){if(!e)if(Ms){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),gT(e)}const AT=/^[^#]+#/;function wT(e,t){return e.replace(AT,"#")+t}function xT(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const Ic=()=>({left:window.pageXOffset,top:window.pageYOffset});function ET(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=xT(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function Sg(e,t){return(history.state?history.state.position-t:-1)+e}const xh=new Map;function TT(e,t){xh.set(e,t)}function IT(e){const t=xh.get(e);return xh.delete(e),t}let ST=()=>location.protocol+"//"+location.host;function Zv(e,t){const{pathname:n,search:i,hash:s}=t,r=e.indexOf("#");if(r>-1){let a=s.includes(e.slice(r))?e.slice(r).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),Tg(l,"")}return Tg(n,e)+i+s}function CT(e,t,n,i){let s=[],r=[],o=null;const a=({state:f})=>{const d=Zv(e,location),p=n.value,g=t.value;let m=0;if(f){if(n.value=d,t.value=f,o&&o===p){o=null;return}m=g?f.position-g.position:0}else i(d);s.forEach(_=>{_(n.value,p,{delta:m,type:vo.pop,direction:m?m>0?Yr.forward:Yr.back:Yr.unknown})})};function l(){o=n.value}function c(f){s.push(f);const d=()=>{const p=s.indexOf(f);p>-1&&s.splice(p,1)};return r.push(d),d}function u(){const{history:f}=window;f.state&&f.replaceState(Et({},f.state,{scroll:Ic()}),"")}function h(){for(const f of r)f();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function Cg(e,t,n,i=!1,s=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:s?Ic():null}}function PT(e){const{history:t,location:n}=window,i={value:Zv(e,n)},s={value:t.state};s.value||r(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const h=e.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+l:ST()+e+l;try{t[u?"replaceState":"pushState"](c,"",f),s.value=c}catch(d){console.error(d),n[u?"replace":"assign"](f)}}function o(l,c){const u=Et({},t.state,Cg(s.value.back,l,s.value.forward,!0),c,{position:s.value.position});r(l,u,!0),i.value=l}function a(l,c){const u=Et({},s.value,t.state,{forward:l,scroll:Ic()});r(u.current,u,!0);const h=Et({},Cg(i.value,l,null),{position:u.position+1},c);r(l,h,!1),i.value=l}return{location:i,state:s,push:a,replace:o}}function kT(e){e=bT(e);const t=PT(e),n=CT(e,t.state,t.location,t.replace);function i(r,o=!0){o||n.pauseListeners(),history.go(r)}const s=Et({location:"",base:e,go:i,createHref:wT.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function RT(e){return typeof e=="string"||e&&typeof e=="object"}function tb(e){return typeof e=="string"||typeof e=="symbol"}const li={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},eb=Symbol("");var Pg;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Pg||(Pg={}));function Js(e,t){return Et(new Error,{type:e,[eb]:!0},t)}function Ln(e,t){return e instanceof Error&&eb in e&&(t==null||!!(e.type&t))}const kg="[^/]+?",MT={sensitive:!1,strict:!1,start:!0,end:!0},DT=/[.+*?^${}()[\]/\\]/g;function OT(e,t){const n=Et({},MT,t),i=[];let s=n.start?"^":"";const r=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let h=0;h<c.length;h++){const f=c[h];let d=40+(n.sensitive?.25:0);if(f.type===0)h||(s+="/"),s+=f.value.replace(DT,"\\$&"),d+=40;else if(f.type===1){const{value:p,repeatable:g,optional:m,regexp:_}=f;r.push({name:p,repeatable:g,optional:m});const y=_||kg;if(y!==kg){d+=10;try{new RegExp(`(${y})`)}catch(A){throw new Error(`Invalid custom RegExp for param "${p}" (${y}): `+A.message)}}let w=g?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;h||(w=m&&c.length<2?`(?:/${w})`:"/"+w),m&&(w+="?"),s+=w,d+=20,m&&(d+=-8),g&&(d+=-20),y===".*"&&(d+=-50)}u.push(d)}i.push(u)}if(n.strict&&n.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const d=u[f]||"",p=r[f-1];h[p.name]=d&&p.repeatable?d.split("/"):d}return h}function l(c){let u="",h=!1;for(const f of e){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const d of f)if(d.type===0)u+=d.value;else if(d.type===1){const{value:p,repeatable:g,optional:m}=d,_=p in c?c[p]:"";if(dn(_)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const y=dn(_)?_.join("/"):_;if(!y)if(m)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${p}"`);u+=y}}return u||"/"}return{re:o,score:i,keys:r,parse:a,stringify:l}}function VT(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function LT(e,t){let n=0;const i=e.score,s=t.score;for(;n<i.length&&n<s.length;){const r=VT(i[n],s[n]);if(r)return r;n++}if(Math.abs(s.length-i.length)===1){if(Rg(i))return 1;if(Rg(s))return-1}return s.length-i.length}function Rg(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const NT={type:0,value:""},FT=/[a-zA-Z0-9_]/;function BT(e){if(!e)return[[]];if(e==="/")return[[NT]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(d){throw new Error(`ERR (${n})/"${c}": ${d}`)}let n=0,i=n;const s=[];let r;function o(){r&&s.push(r),r=[]}let a=0,l,c="",u="";function h(){c&&(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),n=1):f();break;case 4:f(),n=i;break;case 1:l==="("?n=2:FT.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),h(),o(),s}function zT(e,t,n){const i=OT(BT(e.path),n),s=Et(i,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function jT(e,t){const n=[],i=new Map;t=Og({strict:!1,end:!0,sensitive:!1},t);function s(u){return i.get(u)}function r(u,h,f){const d=!f,p=$T(u);p.aliasOf=f&&f.record;const g=Og(t,u),m=[p];if("alias"in u){const w=typeof u.alias=="string"?[u.alias]:u.alias;for(const A of w)m.push(Et({},p,{components:f?f.record.components:p.components,path:A,aliasOf:f?f.record:p}))}let _,y;for(const w of m){const{path:A}=w;if(h&&A[0]!=="/"){const E=h.record.path,I=E[E.length-1]==="/"?"":"/";w.path=h.record.path+(A&&I+A)}if(_=zT(w,h,g),f?f.alias.push(_):(y=y||_,y!==_&&y.alias.push(_),d&&u.name&&!Dg(_)&&o(u.name)),p.children){const E=p.children;for(let I=0;I<E.length;I++)r(E[I],_,f&&f.children[I])}f=f||_,(_.record.components&&Object.keys(_.record.components).length||_.record.name||_.record.redirect)&&l(_)}return y?()=>{o(y)}:Qr}function o(u){if(tb(u)){const h=i.get(u);h&&(i.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&i.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let h=0;for(;h<n.length&&LT(u,n[h])>=0&&(u.record.path!==n[h].record.path||!nb(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!Dg(u)&&i.set(u.record.name,u)}function c(u,h){let f,d={},p,g;if("name"in u&&u.name){if(f=i.get(u.name),!f)throw Js(1,{location:u});g=f.record.name,d=Et(Mg(h.params,f.keys.filter(y=>!y.optional).map(y=>y.name)),u.params&&Mg(u.params,f.keys.map(y=>y.name))),p=f.stringify(d)}else if("path"in u)p=u.path,f=n.find(y=>y.re.test(p)),f&&(d=f.parse(p),g=f.record.name);else{if(f=h.name?i.get(h.name):n.find(y=>y.re.test(h.path)),!f)throw Js(1,{location:u,currentLocation:h});g=f.record.name,d=Et({},h.params,u.params),p=f.stringify(d)}const m=[];let _=f;for(;_;)m.unshift(_.record),_=_.parent;return{name:g,path:p,params:d,matched:m,meta:HT(m)}}return e.forEach(u=>r(u)),{addRoute:r,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function Mg(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function $T(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:UT(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function UT(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="object"?n[i]:n;return t}function Dg(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function HT(e){return e.reduce((t,n)=>Et(t,n.meta),{})}function Og(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function nb(e,t){return t.children.some(n=>n===e||nb(e,n))}const ib=/#/g,WT=/&/g,qT=/\//g,KT=/=/g,QT=/\?/g,sb=/\+/g,YT=/%5B/g,GT=/%5D/g,rb=/%5E/g,XT=/%60/g,ob=/%7B/g,JT=/%7C/g,ab=/%7D/g,ZT=/%20/g;function rd(e){return encodeURI(""+e).replace(JT,"|").replace(YT,"[").replace(GT,"]")}function tI(e){return rd(e).replace(ob,"{").replace(ab,"}").replace(rb,"^")}function Eh(e){return rd(e).replace(sb,"%2B").replace(ZT,"+").replace(ib,"%23").replace(WT,"%26").replace(XT,"`").replace(ob,"{").replace(ab,"}").replace(rb,"^")}function eI(e){return Eh(e).replace(KT,"%3D")}function nI(e){return rd(e).replace(ib,"%23").replace(QT,"%3F")}function iI(e){return e==null?"":nI(e).replace(qT,"%2F")}function Rl(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function sI(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<i.length;++s){const r=i[s].replace(sb," "),o=r.indexOf("="),a=Rl(o<0?r:r.slice(0,o)),l=o<0?null:Rl(r.slice(o+1));if(a in t){let c=t[a];dn(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function Vg(e){let t="";for(let n in e){const i=e[n];if(n=eI(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(dn(i)?i.map(r=>r&&Eh(r)):[i&&Eh(i)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+n,r!=null&&(t+="="+r))})}return t}function rI(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=dn(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return t}const oI=Symbol(""),Lg=Symbol(""),od=Symbol(""),ad=Symbol(""),Th=Symbol("");function xr(){let e=[];function t(i){return e.push(i),()=>{const s=e.indexOf(i);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function hi(e,t,n,i,s){const r=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((o,a)=>{const l=h=>{h===!1?a(Js(4,{from:n,to:t})):h instanceof Error?a(h):RT(h)?a(Js(2,{from:t,to:h})):(r&&i.enterCallbacks[s]===r&&typeof h=="function"&&r.push(h),o())},c=e.call(i&&i.instances[s],t,n,l);let u=Promise.resolve(c);e.length<3&&(u=u.then(l)),u.catch(h=>a(h))})}function wu(e,t,n,i){const s=[];for(const r of e)for(const o in r.components){let a=r.components[o];if(!(t!=="beforeRouteEnter"&&!r.instances[o]))if(aI(a)){const c=(a.__vccOpts||a)[t];c&&s.push(hi(c,n,i,r,o))}else{let l=a();s.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${r.path}"`));const u=dT(c)?c.default:c;r.components[o]=u;const f=(u.__vccOpts||u)[t];return f&&hi(f,n,i,r,o)()}))}}return s}function aI(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Ng(e){const t=Pn(od),n=Pn(ad),i=pe(()=>t.resolve(un(e.to))),s=pe(()=>{const{matched:l}=i.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(Xs.bind(null,u));if(f>-1)return f;const d=Fg(l[c-2]);return c>1&&Fg(u)===d&&h[h.length-1].path!==d?h.findIndex(Xs.bind(null,l[c-2])):f}),r=pe(()=>s.value>-1&&uI(n.params,i.value.params)),o=pe(()=>s.value>-1&&s.value===n.matched.length-1&&Jv(n.params,i.value.params));function a(l={}){return cI(l)?t[un(e.replace)?"replace":"push"](un(e.to)).catch(Qr):Promise.resolve()}return{route:i,href:pe(()=>i.value.href),isActive:r,isExactActive:o,navigate:a}}const lI=Gf({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ng,setup(e,{slots:t}){const n=mc(Ng(e)),{options:i}=Pn(od),s=pe(()=>({[Bg(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[Bg(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=t.default&&t.default(n);return e.custom?r:sd("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},r)}}}),lb=lI;function cI(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function uI(e,t){for(const n in t){const i=t[n],s=e[n];if(typeof i=="string"){if(i!==s)return!1}else if(!dn(s)||s.length!==i.length||i.some((r,o)=>r!==s[o]))return!1}return!0}function Fg(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Bg=(e,t,n)=>e??t??n,hI=Gf({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=Pn(Th),s=pe(()=>e.route||i.value),r=Pn(Lg,0),o=pe(()=>{let c=un(r);const{matched:u}=s.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=pe(()=>s.value.matched[o.value]);rl(Lg,pe(()=>o.value+1)),rl(oI,a),rl(Th,s);const l=wn();return os(()=>[l.value,a.value,e.name],([c,u,h],[f,d,p])=>{u&&(u.instances[h]=c,d&&d!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=d.leaveGuards),u.updateGuards.size||(u.updateGuards=d.updateGuards))),c&&u&&(!d||!Xs(u,d)||!f)&&(u.enterCallbacks[h]||[]).forEach(g=>g(c))},{flush:"post"}),()=>{const c=s.value,u=e.name,h=a.value,f=h&&h.components[u];if(!f)return zg(n.default,{Component:f,route:c});const d=h.props[u],p=d?d===!0?c.params:typeof d=="function"?d(c):d:null,m=sd(f,Et({},p,t,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return zg(n.default,{Component:m,route:c})||m}}});function zg(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const cb=hI;function fI(e){const t=jT(e.routes,e),n=e.parseQuery||sI,i=e.stringifyQuery||Vg,s=e.history,r=xr(),o=xr(),a=xr(),l=RE(li);let c=li;Ms&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=bu.bind(null,S=>""+S),h=bu.bind(null,iI),f=bu.bind(null,Rl);function d(S,U){let F,Q;return tb(S)?(F=t.getRecordMatcher(S),Q=U):Q=S,t.addRoute(Q,F)}function p(S){const U=t.getRecordMatcher(S);U&&t.removeRoute(U)}function g(){return t.getRoutes().map(S=>S.record)}function m(S){return!!t.getRecordMatcher(S)}function _(S,U){if(U=Et({},U||l.value),typeof S=="string"){const x=Au(n,S,U.path),T=t.resolve({path:x.path},U),C=s.createHref(x.fullPath);return Et(x,T,{params:f(T.params),hash:Rl(x.hash),redirectedFrom:void 0,href:C})}let F;if("path"in S)F=Et({},S,{path:Au(n,S.path,U.path).path});else{const x=Et({},S.params);for(const T in x)x[T]==null&&delete x[T];F=Et({},S,{params:h(x)}),U.params=h(U.params)}const Q=t.resolve(F,U),wt=S.hash||"";Q.params=u(f(Q.params));const v=mT(i,Et({},S,{hash:tI(wt),path:Q.path})),b=s.createHref(v);return Et({fullPath:v,hash:wt,query:i===Vg?rI(S.query):S.query||{}},Q,{redirectedFrom:void 0,href:b})}function y(S){return typeof S=="string"?Au(n,S,l.value.path):Et({},S)}function w(S,U){if(c!==S)return Js(8,{from:U,to:S})}function A(S){return P(S)}function E(S){return A(Et(y(S),{replace:!0}))}function I(S){const U=S.matched[S.matched.length-1];if(U&&U.redirect){const{redirect:F}=U;let Q=typeof F=="function"?F(S):F;return typeof Q=="string"&&(Q=Q.includes("?")||Q.includes("#")?Q=y(Q):{path:Q},Q.params={}),Et({query:S.query,hash:S.hash,params:"path"in Q?{}:S.params},Q)}}function P(S,U){const F=c=_(S),Q=l.value,wt=S.state,v=S.force,b=S.replace===!0,x=I(F);if(x)return P(Et(y(x),{state:typeof x=="object"?Et({},wt,x.state):wt,force:v,replace:b}),U||F);const T=F;T.redirectedFrom=U;let C;return!v&&_T(i,Q,F)&&(C=Js(16,{to:T,from:Q}),De(Q,Q,!0,!1)),(C?Promise.resolve(C):K(T,Q)).catch(k=>Ln(k)?Ln(k,2)?k:Me(k):ct(k,T,Q)).then(k=>{if(k){if(Ln(k,2))return P(Et({replace:b},y(k.to),{state:typeof k.to=="object"?Et({},wt,k.to.state):wt,force:v}),U||T)}else k=lt(T,Q,!0,b,wt);return nt(T,Q,k),k})}function O(S,U){const F=w(S,U);return F?Promise.reject(F):Promise.resolve()}function z(S){const U=Ge.values().next().value;return U&&typeof U.runWithContext=="function"?U.runWithContext(S):S()}function K(S,U){let F;const[Q,wt,v]=dI(S,U);F=wu(Q.reverse(),"beforeRouteLeave",S,U);for(const x of Q)x.leaveGuards.forEach(T=>{F.push(hi(T,S,U))});const b=O.bind(null,S,U);return F.push(b),Wt(F).then(()=>{F=[];for(const x of r.list())F.push(hi(x,S,U));return F.push(b),Wt(F)}).then(()=>{F=wu(wt,"beforeRouteUpdate",S,U);for(const x of wt)x.updateGuards.forEach(T=>{F.push(hi(T,S,U))});return F.push(b),Wt(F)}).then(()=>{F=[];for(const x of v)if(x.beforeEnter)if(dn(x.beforeEnter))for(const T of x.beforeEnter)F.push(hi(T,S,U));else F.push(hi(x.beforeEnter,S,U));return F.push(b),Wt(F)}).then(()=>(S.matched.forEach(x=>x.enterCallbacks={}),F=wu(v,"beforeRouteEnter",S,U),F.push(b),Wt(F))).then(()=>{F=[];for(const x of o.list())F.push(hi(x,S,U));return F.push(b),Wt(F)}).catch(x=>Ln(x,8)?x:Promise.reject(x))}function nt(S,U,F){a.list().forEach(Q=>z(()=>Q(S,U,F)))}function lt(S,U,F,Q,wt){const v=w(S,U);if(v)return v;const b=U===li,x=Ms?history.state:{};F&&(Q||b?s.replace(S.fullPath,Et({scroll:b&&x&&x.scroll},wt)):s.push(S.fullPath,wt)),l.value=S,De(S,U,F,b),Me()}let St;function ie(){St||(St=s.listen((S,U,F)=>{if(!mn.listening)return;const Q=_(S),wt=I(Q);if(wt){P(Et(wt,{replace:!0}),Q).catch(Qr);return}c=Q;const v=l.value;Ms&&TT(Sg(v.fullPath,F.delta),Ic()),K(Q,v).catch(b=>Ln(b,12)?b:Ln(b,2)?(P(b.to,Q).then(x=>{Ln(x,20)&&!F.delta&&F.type===vo.pop&&s.go(-1,!1)}).catch(Qr),Promise.reject()):(F.delta&&s.go(-F.delta,!1),ct(b,Q,v))).then(b=>{b=b||lt(Q,v,!1),b&&(F.delta&&!Ln(b,8)?s.go(-F.delta,!1):F.type===vo.pop&&Ln(b,20)&&s.go(-1,!1)),nt(Q,v,b)}).catch(Qr)}))}let mt=xr(),at=xr(),et;function ct(S,U,F){Me(S);const Q=at.list();return Q.length?Q.forEach(wt=>wt(S,U,F)):console.error(S),Promise.reject(S)}function kt(){return et&&l.value!==li?Promise.resolve():new Promise((S,U)=>{mt.add([S,U])})}function Me(S){return et||(et=!S,ie(),mt.list().forEach(([U,F])=>S?F(S):U()),mt.reset()),S}function De(S,U,F,Q){const{scrollBehavior:wt}=e;if(!Ms||!wt)return Promise.resolve();const v=!F&&IT(Sg(S.fullPath,0))||(Q||!F)&&history.state&&history.state.scroll||null;return Iv().then(()=>wt(S,U,v)).then(b=>b&&ET(b)).catch(b=>ct(b,S,U))}const Xt=S=>s.go(S);let Ye;const Ge=new Set,mn={currentRoute:l,listening:!0,addRoute:d,removeRoute:p,hasRoute:m,getRoutes:g,resolve:_,options:e,push:A,replace:E,go:Xt,back:()=>Xt(-1),forward:()=>Xt(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:at.add,isReady:kt,install(S){const U=this;S.component("RouterLink",lb),S.component("RouterView",cb),S.config.globalProperties.$router=U,Object.defineProperty(S.config.globalProperties,"$route",{enumerable:!0,get:()=>un(l)}),Ms&&!Ye&&l.value===li&&(Ye=!0,A(s.location).catch(wt=>{}));const F={};for(const wt in li)Object.defineProperty(F,wt,{get:()=>l.value[wt],enumerable:!0});S.provide(od,U),S.provide(ad,yv(F)),S.provide(Th,l);const Q=S.unmount;Ge.add(S),S.unmount=function(){Ge.delete(S),Ge.size<1&&(c=li,St&&St(),St=null,l.value=li,Ye=!1,et=!1),Q()}}};function Wt(S){return S.reduce((U,F)=>U.then(()=>z(F)),Promise.resolve())}return mn}function dI(e,t){const n=[],i=[],s=[],r=Math.max(t.matched.length,e.matched.length);for(let o=0;o<r;o++){const a=t.matched[o];a&&(e.matched.find(c=>Xs(c,a))?i.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(c=>Xs(c,l))||s.push(l))}return[n,i,s]}function pI(){return Pn(ad)}const gn=(e,t)=>{const n=e.__vccOpts||e;for(const[i,s]of t)n[i]=s;return n},gI={class:"menu"},mI=["title"],_I={__name:"Menu",setup(e){const t=pI();console.log(t.path);const n=[{path:"/",name:"home",icon:"dumbbell"},{path:"/stats",name:"stats",icon:"chart-simple"},{path:"/user",name:"user",icon:"user"}];return(i,s)=>{const r=Nv("font-awesome-icon");return Ut(),ee("nav",gI,[(Ut(),ee(we,null,mo(n,o=>Pt(un(lb),{to:o.path},{default:Yf(()=>[Z("abbr",{class:"center",title:o.name},[Pt(r,{icon:o.icon,class:Yo(un(t).path==o.path?"text-orange":"text-white"),alt:"elm.name"},null,8,["icon","class"])],8,mI)]),_:2},1032,["to"])),64))])}}},yI=gn(_I,[["__scopeId","data-v-b0c73329"]]);const vI={class:"view"},bI={class:"footer"},AI={__name:"App",setup(e){return(t,n)=>(Ut(),ee(we,null,[Z("div",vI,[Pt(un(cb),null,{default:Yf(({Component:i,route:s})=>[(Ut(),ed(o1(i)))]),_:1})]),Z("div",bI,[Pt(yI)])],64))}},wI=gn(AI,[["__scopeId","data-v-24ef64b6"]]),xI="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAA2eSURBVHhe7d3bjttGFgXQli+JE8Tzu/Yn2N8bZJyLnZ5SRCB2j9ySKF7q1F4LMEg9BAjI6jq7TpHSAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAOg7TEbr2+OHhcTqF7h3em1vpn0HKrhR2kgkK7MngYxMKPVxPMGALBhmrUPBhOQIBazCoWISCD9sRCFiCQcQsCj70QyBgDoOGqyn60D9hgGsZKFyk8EM9ggCXGCCcpejDOIQBzjEo+IbCD+MSBPiawcDRi1b4v0znQABhAAMgmNU+IAjkcuMDKfzAU4JAHjc8iMIPXCII5HgxHRnbcY9f8QcumuYKtSGApDc4hR+YSzdgbG7uoBR+YCmCwJi0ecbzWvEHljTNKa9OnxiFVDcQhR9Ym27AONzIASj8wNYEgfrcwOIUf2AvQkBtngGo66XiD+xpmoNenj5RjfRWkMIP9EY3oB43rBjFH+iVEFCLLYA6tPyBrtkSqEVaK0DhB6rRDeifG9Q5xR+oSgjom5vTMcUfqE4I6Jcb0ynFHxiFENAnDwH256D4AyOZ5jT1pjNuSF+OP+Tz93QOMIw2t31pBz8o1BEBoB8/tD+QP6dzgOG0Oe6vdnhz+sTeBIA+/Nz+MP6YzgGG1ea6T+3wy+kTexIA9ve2/UH8Np0DDK/Neb+2w9vTJ/biycx9HVf+ij8Q6fD+n06AOXAnAsB+jnv+2v5AtBYCjs8EmAt3IADs4/i9/p+nc4BoLQS8bgdz4sYEgO29aMX/+DoMAJMWAo4/IuQ16A0JABtrxd+X/ACc4RsDt+Vib0jxB3ieELAdF3ojij/AdYSAbbjIG1D8AW4jBKzPBV6Z4g8wjxCwLt8EuC7XF2C+45sBrES6WpHVP8B9dAHW48KuRPEHWIYQsA4XdQWKP8CyhIDl2aNenmsKsDzPAyxMolqY1T/AOnQBluViLkjxB1iXELAc7eqFKP4Am/hpOnInAQCAMtpi67/TKXfSSlmA1T/AtmwF3E8H4H6vpiMA2zH33kmCupPVP8A+dAHu4+LdQfEH2JcQMJ8tAAAIJDnNZPUP0AddgHl0AOZx3QD6IQDM4KLNYPUP0BddgNu5YDdS/AH6JATcRisbAAJJSzew+gfomy7A9XQAACCQpHQlq3+AGnQBrqMDAACBBIDrSJMAdahtV1DYrqD9D1CLbYDLpCQACCQhXWD1D1CTLsDzdAAAIJB09Ayrf4DadAG+TwcAAAIJAAAQSGvkO7T/AcZgG+A8HQAACCQAnGH1D8DoBAAAhmZRd54AAACBPBjxhKQIMCYPA35LBwAAAgkAABBIAACAQPZDvmL/H2BsngP4lw4AAAQSAAAgkAAAAIHshUzs/wNk8BzAiQ4AAAQSAAAgkAAAAIHsgzT2/wGyeA5ABwAAIgkAABBIAACAQAIAAAQSAAAgUPxTkN4AAMiU/iaADgAABBIAACCQAAAAgQQAAAgkAABAIAEAAAIJAJDo3eO3/4A4vgfA9wCQ4NYi/9EPhTI+3wMAjGvuCl9nAIYXHQCs/hnaEgVcCIBhRbc/BACGtFbRti3AgJK3AWwBwEjWXLHrBsBQBAAYxRYFWgiAYQgAABBIAIARbLky1wWAIQgAUN0eBVkIgPIEAAAIJABAZXuuxHUBoDQBAAACCQAAEEgAAIBAAgBU1cMevOcAoCwBAAACCQAAEEgAAIBAAgAABBIAACCQAAAAgQQAAAgkAABAIAEAAAIJAAAQSAAAgEACAAAEEgAAIJAAAACBBAAACCQAAEAgAQAAAgkAABBIAACAQAIAAAQSAAAgkAAAAIEEAAAIJAAAQCABAAACCQAAEEgAAIBAAgAABBIAACCQAAAAgQQAAAgkAABAIAEAAAIJAAAQSAAAgEACAAAEEgAAIJAAAACBBAAACCQAAEAgAQAAAgkAABBIAACAQAIAAAQSAAAgkAAAAIEEAAAIJAAAQCABAAACCQAAEEgAAIBAAgAABBIAACCQAAAAgQQAAAgkAABAoMN0jPT44eFxOmU079xaFvQxeqoc2uF9bh0UABiDgs+WBIJhJAcAWwDUdiz8ij9bM+4YgABAXSZg9mYMUpgAQD1WX/TEeKQoAYBaTLT0ytikGAGAOkyw9M4YpRABAAACCQDUYGVFFcYqRQgA9M+ESjXGLAUIAAAQSACgb1ZSVGXs0jkBAAACCQAAEEgAAIBAAgD9sodKdcYwHRMAACCQAAAAgQQAAAgkANCvj4fpBIoyhumYAAAAgQQAAAgkAABAIAGAvtlDpSpjl84JAAAQSACgf1ZSVGPMUoAAQA0mVKowVilCAACAQAIAdVhZ0TtjlEIEAGoxwdIrY5NiBADqOU60Jlt6YTxSlABAXSZd9mYMUpgAQG1WX+zBuGMA0SP48cPD43TKaN65tSxIsR/W4X1uHRQAoKpeQo7iSGHJAcAWAAAEEgAAIJAAAACBBAAACCQAAEAgAQAAAgkAABBIAACAQAIAAAQSAAAgkAAAAIEEAAAIJAAAQCABAAACCQAAEEgAAIBAAgAABBIAACCQAAAAgQQAAAgkAABAIAEAAAIJAAAQSAAAgEACAAAEEgAAIJAAAACBBAAACCQAAEAgAQAAAgkAABBIAACAQAIAAAQSAAAgkAAAAIEEAAAIJAAAQCABAAACCQAAEEgAAIBAAgAABBIAACCQAAAAgQQAAAgkAABAIAEAAAIJAAAQSAAAgEACAAAEEgAAIJAAAACBBAAACCQAAEAgAQAAAgkAABBIAACAQAIAVPXxMJ3sqIf/B2AWAQAAAgkAABBIAACAQAIAVLbnHrz9fyhNAACAQAIAVLfHStzqH8oTAGAEWxZkxR+GIAAAQCABAEaxxcrc6h+GIQDASNYs0Io/DCX6L/rxw8PjdArjebfQ8Fb4GdThfXYNjO4ApN98BrdE4Vb8YVi2AGBkxwI+p4jP/e+AMuL/wm0DEOnp9oBiT6D0LrAAIAAARPIMAAAQRwAAgEACAAAEEgAAIJAAAACBBAAACOTl38argABZfBOsDgAARBIAACCQAAAAgQQAAAgkAABAIG8BTLwJAJDBGwAnOgAAEEgAAIBAAgAABLIP8hXPAQCMzf7/v3QAACCQAAAAgQQAAAhkL+QJzwEAjMn+/7d0AAAgkAAAAIEEAAAIZD/kDM8BAIzF/v//0wEAgEACAABDs/o/TwA4w2ABYHQCAAAEstJ9hocBAWrT0f0+HQAACCQAAEAgrZELbAMA1KT9/zwdAAAIJB1dQRcAoBar/8t0AAAgkABwhZYkXSeAIszZ13GRrmMLAKAOc/YVBAAACOQhiRt4GBCgbx7+u54OAAAEkpRupAsA0Cer/9voAABAIGlpBl0AgL5Y/d9OB2AG75gC9MOcPI+LNo8OAEA/zMkzaJncwVYAwL60/ufTAQCAQJLTnXQBAPZh9X8fHYA7tQH4ejoFYCNt7n01nTKTAHC/z9MRgO18mY7MpH2yEFsBANvQ+l+GDgAAZbTi/9N0yp0EgIVIpACb+H06cidFa2G2AgDWYaG1LB2AhbUB+nI6BWAhbW711P/CBIDl/T0dAViOp/4Xpp2yElsBAMvQ+l+Hi7oiIQDgPor/emwBrMjzAADz2fdflwCwLs8DAMxn339FWisbsBUAcBut//W5wBsRAgCuo/hvw0XekBAA8DzFfzsu9MaEAIDzFP9teQhwY22AezMA4Ik2N6pHG3PBt/d3G+hebQGYtDnxdTvojm5MANjHlzbgf5zOAWK1ufBNO3w+fWJLAsB+/mwD/+fpHCBOmwN/aYc/Tp/YmgCwr0/tD+A/0zlAjDb3vW2H306f2IMnLvvw4+OHh9+nc4ChTd3PT6dP7EUA6McPLQRohQFDa8X/uOdvruuAANCXVy0E/DWdAwylFf/jG1C+378TAkB/Di0E+BEhYCit+B+/A8Xc1hEBoFO+MRAYRSv+ak2H3JSOCQFAdYp/v9yYzgkBQFWKf9/cnAKEAKAaxb9/blAdHg4EuudhvzoEgGJ0A4BeWfXX4mYVJAQAvVH863HD6rIlAOxOy78uAaA43QBgL1b9tbl5Y3jTgoAf1gA20Qr/8Wd8/ZJfcQLAQHQDgLVZ9Y/DjRzPyxYEPk/nAItohd8P+QxGABiUbgCwFKv+MbmpgxMEgLkU/rG5uRm8MghcrRX+F+1g8TA4ASCIbgBwiVV/Djc6kCAAPKXw53HDgwkCgMKfy43nH8IAZFH4MQD4hiAA41L0+ZrBwFmCAIxD4eccg4KLhAGoR9HnEgOEmwgD0C9Fn1sYLMwiCEA/FH7mMGhYhEAA21HwWYJBxCoEAliOgs8aDCo2IRDA9RR8tmCQsSvBgGQKPXsy+ChBUKAShR0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgFgPD/8DZqUz3JyENfkAAAAASUVORK5CYII=";const EI={class:"header center"},TI={class:"title"},II={__name:"Header",props:{title:"title"},setup(e){const t=e;return(n,i)=>(Ut(),ee("div",EI,[Z("h1",TI,Cn(t.title),1)]))}},ld=gn(II,[["__scopeId","data-v-09751b14"]]);const cd=e=>(bc("data-v-cdebdc59"),e=e(),Ac(),e),SI={class:"center exeCard"},CI={class:"text-2xl font-bold"},PI={class:"props"},kI={class:"prop-cont"},RI=cd(()=>Z("h2",null,"Series:",-1)),MI={class:"prop-cont"},DI=cd(()=>Z("h2",null,"Reps:",-1)),OI=cd(()=>Z("div",{class:"prop-cont"},[Z("h2",null,"Type:"),Z("p",null,"Power")],-1)),VI={__name:"ExeCard",props:{name:"Exercise",series:0,reps:"0"},setup(e){const t=e;return(n,i)=>(Ut(),ee("div",SI,[Z("h3",CI,Cn(t.name),1),Z("div",PI,[Z("div",kI,[RI,Z("p",null,Cn(t.series),1)]),Z("div",MI,[DI,Z("p",null,Cn(t.reps),1)]),OI])]))}},LI=gn(VI,[["__scopeId","data-v-cdebdc59"]]);const NI={},FI=e=>(bc("data-v-711c362a"),e=e(),Ac(),e),BI={class:"exeCard center"},zI=FI(()=>Z("h3",{class:"text-xl"},[al("Add a "),Z("strong",null," New Exercise "),al(),Z("br"),al(" to your workout ")],-1));function jI(e,t){const n=Nv("font-awesome-icon");return Ut(),ee("div",BI,[zI,Pt(n,{class:"icon",icon:"circle-plus"})])}const $I=gn(NI,[["render",jI],["__scopeId","data-v-711c362a"]]),UI="/Flex/assets/addExe-bbc541e7.png";const Sc=e=>(bc("data-v-e54652b0"),e=e(),Ac(),e),HI={class:"modal"},WI=Sc(()=>Z("header",{class:"center"},[Z("img",{src:UI,alt:"addWorkout"})],-1)),qI={class:"card"},KI=Sc(()=>Z("h1",{class:"title"},"Create a new workout",-1)),QI=Sc(()=>Z("label",{for:"name"},"Name:",-1)),YI={class:"frequency"},GI=Sc(()=>Z("h1",null,"Frequency:",-1)),XI={class:"days"},JI=["onClick"],ZI={__name:"ModalRoutine",props:{onCancel:"closeModal",onAccept:"accept"},setup(e){const t=e;let n=wn("");const i=wn([{name:"M",isSelected:!1},{name:"TU",isSelected:!1},{name:"W",isSelected:!1},{name:"TH",isSelected:!1},{name:"F",isSelected:!1},{name:"SA",isSelected:!1},{name:"SU",isSelected:!1}]),s=()=>{t.onCancel(),n.value=""},r=()=>{const o=i.value.filter(a=>a.isSelected).map(a=>a.name);t.onAccept(n.value,o)};return(o,a)=>(Ut(),ee("div",HI,[WI,Z("div",qI,[KI,Z("section",null,[QI,Dv(Z("input",{id:"name",class:"name",type:"text",placeholder:"Ex: Push B","onUpdate:modelValue":a[0]||(a[0]=l=>_e(n)?n.value=l:n=l)},null,512),[[sT,un(n)]])]),Z("section",YI,[GI,Z("div",XI,[(Ut(!0),ee(we,null,mo(i.value,l=>(Ut(),ee("button",{class:Yo(["day",l.isSelected?"bg-orange":"bg-salmon"]),onClick:c=>l.isSelected=!l.isSelected},Cn(l.name),11,JI))),256))])]),Z("section",{class:"buttons center"},[Z("button",{onClick:r},"ACCEPT"),Z("button",{onClick:s},"CANCEL")])])]))}},tS=gn(ZI,[["__scopeId","data-v-e54652b0"]]);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},eS=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=e[n++];t[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=e[n++],o=e[n++],a=e[n++],l=((s&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(l&1023))}else{const r=e[n++],o=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|o&63)}}return t.join("")},hb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const r=e[s],o=s+1<e.length,a=o?e[s+1]:0,l=s+2<e.length,c=l?e[s+2]:0,u=r>>2,h=(r&3)<<4|a>>4;let f=(a&15)<<2|c>>6,d=c&63;l||(d=64,o||(f=64)),i.push(n[u],n[h],n[f],n[d])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ub(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):eS(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const r=n[e.charAt(s++)],a=s<e.length?n[e.charAt(s)]:0;++s;const c=s<e.length?n[e.charAt(s)]:64;++s;const h=s<e.length?n[e.charAt(s)]:64;if(++s,r==null||a==null||c==null||h==null)throw new nS;const f=r<<2|a>>4;if(i.push(f),c!==64){const d=a<<4&240|c>>2;if(i.push(d),h!==64){const p=c<<6&192|h;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class nS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iS=function(e){const t=ub(e);return hb.encodeByteArray(t,!0)},Ml=function(e){return iS(e).replace(/\./g,"")},sS=function(e){try{return hb.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=()=>rS().__FIREBASE_DEFAULTS__,aS=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},lS=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&sS(e[1]);return t&&JSON.parse(t)},fb=()=>{try{return oS()||aS()||lS()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},cS=e=>{var t,n;return(n=(t=fb())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},uS=e=>{const t=cS(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},db=()=>{var e;return(e=fb())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",s=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[Ml(JSON.stringify(n)),Ml(JSON.stringify(o)),a].join(".")}function dS(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function pb(){try{return typeof indexedDB=="object"}catch{return!1}}function gb(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;t(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){t(n)}})}function pS(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="FirebaseError";class Vi extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=gS,Object.setPrototypeOf(this,Vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cc.prototype.create)}}class Cc{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,r=this.errors[t],o=r?mS(r,i):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Vi(s,a,i)}}function mS(e,t){return e.replace(_S,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const _S=/\{\$([^}]+)}/g;function Dl(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const r=e[s],o=t[s];if(jg(r)&&jg(o)){if(!Dl(r,o))return!1}else if(r!==o)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function jg(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=1e3,vS=2,bS=4*60*60*1e3,AS=.5;function $g(e,t=yS,n=vS){const i=t*Math.pow(n,e),s=Math.round(AS*i*(Math.random()-.5)*2);return Math.min(bS,i+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(e){return e&&e._delegate?e._delegate:e}class Gn{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new hS;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ES(t))try{this.getOrInitializeService({instanceIdentifier:Wi})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(t=Wi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Wi){return this.instances.has(t)}getOptions(t=Wi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);i===a&&o.resolve(s)}return s}onInit(t,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(t),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&t(o,s),()=>{r.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:xS(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Wi){return this.component?this.component.multipleInstances?t:Wi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xS(e){return e===Wi?void 0:e}function ES(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new wS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(xt||(xt={}));const IS={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},SS=xt.INFO,CS={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},PS=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=CS[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ud{constructor(t){this.name=t,this._logLevel=SS,this._logHandler=PS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in xt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?IS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...t),this._logHandler(this,xt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...t),this._logHandler(this,xt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...t),this._logHandler(this,xt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...t),this._logHandler(this,xt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...t),this._logHandler(this,xt.ERROR,...t)}}const kS=(e,t)=>t.some(n=>e instanceof n);let Ug,Hg;function RS(){return Ug||(Ug=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MS(){return Hg||(Hg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mb=new WeakMap,Ih=new WeakMap,_b=new WeakMap,xu=new WeakMap,hd=new WeakMap;function DS(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",r),e.removeEventListener("error",o)},r=()=>{n(vi(e.result)),s()},o=()=>{i(e.error),s()};e.addEventListener("success",r),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&mb.set(n,e)}).catch(()=>{}),hd.set(t,e),t}function OS(e){if(Ih.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",o),e.removeEventListener("abort",o)},r=()=>{n(),s()},o=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",r),e.addEventListener("error",o),e.addEventListener("abort",o)});Ih.set(e,t)}let Sh={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Ih.get(e);if(t==="objectStoreNames")return e.objectStoreNames||_b.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function VS(e){Sh=e(Sh)}function LS(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Eu(this),t,...n);return _b.set(i,t.sort?t.sort():[t]),vi(i)}:MS().includes(e)?function(...t){return e.apply(Eu(this),t),vi(mb.get(this))}:function(...t){return vi(e.apply(Eu(this),t))}}function NS(e){return typeof e=="function"?LS(e):(e instanceof IDBTransaction&&OS(e),kS(e,RS())?new Proxy(e,Sh):e)}function vi(e){if(e instanceof IDBRequest)return DS(e);if(xu.has(e))return xu.get(e);const t=NS(e);return t!==e&&(xu.set(e,t),hd.set(t,e)),t}const Eu=e=>hd.get(e);function FS(e,t,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(e,t),a=vi(o);return i&&o.addEventListener("upgradeneeded",l=>{i(vi(o.result),l.oldVersion,l.newVersion,vi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const BS=["get","getKey","getAll","getAllKeys","count"],zS=["put","add","delete","clear"],Tu=new Map;function Wg(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Tu.get(t))return Tu.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=zS.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||BS.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Tu.set(t,r),r}VS(e=>({...e,get:(t,n,i)=>Wg(t,n)||e.get(t,n,i),has:(t,n)=>!!Wg(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($S(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function $S(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ch="@firebase/app",qg="0.9.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new ud("@firebase/app"),US="@firebase/app-compat",HS="@firebase/analytics-compat",WS="@firebase/analytics",qS="@firebase/app-check-compat",KS="@firebase/app-check",QS="@firebase/auth",YS="@firebase/auth-compat",GS="@firebase/database",XS="@firebase/database-compat",JS="@firebase/functions",ZS="@firebase/functions-compat",tC="@firebase/installations",eC="@firebase/installations-compat",nC="@firebase/messaging",iC="@firebase/messaging-compat",sC="@firebase/performance",rC="@firebase/performance-compat",oC="@firebase/remote-config",aC="@firebase/remote-config-compat",lC="@firebase/storage",cC="@firebase/storage-compat",uC="@firebase/firestore",hC="@firebase/firestore-compat",fC="firebase",dC="10.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph="[DEFAULT]",pC={[Ch]:"fire-core",[US]:"fire-core-compat",[WS]:"fire-analytics",[HS]:"fire-analytics-compat",[KS]:"fire-app-check",[qS]:"fire-app-check-compat",[QS]:"fire-auth",[YS]:"fire-auth-compat",[GS]:"fire-rtdb",[XS]:"fire-rtdb-compat",[JS]:"fire-fn",[ZS]:"fire-fn-compat",[tC]:"fire-iid",[eC]:"fire-iid-compat",[nC]:"fire-fcm",[iC]:"fire-fcm-compat",[sC]:"fire-perf",[rC]:"fire-perf-compat",[oC]:"fire-rc",[aC]:"fire-rc-compat",[lC]:"fire-gcs",[cC]:"fire-gcs-compat",[uC]:"fire-fst",[hC]:"fire-fst-compat","fire-js":"fire-js",[fC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ol=new Map,kh=new Map;function gC(e,t){try{e.container.addComponent(t)}catch(n){ds.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ii(e){const t=e.name;if(kh.has(t))return ds.debug(`There were multiple attempts to register component ${t}.`),!1;kh.set(t,e);for(const n of Ol.values())gC(n,e);return!0}function Go(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},bi=new Cc("app","Firebase",mC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Gn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw bi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=dC;function yb(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Ph,automaticDataCollectionEnabled:!1},t),s=i.name;if(typeof s!="string"||!s)throw bi.create("bad-app-name",{appName:String(s)});if(n||(n=db()),!n)throw bi.create("no-options");const r=Ol.get(s);if(r){if(Dl(n,r.options)&&Dl(i,r.config))return r;throw bi.create("duplicate-app",{appName:s})}const o=new TS(s);for(const l of kh.values())o.addComponent(l);const a=new _C(n,i,o);return Ol.set(s,a),a}function vb(e=Ph){const t=Ol.get(e);if(!t&&e===Ph&&db())return yb();if(!t)throw bi.create("no-app",{appName:e});return t}function kn(e,t,n){var i;let s=(i=pC[e])!==null&&i!==void 0?i:e;n&&(s+=`-${n}`);const r=s.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const a=[`Unable to register library "${s}" with version "${t}":`];r&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ds.warn(a.join(" "));return}Ii(new Gn(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="firebase-heartbeat-database",bC=1,bo="firebase-heartbeat-store";let Iu=null;function bb(){return Iu||(Iu=FS(vC,bC,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(bo)}}}).catch(e=>{throw bi.create("idb-open",{originalErrorMessage:e.message})})),Iu}async function AC(e){try{return await(await bb()).transaction(bo).objectStore(bo).get(Ab(e))}catch(t){if(t instanceof Vi)ds.warn(t.message);else{const n=bi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ds.warn(n.message)}}}async function Kg(e,t){try{const i=(await bb()).transaction(bo,"readwrite");await i.objectStore(bo).put(t,Ab(e)),await i.done}catch(n){if(n instanceof Vi)ds.warn(n.message);else{const i=bi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ds.warn(i.message)}}}function Ab(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=1024,xC=30*24*60*60*1e3;class EC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new IC(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Qg();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const r=new Date(s.date).valueOf();return Date.now()-r<=xC}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Qg(),{heartbeatsToSend:n,unsentEntries:i}=TC(this._heartbeatsCache.heartbeats),s=Ml(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Qg(){return new Date().toISOString().substring(0,10)}function TC(e,t=wC){const n=[];let i=e.slice();for(const s of e){const r=n.find(o=>o.agent===s.agent);if(r){if(r.dates.push(s.date),Yg(n)>t){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Yg(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class IC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pb()?gb().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await AC(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Kg(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Kg(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Yg(e){return Ml(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(e){Ii(new Gn("platform-logger",t=>new jS(t),"PRIVATE")),Ii(new Gn("heartbeat",t=>new EC(t),"PRIVATE")),kn(Ch,qg,e),kn(Ch,qg,"esm2017"),kn("fire-js","")}SC("");var CC="firebase",PC="10.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn(CC,PC,"app");const kC=(e,t)=>t.some(n=>e instanceof n);let Gg,Xg;function RC(){return Gg||(Gg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MC(){return Xg||(Xg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wb=new WeakMap,Rh=new WeakMap,xb=new WeakMap,Su=new WeakMap,fd=new WeakMap;function DC(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",r),e.removeEventListener("error",o)},r=()=>{n(Ai(e.result)),s()},o=()=>{i(e.error),s()};e.addEventListener("success",r),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&wb.set(n,e)}).catch(()=>{}),fd.set(t,e),t}function OC(e){if(Rh.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",o),e.removeEventListener("abort",o)},r=()=>{n(),s()},o=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",r),e.addEventListener("error",o),e.addEventListener("abort",o)});Rh.set(e,t)}let Mh={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Rh.get(e);if(t==="objectStoreNames")return e.objectStoreNames||xb.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ai(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function VC(e){Mh=e(Mh)}function LC(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Cu(this),t,...n);return xb.set(i,t.sort?t.sort():[t]),Ai(i)}:MC().includes(e)?function(...t){return e.apply(Cu(this),t),Ai(wb.get(this))}:function(...t){return Ai(e.apply(Cu(this),t))}}function NC(e){return typeof e=="function"?LC(e):(e instanceof IDBTransaction&&OC(e),kC(e,RC())?new Proxy(e,Mh):e)}function Ai(e){if(e instanceof IDBRequest)return DC(e);if(Su.has(e))return Su.get(e);const t=NC(e);return t!==e&&(Su.set(e,t),fd.set(t,e)),t}const Cu=e=>fd.get(e);function FC(e,t,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(e,t),a=Ai(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Ai(o.result),l.oldVersion,l.newVersion,Ai(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",()=>s())}).catch(()=>{}),a}const BC=["get","getKey","getAll","getAllKeys","count"],zC=["put","add","delete","clear"],Pu=new Map;function Jg(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Pu.get(t))return Pu.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=zC.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||BC.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Pu.set(t,r),r}VC(e=>({...e,get:(t,n,i)=>Jg(t,n)||e.get(t,n,i),has:(t,n)=>!!Jg(t,n)||e.has(t,n)}));const Eb="@firebase/installations",dd="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=1e4,Ib=`w:${dd}`,Sb="FIS_v2",jC="https://firebaseinstallations.googleapis.com/v1",$C=60*60*1e3,UC="installations",HC="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ps=new Cc(UC,HC,WC);function Cb(e){return e instanceof Vi&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb({projectId:e}){return`${jC}/projects/${e}/installations`}function kb(e){return{token:e.token,requestStatus:2,expiresIn:KC(e.expiresIn),creationTime:Date.now()}}async function Rb(e,t){const i=(await t.json()).error;return ps.create("request-failed",{requestName:e,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function Mb({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function qC(e,{refreshToken:t}){const n=Mb(e);return n.append("Authorization",QC(t)),n}async function Db(e){const t=await e();return t.status>=500&&t.status<600?e():t}function KC(e){return Number(e.replace("s","000"))}function QC(e){return`${Sb} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YC({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const i=Pb(e),s=Mb(e),r=t.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:Sb,appId:e.appId,sdkVersion:Ib},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await Db(()=>fetch(i,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:kb(c.authToken)}}else throw await Rb("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=/^[cdef][\w-]{21}$/,Dh="";function JC(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=ZC(e);return XC.test(n)?n:Dh}catch{return Dh}}function ZC(e){return GC(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb=new Map;function Lb(e,t){const n=Pc(e);Nb(n,t),tP(n,t)}function Nb(e,t){const n=Vb.get(e);if(n)for(const i of n)i(t)}function tP(e,t){const n=eP();n&&n.postMessage({key:e,fid:t}),nP()}let Ji=null;function eP(){return!Ji&&"BroadcastChannel"in self&&(Ji=new BroadcastChannel("[Firebase] FID Change"),Ji.onmessage=e=>{Nb(e.data.key,e.data.fid)}),Ji}function nP(){Vb.size===0&&Ji&&(Ji.close(),Ji=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP="firebase-installations-database",sP=1,gs="firebase-installations-store";let ku=null;function pd(){return ku||(ku=FC(iP,sP,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(gs)}}})),ku}async function Vl(e,t){const n=Pc(e),s=(await pd()).transaction(gs,"readwrite"),r=s.objectStore(gs),o=await r.get(n);return await r.put(t,n),await s.done,(!o||o.fid!==t.fid)&&Lb(e,t.fid),t}async function Fb(e){const t=Pc(e),i=(await pd()).transaction(gs,"readwrite");await i.objectStore(gs).delete(t),await i.done}async function kc(e,t){const n=Pc(e),s=(await pd()).transaction(gs,"readwrite"),r=s.objectStore(gs),o=await r.get(n),a=t(o);return a===void 0?await r.delete(n):await r.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&Lb(e,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gd(e){let t;const n=await kc(e.appConfig,i=>{const s=rP(i),r=oP(e,s);return t=r.registrationPromise,r.installationEntry});return n.fid===Dh?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function rP(e){const t=e||{fid:JC(),registrationStatus:0};return Bb(t)}function oP(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(ps.create("app-offline"));return{installationEntry:t,registrationPromise:s}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=aP(e,n);return{installationEntry:n,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:lP(e)}:{installationEntry:t}}async function aP(e,t){try{const n=await YC(e,t);return Vl(e.appConfig,n)}catch(n){throw Cb(n)&&n.customData.serverCode===409?await Fb(e.appConfig):await Vl(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function lP(e){let t=await Zg(e.appConfig);for(;t.registrationStatus===1;)await Ob(100),t=await Zg(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await gd(e);return i||n}return t}function Zg(e){return kc(e,t=>{if(!t)throw ps.create("installation-not-found");return Bb(t)})}function Bb(e){return cP(e)?{fid:e.fid,registrationStatus:0}:e}function cP(e){return e.registrationStatus===1&&e.registrationTime+Tb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uP({appConfig:e,heartbeatServiceProvider:t},n){const i=hP(e,n),s=qC(e,n),r=t.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:Ib,appId:e.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await Db(()=>fetch(i,a));if(l.ok){const c=await l.json();return kb(c)}else throw await Rb("Generate Auth Token",l)}function hP(e,{fid:t}){return`${Pb(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function md(e,t=!1){let n;const i=await kc(e.appConfig,r=>{if(!zb(r))throw ps.create("not-registered");const o=r.authToken;if(!t&&pP(o))return r;if(o.requestStatus===1)return n=fP(e,t),r;{if(!navigator.onLine)throw ps.create("app-offline");const a=mP(r);return n=dP(e,a),a}});return n?await n:i.authToken}async function fP(e,t){let n=await tm(e.appConfig);for(;n.authToken.requestStatus===1;)await Ob(100),n=await tm(e.appConfig);const i=n.authToken;return i.requestStatus===0?md(e,t):i}function tm(e){return kc(e,t=>{if(!zb(t))throw ps.create("not-registered");const n=t.authToken;return _P(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function dP(e,t){try{const n=await uP(e,t),i=Object.assign(Object.assign({},t),{authToken:n});return await Vl(e.appConfig,i),n}catch(n){if(Cb(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Fb(e.appConfig);else{const i=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Vl(e.appConfig,i)}throw n}}function zb(e){return e!==void 0&&e.registrationStatus===2}function pP(e){return e.requestStatus===2&&!gP(e)}function gP(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+$C}function mP(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function _P(e){return e.requestStatus===1&&e.requestTime+Tb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yP(e){const t=e,{installationEntry:n,registrationPromise:i}=await gd(t);return i?i.catch(console.error):md(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vP(e,t=!1){const n=e;return await bP(n),(await md(n,t)).token}async function bP(e){const{registrationPromise:t}=await gd(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(e){if(!e||!e.options)throw Ru("App Configuration");if(!e.name)throw Ru("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Ru(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Ru(e){return ps.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="installations",wP="installations-internal",xP=e=>{const t=e.getProvider("app").getImmediate(),n=AP(t),i=Go(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},EP=e=>{const t=e.getProvider("app").getImmediate(),n=Go(t,jb).getImmediate();return{getId:()=>yP(n),getToken:s=>vP(n,s)}};function TP(){Ii(new Gn(jb,xP,"PUBLIC")),Ii(new Gn(wP,EP,"PRIVATE"))}TP();kn(Eb,dd);kn(Eb,dd,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll="analytics",IP="firebase_id",SP="origin",CP=60*1e3,PP="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",_d="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ze=new ud("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},qe=new Cc("analytics","Analytics",kP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(e){if(!e.startsWith(_d)){const t=qe.create("invalid-gtag-resource",{gtagURL:e});return ze.warn(t.message),""}return e}function $b(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function MP(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function DP(e,t){const n=MP("firebase-js-sdk-policy",{createScriptURL:RP}),i=document.createElement("script"),s=`${_d}?l=${e}&id=${t}`;i.src=n?n==null?void 0:n.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function OP(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function VP(e,t,n,i,s,r){const o=i[s];try{if(o)await t[o];else{const l=(await $b(n)).find(c=>c.measurementId===s);l&&await t[l.appId]}}catch(a){ze.error(a)}e("config",s,r)}async function LP(e,t,n,i,s){try{let r=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await $b(n);for(const l of o){const c=a.find(h=>h.measurementId===l),u=c&&t[c.appId];if(u)r.push(u);else{r=[];break}}}r.length===0&&(r=Object.values(t)),await Promise.all(r),e("event",i,s||{})}catch(r){ze.error(r)}}function NP(e,t,n,i){async function s(r,...o){try{if(r==="event"){const[a,l]=o;await LP(e,t,n,a,l)}else if(r==="config"){const[a,l]=o;await VP(e,t,n,i,a,l)}else if(r==="consent"){const[a]=o;e("consent","update",a)}else if(r==="get"){const[a,l,c]=o;e("get",a,l,c)}else if(r==="set"){const[a]=o;e("set",a)}else e(r,...o)}catch(a){ze.error(a)}}return s}function FP(e,t,n,i,s){let r=function(...o){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(r=window[s]),window[s]=NP(r,e,t,n),{gtagCore:r,wrappedGtag:window[s]}}function BP(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(_d)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP=30,jP=1e3;class $P{constructor(t={},n=jP){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const Ub=new $P;function UP(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function HP(e){var t;const{appId:n,apiKey:i}=e,s={method:"GET",headers:UP(i)},r=PP.replace("{app-id}",n),o=await fetch(r,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((t=l.error)===null||t===void 0)&&t.message&&(a=l.error.message)}catch{}throw qe.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function WP(e,t=Ub,n){const{appId:i,apiKey:s,measurementId:r}=e.options;if(!i)throw qe.create("no-app-id");if(!s){if(r)return{measurementId:r,appId:i};throw qe.create("no-api-key")}const o=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new QP;return setTimeout(async()=>{a.abort()},n!==void 0?n:CP),Hb({appId:i,apiKey:s,measurementId:r},o,a,t)}async function Hb(e,{throttleEndTimeMillis:t,backoffCount:n},i,s=Ub){var r;const{appId:o,measurementId:a}=e;try{await qP(i,t)}catch(l){if(a)return ze.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await HP(e);return s.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!KP(c)){if(s.deleteThrottleMetadata(o),a)return ze.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const u=Number((r=c==null?void 0:c.customData)===null||r===void 0?void 0:r.httpStatus)===503?$g(n,s.intervalMillis,zP):$g(n,s.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return s.setThrottleMetadata(o,h),ze.debug(`Calling attemptFetch again in ${u} millis`),Hb(e,h,i,s)}}function qP(e,t){return new Promise((n,i)=>{const s=Math.max(t-Date.now(),0),r=setTimeout(n,s);e.addEventListener(()=>{clearTimeout(r),i(qe.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function KP(e){if(!(e instanceof Vi)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class QP{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function YP(e,t,n,i,s){if(s&&s.global){e("event",n,i);return}else{const r=await t,o=Object.assign(Object.assign({},i),{send_to:r});e("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GP(){if(pb())try{await gb()}catch(e){return ze.warn(qe.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return ze.warn(qe.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function XP(e,t,n,i,s,r,o){var a;const l=WP(e);l.then(d=>{n[d.measurementId]=d.appId,e.options.measurementId&&d.measurementId!==e.options.measurementId&&ze.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${d.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(d=>ze.error(d)),t.push(l);const c=GP().then(d=>{if(d)return i.getId()}),[u,h]=await Promise.all([l,c]);BP(r)||DP(r,u.measurementId),s("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[SP]="firebase",f.update=!0,h!=null&&(f[IP]=h),s("config",u.measurementId,f),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(t){this.app=t}_delete(){return delete Gr[this.app.options.appId],Promise.resolve()}}let Gr={},em=[];const nm={};let Mu="dataLayer",ZP="gtag",im,Wb,sm=!1;function tk(){const e=[];if(dS()&&e.push("This is a browser extension environment."),pS()||e.push("Cookies are not available."),e.length>0){const t=e.map((i,s)=>`(${s+1}) ${i}`).join(" "),n=qe.create("invalid-analytics-context",{errorInfo:t});ze.warn(n.message)}}function ek(e,t,n){tk();const i=e.options.appId;if(!i)throw qe.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)ze.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw qe.create("no-api-key");if(Gr[i]!=null)throw qe.create("already-exists",{id:i});if(!sm){OP(Mu);const{wrappedGtag:r,gtagCore:o}=FP(Gr,em,nm,Mu,ZP);Wb=r,im=o,sm=!0}return Gr[i]=XP(e,em,nm,t,im,Mu,n),new JP(e)}function nk(e=vb()){e=Ti(e);const t=Go(e,Ll);return t.isInitialized()?t.getImmediate():ik(e)}function ik(e,t={}){const n=Go(e,Ll);if(n.isInitialized()){const s=n.getImmediate();if(Dl(t,n.getOptions()))return s;throw qe.create("already-initialized")}return n.initialize({options:t})}function sk(e,t,n,i){e=Ti(e),YP(Wb,Gr[e.app.options.appId],t,n,i).catch(s=>ze.error(s))}const rm="@firebase/analytics",om="0.10.0";function rk(){Ii(new Gn(Ll,(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("installations-internal").getImmediate();return ek(i,s,n)},"PUBLIC")),Ii(new Gn("analytics-internal",e,"PRIVATE")),kn(rm,om),kn(rm,om,"esm2017");function e(t){try{const n=t.getProvider(Ll).getImmediate();return{logEvent:(i,s,r)=>sk(n,i,s,r)}}catch(n){throw qe.create("interop-component-reg-failed",{reason:n})}}}rk();var ok=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},B,yd=yd||{},st=ok||self;function Rc(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Xo(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function ak(e){return Object.prototype.hasOwnProperty.call(e,Du)&&e[Du]||(e[Du]=++lk)}var Du="closure_uid_"+(1e9*Math.random()>>>0),lk=0;function ck(e,t,n){return e.call.apply(e.bind,arguments)}function uk(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,i),e.apply(t,s)}}return function(){return e.apply(t,arguments)}}function Se(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Se=ck:Se=uk,Se.apply(null,arguments)}function Ea(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function fe(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(i,s,r){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[s].apply(i,o)}}function Li(){this.s=this.s,this.o=this.o}var hk=0;Li.prototype.s=!1;Li.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),hk!=0)&&ak(this)};Li.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const qb=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function vd(e){const t=e.length;if(0<t){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function am(e,t){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(Rc(i)){const s=e.length||0,r=i.length||0;e.length=s+r;for(let o=0;o<r;o++)e[s+o]=i[o]}else e.push(i)}}function Ce(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Ce.prototype.h=function(){this.defaultPrevented=!0};var fk=function(){if(!st.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{st.addEventListener("test",()=>{},t),st.removeEventListener("test",()=>{},t)}catch{}return e}();function Ao(e){return/^[\s\xa0]*$/.test(e)}function Mc(){var e=st.navigator;return e&&(e=e.userAgent)?e:""}function En(e){return Mc().indexOf(e)!=-1}function bd(e){return bd[" "](e),e}bd[" "]=function(){};function dk(e,t){var n=rR;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var pk=En("Opera"),Zs=En("Trident")||En("MSIE"),Kb=En("Edge"),Oh=Kb||Zs,Qb=En("Gecko")&&!(Mc().toLowerCase().indexOf("webkit")!=-1&&!En("Edge"))&&!(En("Trident")||En("MSIE"))&&!En("Edge"),gk=Mc().toLowerCase().indexOf("webkit")!=-1&&!En("Edge");function Yb(){var e=st.document;return e?e.documentMode:void 0}var Vh;t:{var Ou="",Vu=function(){var e=Mc();if(Qb)return/rv:([^\);]+)(\)|;)/.exec(e);if(Kb)return/Edge\/([\d\.]+)/.exec(e);if(Zs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(gk)return/WebKit\/(\S+)/.exec(e);if(pk)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(Vu&&(Ou=Vu?Vu[1]:""),Zs){var Lu=Yb();if(Lu!=null&&Lu>parseFloat(Ou)){Vh=String(Lu);break t}}Vh=Ou}var Lh;if(st.document&&Zs){var lm=Yb();Lh=lm||parseInt(Vh,10)||void 0}else Lh=void 0;var mk=Lh;function wo(e,t){if(Ce.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Qb){t:{try{bd(t.nodeName);var s=!0;break t}catch{}s=!1}s||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:_k[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&wo.$.h.call(this)}}fe(wo,Ce);var _k={2:"touch",3:"pen",4:"mouse"};wo.prototype.h=function(){wo.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Jo="closure_listenable_"+(1e6*Math.random()|0),yk=0;function vk(e,t,n,i,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.la=s,this.key=++yk,this.fa=this.ia=!1}function Dc(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Ad(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function bk(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function Gb(e){const t={};for(const n in e)t[n]=e[n];return t}const cm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xb(e,t){let n,i;for(let s=1;s<arguments.length;s++){i=arguments[s];for(n in i)e[n]=i[n];for(let r=0;r<cm.length;r++)n=cm[r],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function Oc(e){this.src=e,this.g={},this.h=0}Oc.prototype.add=function(e,t,n,i,s){var r=e.toString();e=this.g[r],e||(e=this.g[r]=[],this.h++);var o=Fh(e,t,i,s);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new vk(t,this.src,r,!!i,s),t.ia=n,e.push(t)),t};function Nh(e,t){var n=t.type;if(n in e.g){var i=e.g[n],s=qb(i,t),r;(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Dc(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Fh(e,t,n,i){for(var s=0;s<e.length;++s){var r=e[s];if(!r.fa&&r.listener==t&&r.capture==!!n&&r.la==i)return s}return-1}var wd="closure_lm_"+(1e6*Math.random()|0),Nu={};function Jb(e,t,n,i,s){if(i&&i.once)return t0(e,t,n,i,s);if(Array.isArray(t)){for(var r=0;r<t.length;r++)Jb(e,t[r],n,i,s);return null}return n=Td(n),e&&e[Jo]?e.O(t,n,Xo(i)?!!i.capture:!!i,s):Zb(e,t,n,!1,i,s)}function Zb(e,t,n,i,s,r){if(!t)throw Error("Invalid event type");var o=Xo(s)?!!s.capture:!!s,a=Ed(e);if(a||(e[wd]=a=new Oc(e)),n=a.add(t,n,i,o,r),n.proxy)return n;if(i=Ak(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)fk||(s=o),s===void 0&&(s=!1),e.addEventListener(t.toString(),i,s);else if(e.attachEvent)e.attachEvent(n0(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Ak(){function e(n){return t.call(e.src,e.listener,n)}const t=wk;return e}function t0(e,t,n,i,s){if(Array.isArray(t)){for(var r=0;r<t.length;r++)t0(e,t[r],n,i,s);return null}return n=Td(n),e&&e[Jo]?e.P(t,n,Xo(i)?!!i.capture:!!i,s):Zb(e,t,n,!0,i,s)}function e0(e,t,n,i,s){if(Array.isArray(t))for(var r=0;r<t.length;r++)e0(e,t[r],n,i,s);else i=Xo(i)?!!i.capture:!!i,n=Td(n),e&&e[Jo]?(e=e.i,t=String(t).toString(),t in e.g&&(r=e.g[t],n=Fh(r,n,i,s),-1<n&&(Dc(r[n]),Array.prototype.splice.call(r,n,1),r.length==0&&(delete e.g[t],e.h--)))):e&&(e=Ed(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Fh(t,n,i,s)),(n=-1<e?t[e]:null)&&xd(n))}function xd(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[Jo])Nh(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(n0(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=Ed(t))?(Nh(n,e),n.h==0&&(n.src=null,t[wd]=null)):Dc(e)}}}function n0(e){return e in Nu?Nu[e]:Nu[e]="on"+e}function wk(e,t){if(e.fa)e=!0;else{t=new wo(t,this);var n=e.listener,i=e.la||e.src;e.ia&&xd(e),e=n.call(i,t)}return e}function Ed(e){return e=e[wd],e instanceof Oc?e:null}var Fu="__closure_events_fn_"+(1e9*Math.random()>>>0);function Td(e){return typeof e=="function"?e:(e[Fu]||(e[Fu]=function(t){return e.handleEvent(t)}),e[Fu])}function he(){Li.call(this),this.i=new Oc(this),this.S=this,this.J=null}fe(he,Li);he.prototype[Jo]=!0;he.prototype.removeEventListener=function(e,t,n,i){e0(this,e,t,n,i)};function ye(e,t){var n,i=e.J;if(i)for(n=[];i;i=i.J)n.push(i);if(e=e.S,i=t.type||t,typeof t=="string")t=new Ce(t,e);else if(t instanceof Ce)t.target=t.target||e;else{var s=t;t=new Ce(i,e),Xb(t,s)}if(s=!0,n)for(var r=n.length-1;0<=r;r--){var o=t.g=n[r];s=Ta(o,i,!0,t)&&s}if(o=t.g=e,s=Ta(o,i,!0,t)&&s,s=Ta(o,i,!1,t)&&s,n)for(r=0;r<n.length;r++)o=t.g=n[r],s=Ta(o,i,!1,t)&&s}he.prototype.N=function(){if(he.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)Dc(n[i]);delete e.g[t],e.h--}}this.J=null};he.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};he.prototype.P=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};function Ta(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var s=!0,r=0;r<t.length;++r){var o=t[r];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Nh(e.i,o),s=a.call(l,i)!==!1&&s}}return s&&!i.defaultPrevented}var Id=st.JSON.stringify;class xk{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function Ek(){var e=Sd;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class Tk{constructor(){this.h=this.g=null}add(t,n){const i=i0.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i}}var i0=new xk(()=>new Ik,e=>e.reset());class Ik{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Sk(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ck(e){st.setTimeout(()=>{throw e},0)}let xo,Eo=!1,Sd=new Tk,s0=()=>{const e=st.Promise.resolve(void 0);xo=()=>{e.then(Pk)}};var Pk=()=>{for(var e;e=Ek();){try{e.h.call(e.g)}catch(n){Ck(n)}var t=i0;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Eo=!1};function Vc(e,t){he.call(this),this.h=e||1,this.g=t||st,this.j=Se(this.qb,this),this.l=Date.now()}fe(Vc,he);B=Vc.prototype;B.ga=!1;B.T=null;B.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ye(this,"tick"),this.ga&&(Cd(this),this.start()))}};B.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Cd(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}B.N=function(){Vc.$.N.call(this),Cd(this),delete this.g};function Pd(e,t,n){if(typeof e=="function")n&&(e=Se(e,n));else if(e&&typeof e.handleEvent=="function")e=Se(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:st.setTimeout(e,t||0)}function r0(e){e.g=Pd(()=>{e.g=null,e.i&&(e.i=!1,r0(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class kk extends Li{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:r0(this)}N(){super.N(),this.g&&(st.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function To(e){Li.call(this),this.h=e,this.g={}}fe(To,Li);var um=[];function o0(e,t,n,i){Array.isArray(n)||(n&&(um[0]=n.toString()),n=um);for(var s=0;s<n.length;s++){var r=Jb(t,n[s],i||e.handleEvent,!1,e.h||e);if(!r)break;e.g[r.key]=r}}function a0(e){Ad(e.g,function(t,n){this.g.hasOwnProperty(n)&&xd(t)},e),e.g={}}To.prototype.N=function(){To.$.N.call(this),a0(this)};To.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Lc(){this.g=!0}Lc.prototype.Ea=function(){this.g=!1};function Rk(e,t,n,i,s,r){e.info(function(){if(e.g)if(r)for(var o="",a=r.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=r;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+t+`
`+n+`
`+o})}function Mk(e,t,n,i,s,r,o){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+t+`
`+n+`
`+r+" "+o})}function Vs(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+Ok(e,n)+(i?" "+i:"")})}function Dk(e,t){e.info(function(){return"TIMEOUT: "+t})}Lc.prototype.info=function(){};function Ok(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var r=s[0];if(r!="noop"&&r!="stop"&&r!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return Id(n)}catch{return t}}var xs={},hm=null;function Nc(){return hm=hm||new he}xs.Ta="serverreachability";function l0(e){Ce.call(this,xs.Ta,e)}fe(l0,Ce);function Io(e){const t=Nc();ye(t,new l0(t))}xs.STAT_EVENT="statevent";function c0(e,t){Ce.call(this,xs.STAT_EVENT,e),this.stat=t}fe(c0,Ce);function Ve(e){const t=Nc();ye(t,new c0(t,e))}xs.Ua="timingevent";function u0(e,t){Ce.call(this,xs.Ua,e),this.size=t}fe(u0,Ce);function Zo(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return st.setTimeout(function(){e()},t)}var Fc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},h0={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function kd(){}kd.prototype.h=null;function fm(e){return e.h||(e.h=e.i())}function f0(){}var ta={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Rd(){Ce.call(this,"d")}fe(Rd,Ce);function Md(){Ce.call(this,"c")}fe(Md,Ce);var Bh;function Bc(){}fe(Bc,kd);Bc.prototype.g=function(){return new XMLHttpRequest};Bc.prototype.i=function(){return{}};Bh=new Bc;function ea(e,t,n,i){this.l=e,this.j=t,this.m=n,this.W=i||1,this.U=new To(this),this.P=Vk,e=Oh?125:void 0,this.V=new Vc(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new d0}function d0(){this.i=null,this.g="",this.h=!1}var Vk=45e3,zh={},Nl={};B=ea.prototype;B.setTimeout=function(e){this.P=e};function jh(e,t,n){e.L=1,e.v=jc(Xn(t)),e.s=n,e.S=!0,p0(e,null)}function p0(e,t){e.G=Date.now(),na(e),e.A=Xn(e.v);var n=e.A,i=e.W;Array.isArray(i)||(i=[String(i)]),w0(n.i,"t",i),e.C=0,n=e.l.J,e.h=new d0,e.g=U0(e.l,n?t:null,!e.s),0<e.O&&(e.M=new kk(Se(e.Pa,e,e.g),e.O)),o0(e.U,e.g,"readystatechange",e.nb),t=e.I?Gb(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Io(),Rk(e.j,e.u,e.A,e.m,e.W,e.s)}B.nb=function(e){e=e.target;const t=this.M;t&&Tn(e)==3?t.l():this.Pa(e)};B.Pa=function(e){try{if(e==this.g)t:{const u=Tn(this.g);var t=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||Oh||this.g&&(this.h.h||this.g.ja()||mm(this.g)))){this.J||u!=4||t==7||(t==8||0>=h?Io(3):Io(2)),zc(this);var n=this.g.da();this.ca=n;e:if(g0(this)){var i=mm(this.g);e="";var s=i.length,r=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zi(this),Xr(this);var o="";break e}this.h.i=new st.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(i[t],{stream:r&&t==s-1});i.splice(0,s),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,Mk(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){e:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ao(a)){var c=a;break e}}c=null}if(n=c)Vs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$h(this,n);else{this.i=!1,this.o=3,Ve(12),Zi(this),Xr(this);break t}}this.S?(m0(this,u,o),Oh&&this.i&&u==3&&(o0(this.U,this.V,"tick",this.mb),this.V.start())):(Vs(this.j,this.m,o,null),$h(this,o)),u==4&&Zi(this),this.i&&!this.J&&(u==4?B0(this.l,this):(this.i=!1,na(this)))}else nR(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Ve(12)):(this.o=0,Ve(13)),Zi(this),Xr(this)}}}catch{}finally{}};function g0(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function m0(e,t,n){let i=!0,s;for(;!e.J&&e.C<n.length;)if(s=Lk(e,n),s==Nl){t==4&&(e.o=4,Ve(14),i=!1),Vs(e.j,e.m,null,"[Incomplete Response]");break}else if(s==zh){e.o=4,Ve(15),Vs(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else Vs(e.j,e.m,s,null),$h(e,s);g0(e)&&s!=Nl&&s!=zh&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Ve(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Fd(t),t.M=!0,Ve(11))):(Vs(e.j,e.m,n,"[Invalid Chunked Response]"),Zi(e),Xr(e))}B.mb=function(){if(this.g){var e=Tn(this.g),t=this.g.ja();this.C<t.length&&(zc(this),m0(this,e,t),this.i&&e!=4&&na(this))}};function Lk(e,t){var n=e.C,i=t.indexOf(`
`,n);return i==-1?Nl:(n=Number(t.substring(n,i)),isNaN(n)?zh:(i+=1,i+n>t.length?Nl:(t=t.slice(i,i+n),e.C=i+n,t)))}B.cancel=function(){this.J=!0,Zi(this)};function na(e){e.Y=Date.now()+e.P,_0(e,e.P)}function _0(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Zo(Se(e.lb,e),t)}function zc(e){e.B&&(st.clearTimeout(e.B),e.B=null)}B.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(Dk(this.j,this.A),this.L!=2&&(Io(),Ve(17)),Zi(this),this.o=2,Xr(this)):_0(this,this.Y-e)};function Xr(e){e.l.H==0||e.J||B0(e.l,e)}function Zi(e){zc(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,Cd(e.V),a0(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function $h(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||Uh(n.i,e))){if(!e.K&&Uh(n.i,e)&&n.H==3){try{var i=n.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var s=i;if(s[0]==0){t:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)zl(n),Hc(n);else break t;Nd(n),Ve(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Zo(Se(n.ib,n),6e3));if(1>=T0(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ts(n,11)}else if((e.K||n.g==e)&&zl(n),!Ao(t))for(s=n.Ja.g.parse(t),t=0;t<s.length;t++){let c=s[t];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const d=e.g;if(d){const p=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var r=i.i;r.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(r.j=r.l,r.g=new Set,r.h&&(Dd(r,r.h),r.h=null))}if(i.F){const g=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(i.Da=g,Lt(i.I,i.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var o=e;if(i.wa=$0(i,i.J?i.pa:null,i.Y),o.K){I0(i.i,o);var a=o,l=i.L;l&&a.setTimeout(l),a.B&&(zc(a),na(a)),i.g=o}else N0(i);0<n.j.length&&Wc(n)}else c[0]!="stop"&&c[0]!="close"||ts(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?ts(n,7):Ld(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}Io(4)}catch{}}function Nk(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Rc(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function Fk(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Rc(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const i in e)t[n++]=i;return t}}}function y0(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Rc(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=Fk(e),i=Nk(e),s=i.length,r=0;r<s;r++)t.call(void 0,i[r],n&&n[r],e)}var v0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bk(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),s=null;if(0<=i){var r=e[n].substring(0,i);s=e[n].substring(i+1)}else r=e[n];t(r,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function ls(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ls){this.h=e.h,Fl(this,e.j),this.s=e.s,this.g=e.g,Bl(this,e.m),this.l=e.l;var t=e.i,n=new So;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),dm(this,n),this.o=e.o}else e&&(t=String(e).match(v0))?(this.h=!1,Fl(this,t[1]||"",!0),this.s=Dr(t[2]||""),this.g=Dr(t[3]||"",!0),Bl(this,t[4]),this.l=Dr(t[5]||"",!0),dm(this,t[6]||"",!0),this.o=Dr(t[7]||"")):(this.h=!1,this.i=new So(null,this.h))}ls.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Or(t,pm,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Or(t,pm,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Or(n,n.charAt(0)=="/"?$k:jk,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Or(n,Hk)),e.join("")};function Xn(e){return new ls(e)}function Fl(e,t,n){e.j=n?Dr(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Bl(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function dm(e,t,n){t instanceof So?(e.i=t,Wk(e.i,e.h)):(n||(t=Or(t,Uk)),e.i=new So(t,e.h))}function Lt(e,t,n){e.i.set(t,n)}function jc(e){return Lt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Dr(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Or(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,zk),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function zk(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var pm=/[#\/\?@]/g,jk=/[#\?:]/g,$k=/[#\?]/g,Uk=/[#\?@]/g,Hk=/#/g;function So(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ni(e){e.g||(e.g=new Map,e.h=0,e.i&&Bk(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}B=So.prototype;B.add=function(e,t){Ni(this),this.i=null,e=pr(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function b0(e,t){Ni(e),t=pr(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function A0(e,t){return Ni(e),t=pr(e,t),e.g.has(t)}B.forEach=function(e,t){Ni(this),this.g.forEach(function(n,i){n.forEach(function(s){e.call(t,s,i,this)},this)},this)};B.ta=function(){Ni(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let i=0;i<t.length;i++){const s=e[i];for(let r=0;r<s.length;r++)n.push(t[i])}return n};B.Z=function(e){Ni(this);let t=[];if(typeof e=="string")A0(this,e)&&(t=t.concat(this.g.get(pr(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};B.set=function(e,t){return Ni(this),this.i=null,e=pr(this,e),A0(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};B.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function w0(e,t,n){b0(e,t),0<n.length&&(e.i=null,e.g.set(pr(e,t),vd(n)),e.h+=n.length)}B.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var i=t[n];const r=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var s=r;o[i]!==""&&(s+="="+encodeURIComponent(String(o[i]))),e.push(s)}}return this.i=e.join("&")};function pr(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Wk(e,t){t&&!e.j&&(Ni(e),e.i=null,e.g.forEach(function(n,i){var s=i.toLowerCase();i!=s&&(b0(this,i),w0(this,s,n))},e)),e.j=t}var qk=class{constructor(e,t){this.g=e,this.map=t}};function x0(e){this.l=e||Kk,st.PerformanceNavigationTiming?(e=st.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(st.g&&st.g.Ka&&st.g.Ka()&&st.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Kk=10;function E0(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function T0(e){return e.h?1:e.g?e.g.size:0}function Uh(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function Dd(e,t){e.g?e.g.add(t):e.h=t}function I0(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}x0.prototype.cancel=function(){if(this.i=S0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function S0(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return vd(e.i)}var Qk=class{stringify(e){return st.JSON.stringify(e,void 0)}parse(e){return st.JSON.parse(e,void 0)}};function Yk(){this.g=new Qk}function Gk(e,t,n){const i=n||"";try{y0(e,function(s,r){let o=s;Xo(s)&&(o=Id(s)),t.push(i+r+"="+encodeURIComponent(o))})}catch(s){throw t.push(i+"type="+encodeURIComponent("_badmap")),s}}function Xk(e,t){const n=new Lc;if(st.Image){const i=new Image;i.onload=Ea(Ia,n,i,"TestLoadImage: loaded",!0,t),i.onerror=Ea(Ia,n,i,"TestLoadImage: error",!1,t),i.onabort=Ea(Ia,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=Ea(Ia,n,i,"TestLoadImage: timeout",!1,t),st.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function Ia(e,t,n,i,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(i)}catch{}}function ia(e){this.l=e.fc||null,this.j=e.ob||!1}fe(ia,kd);ia.prototype.g=function(){return new $c(this.l,this.j)};ia.prototype.i=function(e){return function(){return e}}({});function $c(e,t){he.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Od,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fe($c,he);var Od=0;B=$c.prototype;B.open=function(e,t){if(this.readyState!=Od)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Co(this)};B.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||st).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};B.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sa(this)),this.readyState=Od};B.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Co(this)),this.g&&(this.readyState=3,Co(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof st.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;C0(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function C0(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}B.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?sa(this):Co(this),this.readyState==3&&C0(this)}};B.Za=function(e){this.g&&(this.response=this.responseText=e,sa(this))};B.Ya=function(e){this.g&&(this.response=e,sa(this))};B.ka=function(){this.g&&sa(this)};function sa(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Co(e)}B.setRequestHeader=function(e,t){this.v.append(e,t)};B.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};B.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Co(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty($c.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var Jk=st.JSON.parse;function Gt(e){he.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=P0,this.L=this.M=!1}fe(Gt,he);var P0="",Zk=/^https?$/i,tR=["POST","PUT"];B=Gt.prototype;B.Oa=function(e){this.M=e};B.ha=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Bh.g(),this.C=this.u?fm(this.u):fm(Bh),this.g.onreadystatechange=Se(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(r){gm(this,r);return}if(e=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)n.set(s,i[s]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const r of i.keys())n.set(r,i.get(r));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(r=>r.toLowerCase()=="content-type"),s=st.FormData&&e instanceof st.FormData,!(0<=qb(tR,t))||i||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[r,o]of n)this.g.setRequestHeader(r,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{M0(this),0<this.B&&((this.L=eR(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Se(this.ua,this)):this.A=Pd(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(r){gm(this,r)}};function eR(e){return Zs&&typeof e.timeout=="number"&&e.ontimeout!==void 0}B.ua=function(){typeof yd<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ye(this,"timeout"),this.abort(8))};function gm(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,k0(e),Uc(e)}function k0(e){e.F||(e.F=!0,ye(e,"complete"),ye(e,"error"))}B.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ye(this,"complete"),ye(this,"abort"),Uc(this))};B.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Uc(this,!0)),Gt.$.N.call(this)};B.La=function(){this.s||(this.G||this.v||this.l?R0(this):this.kb())};B.kb=function(){R0(this)};function R0(e){if(e.h&&typeof yd<"u"&&(!e.C[1]||Tn(e)!=4||e.da()!=2)){if(e.v&&Tn(e)==4)Pd(e.La,0,e);else if(ye(e,"readystatechange"),Tn(e)==4){e.h=!1;try{const o=e.da();t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break t;default:t=!1}var n;if(!(n=t)){var i;if(i=o===0){var s=String(e.I).match(v0)[1]||null;!s&&st.self&&st.self.location&&(s=st.self.location.protocol.slice(0,-1)),i=!Zk.test(s?s.toLowerCase():"")}n=i}if(n)ye(e,"complete"),ye(e,"success");else{e.m=6;try{var r=2<Tn(e)?e.g.statusText:""}catch{r=""}e.j=r+" ["+e.da()+"]",k0(e)}}finally{Uc(e)}}}}function Uc(e,t){if(e.g){M0(e);const n=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||ye(e,"ready");try{n.onreadystatechange=i}catch{}}}function M0(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(st.clearTimeout(e.A),e.A=null)}B.isActive=function(){return!!this.g};function Tn(e){return e.g?e.g.readyState:0}B.da=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}};B.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};B.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Jk(t)}};function mm(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case P0:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function nR(e){const t={};e=(e.g&&2<=Tn(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<e.length;i++){if(Ao(e[i]))continue;var n=Sk(e[i]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const r=t[s]||[];t[s]=r,r.push(n)}bk(t,function(i){return i.join(", ")})}B.Ia=function(){return this.m};B.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function D0(e){let t="";return Ad(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function Vd(e,t,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=D0(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Lt(e,t,n))}function Er(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function O0(e){this.Ga=0,this.j=[],this.l=new Lc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Er("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Er("baseRetryDelayMs",5e3,e),this.hb=Er("retryDelaySeedMs",1e4,e),this.eb=Er("forwardChannelMaxRetries",2,e),this.xa=Er("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new x0(e&&e.concurrentRequestLimit),this.Ja=new Yk,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}B=O0.prototype;B.ra=8;B.H=1;function Ld(e){if(V0(e),e.H==3){var t=e.W++,n=Xn(e.I);if(Lt(n,"SID",e.K),Lt(n,"RID",t),Lt(n,"TYPE","terminate"),ra(e,n),t=new ea(e,e.l,t),t.L=2,t.v=jc(Xn(n)),n=!1,st.navigator&&st.navigator.sendBeacon)try{n=st.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&st.Image&&(new Image().src=t.v,n=!0),n||(t.g=U0(t.l,null),t.g.ha(t.v)),t.G=Date.now(),na(t)}j0(e)}function Hc(e){e.g&&(Fd(e),e.g.cancel(),e.g=null)}function V0(e){Hc(e),e.u&&(st.clearTimeout(e.u),e.u=null),zl(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&st.clearTimeout(e.m),e.m=null)}function Wc(e){if(!E0(e.i)&&!e.m){e.m=!0;var t=e.Na;xo||s0(),Eo||(xo(),Eo=!0),Sd.add(t,e),e.C=0}}function iR(e,t){return T0(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=Zo(Se(e.Na,e,t),z0(e,e.C)),e.C++,!0)}B.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const s=new ea(this,this.l,e);let r=this.s;if(this.U&&(r?(r=Gb(r),Xb(r,this.U)):r=this.U),this.o!==null||this.O||(s.I=r,r=null),this.P)t:{for(var t=0,n=0;n<this.j.length;n++){e:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break e}i=void 0}if(i===void 0)break;if(t+=i,4096<t){t=n;break t}if(t===4096||n===this.j.length-1){t=n+1;break t}}t=1e3}else t=1e3;t=L0(this,s,t),n=Xn(this.I),Lt(n,"RID",e),Lt(n,"CVER",22),this.F&&Lt(n,"X-HTTP-Session-Id",this.F),ra(this,n),r&&(this.O?t="headers="+encodeURIComponent(String(D0(r)))+"&"+t:this.o&&Vd(n,this.o,r)),Dd(this.i,s),this.bb&&Lt(n,"TYPE","init"),this.P?(Lt(n,"$req",t),Lt(n,"SID","null"),s.aa=!0,jh(s,n,null)):jh(s,n,t),this.H=2}}else this.H==3&&(e?_m(this,e):this.j.length==0||E0(this.i)||_m(this))};function _m(e,t){var n;t?n=t.m:n=e.W++;const i=Xn(e.I);Lt(i,"SID",e.K),Lt(i,"RID",n),Lt(i,"AID",e.V),ra(e,i),e.o&&e.s&&Vd(i,e.o,e.s),n=new ea(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=L0(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Dd(e.i,n),jh(n,i,t)}function ra(e,t){e.na&&Ad(e.na,function(n,i){Lt(t,i,n)}),e.h&&y0({},function(n,i){Lt(t,i,n)})}function L0(e,t,n){n=Math.min(e.j.length,n);var i=e.h?Se(e.h.Va,e.h,e):null;t:{var s=e.j;let r=-1;for(;;){const o=["count="+n];r==-1?0<n?(r=s[0].g,o.push("ofs="+r)):r=0:o.push("ofs="+r);let a=!0;for(let l=0;l<n;l++){let c=s[l].g;const u=s[l].map;if(c-=r,0>c)r=Math.max(0,s[l].g-100),a=!1;else try{Gk(u,o,"req"+c+"_")}catch{i&&i(u)}}if(a){i=o.join("&");break t}}}return e=e.j.splice(0,n),t.F=e,i}function N0(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;xo||s0(),Eo||(xo(),Eo=!0),Sd.add(t,e),e.A=0}}function Nd(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=Zo(Se(e.Ma,e),z0(e,e.A)),e.A++,!0)}B.Ma=function(){if(this.u=null,F0(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Zo(Se(this.jb,this),e)}};B.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ve(10),Hc(this),F0(this))};function Fd(e){e.B!=null&&(st.clearTimeout(e.B),e.B=null)}function F0(e){e.g=new ea(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=Xn(e.wa);Lt(t,"RID","rpc"),Lt(t,"SID",e.K),Lt(t,"AID",e.V),Lt(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Lt(t,"TO",e.qa),Lt(t,"TYPE","xmlhttp"),ra(e,t),e.o&&e.s&&Vd(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=jc(Xn(t)),n.s=null,n.S=!0,p0(n,e)}B.ib=function(){this.v!=null&&(this.v=null,Hc(this),Nd(this),Ve(19))};function zl(e){e.v!=null&&(st.clearTimeout(e.v),e.v=null)}function B0(e,t){var n=null;if(e.g==t){zl(e),Fd(e),e.g=null;var i=2}else if(Uh(e.i,t))n=t.F,I0(e.i,t),i=1;else return;if(e.H!=0){if(t.i)if(i==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var s=e.C;i=Nc(),ye(i,new u0(i,n)),Wc(e)}else N0(e);else if(s=t.o,s==3||s==0&&0<t.ca||!(i==1&&iR(e,t)||i==2&&Nd(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),s){case 1:ts(e,5);break;case 4:ts(e,10);break;case 3:ts(e,6);break;default:ts(e,2)}}}function z0(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function ts(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var i=Se(e.pb,e);n||(n=new ls("//www.google.com/images/cleardot.gif"),st.location&&st.location.protocol=="http"||Fl(n,"https"),jc(n)),Xk(n.toString(),i)}else Ve(2);e.H=0,e.h&&e.h.za(t),j0(e),V0(e)}B.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Ve(2)):(this.l.info("Failed to ping google.com"),Ve(1))};function j0(e){if(e.H=0,e.ma=[],e.h){const t=S0(e.i);(t.length!=0||e.j.length!=0)&&(am(e.ma,t),am(e.ma,e.j),e.i.i.length=0,vd(e.j),e.j.length=0),e.h.ya()}}function $0(e,t,n){var i=n instanceof ls?Xn(n):new ls(n);if(i.g!="")t&&(i.g=t+"."+i.g),Bl(i,i.m);else{var s=st.location;i=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var r=new ls(null);i&&Fl(r,i),t&&(r.g=t),s&&Bl(r,s),n&&(r.l=n),i=r}return n=e.F,t=e.Da,n&&t&&Lt(i,n,t),Lt(i,"VER",e.ra),ra(e,i),i}function U0(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new Gt(new ia({ob:!0})):new Gt(e.va),t.Oa(e.J),t}B.isActive=function(){return!!this.h&&this.h.isActive(this)};function H0(){}B=H0.prototype;B.Ba=function(){};B.Aa=function(){};B.za=function(){};B.ya=function(){};B.isActive=function(){return!0};B.Va=function(){};function jl(){if(Zs&&!(10<=Number(mk)))throw Error("Environmental error: no available transport.")}jl.prototype.g=function(e,t){return new Ke(e,t)};function Ke(e,t){he.call(this),this.g=new O0(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Ao(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ao(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new gr(this)}fe(Ke,he);Ke.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Ve(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=$0(e,null,e.Y),Wc(e)};Ke.prototype.close=function(){Ld(this.g)};Ke.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Id(e),e=n);t.j.push(new qk(t.fb++,e)),t.H==3&&Wc(t)};Ke.prototype.N=function(){this.g.h=null,delete this.j,Ld(this.g),delete this.g,Ke.$.N.call(this)};function W0(e){Rd.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){t:{for(const n in t){e=n;break t}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}fe(W0,Rd);function q0(){Md.call(this),this.status=1}fe(q0,Md);function gr(e){this.g=e}fe(gr,H0);gr.prototype.Ba=function(){ye(this.g,"a")};gr.prototype.Aa=function(e){ye(this.g,new W0(e))};gr.prototype.za=function(e){ye(this.g,new q0)};gr.prototype.ya=function(){ye(this.g,"b")};function sR(){this.blockSize=-1}function pn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}fe(pn,sR);pn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Bu(e,t,n){n||(n=0);var i=Array(16);if(typeof t=="string")for(var s=0;16>s;++s)i[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)i[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var r=e.g[3],o=t+(r^n&(s^r))+i[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=r+(s^t&(n^s))+i[1]+3905402710&4294967295,r=t+(o<<12&4294967295|o>>>20),o=s+(n^r&(t^n))+i[2]+606105819&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(t^s&(r^t))+i[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(r^n&(s^r))+i[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=r+(s^t&(n^s))+i[5]+1200080426&4294967295,r=t+(o<<12&4294967295|o>>>20),o=s+(n^r&(t^n))+i[6]+2821735955&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(t^s&(r^t))+i[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(r^n&(s^r))+i[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=r+(s^t&(n^s))+i[9]+2336552879&4294967295,r=t+(o<<12&4294967295|o>>>20),o=s+(n^r&(t^n))+i[10]+4294925233&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(t^s&(r^t))+i[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(r^n&(s^r))+i[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=r+(s^t&(n^s))+i[13]+4254626195&4294967295,r=t+(o<<12&4294967295|o>>>20),o=s+(n^r&(t^n))+i[14]+2792965006&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(t^s&(r^t))+i[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(s^r&(n^s))+i[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(t^n))+i[6]+3225465664&4294967295,r=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(r^t))+i[11]+643717713&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^t&(s^r))+i[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^r&(n^s))+i[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(t^n))+i[10]+38016083&4294967295,r=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(r^t))+i[15]+3634488961&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^t&(s^r))+i[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^r&(n^s))+i[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(t^n))+i[14]+3275163606&4294967295,r=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(r^t))+i[3]+4107603335&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^t&(s^r))+i[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^r&(n^s))+i[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(t^n))+i[2]+4243563512&4294967295,r=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(r^t))+i[7]+1735328473&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^t&(s^r))+i[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(n^s^r)+i[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=r+(t^n^s)+i[8]+2272392833&4294967295,r=t+(o<<11&4294967295|o>>>21),o=s+(r^t^n)+i[11]+1839030562&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^t)+i[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^r)+i[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=r+(t^n^s)+i[4]+1272893353&4294967295,r=t+(o<<11&4294967295|o>>>21),o=s+(r^t^n)+i[7]+4139469664&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^t)+i[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^r)+i[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=r+(t^n^s)+i[0]+3936430074&4294967295,r=t+(o<<11&4294967295|o>>>21),o=s+(r^t^n)+i[3]+3572445317&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^t)+i[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^r)+i[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=r+(t^n^s)+i[12]+3873151461&4294967295,r=t+(o<<11&4294967295|o>>>21),o=s+(r^t^n)+i[15]+530742520&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^t)+i[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(s^(n|~r))+i[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=r+(n^(t|~s))+i[7]+1126891415&4294967295,r=t+(o<<10&4294967295|o>>>22),o=s+(t^(r|~n))+i[14]+2878612391&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~t))+i[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~r))+i[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=r+(n^(t|~s))+i[3]+2399980690&4294967295,r=t+(o<<10&4294967295|o>>>22),o=s+(t^(r|~n))+i[10]+4293915773&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~t))+i[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~r))+i[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=r+(n^(t|~s))+i[15]+4264355552&4294967295,r=t+(o<<10&4294967295|o>>>22),o=s+(t^(r|~n))+i[6]+2734768916&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~t))+i[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~r))+i[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=r+(n^(t|~s))+i[11]+3174756917&4294967295,r=t+(o<<10&4294967295|o>>>22),o=s+(t^(r|~n))+i[2]+718787259&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~t))+i[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+r&4294967295}pn.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,i=this.m,s=this.h,r=0;r<t;){if(s==0)for(;r<=n;)Bu(this,e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<t;)if(i[s++]=e.charCodeAt(r++),s==this.blockSize){Bu(this,i),s=0;break}}else for(;r<t;)if(i[s++]=e[r++],s==this.blockSize){Bu(this,i),s=0;break}}this.h=s,this.i+=t};pn.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var i=0;32>i;i+=8)e[n++]=this.g[t]>>>i&255;return e};function It(e,t){this.h=t;for(var n=[],i=!0,s=e.length-1;0<=s;s--){var r=e[s]|0;i&&r==t||(n[s]=r,i=!1)}this.g=n}var rR={};function Bd(e){return-128<=e&&128>e?dk(e,function(t){return new It([t|0],0>t?-1:0)}):new It([e|0],0>e?-1:0)}function In(e){if(isNaN(e)||!isFinite(e))return $s;if(0>e)return ge(In(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=Hh;return new It(t,0)}function K0(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return ge(K0(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=In(Math.pow(t,8)),i=$s,s=0;s<e.length;s+=8){var r=Math.min(8,e.length-s),o=parseInt(e.substring(s,s+r),t);8>r?(r=In(Math.pow(t,r)),i=i.R(r).add(In(o))):(i=i.R(n),i=i.add(In(o)))}return i}var Hh=4294967296,$s=Bd(0),Wh=Bd(1),ym=Bd(16777216);B=It.prototype;B.ea=function(){if(Je(this))return-ge(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var i=this.D(n);e+=(0<=i?i:Hh+i)*t,t*=Hh}return e};B.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Hn(this))return"0";if(Je(this))return"-"+ge(this).toString(e);for(var t=In(Math.pow(e,6)),n=this,i="";;){var s=Ul(n,t).g;n=$l(n,s.R(t));var r=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=s,Hn(n))return r+i;for(;6>r.length;)r="0"+r;i=r+i}};B.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Hn(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function Je(e){return e.h==-1}B.X=function(e){return e=$l(this,e),Je(e)?-1:Hn(e)?0:1};function ge(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new It(n,~e.h).add(Wh)}B.abs=function(){return Je(this)?ge(this):this};B.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var r=i+(this.D(s)&65535)+(e.D(s)&65535),o=(r>>>16)+(this.D(s)>>>16)+(e.D(s)>>>16);i=o>>>16,r&=65535,o&=65535,n[s]=o<<16|r}return new It(n,n[n.length-1]&-2147483648?-1:0)};function $l(e,t){return e.add(ge(t))}B.R=function(e){if(Hn(this)||Hn(e))return $s;if(Je(this))return Je(e)?ge(this).R(ge(e)):ge(ge(this).R(e));if(Je(e))return ge(this.R(ge(e)));if(0>this.X(ym)&&0>e.X(ym))return In(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var r=this.D(i)>>>16,o=this.D(i)&65535,a=e.D(s)>>>16,l=e.D(s)&65535;n[2*i+2*s]+=o*l,Sa(n,2*i+2*s),n[2*i+2*s+1]+=r*l,Sa(n,2*i+2*s+1),n[2*i+2*s+1]+=o*a,Sa(n,2*i+2*s+1),n[2*i+2*s+2]+=r*a,Sa(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new It(n,0)};function Sa(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Tr(e,t){this.g=e,this.h=t}function Ul(e,t){if(Hn(t))throw Error("division by zero");if(Hn(e))return new Tr($s,$s);if(Je(e))return t=Ul(ge(e),t),new Tr(ge(t.g),ge(t.h));if(Je(t))return t=Ul(e,ge(t)),new Tr(ge(t.g),t.h);if(30<e.g.length){if(Je(e)||Je(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Wh,i=t;0>=i.X(e);)n=vm(n),i=vm(i);var s=Ps(n,1),r=Ps(i,1);for(i=Ps(i,2),n=Ps(n,2);!Hn(i);){var o=r.add(i);0>=o.X(e)&&(s=s.add(n),r=o),i=Ps(i,1),n=Ps(n,1)}return t=$l(e,s.R(t)),new Tr(s,t)}for(s=$s;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),r=In(n),o=r.R(t);Je(o)||0<o.X(e);)n-=i,r=In(n),o=r.R(t);Hn(r)&&(r=Wh),s=s.add(r),e=$l(e,o)}return new Tr(s,e)}B.gb=function(e){return Ul(this,e).h};B.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)&e.D(i);return new It(n,this.h&e.h)};B.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)|e.D(i);return new It(n,this.h|e.h)};B.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)^e.D(i);return new It(n,this.h^e.h)};function vm(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.D(i)<<1|e.D(i-1)>>>31;return new It(n,e.h)}function Ps(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],r=0;r<i;r++)s[r]=0<t?e.D(r+n)>>>t|e.D(r+n+1)<<32-t:e.D(r+n);return new It(s,e.h)}jl.prototype.createWebChannel=jl.prototype.g;Ke.prototype.send=Ke.prototype.u;Ke.prototype.open=Ke.prototype.m;Ke.prototype.close=Ke.prototype.close;Fc.NO_ERROR=0;Fc.TIMEOUT=8;Fc.HTTP_ERROR=6;h0.COMPLETE="complete";f0.EventType=ta;ta.OPEN="a";ta.CLOSE="b";ta.ERROR="c";ta.MESSAGE="d";he.prototype.listen=he.prototype.O;Gt.prototype.listenOnce=Gt.prototype.P;Gt.prototype.getLastError=Gt.prototype.Sa;Gt.prototype.getLastErrorCode=Gt.prototype.Ia;Gt.prototype.getStatus=Gt.prototype.da;Gt.prototype.getResponseJson=Gt.prototype.Wa;Gt.prototype.getResponseText=Gt.prototype.ja;Gt.prototype.send=Gt.prototype.ha;Gt.prototype.setWithCredentials=Gt.prototype.Oa;pn.prototype.digest=pn.prototype.l;pn.prototype.reset=pn.prototype.reset;pn.prototype.update=pn.prototype.j;It.prototype.add=It.prototype.add;It.prototype.multiply=It.prototype.R;It.prototype.modulo=It.prototype.gb;It.prototype.compare=It.prototype.X;It.prototype.toNumber=It.prototype.ea;It.prototype.toString=It.prototype.toString;It.prototype.getBits=It.prototype.D;It.fromNumber=In;It.fromString=K0;var oR=function(){return new jl},aR=function(){return Nc()},zu=Fc,lR=h0,cR=xs,bm={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},uR=ia,Ca=f0,hR=Gt,fR=pn,Us=It;const Am="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ae=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Ae.UNAUTHENTICATED=new Ae(null),Ae.GOOGLE_CREDENTIALS=new Ae("google-credentials-uid"),Ae.FIRST_PARTY=new Ae("first-party-uid"),Ae.MOCK_USER=new Ae("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mr="10.1.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new ud("@firebase/firestore");function wm(){return ms.logLevel}function q(e,...t){if(ms.logLevel<=xt.DEBUG){const n=t.map(zd);ms.debug(`Firestore (${mr}): ${e}`,...n)}}function Jn(e,...t){if(ms.logLevel<=xt.ERROR){const n=t.map(zd);ms.error(`Firestore (${mr}): ${e}`,...n)}}function tr(e,...t){if(ms.logLevel<=xt.WARN){const n=t.map(zd);ms.warn(`Firestore (${mr}): ${e}`,...n)}}function zd(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function it(e="Unexpected state"){const t=`FIRESTORE (${mr}) INTERNAL ASSERTION FAILED: `+e;throw Jn(t),new Error(t)}function zt(e,t){e||it()}function ht(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends Vi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class dR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ae.UNAUTHENTICATED))}shutdown(){}}class pR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class gR{constructor(t){this.t=t,this.currentUser=Ae.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let r=new cs;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new cs,t.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=r;t.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new cs)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(zt(typeof i.accessToken=="string"),new Q0(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return zt(t===null||typeof t=="string"),new Ae(t)}}class mR{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=Ae.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class _R{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new mR(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Ae.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yR{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vR{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const i=r=>{r.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.R;return this.R=r.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(r.token):Promise.resolve()};this.o=r=>{t.enqueueRetryable(()=>i(r))};const s=r=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.appCheck.addTokenListener(this.o)};this.A.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.A.getImmediate({optional:!0});r?s(r):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(zt(typeof n.token=="string"),this.R=n.token,new yR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{static V(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const s=bR(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=t.charAt(s[r]%t.length))}return i}}function bt(e,t){return e<t?-1:e>t?1:0}function er(e,t,n){return e.length===t.length&&e.every((i,s)=>n(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new X(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new X(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new X(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return oe.fromMillis(Date.now())}static fromDate(t){return oe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*n));return new oe(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?bt(this.nanoseconds,t.nanoseconds):bt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ot(t)}static min(){return new ot(new oe(0,0))}static max(){return new ot(new oe(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(t,n,i){n===void 0?n=0:n>t.length&&it(),i===void 0?i=t.length-n:i>t.length-n&&it(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Po.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Po?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let s=0;s<i;s++){const r=t.get(s),o=n.get(s);if(r<o)return-1;if(r>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class jt extends Po{construct(t,n,i){return new jt(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new X(R.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new jt(n)}static emptyPath(){return new jt([])}}const AR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Te extends Po{construct(t,n,i){return new Te(t,n,i)}static isValidIdentifier(t){return AR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Te.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Te(["__name__"])}static fromServerFormat(t){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new X(R.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;s<t.length;){const a=t[s];if(a==="\\"){if(s+1===t.length)throw new X(R.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(i+=a,s++):(r(),s++)}if(r(),o)throw new X(R.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Te(n)}static emptyPath(){return new Te([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t){this.path=t}static fromPath(t){return new J(jt.fromString(t))}static fromName(t){return new J(jt.fromString(t).popFirst(5))}static empty(){return new J(jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&jt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return jt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new J(new jt(t.slice()))}}function wR(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,s=ot.fromTimestamp(i===1e9?new oe(n+1,0):new oe(n,i));return new Si(s,J.empty(),t)}function xR(e){return new Si(e.readTime,e.key,-1)}class Si{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Si(ot.min(),J.empty(),-1)}static max(){return new Si(ot.max(),J.empty(),-1)}}function ER(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=J.comparator(e.documentKey,t.documentKey),n!==0?n:bt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oa(e){if(e.code!==R.FAILED_PRECONDITION||e.message!==TR)throw e;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&it(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new D((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(t,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof D?n:D.resolve(n)}catch(n){return D.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):D.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):D.reject(n)}static resolve(t){return new D((n,i)=>{n(t)})}static reject(t){return new D((n,i)=>{i(t)})}static waitFor(t){return new D((n,i)=>{let s=0,r=0,o=!1;t.forEach(a=>{++s,a.next(()=>{++r,o&&r===s&&n()},l=>i(l))}),o=!0,r===s&&n()})}static or(t){let n=D.resolve(!1);for(const i of t)n=n.next(s=>s?D.resolve(s):i());return n}static forEach(t,n){const i=[];return t.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(t,n){return new D((i,s)=>{const r=t.length,o=new Array(r);let a=0;for(let l=0;l<r;l++){const c=l;n(t[c]).next(u=>{o[c]=u,++a,a===r&&i(o)},u=>s(u))}})}static doWhile(t,n){return new D((i,s)=>{const r=()=>{t()===!0?n().next(()=>{r()},s):i()};r()})}}function aa(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}jd.ae=-1;function qc(e){return e==null}function Hl(e){return e===0&&1/e==-1/0}function SR(e){return typeof e=="number"&&Number.isInteger(e)&&!Hl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xm(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function _r(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function G0(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(t,n){this.comparator=t,this.root=n||de.EMPTY}insert(t,n){return new Ht(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,de.BLACK,null,null))}remove(t){return new Ht(this.comparator,this.root.remove(t,this.comparator).copy(null,null,de.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Pa(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Pa(this.root,t,this.comparator,!1)}getReverseIterator(){return new Pa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Pa(this.root,t,this.comparator,!0)}}class Pa{constructor(t,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=n?i(t.key,n):1,n&&s&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(r===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class de{constructor(t,n,i,s,r){this.key=t,this.value=n,this.color=i??de.RED,this.left=s??de.EMPTY,this.right=r??de.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,s,r){return new de(t??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let s=this;const r=i(t,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(t,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return de.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return de.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,de.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,de.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw it();const t=this.left.check();if(t!==this.right.check())throw it();return t+(this.isRed()?0:1)}}de.EMPTY=null,de.RED=!0,de.BLACK=!1;de.EMPTY=new class{constructor(){this.size=0}get key(){throw it()}get value(){throw it()}get color(){throw it()}get left(){throw it()}get right(){throw it()}copy(t,n,i,s,r){return this}insert(t,n,i){return new de(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(t){this.comparator=t,this.data=new Ht(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Em(this.data.getIterator())}getIteratorFrom(t){return new Em(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Pe)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Pe(this.comparator);return n.data=t,n}}class Em{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.fields=t,t.sort(Te.comparator)}static empty(){return new on([])}unionWith(t){let n=new Pe(Te.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new on(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return er(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new X0("Invalid base64 string: "+r):r}}(t);return new ke(n)}static fromUint8Array(t){const n=function(s){let r="";for(let o=0;o<s.length;++o)r+=String.fromCharCode(s[o]);return r}(t);return new ke(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return bt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ke.EMPTY_BYTE_STRING=new ke("");const CR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ci(e){if(zt(!!e),typeof e=="string"){let t=0;const n=CR.exec(e);if(zt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:te(e.seconds),nanos:te(e.nanos)}}function te(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function _s(e){return typeof e=="string"?ke.fromBase64String(e):ke.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ud(e){const t=e.mapValue.fields.__previous_value__;return $d(t)?Ud(t):t}function ko(e){const t=Ci(e.mapValue.fields.__local_write_time__.timestampValue);return new oe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(t,n,i,s,r,o,a,l,c){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Ro{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Ro("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Ro&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ys(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?$d(e)?4:kR(e)?9007199254740991:10:it()}function On(e,t){if(e===t)return!0;const n=ys(e);if(n!==ys(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ko(e).isEqual(ko(t));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const o=Ci(s.timestampValue),a=Ci(r.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,r){return _s(s.bytesValue).isEqual(_s(r.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,r){return te(s.geoPointValue.latitude)===te(r.geoPointValue.latitude)&&te(s.geoPointValue.longitude)===te(r.geoPointValue.longitude)}(e,t);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return te(s.integerValue)===te(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const o=te(s.doubleValue),a=te(r.doubleValue);return o===a?Hl(o)===Hl(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return er(e.arrayValue.values||[],t.arrayValue.values||[],On);case 10:return function(s,r){const o=s.mapValue.fields||{},a=r.mapValue.fields||{};if(xm(o)!==xm(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!On(o[l],a[l])))return!1;return!0}(e,t);default:return it()}}function Mo(e,t){return(e.values||[]).find(n=>On(n,t))!==void 0}function nr(e,t){if(e===t)return 0;const n=ys(e),i=ys(t);if(n!==i)return bt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return bt(e.booleanValue,t.booleanValue);case 2:return function(r,o){const a=te(r.integerValue||r.doubleValue),l=te(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return Tm(e.timestampValue,t.timestampValue);case 4:return Tm(ko(e),ko(t));case 5:return bt(e.stringValue,t.stringValue);case 6:return function(r,o){const a=_s(r),l=_s(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(r,o){const a=r.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=bt(a[c],l[c]);if(u!==0)return u}return bt(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(r,o){const a=bt(te(r.latitude),te(o.latitude));return a!==0?a:bt(te(r.longitude),te(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(r,o){const a=r.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=nr(a[c],l[c]);if(u)return u}return bt(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===ka.mapValue&&o===ka.mapValue)return 0;if(r===ka.mapValue)return 1;if(o===ka.mapValue)return-1;const a=r.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const f=bt(l[h],u[h]);if(f!==0)return f;const d=nr(a[l[h]],c[u[h]]);if(d!==0)return d}return bt(l.length,u.length)}(e.mapValue,t.mapValue);default:throw it()}}function Tm(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return bt(e,t);const n=Ci(e),i=Ci(t),s=bt(n.seconds,i.seconds);return s!==0?s:bt(n.nanos,i.nanos)}function ir(e){return qh(e)}function qh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Ci(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return _s(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return J.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",s=!0;for(const r of n.values||[])s?s=!1:i+=",",i+=qh(r);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",r=!0;for(const o of i)r?r=!1:s+=",",s+=`${o}:${qh(n.fields[o])}`;return s+"}"}(e.mapValue):it()}function Kh(e){return!!e&&"integerValue"in e}function Hd(e){return!!e&&"arrayValue"in e}function Im(e){return!!e&&"nullValue"in e}function Sm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ll(e){return!!e&&"mapValue"in e}function Jr(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return _r(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Jr(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Jr(e.arrayValue.values[n]);return t}return Object.assign({},e)}function kR(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t){this.value=t}static empty(){return new Ze({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!ll(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Jr(n)}setAll(t){let n=Te.emptyPath(),i={},s=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,s),i={},s=[],n=a.popLast()}o?i[a.lastSegment()]=Jr(o):s.push(a.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(t){const n=this.field(t.popLast());ll(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return On(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=n.mapValue.fields[t.get(i)];ll(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,i){_r(n,(s,r)=>t[s]=r);for(const s of i)delete t[s]}clone(){return new Ze(Jr(this.value))}}function J0(e){const t=[];return _r(e.fields,(n,i)=>{const s=new Te([n]);if(ll(i)){const r=J0(i.mapValue).fields;if(r.length===0)t.push(s);else for(const o of r)t.push(s.child(o))}else t.push(s)}),new on(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(t,n,i,s,r,o,a){this.key=t,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=o,this.documentState=a}static newInvalidDocument(t){return new xe(t,0,ot.min(),ot.min(),ot.min(),Ze.empty(),0)}static newFoundDocument(t,n,i,s){return new xe(t,1,n,ot.min(),i,s,0)}static newNoDocument(t,n){return new xe(t,2,n,ot.min(),ot.min(),Ze.empty(),0)}static newUnknownDocument(t,n){return new xe(t,3,n,ot.min(),ot.min(),Ze.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ot.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ze.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ze.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ot.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(t,n){this.position=t,this.inclusive=n}}function Cm(e,t,n){let i=0;for(let s=0;s<e.position.length;s++){const r=t[s],o=e.position[s];if(r.field.isKeyField()?i=J.comparator(J.fromName(o.referenceValue),n.key):i=nr(o,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function Pm(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!On(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(t,n="asc"){this.field=t,this.dir=n}}function RR(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{}class se extends Z0{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new DR(t,n,i):n==="array-contains"?new LR(t,i):n==="in"?new NR(t,i):n==="not-in"?new FR(t,i):n==="array-contains-any"?new BR(t,i):new se(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new OR(t,i):new VR(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(nr(n,this.value)):n!==null&&ys(this.value)===ys(n)&&this.matchesComparison(nr(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return it()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Vn extends Z0{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new Vn(t,n)}matches(t){return tA(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.le(n=>n.isInequality());return t!==null?t.field:null}le(t){for(const n of this.getFlattenedFilters())if(t(n))return n;return null}}function tA(e){return e.op==="and"}function eA(e){return MR(e)&&tA(e)}function MR(e){for(const t of e.filters)if(t instanceof Vn)return!1;return!0}function Qh(e){if(e instanceof se)return e.field.canonicalString()+e.op.toString()+ir(e.value);if(eA(e))return e.filters.map(t=>Qh(t)).join(",");{const t=e.filters.map(n=>Qh(n)).join(",");return`${e.op}(${t})`}}function nA(e,t){return e instanceof se?function(i,s){return s instanceof se&&i.op===s.op&&i.field.isEqual(s.field)&&On(i.value,s.value)}(e,t):e instanceof Vn?function(i,s){return s instanceof Vn&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,o,a)=>r&&nA(o,s.filters[a]),!0):!1}(e,t):void it()}function iA(e){return e instanceof se?function(n){return`${n.field.canonicalString()} ${n.op} ${ir(n.value)}`}(e):e instanceof Vn?function(n){return n.op.toString()+" {"+n.getFilters().map(iA).join(" ,")+"}"}(e):"Filter"}class DR extends se{constructor(t,n,i){super(t,n,i),this.key=J.fromName(i.referenceValue)}matches(t){const n=J.comparator(t.key,this.key);return this.matchesComparison(n)}}class OR extends se{constructor(t,n){super(t,"in",n),this.keys=sA("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class VR extends se{constructor(t,n){super(t,"not-in",n),this.keys=sA("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function sA(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>J.fromName(i.referenceValue))}class LR extends se{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Hd(n)&&Mo(n.arrayValue,this.value)}}class NR extends se{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Mo(this.value.arrayValue,n)}}class FR extends se{constructor(t,n){super(t,"not-in",n)}matches(t){if(Mo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Mo(this.value.arrayValue,n)}}class BR extends se{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Hd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Mo(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(t,n=null,i=[],s=[],r=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=o,this.endAt=a,this.he=null}}function km(e,t=null,n=[],i=[],s=null,r=null,o=null){return new zR(e,t,n,i,s,r,o)}function Wd(e){const t=ht(e);if(t.he===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>Qh(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),qc(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>ir(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>ir(i)).join(",")),t.he=n}return t.he}function qd(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!RR(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!nA(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Pm(e.startAt,t.startAt)&&Pm(e.endAt,t.endAt)}function Yh(e){return J.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t,n=null,i=[],s=[],r=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=o,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function jR(e,t,n,i,s,r,o,a){return new Kc(e,t,n,i,s,r,o,a)}function Kd(e){return new Kc(e)}function Rm(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function $R(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function UR(e){for(const t of e.filters){const n=t.getFirstInequalityField();if(n!==null)return n}return null}function HR(e){return e.collectionGroup!==null}function Hs(e){const t=ht(e);if(t.Pe===null){t.Pe=[];const n=UR(t),i=$R(t);if(n!==null&&i===null)n.isKeyField()||t.Pe.push(new Zr(n)),t.Pe.push(new Zr(Te.keyField(),"asc"));else{let s=!1;for(const r of t.explicitOrderBy)t.Pe.push(r),r.field.isKeyField()&&(s=!0);if(!s){const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new Zr(Te.keyField(),r))}}}return t.Pe}function Zn(e){const t=ht(e);if(!t.Ie)if(t.limitType==="F")t.Ie=km(t.path,t.collectionGroup,Hs(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const r of Hs(t)){const o=r.dir==="desc"?"asc":"desc";n.push(new Zr(r.field,o))}const i=t.endAt?new Wl(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Wl(t.startAt.position,t.startAt.inclusive):null;t.Ie=km(t.path,t.collectionGroup,n,t.filters,t.limit,i,s)}return t.Ie}function Gh(e,t,n){return new Kc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Qc(e,t){return qd(Zn(e),Zn(t))&&e.limitType===t.limitType}function rA(e){return`${Wd(Zn(e))}|lt:${e.limitType}`}function Xh(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>iA(s)).join(", ")}]`),qc(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>ir(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>ir(s)).join(",")),`Target(${i})`}(Zn(e))}; limitType=${e.limitType})`}function Yc(e,t){return t.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):J.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(e,t)&&function(i,s){for(const r of Hs(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(e,t)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(e,t)&&function(i,s){return!(i.startAt&&!function(o,a,l){const c=Cm(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,Hs(i),s)||i.endAt&&!function(o,a,l){const c=Cm(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,Hs(i),s))}(e,t)}function WR(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function oA(e){return(t,n)=>{let i=!1;for(const s of Hs(e)){const r=qR(s,t,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function qR(e,t,n){const i=e.field.isKeyField()?J.comparator(t.key,n.key):function(r,o,a){const l=o.data.field(r),c=a.data.field(r);return l!==null&&c!==null?nr(l,c):it()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return it()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,t))return r}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],t))return void(s[r]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){_r(this.inner,(n,i)=>{for(const[s,r]of i)t(s,r)})}isEmpty(){return G0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=new Ht(J.comparator);function ti(){return KR}const aA=new Ht(J.comparator);function Vr(...e){let t=aA;for(const n of e)t=t.insert(n.key,n);return t}function lA(e){let t=aA;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function es(){return to()}function cA(){return to()}function to(){return new yr(e=>e.toString(),(e,t)=>e.isEqual(t))}const QR=new Ht(J.comparator),YR=new Pe(J.comparator);function pt(...e){let t=YR;for(const n of e)t=t.add(n);return t}const GR=new Pe(bt);function XR(){return GR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hl(t)?"-0":t}}function hA(e){return{integerValue:""+e}}function JR(e,t){return SR(t)?hA(t):uA(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(){this._=void 0}}function ZR(e,t,n){return e instanceof ql?function(s,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&$d(r)&&(r=Ud(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(n,t):e instanceof Do?dA(e,t):e instanceof Oo?pA(e,t):function(s,r){const o=fA(s,r),a=Mm(o)+Mm(s.Te);return Kh(o)&&Kh(s.Te)?hA(a):uA(s.serializer,a)}(e,t)}function t2(e,t,n){return e instanceof Do?dA(e,t):e instanceof Oo?pA(e,t):n}function fA(e,t){return e instanceof Kl?function(i){return Kh(i)||function(r){return!!r&&"doubleValue"in r}(i)}(t)?t:{integerValue:0}:null}class ql extends Gc{}class Do extends Gc{constructor(t){super(),this.elements=t}}function dA(e,t){const n=gA(t);for(const i of e.elements)n.some(s=>On(s,i))||n.push(i);return{arrayValue:{values:n}}}class Oo extends Gc{constructor(t){super(),this.elements=t}}function pA(e,t){let n=gA(t);for(const i of e.elements)n=n.filter(s=>!On(s,i));return{arrayValue:{values:n}}}class Kl extends Gc{constructor(t,n){super(),this.serializer=t,this.Te=n}}function Mm(e){return te(e.integerValue||e.doubleValue)}function gA(e){return Hd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function e2(e,t){return e.field.isEqual(t.field)&&function(i,s){return i instanceof Do&&s instanceof Do||i instanceof Oo&&s instanceof Oo?er(i.elements,s.elements,On):i instanceof Kl&&s instanceof Kl?On(i.Te,s.Te):i instanceof ql&&s instanceof ql}(e.transform,t.transform)}class n2{constructor(t,n){this.version=t,this.transformResults=n}}class Qn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Qn}static exists(t){return new Qn(void 0,t)}static updateTime(t){return new Qn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function cl(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Xc{}function mA(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new yA(e.key,Qn.none()):new la(e.key,e.data,Qn.none());{const n=e.data,i=Ze.empty();let s=new Pe(Te.comparator);for(let r of t.fields)if(!s.has(r)){let o=n.field(r);o===null&&r.length>1&&(r=r.popLast(),o=n.field(r)),o===null?i.delete(r):i.set(r,o),s=s.add(r)}return new Es(e.key,i,new on(s.toArray()),Qn.none())}}function i2(e,t,n){e instanceof la?function(s,r,o){const a=s.value.clone(),l=Om(s.fieldTransforms,r,o.transformResults);a.setAll(l),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Es?function(s,r,o){if(!cl(s.precondition,r))return void r.convertToUnknownDocument(o.version);const a=Om(s.fieldTransforms,r,o.transformResults),l=r.data;l.setAll(_A(s)),l.setAll(a),r.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(s,r,o){r.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function eo(e,t,n,i){return e instanceof la?function(r,o,a,l){if(!cl(r.precondition,o))return a;const c=r.value.clone(),u=Vm(r.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(e,t,n,i):e instanceof Es?function(r,o,a,l){if(!cl(r.precondition,o))return a;const c=Vm(r.fieldTransforms,l,o),u=o.data;return u.setAll(_A(r)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(h=>h.field))}(e,t,n,i):function(r,o,a){return cl(r.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function s2(e,t){let n=null;for(const i of e.fieldTransforms){const s=t.data.field(i.field),r=fA(i.transform,s||null);r!=null&&(n===null&&(n=Ze.empty()),n.set(i.field,r))}return n||null}function Dm(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&er(i,s,(r,o)=>e2(r,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class la extends Xc{constructor(t,n,i,s=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Es extends Xc{constructor(t,n,i,s,r=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function _A(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function Om(e,t,n){const i=new Map;zt(e.length===n.length);for(let s=0;s<n.length;s++){const r=e[s],o=r.transform,a=t.data.field(r.field);i.set(r.field,t2(o,a,n[s]))}return i}function Vm(e,t,n){const i=new Map;for(const s of e){const r=s.transform,o=n.data.field(s.field);i.set(s.field,ZR(r,o,t))}return i}class yA extends Xc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class r2 extends Xc{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(t,n,i,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(t.key)&&i2(r,t,i[s])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=eo(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=eo(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=cA();return this.mutations.forEach(s=>{const r=t.get(s.key),o=r.overlayedDocument;let a=this.applyToLocalView(o,r.mutatedFields);a=n.has(s.key)?null:a;const l=mA(o,a);l!==null&&i.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ot.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),pt())}isEqual(t){return this.batchId===t.batchId&&er(this.mutations,t.mutations,(n,i)=>Dm(n,i))&&er(this.baseMutations,t.baseMutations,(n,i)=>Dm(n,i))}}class Qd{constructor(t,n,i,s){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(t,n,i){zt(t.mutations.length===i.length);let s=function(){return QR}();const r=t.mutations;for(let o=0;o<r.length;o++)s=s.insert(r[o].key,i[o].version);return new Qd(t,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt,_t;function c2(e){switch(e){default:return it();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function vA(e){if(e===void 0)return Jn("GRPC error has no .code"),R.UNKNOWN;switch(e){case Zt.OK:return R.OK;case Zt.CANCELLED:return R.CANCELLED;case Zt.UNKNOWN:return R.UNKNOWN;case Zt.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case Zt.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case Zt.INTERNAL:return R.INTERNAL;case Zt.UNAVAILABLE:return R.UNAVAILABLE;case Zt.UNAUTHENTICATED:return R.UNAUTHENTICATED;case Zt.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case Zt.NOT_FOUND:return R.NOT_FOUND;case Zt.ALREADY_EXISTS:return R.ALREADY_EXISTS;case Zt.PERMISSION_DENIED:return R.PERMISSION_DENIED;case Zt.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case Zt.ABORTED:return R.ABORTED;case Zt.OUT_OF_RANGE:return R.OUT_OF_RANGE;case Zt.UNIMPLEMENTED:return R.UNIMPLEMENTED;case Zt.DATA_LOSS:return R.DATA_LOSS;default:return it()}}(_t=Zt||(Zt={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ra}static getOrCreateInstance(){return Ra===null&&(Ra=new Yd),Ra}onExistenceFilterMismatch(t){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,t),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(t))}}let Ra=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=new Us([4294967295,4294967295],0);function Lm(e){const t=u2().encode(e),n=new fR;return n.update(t),new Uint8Array(n.digest())}function Nm(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),r=t.getUint32(12,!0);return[new Us([n,i],0),new Us([s,r],0)]}class Gd{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Lr(`Invalid padding: ${n}`);if(i<0)throw new Lr(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Lr(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Lr(`Invalid padding when bitmap length is 0: ${n}`);this.de=8*t.length-n,this.Ae=Us.fromNumber(this.de)}Re(t,n,i){let s=t.add(n.multiply(Us.fromNumber(i)));return s.compare(h2)===1&&(s=new Us([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ae).toNumber()}Ve(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.de===0)return!1;const n=Lm(t),[i,s]=Nm(n);for(let r=0;r<this.hashCount;r++){const o=this.Re(i,s,r);if(!this.Ve(o))return!1}return!0}static create(t,n,i){const s=t%8==0?0:8-t%8,r=new Uint8Array(Math.ceil(t/8)),o=new Gd(r,s,n);return i.forEach(a=>o.insert(a)),o}insert(t){if(this.de===0)return;const n=Lm(t),[i,s]=Nm(n);for(let r=0;r<this.hashCount;r++){const o=this.Re(i,s,r);this.me(o)}}me(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Lr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(t,n,i,s,r){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const s=new Map;return s.set(t,ca.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Jc(ot.min(),s,new Ht(bt),ti(),pt())}}class ca{constructor(t,n,i,s,r){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new ca(i,n,pt(),pt(),pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(t,n,i,s){this.fe=t,this.removedTargetIds=n,this.key=i,this.ge=s}}class bA{constructor(t,n){this.targetId=t,this.pe=n}}class AA{constructor(t,n,i=ke.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=s}}class Fm{constructor(){this.ye=0,this.we=zm(),this.Se=ke.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}get current(){return this.be}get resumeToken(){return this.Se}get ve(){return this.ye!==0}get Ce(){return this.De}Fe(t){t.approximateByteSize()>0&&(this.De=!0,this.Se=t)}Me(){let t=pt(),n=pt(),i=pt();return this.we.forEach((s,r)=>{switch(r){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:it()}}),new ca(this.Se,this.be,t,n,i)}xe(){this.De=!1,this.we=zm()}Oe(t,n){this.De=!0,this.we=this.we.insert(t,n)}Ne(t){this.De=!0,this.we=this.we.remove(t)}Be(){this.ye+=1}Le(){this.ye-=1}ke(){this.De=!0,this.be=!0}}class f2{constructor(t){this.qe=t,this.Qe=new Map,this.Ke=ti(),this.$e=Bm(),this.Ue=new Ht(bt)}We(t){for(const n of t.fe)t.ge&&t.ge.isFoundDocument()?this.Ge(n,t.ge):this.ze(n,t.key,t.ge);for(const n of t.removedTargetIds)this.ze(n,t.key,t.ge)}je(t){this.forEachTarget(t,n=>{const i=this.He(n);switch(t.state){case 0:this.Je(n)&&i.Fe(t.resumeToken);break;case 1:i.Le(),i.ve||i.xe(),i.Fe(t.resumeToken);break;case 2:i.Le(),i.ve||this.removeTarget(n);break;case 3:this.Je(n)&&(i.ke(),i.Fe(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Fe(t.resumeToken));break;default:it()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Qe.forEach((i,s)=>{this.Je(s)&&n(s)})}Ze(t){var n,i;const s=t.targetId,r=t.pe.count,o=this.Xe(s);if(o){const a=o.target;if(Yh(a))if(r===0){const l=new J(a.path);this.ze(s,l,xe.newNoDocument(l,ot.min()))}else zt(r===1);else{const l=this.et(s);if(l!==r){const c=this.tt(t,l);if(c.status!==0){this.Ye(s);const u=c.status===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(s,u)}(n=Yd.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(h,f,d,p){var g,m,_,y,w,A;const E={localCacheCount:d,existenceFilterCount:p.count},I=p.unchangedNames;return I&&(E.bloomFilter={applied:h===0,hashCount:(g=I==null?void 0:I.hashCount)!==null&&g!==void 0?g:0,bitmapLength:(y=(_=(m=I==null?void 0:I.bits)===null||m===void 0?void 0:m.bitmap)===null||_===void 0?void 0:_.length)!==null&&y!==void 0?y:0,padding:(A=(w=I==null?void 0:I.bits)===null||w===void 0?void 0:w.padding)!==null&&A!==void 0?A:0},f&&(E.bloomFilter.mightContain=f)),E}(c.status,(i=c.nt)!==null&&i!==void 0?i:null,l,t.pe))}}}}tt(t,n){const{unchangedNames:i,count:s}=t.pe;if(!i||!i.bits)return{status:1};const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=i;let l,c;try{l=_s(r).toUint8Array()}catch(h){if(h instanceof X0)return tr("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw h}try{c=new Gd(l,o,a)}catch(h){return tr(h instanceof Lr?"BloomFilter error: ":"Applying bloom filter failed: ",h),{status:1}}const u=h=>{const f=this.qe.rt();return c.mightContain(`projects/${f.projectId}/databases/${f.database}/documents/${h}`)};return c.de===0?{status:1}:{status:s===n-this.it(t.targetId,u)?0:2,nt:u}}it(t,n){const i=this.qe.getRemoteKeysForTarget(t);let s=0;return i.forEach(r=>{n(r.path.canonicalString())||(this.ze(t,r,null),s++)}),s}st(t){const n=new Map;this.Qe.forEach((r,o)=>{const a=this.Xe(o);if(a){if(r.current&&Yh(a.target)){const l=new J(a.target.path);this.Ke.get(l)!==null||this.ot(o,l)||this.ze(o,l,xe.newNoDocument(l,t))}r.Ce&&(n.set(o,r.Me()),r.xe())}});let i=pt();this.$e.forEach((r,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Xe(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(r))}),this.Ke.forEach((r,o)=>o.setReadTime(t));const s=new Jc(t,n,this.Ue,this.Ke,i);return this.Ke=ti(),this.$e=Bm(),this.Ue=new Ht(bt),s}Ge(t,n){if(!this.Je(t))return;const i=this.ot(t,n.key)?2:0;this.He(t).Oe(n.key,i),this.Ke=this.Ke.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t))}ze(t,n,i){if(!this.Je(t))return;const s=this.He(t);this.ot(t,n)?s.Oe(n,1):s.Ne(n),this.$e=this.$e.insert(n,this._t(n).delete(t)),i&&(this.Ke=this.Ke.insert(n,i))}removeTarget(t){this.Qe.delete(t)}et(t){const n=this.He(t).Me();return this.qe.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Be(t){this.He(t).Be()}He(t){let n=this.Qe.get(t);return n||(n=new Fm,this.Qe.set(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new Pe(bt),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||q("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.Qe.get(t);return n&&n.ve?null:this.qe.ut(t)}Ye(t){this.Qe.set(t,new Fm),this.qe.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ot(t,n){return this.qe.getRemoteKeysForTarget(t).has(n)}}function Bm(){return new Ht(J.comparator)}function zm(){return new Ht(J.comparator)}const d2=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),p2=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),g2=(()=>({and:"AND",or:"OR"}))();class m2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Jh(e,t){return e.useProto3Json||qc(t)?t:{value:t}}function Ql(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function wA(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function _2(e,t){return Ql(e,t.toTimestamp())}function Rn(e){return zt(!!e),ot.fromTimestamp(function(n){const i=Ci(n);return new oe(i.seconds,i.nanos)}(e))}function Xd(e,t){return function(i){return new jt(["projects",i.projectId,"databases",i.database])}(e).child("documents").child(t).canonicalString()}function xA(e){const t=jt.fromString(e);return zt(SA(t)),t}function Zh(e,t){return Xd(e.databaseId,t.path)}function ju(e,t){const n=xA(t);if(n.get(1)!==e.databaseId.projectId)throw new X(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new X(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new J(EA(n))}function tf(e,t){return Xd(e.databaseId,t)}function y2(e){const t=xA(e);return t.length===4?jt.emptyPath():EA(t)}function ef(e){return new jt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function EA(e){return zt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function jm(e,t,n){return{name:Zh(e,t),fields:n.value.mapValue.fields}}function v2(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:it()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],r=function(c,u){return c.useProto3Json?(zt(u===void 0||typeof u=="string"),ke.fromBase64String(u||"")):(zt(u===void 0||u instanceof Uint8Array),ke.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(c){const u=c.code===void 0?R.UNKNOWN:vA(c.code);return new X(u,c.message||"")}(o);n=new AA(i,s,r,a||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=ju(e,i.document.name),r=Rn(i.document.updateTime),o=i.document.createTime?Rn(i.document.createTime):ot.min(),a=new Ze({mapValue:{fields:i.document.fields}}),l=xe.newFoundDocument(s,r,o,a),c=i.targetIds||[],u=i.removedTargetIds||[];n=new ul(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=ju(e,i.document),r=i.readTime?Rn(i.readTime):ot.min(),o=xe.newNoDocument(s,r),a=i.removedTargetIds||[];n=new ul([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=ju(e,i.document),r=i.removedTargetIds||[];n=new ul([],r,s,null)}else{if(!("filter"in t))return it();{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,o=new l2(s,r),a=i.targetId;n=new bA(a,o)}}return n}function b2(e,t){let n;if(t instanceof la)n={update:jm(e,t.key,t.value)};else if(t instanceof yA)n={delete:Zh(e,t.key)};else if(t instanceof Es)n={update:jm(e,t.key,t.data),updateMask:P2(t.fieldMask)};else{if(!(t instanceof r2))return it();n={verify:Zh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const a=o.transform;if(a instanceof ql)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Do)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Oo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Kl)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw it()}(0,i))),t.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:_2(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:it()}(e,t.precondition)),n}function A2(e,t){return e&&e.length>0?(zt(t!==void 0),e.map(n=>function(s,r){let o=s.updateTime?Rn(s.updateTime):Rn(r);return o.isEqual(ot.min())&&(o=Rn(r)),new n2(o,s.transformResults||[])}(n,t))):[]}function w2(e,t){return{documents:[tf(e,t.path)]}}function x2(e,t){const n={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(n.parent=tf(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=tf(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const s=function(l){if(l.length!==0)return IA(Vn.create(l,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const r=function(l){if(l.length!==0)return l.map(c=>function(h){return{field:Ds(h.field),direction:I2(h.dir)}}(c))}(t.orderBy);r&&(n.structuredQuery.orderBy=r);const o=Jh(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function E2(e){let t=y2(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){zt(i===1);const u=n.from[0];u.allDescendants?s=u.collectionId:t=t.child(u.collectionId)}let r=[];n.where&&(r=function(h){const f=TA(h);return f instanceof Vn&&eA(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(p){return new Zr(Os(p.field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,qc(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,d=h.values||[];return new Wl(d,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,d=h.values||[];return new Wl(d,f)}(n.endAt)),jR(t,s,o,r,a,"F",l,c)}function T2(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return it()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function TA(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Os(n.unaryFilter.field);return se.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Os(n.unaryFilter.field);return se.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Os(n.unaryFilter.field);return se.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Os(n.unaryFilter.field);return se.create(o,"!=",{nullValue:"NULL_VALUE"});default:return it()}}(e):e.fieldFilter!==void 0?function(n){return se.create(Os(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return it()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Vn.create(n.compositeFilter.filters.map(i=>TA(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return it()}}(n.compositeFilter.op))}(e):it()}function I2(e){return d2[e]}function S2(e){return p2[e]}function C2(e){return g2[e]}function Ds(e){return{fieldPath:e.canonicalString()}}function Os(e){return Te.fromServerFormat(e.fieldPath)}function IA(e){return e instanceof se?function(n){if(n.op==="=="){if(Sm(n.value))return{unaryFilter:{field:Ds(n.field),op:"IS_NAN"}};if(Im(n.value))return{unaryFilter:{field:Ds(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Sm(n.value))return{unaryFilter:{field:Ds(n.field),op:"IS_NOT_NAN"}};if(Im(n.value))return{unaryFilter:{field:Ds(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ds(n.field),op:S2(n.op),value:n.value}}}(e):e instanceof Vn?function(n){const i=n.getFilters().map(s=>IA(s));return i.length===1?i[0]:{compositeFilter:{op:C2(n.op),filters:i}}}(e):it()}function P2(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function SA(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(t,n,i,s,r=ot.min(),o=ot.min(),a=ke.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new fi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(t){this.ct=t}}function R2(e){const t=E2({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Gh(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(){this.sn=new D2}addToCollectionParentIndex(t,n){return this.sn.add(n),D.resolve()}getCollectionParents(t,n){return D.resolve(this.sn.getEntries(n))}addFieldIndex(t,n){return D.resolve()}deleteFieldIndex(t,n){return D.resolve()}getDocumentsMatchingTarget(t,n){return D.resolve(null)}getIndexType(t,n){return D.resolve(0)}getFieldIndexes(t,n){return D.resolve([])}getNextCollectionGroupToUpdate(t){return D.resolve(null)}getMinOffset(t,n){return D.resolve(Si.min())}getMinOffsetFromCollectionGroup(t,n){return D.resolve(Si.min())}updateCollectionGroup(t,n,i){return D.resolve()}updateIndexEntries(t,n){return D.resolve()}}class D2{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n]||new Pe(jt.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(t){return(this.index[t]||new Pe(jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(t){this.Mn=t}next(){return this.Mn+=2,this.Mn}static xn(){return new sr(0)}static On(){return new sr(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(){this.changes=new yr(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,xe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?D.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(t,n,i,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(i!==null&&eo(i.mutation,s,on.empty(),oe.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,pt()).next(()=>i))}getLocalViewOfDocuments(t,n,i=pt()){const s=es();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,i).next(r=>{let o=Vr();return r.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const i=es();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,pt()))}populateOverlays(t,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(t,s).next(r=>{r.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,i,s){let r=ti();const o=to(),a=function(){return to()}();return n.forEach((l,c)=>{const u=i.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof Es)?r=r.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),eo(u.mutation,c,u.mutation.getFieldMask(),oe.now())):o.set(c.key,on.empty())}),this.recalculateAndSaveOverlays(t,r).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new V2(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const i=to();let s=new Ht((o,a)=>o-a),r=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=i.get(l)||on.empty();u=a.applyToLocalView(c,u),i.set(l,u);const h=(s.get(a.batchId)||pt()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=cA();u.forEach(f=>{if(!r.has(f)){const d=mA(n.get(f),i.get(f));d!==null&&h.set(f,d),r=r.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,c,h))}return D.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i){return function(r){return J.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):HR(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i):this.getDocumentsMatchingCollectionQuery(t,n,i)}getNextDocuments(t,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,s).next(r=>{const o=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,s-r.size):D.resolve(es());let a=-1,l=r;return o.next(c=>D.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),r.get(u)?D.resolve():this.remoteDocumentCache.getEntry(t,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(t,c,r)).next(()=>this.computeViews(t,l,c,pt())).next(u=>({batchId:a,changes:lA(u)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new J(n)).next(i=>{let s=Vr();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,i){const s=n.collectionGroup;let r=Vr();return this.indexManager.getCollectionParents(t,s).next(o=>D.forEach(o,a=>{const l=function(u,h){return new Kc(h,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(t,l,i).next(c=>{c.forEach((u,h)=>{r=r.insert(u,h)})})}).next(()=>r))}getDocumentsMatchingCollectionQuery(t,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(r=>(s=r,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s))).next(r=>{s.forEach((a,l)=>{const c=l.getKey();r.get(c)===null&&(r=r.insert(c,xe.newInvalidDocument(c)))});let o=Vr();return r.forEach((a,l)=>{const c=s.get(a);c!==void 0&&eo(c.mutation,l,on.empty(),oe.now()),Yc(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(t){this.serializer=t,this.ar=new Map,this.ur=new Map}getBundleMetadata(t,n){return D.resolve(this.ar.get(n))}saveBundleMetadata(t,n){return this.ar.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Rn(s.createTime)}}(n)),D.resolve()}getNamedQuery(t,n){return D.resolve(this.ur.get(n))}saveNamedQuery(t,n){return this.ur.set(n.name,function(s){return{name:s.name,query:R2(s.bundledQuery),readTime:Rn(s.readTime)}}(n)),D.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(){this.overlays=new Ht(J.comparator),this.cr=new Map}getOverlay(t,n){return D.resolve(this.overlays.get(n))}getOverlays(t,n){const i=es();return D.forEach(n,s=>this.getOverlay(t,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((s,r)=>{this.ht(t,n,r)}),D.resolve()}removeOverlaysForBatchId(t,n,i){const s=this.cr.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.cr.delete(i)),D.resolve()}getOverlaysForCollection(t,n,i){const s=es(),r=n.length+1,o=new J(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===r&&l.largestBatchId>i&&s.set(l.getKey(),l)}return D.resolve(s)}getOverlaysForCollectionGroup(t,n,i,s){let r=new Ht((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let u=r.get(c.largestBatchId);u===null&&(u=es(),r=r.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=es(),l=r.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return D.resolve(a)}ht(t,n,i){const s=this.overlays.get(i.key);if(s!==null){const o=this.cr.get(s.largestBatchId).delete(i.key);this.cr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new a2(n,i));let r=this.cr.get(n);r===void 0&&(r=pt(),this.cr.set(n,r)),this.cr.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(){this.lr=new Pe(le.hr),this.Pr=new Pe(le.Ir)}isEmpty(){return this.lr.isEmpty()}addReference(t,n){const i=new le(t,n);this.lr=this.lr.add(i),this.Pr=this.Pr.add(i)}Tr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Er(new le(t,n))}dr(t,n){t.forEach(i=>this.removeReference(i,n))}Ar(t){const n=new J(new jt([])),i=new le(n,t),s=new le(n,t+1),r=[];return this.Pr.forEachInRange([i,s],o=>{this.Er(o),r.push(o.key)}),r}Rr(){this.lr.forEach(t=>this.Er(t))}Er(t){this.lr=this.lr.delete(t),this.Pr=this.Pr.delete(t)}Vr(t){const n=new J(new jt([])),i=new le(n,t),s=new le(n,t+1);let r=pt();return this.Pr.forEachInRange([i,s],o=>{r=r.add(o.key)}),r}containsKey(t){const n=new le(t,0),i=this.lr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class le{constructor(t,n){this.key=t,this.mr=n}static hr(t,n){return J.comparator(t.key,n.key)||bt(t.mr,n.mr)}static Ir(t,n){return bt(t.mr,n.mr)||J.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.gr=1,this.pr=new Pe(le.hr)}checkEmpty(t){return D.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,s){const r=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new o2(r,n,i,s);this.mutationQueue.push(o);for(const a of s)this.pr=this.pr.add(new le(a.key,r)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return D.resolve(o)}lookupMutationBatch(t,n){return D.resolve(this.yr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,s=this.wr(i),r=s<0?0:s;return D.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return D.resolve(this.mutationQueue.length===0?-1:this.gr-1)}getAllMutationBatches(t){return D.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new le(n,0),s=new le(n,Number.POSITIVE_INFINITY),r=[];return this.pr.forEachInRange([i,s],o=>{const a=this.yr(o.mr);r.push(a)}),D.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Pe(bt);return n.forEach(s=>{const r=new le(s,0),o=new le(s,Number.POSITIVE_INFINITY);this.pr.forEachInRange([r,o],a=>{i=i.add(a.mr)})}),D.resolve(this.Sr(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,s=i.length+1;let r=i;J.isDocumentKey(r)||(r=r.child(""));const o=new le(new J(r),0);let a=new Pe(bt);return this.pr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.mr)),!0)},o),D.resolve(this.Sr(a))}Sr(t){const n=[];return t.forEach(i=>{const s=this.yr(i);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){zt(this.br(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.pr;return D.forEach(n.mutations,s=>{const r=new le(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.pr=i})}Cn(t){}containsKey(t,n){const i=new le(n,0),s=this.pr.firstAfterOrEqual(i);return D.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,D.resolve()}br(t,n){return this.wr(t)}wr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}yr(t){const n=this.wr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(t){this.Dr=t,this.docs=function(){return new Ht(J.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,o=this.Dr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return D.resolve(i?i.document.mutableCopy():xe.newInvalidDocument(n))}getEntries(t,n){let i=ti();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():xe.newInvalidDocument(s))}),D.resolve(i)}getDocumentsMatchingQuery(t,n,i,s){let r=ti();const o=n.path,a=new J(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||ER(xR(u),i)<=0||(s.has(u.key)||Yc(n,u))&&(r=r.insert(u.key,u.mutableCopy()))}return D.resolve(r)}getAllFromCollectionGroup(t,n,i,s){it()}vr(t,n){return D.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new j2(this)}getSize(t){return D.resolve(this.size)}}class j2 extends O2{constructor(t){super(),this.sr=t}applyChanges(t){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.sr.addEntry(t,s)):this.sr.removeEntry(i)}),D.waitFor(n)}getFromCache(t,n){return this.sr.getEntry(t,n)}getAllFromCache(t,n){return this.sr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(t){this.persistence=t,this.Cr=new yr(n=>Wd(n),qd),this.lastRemoteSnapshotVersion=ot.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new Jd,this.targetCount=0,this.Or=sr.xn()}forEachTarget(t,n){return this.Cr.forEach((i,s)=>n(s)),D.resolve()}getLastRemoteSnapshotVersion(t){return D.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return D.resolve(this.Fr)}allocateTargetId(t){return this.highestTargetId=this.Or.next(),D.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Fr&&(this.Fr=n),D.resolve()}Ln(t){this.Cr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Or=new sr(n),this.highestTargetId=n),t.sequenceNumber>this.Fr&&(this.Fr=t.sequenceNumber)}addTargetData(t,n){return this.Ln(n),this.targetCount+=1,D.resolve()}updateTargetData(t,n){return this.Ln(n),D.resolve()}removeTargetData(t,n){return this.Cr.delete(n.target),this.Mr.Ar(n.targetId),this.targetCount-=1,D.resolve()}removeTargets(t,n,i){let s=0;const r=[];return this.Cr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Cr.delete(o),r.push(this.removeMatchingKeysForTargetId(t,a.targetId)),s++)}),D.waitFor(r).next(()=>s)}getTargetCount(t){return D.resolve(this.targetCount)}getTargetData(t,n){const i=this.Cr.get(n)||null;return D.resolve(i)}addMatchingKeys(t,n,i){return this.Mr.Tr(n,i),D.resolve()}removeMatchingKeys(t,n,i){this.Mr.dr(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(o=>{r.push(s.markPotentiallyOrphaned(t,o))}),D.waitFor(r)}removeMatchingKeysForTargetId(t,n){return this.Mr.Ar(n),D.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Mr.Vr(n);return D.resolve(i)}containsKey(t,n){return D.resolve(this.Mr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(t,n){this.Nr={},this.overlays={},this.Br=new jd(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=t(this),this.kr=new $2(this),this.indexManager=new M2,this.remoteDocumentCache=function(s){return new z2(s)}(i=>this.referenceDelegate.qr(i)),this.serializer=new k2(n),this.Qr=new N2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Lr=!1,Promise.resolve()}get started(){return this.Lr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new F2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.Nr[t.toKey()];return i||(i=new B2(n,this.referenceDelegate),this.Nr[t.toKey()]=i),i}getTargetCache(){return this.kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Qr}runTransaction(t,n,i){q("MemoryPersistence","Starting transaction:",t);const s=new H2(this.Br.next());return this.referenceDelegate.Kr(),i(s).next(r=>this.referenceDelegate.$r(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Ur(t,n){return D.or(Object.values(this.Nr).map(i=>()=>i.containsKey(t,n)))}}class H2 extends IR{constructor(t){super(),this.currentSequenceNumber=t}}class Zd{constructor(t){this.persistence=t,this.Wr=new Jd,this.Gr=null}static zr(t){return new Zd(t)}get jr(){if(this.Gr)return this.Gr;throw it()}addReference(t,n,i){return this.Wr.addReference(i,n),this.jr.delete(i.toString()),D.resolve()}removeReference(t,n,i){return this.Wr.removeReference(i,n),this.jr.add(i.toString()),D.resolve()}markPotentiallyOrphaned(t,n){return this.jr.add(n.toString()),D.resolve()}removeTarget(t,n){this.Wr.Ar(n.targetId).forEach(s=>this.jr.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(r=>this.jr.add(r.toString()))}).next(()=>i.removeTargetData(t,n))}Kr(){this.Gr=new Set}$r(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return D.forEach(this.jr,i=>{const s=J.fromPath(i);return this.Hr(t,s).next(r=>{r||n.removeEntry(s,ot.min())})}).next(()=>(this.Gr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Hr(t,n).next(i=>{i?this.jr.delete(n.toString()):this.jr.add(n.toString())})}qr(t){return 0}Hr(t,n){return D.or([()=>D.resolve(this.Wr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ur(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(t,n,i,s){this.targetId=t,this.fromCache=n,this.Li=i,this.ki=s}static qi(t,n){let i=pt(),s=pt();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new tp(t,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(){this.Qi=!1}initialize(t,n){this.Ki=t,this.indexManager=n,this.Qi=!0}getDocumentsMatchingQuery(t,n,i,s){return this.$i(t,n).next(r=>r||this.Ui(t,n,s,i)).next(r=>r||this.Wi(t,n))}$i(t,n){if(Rm(n))return D.resolve(null);let i=Zn(n);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Gh(n,null,"F"),i=Zn(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(r=>{const o=pt(...r);return this.Ki.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const c=this.Gi(n,a);return this.zi(n,c,o,l.readTime)?this.$i(t,Gh(n,null,"F")):this.ji(t,c,n,l)}))})))}Ui(t,n,i,s){return Rm(n)||s.isEqual(ot.min())?this.Wi(t,n):this.Ki.getDocuments(t,i).next(r=>{const o=this.Gi(n,r);return this.zi(n,o,i,s)?this.Wi(t,n):(wm()<=xt.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Xh(n)),this.ji(t,o,n,wR(s,-1)))})}Gi(t,n){let i=new Pe(oA(t));return n.forEach((s,r)=>{Yc(t,r)&&(i=i.add(r))}),i}zi(t,n,i,s){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const r=t.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}Wi(t,n){return wm()<=xt.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Xh(n)),this.Ki.getDocumentsMatchingQuery(t,n,Si.min())}ji(t,n,i,s){return this.Ki.getDocumentsMatchingQuery(t,i,s).next(r=>(n.forEach(o=>{r=r.insert(o.key,o)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(t,n,i,s){this.persistence=t,this.Hi=n,this.serializer=s,this.Ji=new Ht(bt),this.Yi=new yr(r=>Wd(r),qd),this.Zi=new Map,this.Xi=t.getRemoteDocumentCache(),this.kr=t.getTargetCache(),this.Qr=t.getBundleCache(),this.es(i)}es(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new L2(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ji))}}function K2(e,t,n,i){return new q2(e,t,n,i)}async function CA(e,t){const n=ht(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.es(t),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const o=[],a=[];let l=pt();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of r){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(i,l).next(c=>({ts:c,removedBatchIds:o,addedBatchIds:a}))})})}function Q2(e,t){const n=ht(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),r=n.Xi.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,f=h.keys();let d=D.resolve();return f.forEach(p=>{d=d.next(()=>u.getEntry(l,p)).next(g=>{const m=c.docVersions.get(p);zt(m!==null),g.version.compareTo(m)<0&&(h.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),d.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,i,t,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=pt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>n.localDocuments.getDocuments(i,s))})}function PA(e){const t=ht(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.kr.getLastRemoteSnapshotVersion(n))}function Y2(e,t){const n=ht(e),i=t.snapshotVersion;let s=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=n.Xi.newChangeBuffer({trackRemovals:!0});s=n.Ji;const a=[];t.targetChanges.forEach((u,h)=>{const f=s.get(h);if(!f)return;a.push(n.kr.removeMatchingKeys(r,u.removedDocuments,h).next(()=>n.kr.addMatchingKeys(r,u.addedDocuments,h)));let d=f.withSequenceNumber(r.currentSequenceNumber);t.targetMismatches.get(h)!==null?d=d.withResumeToken(ke.EMPTY_BYTE_STRING,ot.min()).withLastLimboFreeSnapshotVersion(ot.min()):u.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(u.resumeToken,i)),s=s.insert(h,d),function(g,m,_){return g.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,d,u)&&a.push(n.kr.updateTargetData(r,d))});let l=ti(),c=pt();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(r,u))}),a.push(G2(r,o,t.documentUpdates).next(u=>{l=u.ns,c=u.rs})),!i.isEqual(ot.min())){const u=n.kr.getLastRemoteSnapshotVersion(r).next(h=>n.kr.setTargetsMetadata(r,r.currentSequenceNumber,i));a.push(u)}return D.waitFor(a).next(()=>o.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,l,c)).next(()=>l)}).then(r=>(n.Ji=s,r))}function G2(e,t,n){let i=pt(),s=pt();return n.forEach(r=>i=i.add(r)),t.getEntries(e,i).next(r=>{let o=ti();return n.forEach((a,l)=>{const c=r.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ot.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ns:o,rs:s}})}function X2(e,t){const n=ht(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function J2(e,t){const n=ht(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.kr.getTargetData(i,t).next(r=>r?(s=r,D.resolve(s)):n.kr.allocateTargetId(i).next(o=>(s=new fi(t,o,"TargetPurposeListen",i.currentSequenceNumber),n.kr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.Ji.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(i.targetId,i),n.Yi.set(t,i.targetId)),i})}async function nf(e,t,n){const i=ht(e),s=i.Ji.get(t),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,o=>i.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!aa(o))throw o;q("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}i.Ji=i.Ji.remove(t),i.Yi.delete(s.target)}function $m(e,t,n){const i=ht(e);let s=ot.min(),r=pt();return i.persistence.runTransaction("Execute query","readonly",o=>function(l,c,u){const h=ht(l),f=h.Yi.get(u);return f!==void 0?D.resolve(h.Ji.get(f)):h.kr.getTargetData(c,u)}(i,o,Zn(t)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,i.kr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{r=l})}).next(()=>i.Hi.getDocumentsMatchingQuery(o,t,n?s:ot.min(),n?r:pt())).next(a=>(Z2(i,WR(t),a),{documents:a,ss:r})))}function Z2(e,t,n){let i=e.Zi.get(t)||ot.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),e.Zi.set(t,i)}class Um{constructor(){this.activeTargetIds=XR()}hs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ps(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ls(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class tM{constructor(){this.Hs=new Um,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t){return this.Hs.hs(t),this.Js[t]||"not-current"}updateQueryState(t,n,i){this.Js[t]=n}removeLocalQueryTarget(t){this.Hs.Ps(t)}isLocalQueryTarget(t){return this.Hs.activeTargetIds.has(t)}clearQueryState(t){delete this.Js[t]}getAllActiveQueryTargets(){return this.Hs.activeTargetIds}isActiveQueryTarget(t){return this.Hs.activeTargetIds.has(t)}start(){return this.Hs=new Um,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eM{Ys(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(){this.Zs=()=>this.Xs(),this.eo=()=>this.no(),this.ro=[],this.io()}Ys(t){this.ro.push(t)}shutdown(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}Xs(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ro)t(0)}no(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ro)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ma=null;function $u(){return Ma===null?Ma=function(){return 268435456+Math.round(2147483648*Math.random())}():Ma++,"0x"+Ma.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(t){this.so=t.so,this.oo=t.oo}_o(t){this.ao=t}uo(t){this.co=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.so(t)}ho(){this.ao()}Po(t){this.co(t)}Io(t){this.lo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve="WebChannelConnection";class sM extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.To=i+"://"+n.host,this.Eo=`projects/${s}/databases/${r}`,this.Ao=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${r}`}get Ro(){return!1}Vo(n,i,s,r,o){const a=$u(),l=this.mo(n,i);q("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.Eo,"x-goog-request-params":this.Ao};return this.fo(c,r,o),this.po(n,l,c,s).then(u=>(q("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw tr("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}yo(n,i,s,r,o,a){return this.Vo(n,i,s,r,o)}fo(n,i,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+mr}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((r,o)=>n[o]=r),s&&s.headers.forEach((r,o)=>n[o]=r)}mo(n,i){const s=nM[n];return`${this.To}/v1/${i}:${s}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}po(t,n,i,s){const r=$u();return new Promise((o,a)=>{const l=new hR;l.setWithCredentials(!0),l.listenOnce(lR.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case zu.NO_ERROR:const u=l.getResponseJson();q(ve,`XHR for RPC '${t}' ${r} received:`,JSON.stringify(u)),o(u);break;case zu.TIMEOUT:q(ve,`RPC '${t}' ${r} timed out`),a(new X(R.DEADLINE_EXCEEDED,"Request time out"));break;case zu.HTTP_ERROR:const h=l.getStatus();if(q(ve,`RPC '${t}' ${r} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const d=f==null?void 0:f.error;if(d&&d.status&&d.message){const p=function(m){const _=m.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(_)>=0?_:R.UNKNOWN}(d.status);a(new X(p,d.message))}else a(new X(R.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new X(R.UNAVAILABLE,"Connection failed."));break;default:it()}}finally{q(ve,`RPC '${t}' ${r} completed.`)}});const c=JSON.stringify(s);q(ve,`RPC '${t}' ${r} sending request:`,s),l.send(n,"POST",c,i,15)})}wo(t,n,i){const s=$u(),r=[this.To,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=oR(),a=aR(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new uR({})),this.fo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const u=r.join("");q(ve,`Creating RPC '${t}' stream ${s}: ${u}`,l);const h=o.createWebChannel(u,l);let f=!1,d=!1;const p=new iM({so:m=>{d?q(ve,`Not sending because RPC '${t}' stream ${s} is closed:`,m):(f||(q(ve,`Opening RPC '${t}' stream ${s} transport.`),h.open(),f=!0),q(ve,`RPC '${t}' stream ${s} sending:`,m),h.send(m))},oo:()=>h.close()}),g=(m,_,y)=>{m.listen(_,w=>{try{y(w)}catch(A){setTimeout(()=>{throw A},0)}})};return g(h,Ca.EventType.OPEN,()=>{d||q(ve,`RPC '${t}' stream ${s} transport opened.`)}),g(h,Ca.EventType.CLOSE,()=>{d||(d=!0,q(ve,`RPC '${t}' stream ${s} transport closed`),p.Po())}),g(h,Ca.EventType.ERROR,m=>{d||(d=!0,tr(ve,`RPC '${t}' stream ${s} transport errored:`,m),p.Po(new X(R.UNAVAILABLE,"The operation could not be completed")))}),g(h,Ca.EventType.MESSAGE,m=>{var _;if(!d){const y=m.data[0];zt(!!y);const w=y,A=w.error||((_=w[0])===null||_===void 0?void 0:_.error);if(A){q(ve,`RPC '${t}' stream ${s} received error:`,A);const E=A.status;let I=function(z){const K=Zt[z];if(K!==void 0)return vA(K)}(E),P=A.message;I===void 0&&(I=R.INTERNAL,P="Unknown error status: "+E+" with message "+A.message),d=!0,p.Po(new X(I,P)),h.close()}else q(ve,`RPC '${t}' stream ${s} received:`,y),p.Io(y)}}),g(a,cR.STAT_EVENT,m=>{m.stat===bm.PROXY?q(ve,`RPC '${t}' stream ${s} detected buffering proxy`):m.stat===bm.NOPROXY&&q(ve,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{p.ho()},0),p}}function Uu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zc(e){return new m2(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(t,n,i=1e3,s=1.5,r=6e4){this.ii=t,this.timerId=n,this.So=i,this.bo=s,this.Do=r,this.vo=0,this.Co=null,this.Fo=Date.now(),this.reset()}reset(){this.vo=0}Mo(){this.vo=this.Do}xo(t){this.cancel();const n=Math.floor(this.vo+this.Oo()),i=Math.max(0,Date.now()-this.Fo),s=Math.max(0,n-i);s>0&&q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.vo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Co=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Fo=Date.now(),t())),this.vo*=this.bo,this.vo<this.So&&(this.vo=this.So),this.vo>this.Do&&(this.vo=this.Do)}No(){this.Co!==null&&(this.Co.skipDelay(),this.Co=null)}cancel(){this.Co!==null&&(this.Co.cancel(),this.Co=null)}Oo(){return(Math.random()-.5)*this.vo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(t,n,i,s,r,o,a,l){this.ii=t,this.Bo=i,this.Lo=s,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.ko=0,this.qo=null,this.Qo=null,this.stream=null,this.Ko=new kA(t,n)}$o(){return this.state===1||this.state===5||this.Uo()}Uo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Wo()}async stop(){this.$o()&&await this.close(0)}Go(){this.state=0,this.Ko.reset()}zo(){this.Uo()&&this.qo===null&&(this.qo=this.ii.enqueueAfterDelay(this.Bo,6e4,()=>this.jo()))}Ho(t){this.Jo(),this.stream.send(t)}async jo(){if(this.Uo())return this.close(0)}Jo(){this.qo&&(this.qo.cancel(),this.qo=null)}Yo(){this.Qo&&(this.Qo.cancel(),this.Qo=null)}async close(t,n){this.Jo(),this.Yo(),this.Ko.cancel(),this.ko++,t!==4?this.Ko.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(Jn(n.toString()),Jn("Using maximum backoff delay to prevent overloading the backend."),this.Ko.Mo()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Zo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.uo(n)}Zo(){}auth(){this.state=1;const t=this.Xo(this.ko),n=this.ko;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.ko===n&&this.e_(i,s)},i=>{t(()=>{const s=new X(R.UNKNOWN,"Fetching auth token failed: "+i.message);return this.t_(s)})})}e_(t,n){const i=this.Xo(this.ko);this.stream=this.n_(t,n),this.stream._o(()=>{i(()=>(this.state=2,this.Qo=this.ii.enqueueAfterDelay(this.Lo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener._o()))}),this.stream.uo(s=>{i(()=>this.t_(s))}),this.stream.onMessage(s=>{i(()=>this.onMessage(s))})}Wo(){this.state=5,this.Ko.xo(async()=>{this.state=0,this.start()})}t_(t){return q("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return n=>{this.ii.enqueueAndForget(()=>this.ko===t?n():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rM extends RA{constructor(t,n,i,s,r,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,o),this.serializer=r}n_(t,n){return this.connection.wo("Listen",t,n)}onMessage(t){this.Ko.reset();const n=v2(this.serializer,t),i=function(r){if(!("targetChange"in r))return ot.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?ot.min():o.readTime?Rn(o.readTime):ot.min()}(t);return this.listener.r_(n,i)}i_(t){const n={};n.database=ef(this.serializer),n.addTarget=function(r,o){let a;const l=o.target;if(a=Yh(l)?{documents:w2(r,l)}:{query:x2(r,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=wA(r,o.resumeToken);const c=Jh(r,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ot.min())>0){a.readTime=Ql(r,o.snapshotVersion.toTimestamp());const c=Jh(r,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,t);const i=T2(this.serializer,t);i&&(n.labels=i),this.Ho(n)}s_(t){const n={};n.database=ef(this.serializer),n.removeTarget=t,this.Ho(n)}}class oM extends RA{constructor(t,n,i,s,r,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,o),this.serializer=r,this.o_=!1}get __(){return this.o_}start(){this.o_=!1,this.lastStreamToken=void 0,super.start()}Zo(){this.o_&&this.a_([])}n_(t,n){return this.connection.wo("Write",t,n)}onMessage(t){if(zt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.o_){this.Ko.reset();const n=A2(t.writeResults,t.commitTime),i=Rn(t.commitTime);return this.listener.u_(i,n)}return zt(!t.writeResults||t.writeResults.length===0),this.o_=!0,this.listener.c_()}l_(){const t={};t.database=ef(this.serializer),this.Ho(t)}a_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>b2(this.serializer,i))};this.Ho(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM extends class{}{constructor(t,n,i,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.h_=!1}P_(){if(this.h_)throw new X(R.FAILED_PRECONDITION,"The client has already been terminated.")}Vo(t,n,i){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,r])=>this.connection.Vo(t,n,i,s,r)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(R.UNKNOWN,s.toString())})}yo(t,n,i,s){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.yo(t,n,i,r,o,s)).catch(r=>{throw r.name==="FirebaseError"?(r.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new X(R.UNKNOWN,r.toString())})}terminate(){this.h_=!0}}class lM{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.T_=0,this.E_=null,this.d_=!0}A_(){this.T_===0&&(this.R_("Unknown"),this.E_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.E_=null,this.V_("Backend didn't respond within 10 seconds."),this.R_("Offline"),Promise.resolve())))}m_(t){this.state==="Online"?this.R_("Unknown"):(this.T_++,this.T_>=1&&(this.f_(),this.V_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.R_("Offline")))}set(t){this.f_(),this.T_=0,t==="Online"&&(this.d_=!1),this.R_(t)}R_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}V_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.d_?(Jn(n),this.d_=!1):q("OnlineStateTracker",n)}f_(){this.E_!==null&&(this.E_.cancel(),this.E_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(t,n,i,s,r){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.g_=[],this.p_=new Map,this.y_=new Set,this.w_=[],this.S_=r,this.S_.Ys(o=>{i.enqueueAndForget(async()=>{Ts(this)&&(q("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ht(l);c.y_.add(4),await ua(c),c.b_.set("Unknown"),c.y_.delete(4),await tu(c)}(this))})}),this.b_=new lM(i,s)}}async function tu(e){if(Ts(e))for(const t of e.w_)await t(!0)}async function ua(e){for(const t of e.w_)await t(!1)}function MA(e,t){const n=ht(e);n.p_.has(t.targetId)||(n.p_.set(t.targetId,t),ip(n)?np(n):vr(n).Uo()&&ep(n,t))}function DA(e,t){const n=ht(e),i=vr(n);n.p_.delete(t),i.Uo()&&OA(n,t),n.p_.size===0&&(i.Uo()?i.zo():Ts(n)&&n.b_.set("Unknown"))}function ep(e,t){if(e.D_.Be(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ot.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}vr(e).i_(t)}function OA(e,t){e.D_.Be(t),vr(e).s_(t)}function np(e){e.D_=new f2({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>e.p_.get(t)||null,rt:()=>e.datastore.serializer.databaseId}),vr(e).start(),e.b_.A_()}function ip(e){return Ts(e)&&!vr(e).$o()&&e.p_.size>0}function Ts(e){return ht(e).y_.size===0}function VA(e){e.D_=void 0}async function uM(e){e.p_.forEach((t,n)=>{ep(e,t)})}async function hM(e,t){VA(e),ip(e)?(e.b_.m_(t),np(e)):e.b_.set("Unknown")}async function fM(e,t,n){if(e.b_.set("Online"),t instanceof AA&&t.state===2&&t.cause)try{await async function(s,r){const o=r.cause;for(const a of r.targetIds)s.p_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.p_.delete(a),s.D_.removeTarget(a))}(e,t)}catch(i){q("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Yl(e,i)}else if(t instanceof ul?e.D_.We(t):t instanceof bA?e.D_.Ze(t):e.D_.je(t),!n.isEqual(ot.min()))try{const i=await PA(e.localStore);n.compareTo(i)>=0&&await function(r,o){const a=r.D_.st(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=r.p_.get(c);u&&r.p_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=r.p_.get(l);if(!u)return;r.p_.set(l,u.withResumeToken(ke.EMPTY_BYTE_STRING,u.snapshotVersion)),OA(r,l);const h=new fi(u.target,l,c,u.sequenceNumber);ep(r,h)}),r.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(i){q("RemoteStore","Failed to raise snapshot:",i),await Yl(e,i)}}async function Yl(e,t,n){if(!aa(t))throw t;e.y_.add(1),await ua(e),e.b_.set("Offline"),n||(n=()=>PA(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{q("RemoteStore","Retrying IndexedDB access"),await n(),e.y_.delete(1),await tu(e)})}function LA(e,t){return t().catch(n=>Yl(e,n,t))}async function eu(e){const t=ht(e),n=Pi(t);let i=t.g_.length>0?t.g_[t.g_.length-1].batchId:-1;for(;dM(t);)try{const s=await X2(t.localStore,i);if(s===null){t.g_.length===0&&n.zo();break}i=s.batchId,pM(t,s)}catch(s){await Yl(t,s)}NA(t)&&FA(t)}function dM(e){return Ts(e)&&e.g_.length<10}function pM(e,t){e.g_.push(t);const n=Pi(e);n.Uo()&&n.__&&n.a_(t.mutations)}function NA(e){return Ts(e)&&!Pi(e).$o()&&e.g_.length>0}function FA(e){Pi(e).start()}async function gM(e){Pi(e).l_()}async function mM(e){const t=Pi(e);for(const n of e.g_)t.a_(n.mutations)}async function _M(e,t,n){const i=e.g_.shift(),s=Qd.from(i,t,n);await LA(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await eu(e)}async function yM(e,t){t&&Pi(e).__&&await async function(i,s){if(function(o){return c2(o)&&o!==R.ABORTED}(s.code)){const r=i.g_.shift();Pi(i).Go(),await LA(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await eu(i)}}(e,t),NA(e)&&FA(e)}async function Wm(e,t){const n=ht(e);n.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");const i=Ts(n);n.y_.add(3),await ua(n),i&&n.b_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.y_.delete(3),await tu(n)}async function vM(e,t){const n=ht(e);t?(n.y_.delete(2),await tu(n)):t||(n.y_.add(2),await ua(n),n.b_.set("Unknown"))}function vr(e){return e.v_||(e.v_=function(n,i,s){const r=ht(n);return r.P_(),new rM(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(e.datastore,e.asyncQueue,{_o:uM.bind(null,e),uo:hM.bind(null,e),r_:fM.bind(null,e)}),e.w_.push(async t=>{t?(e.v_.Go(),ip(e)?np(e):e.b_.set("Unknown")):(await e.v_.stop(),VA(e))})),e.v_}function Pi(e){return e.C_||(e.C_=function(n,i,s){const r=ht(n);return r.P_(),new oM(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(e.datastore,e.asyncQueue,{_o:gM.bind(null,e),uo:yM.bind(null,e),c_:mM.bind(null,e),u_:_M.bind(null,e)}),e.w_.push(async t=>{t?(e.C_.Go(),await eu(e)):(await e.C_.stop(),e.g_.length>0&&(q("RemoteStore",`Stopping write stream with ${e.g_.length} pending writes`),e.g_=[]))})),e.C_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(t,n,i,s,r){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,n,i,s,r){const o=Date.now()+i,a=new sp(t,n,o,s,r);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(R.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rp(e,t){if(Jn("AsyncQueue",`${t}: ${e}`),aa(e))return new X(R.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(t){this.comparator=t?(n,i)=>t(n,i)||J.comparator(n.key,i.key):(n,i)=>J.comparator(n.key,i.key),this.keyedMap=Vr(),this.sortedSet=new Ht(this.comparator)}static emptySet(t){return new Ws(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Ws)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new Ws;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(){this.F_=new Ht(J.comparator)}track(t){const n=t.doc.key,i=this.F_.get(n);i?t.type!==0&&i.type===3?this.F_=this.F_.insert(n,t):t.type===3&&i.type!==1?this.F_=this.F_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.F_=this.F_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.F_=this.F_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.F_=this.F_.remove(n):t.type===1&&i.type===2?this.F_=this.F_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.F_=this.F_.insert(n,{type:2,doc:t.doc}):it():this.F_=this.F_.insert(n,t)}M_(){const t=[];return this.F_.inorderTraversal((n,i)=>{t.push(i)}),t}}class rr{constructor(t,n,i,s,r,o,a,l,c){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,n,i,s,r){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new rr(t,n,Ws.emptySet(n),o,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Qc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(){this.x_=void 0,this.listeners=[]}}class AM{constructor(){this.queries=new yr(t=>rA(t),Qc),this.onlineState="Unknown",this.O_=new Set}}async function wM(e,t){const n=ht(e),i=t.query;let s=!1,r=n.queries.get(i);if(r||(s=!0,r=new bM),s)try{r.x_=await n.onListen(i)}catch(o){const a=rp(o,`Initialization of query '${Xh(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,r),r.listeners.push(t),t.N_(n.onlineState),r.x_&&t.B_(r.x_)&&op(n)}async function xM(e,t){const n=ht(e),i=t.query;let s=!1;const r=n.queries.get(i);if(r){const o=r.listeners.indexOf(t);o>=0&&(r.listeners.splice(o,1),s=r.listeners.length===0)}if(s)return n.queries.delete(i),n.onUnlisten(i)}function EM(e,t){const n=ht(e);let i=!1;for(const s of t){const r=s.query,o=n.queries.get(r);if(o){for(const a of o.listeners)a.B_(s)&&(i=!0);o.x_=s}}i&&op(n)}function TM(e,t,n){const i=ht(e),s=i.queries.get(t);if(s)for(const r of s.listeners)r.onError(n);i.queries.delete(t)}function op(e){e.O_.forEach(t=>{t.next()})}class IM{constructor(t,n,i){this.query=t,this.L_=n,this.k_=!1,this.q_=null,this.onlineState="Unknown",this.options=i||{}}B_(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new rr(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.k_?this.Q_(t)&&(this.L_.next(t),n=!0):this.K_(t,this.onlineState)&&(this.U_(t),n=!0),this.q_=t,n}onError(t){this.L_.error(t)}N_(t){this.onlineState=t;let n=!1;return this.q_&&!this.k_&&this.K_(this.q_,t)&&(this.U_(this.q_),n=!0),n}K_(t,n){if(!t.fromCache)return!0;const i=n!=="Offline";return(!this.options.W_||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Q_(t){if(t.docChanges.length>0)return!0;const n=this.q_&&this.q_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}U_(t){t=rr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.k_=!0,this.L_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(t){this.key=t}}class zA{constructor(t){this.key=t}}class SM{constructor(t,n){this.query=t,this.X_=n,this.ea=null,this.hasCachedResults=!1,this.current=!1,this.ta=pt(),this.mutatedKeys=pt(),this.na=oA(t),this.ra=new Ws(this.na)}get ia(){return this.X_}sa(t,n){const i=n?n.oa:new qm,s=n?n.ra:this.ra;let r=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((u,h)=>{const f=s.get(u),d=Yc(this.query,h)?h:null,p=!!f&&this.mutatedKeys.has(f.key),g=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let m=!1;f&&d?f.data.isEqual(d.data)?p!==g&&(i.track({type:3,doc:d}),m=!0):this._a(f,d)||(i.track({type:2,doc:d}),m=!0,(l&&this.na(d,l)>0||c&&this.na(d,c)<0)&&(a=!0)):!f&&d?(i.track({type:0,doc:d}),m=!0):f&&!d&&(i.track({type:1,doc:f}),m=!0,(l||c)&&(a=!0)),m&&(d?(o=o.add(d),r=g?r.add(u):r.delete(u)):(o=o.delete(u),r=r.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),r=r.delete(u.key),i.track({type:1,doc:u})}return{ra:o,oa:i,zi:a,mutatedKeys:r}}_a(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i){const s=this.ra;this.ra=t.ra,this.mutatedKeys=t.mutatedKeys;const r=t.oa.M_();r.sort((c,u)=>function(f,d){const p=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return it()}};return p(f)-p(d)}(c.type,u.type)||this.na(c.doc,u.doc)),this.aa(i);const o=n?this.ua():[],a=this.ta.size===0&&this.current?1:0,l=a!==this.ea;return this.ea=a,r.length!==0||l?{snapshot:new rr(this.query,t.ra,s,r,t.mutatedKeys,a===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),ca:o}:{ca:o}}N_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ra:this.ra,oa:new qm,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ca:[]}}la(t){return!this.X_.has(t)&&!!this.ra.has(t)&&!this.ra.get(t).hasLocalMutations}aa(t){t&&(t.addedDocuments.forEach(n=>this.X_=this.X_.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.X_=this.X_.delete(n)),this.current=t.current)}ua(){if(!this.current)return[];const t=this.ta;this.ta=pt(),this.ra.forEach(i=>{this.la(i.key)&&(this.ta=this.ta.add(i.key))});const n=[];return t.forEach(i=>{this.ta.has(i)||n.push(new zA(i))}),this.ta.forEach(i=>{t.has(i)||n.push(new BA(i))}),n}ha(t){this.X_=t.ss,this.ta=pt();const n=this.sa(t.documents);return this.applyChanges(n,!0)}Pa(){return rr.fromInitialDocuments(this.query,this.ra,this.mutatedKeys,this.ea===0,this.hasCachedResults)}}class CM{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class PM{constructor(t){this.key=t,this.Ia=!1}}class kM{constructor(t,n,i,s,r,o){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.Ta={},this.Ea=new yr(a=>rA(a),Qc),this.da=new Map,this.Aa=new Set,this.Ra=new Ht(J.comparator),this.Va=new Map,this.ma=new Jd,this.fa={},this.ga=new Map,this.pa=sr.On(),this.onlineState="Unknown",this.ya=void 0}get isPrimaryClient(){return this.ya===!0}}async function RM(e,t){const n=jM(e);let i,s;const r=n.Ea.get(t);if(r)i=r.targetId,n.sharedClientState.addLocalQueryTarget(i),s=r.view.Pa();else{const o=await J2(n.localStore,Zn(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,s=await MM(n,t,i,a==="current",o.resumeToken),n.isPrimaryClient&&MA(n.remoteStore,o)}return s}async function MM(e,t,n,i,s){e.wa=(h,f,d)=>async function(g,m,_,y){let w=m.view.sa(_);w.zi&&(w=await $m(g.localStore,m.query,!1).then(({documents:I})=>m.view.sa(I,w)));const A=y&&y.targetChanges.get(m.targetId),E=m.view.applyChanges(w,g.isPrimaryClient,A);return Qm(g,m.targetId,E.ca),E.snapshot}(e,h,f,d);const r=await $m(e.localStore,t,!0),o=new SM(t,r.ss),a=o.sa(r.documents),l=ca.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",s),c=o.applyChanges(a,e.isPrimaryClient,l);Qm(e,n,c.ca);const u=new CM(t,n,o);return e.Ea.set(t,u),e.da.has(n)?e.da.get(n).push(t):e.da.set(n,[t]),c.snapshot}async function DM(e,t){const n=ht(e),i=n.Ea.get(t),s=n.da.get(i.targetId);if(s.length>1)return n.da.set(i.targetId,s.filter(r=>!Qc(r,t))),void n.Ea.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await nf(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),DA(n.remoteStore,i.targetId),sf(n,i.targetId)}).catch(oa)):(sf(n,i.targetId),await nf(n.localStore,i.targetId,!0))}async function OM(e,t,n){const i=$M(e);try{const s=await function(o,a){const l=ht(o),c=oe.now(),u=a.reduce((d,p)=>d.add(p.key),pt());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",d=>{let p=ti(),g=pt();return l.Xi.getEntries(d,u).next(m=>{p=m,p.forEach((_,y)=>{y.isValidDocument()||(g=g.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(d,p)).next(m=>{h=m;const _=[];for(const y of a){const w=s2(y,h.get(y.key).overlayedDocument);w!=null&&_.push(new Es(y.key,w,J0(w.value.mapValue),Qn.exists(!0)))}return l.mutationQueue.addMutationBatch(d,c,_,a)}).next(m=>{f=m;const _=m.applyToLocalDocumentSet(h,g);return l.documentOverlayCache.saveOverlays(d,m.batchId,_)})}).then(()=>({batchId:f.batchId,changes:lA(h)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.fa[o.currentUser.toKey()];c||(c=new Ht(bt)),c=c.insert(a,l),o.fa[o.currentUser.toKey()]=c}(i,s.batchId,n),await ha(i,s.changes),await eu(i.remoteStore)}catch(s){const r=rp(s,"Failed to persist write");n.reject(r)}}async function jA(e,t){const n=ht(e);try{const i=await Y2(n.localStore,t);t.targetChanges.forEach((s,r)=>{const o=n.Va.get(r);o&&(zt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ia=!0:s.modifiedDocuments.size>0?zt(o.Ia):s.removedDocuments.size>0&&(zt(o.Ia),o.Ia=!1))}),await ha(n,i,t)}catch(i){await oa(i)}}function Km(e,t,n){const i=ht(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Ea.forEach((r,o)=>{const a=o.view.N_(t);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ht(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const f of h.listeners)f.N_(a)&&(c=!0)}),c&&op(l)}(i.eventManager,t),s.length&&i.Ta.r_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function VM(e,t,n){const i=ht(e);i.sharedClientState.updateQueryState(t,"rejected",n);const s=i.Va.get(t),r=s&&s.key;if(r){let o=new Ht(J.comparator);o=o.insert(r,xe.newNoDocument(r,ot.min()));const a=pt().add(r),l=new Jc(ot.min(),new Map,new Ht(bt),o,a);await jA(i,l),i.Ra=i.Ra.remove(r),i.Va.delete(t),ap(i)}else await nf(i.localStore,t,!1).then(()=>sf(i,t,n)).catch(oa)}async function LM(e,t){const n=ht(e),i=t.batch.batchId;try{const s=await Q2(n.localStore,t);UA(n,i,null),$A(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await ha(n,s)}catch(s){await oa(s)}}async function NM(e,t,n){const i=ht(e);try{const s=await function(o,a){const l=ht(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(zt(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(i.localStore,t);UA(i,t,n),$A(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await ha(i,s)}catch(s){await oa(s)}}function $A(e,t){(e.ga.get(t)||[]).forEach(n=>{n.resolve()}),e.ga.delete(t)}function UA(e,t,n){const i=ht(e);let s=i.fa[i.currentUser.toKey()];if(s){const r=s.get(t);r&&(n?r.reject(n):r.resolve(),s=s.remove(t)),i.fa[i.currentUser.toKey()]=s}}function sf(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.da.get(t))e.Ea.delete(i),n&&e.Ta.Sa(i,n);e.da.delete(t),e.isPrimaryClient&&e.ma.Ar(t).forEach(i=>{e.ma.containsKey(i)||HA(e,i)})}function HA(e,t){e.Aa.delete(t.path.canonicalString());const n=e.Ra.get(t);n!==null&&(DA(e.remoteStore,n),e.Ra=e.Ra.remove(t),e.Va.delete(n),ap(e))}function Qm(e,t,n){for(const i of n)i instanceof BA?(e.ma.addReference(i.key,t),FM(e,i)):i instanceof zA?(q("SyncEngine","Document no longer in limbo: "+i.key),e.ma.removeReference(i.key,t),e.ma.containsKey(i.key)||HA(e,i.key)):it()}function FM(e,t){const n=t.key,i=n.path.canonicalString();e.Ra.get(n)||e.Aa.has(i)||(q("SyncEngine","New document in limbo: "+n),e.Aa.add(i),ap(e))}function ap(e){for(;e.Aa.size>0&&e.Ra.size<e.maxConcurrentLimboResolutions;){const t=e.Aa.values().next().value;e.Aa.delete(t);const n=new J(jt.fromString(t)),i=e.pa.next();e.Va.set(i,new PM(n)),e.Ra=e.Ra.insert(n,i),MA(e.remoteStore,new fi(Zn(Kd(n.path)),i,"TargetPurposeLimboResolution",jd.ae))}}async function ha(e,t,n){const i=ht(e),s=[],r=[],o=[];i.Ea.isEmpty()||(i.Ea.forEach((a,l)=>{o.push(i.wa(l,t,n).then(c=>{if((c||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const u=tp.qi(l.targetId,c);r.push(u)}}))}),await Promise.all(o),i.Ta.r_(s),await async function(l,c){const u=ht(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>D.forEach(c,f=>D.forEach(f.Li,d=>u.persistence.referenceDelegate.addReference(h,f.targetId,d)).next(()=>D.forEach(f.ki,d=>u.persistence.referenceDelegate.removeReference(h,f.targetId,d)))))}catch(h){if(!aa(h))throw h;q("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const d=u.Ji.get(f),p=d.snapshotVersion,g=d.withLastLimboFreeSnapshotVersion(p);u.Ji=u.Ji.insert(f,g)}}}(i.localStore,r))}async function BM(e,t){const n=ht(e);if(!n.currentUser.isEqual(t)){q("SyncEngine","User change. New user:",t.toKey());const i=await CA(n.localStore,t);n.currentUser=t,function(r,o){r.ga.forEach(a=>{a.forEach(l=>{l.reject(new X(R.CANCELLED,o))})}),r.ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await ha(n,i.ts)}}function zM(e,t){const n=ht(e),i=n.Va.get(t);if(i&&i.Ia)return pt().add(i.key);{let s=pt();const r=n.da.get(t);if(!r)return s;for(const o of r){const a=n.Ea.get(o);s=s.unionWith(a.view.ia)}return s}}function jM(e){const t=ht(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=jA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=zM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=VM.bind(null,t),t.Ta.r_=EM.bind(null,t.eventManager),t.Ta.Sa=TM.bind(null,t.eventManager),t}function $M(e){const t=ht(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=LM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=NM.bind(null,t),t}class Ym{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Zc(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return K2(this.persistence,new W2,t.initialUser,this.serializer)}createPersistence(t){return new U2(Zd.zr,this.serializer)}createSharedClientState(t){return new tM}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class UM{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Km(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=BM.bind(null,this.syncEngine),await vM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new AM}()}createDatastore(t){const n=Zc(t.databaseInfo.databaseId),i=function(r){return new sM(r)}(t.databaseInfo);return function(r,o,a,l){return new aM(r,o,a,l)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,s,r,o,a){return new cM(i,s,r,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>Km(this.syncEngine,n,0),function(){return Hm.v()?new Hm:new eM}())}createSyncEngine(t,n){return function(s,r,o,a,l,c,u){const h=new kM(s,r,o,a,l,c);return u&&(h.ya=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const i=ht(n);q("RemoteStore","RemoteStore shutting down."),i.y_.add(5),await ua(i),i.S_.shutdown(),i.b_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.va(this.observer.next,t)}error(t){this.observer.error?this.va(this.observer.error,t):Jn("Uncaught Error in snapshot listener:",t.toString())}Ca(){this.muted=!0}va(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(t,n,i,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Ae.UNAUTHENTICATED,this.clientId=Y0.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async r=>{q("FirestoreClient","Received user=",r.uid),await this.authCredentialListener(r),this.user=r}),this.appCheckCredentials.start(i,r=>(q("FirestoreClient","Received new app check token=",r),this.appCheckCredentialListener(r,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new X(R.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=rp(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Hu(e,t){e.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async s=>{i.isEqual(s)||(await CA(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Gm(e,t){e.asyncQueue.verifyOperationInProgress();const n=await KM(e);q("FirestoreClient","Initializing OnlineComponentProvider");const i=await e.getConfiguration();await t.initialize(n,i),e.setCredentialChangeListener(s=>Wm(t.remoteStore,s)),e.setAppCheckTokenChangeListener((s,r)=>Wm(t.remoteStore,r)),e._onlineComponents=t}function qM(e){return e.name==="FirebaseError"?e.code===R.FAILED_PRECONDITION||e.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function KM(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{await Hu(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!qM(n))throw n;tr("Error using user provided cache. Falling back to memory cache: "+n),await Hu(e,new Ym)}}else q("FirestoreClient","Using default OfflineComponentProvider"),await Hu(e,new Ym);return e._offlineComponents}async function WA(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),await Gm(e,e._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),await Gm(e,new UM))),e._onlineComponents}function QM(e){return WA(e).then(t=>t.syncEngine)}async function Xm(e){const t=await WA(e),n=t.eventManager;return n.onListen=RM.bind(null,t.syncEngine),n.onUnlisten=DM.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(e,t,n){if(!n)throw new X(R.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function YM(e,t,n,i){if(t===!0&&i===!0)throw new X(R.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Zm(e){if(!J.isDocumentKey(e))throw new X(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function t_(e){if(J.isDocumentKey(e))throw new X(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function lp(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":it()}function no(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new X(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lp(e);throw new X(R.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new X(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new X(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}YM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qA((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new X(R.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new X(R.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new X(R.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class nu{constructor(t,n,i,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new e_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new X(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new X(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new e_(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new dR;switch(i.type){case"firstParty":return new _R(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new X(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Jm.get(n);i&&(q("ComponentProvider","Removing Datastore"),Jm.delete(n),i.terminate())}(this),Promise.resolve()}}function GM(e,t,n,i={}){var s;const r=(e=no(e,nu))._getSettings(),o=`${t}:${n}`;if(r.host!=="firestore.googleapis.com"&&r.host!==o&&tr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},r),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=Ae.MOCK_USER;else{a=fS(i.mockUserToken,(s=e._app)===null||s===void 0?void 0:s.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new X(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ae(c)}e._authCredentials=new pR(new Q0(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new iu(this.firestore,t,this._query)}}class en{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new en(this.firestore,t,this._key)}}class wi extends iu{constructor(t,n,i){super(t,n,Kd(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new en(this.firestore,null,new J(t))}withConverter(t){return new wi(this.firestore,t,this._path)}}function QA(e,t,...n){if(e=Ti(e),KA("collection","path",t),e instanceof nu){const i=jt.fromString(t,...n);return t_(i),new wi(e,null,i)}{if(!(e instanceof en||e instanceof wi))throw new X(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(jt.fromString(t,...n));return t_(i),new wi(e.firestore,null,i)}}function YA(e,t,...n){if(e=Ti(e),arguments.length===1&&(t=Y0.V()),KA("doc","path",t),e instanceof nu){const i=jt.fromString(t,...n);return Zm(i),new en(e,null,new J(i))}{if(!(e instanceof en||e instanceof wi))throw new X(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(jt.fromString(t,...n));return Zm(i),new en(e.firestore,e instanceof wi?e.converter:null,new J(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(){this.Wa=Promise.resolve(),this.Ga=[],this.za=!1,this.ja=[],this.Ha=null,this.Ja=!1,this.Ya=!1,this.Za=[],this.Ko=new kA(this,"async_queue_retry"),this.Xa=()=>{const n=Uu();n&&q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ko.No()};const t=Uu();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Xa)}get isShuttingDown(){return this.za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.eu(),this.tu(t)}enterRestrictedMode(t){if(!this.za){this.za=!0,this.Ya=t||!1;const n=Uu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xa)}}enqueue(t){if(this.eu(),this.za)return new Promise(()=>{});const n=new cs;return this.tu(()=>this.za&&this.Ya?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ga.push(t),this.nu()))}async nu(){if(this.Ga.length!==0){try{await this.Ga[0](),this.Ga.shift(),this.Ko.reset()}catch(t){if(!aa(t))throw t;q("AsyncQueue","Operation failed with retryable error: "+t)}this.Ga.length>0&&this.Ko.xo(()=>this.nu())}}tu(t){const n=this.Wa.then(()=>(this.Ja=!0,t().catch(i=>{this.Ha=i,this.Ja=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw Jn("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.Ja=!1,i))));return this.Wa=n,n}enqueueAfterDelay(t,n,i){this.eu(),this.Za.indexOf(t)>-1&&(n=0);const s=sp.createAndSchedule(this,t,n,i,r=>this.ru(r));return this.ja.push(s),s}eu(){this.Ha&&it()}verifyOperationInProgress(){}async iu(){let t;do t=this.Wa,await t;while(t!==this.Wa)}su(t){for(const n of this.ja)if(n.timerId===t)return!0;return!1}ou(t){return this.iu().then(()=>{this.ja.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.ja)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.iu()})}_u(t){this.Za.push(t)}ru(t){const n=this.ja.indexOf(t);this.ja.splice(n,1)}}function n_(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const r of i)if(r in s&&typeof s[r]=="function")return!0;return!1}(e,["next","error","complete"])}class Gl extends nu{constructor(t,n,i,s){super(t,n,i,s),this.type="firestore",this._queue=function(){return new XM}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||XA(this),this._firestoreClient.terminate()}}function JM(e,t){const n=typeof e=="object"?e:vb(),i=typeof e=="string"?e:t||"(default)",s=Go(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=uS("firestore");r&&GM(s,...r)}return s}function GA(e){return e._firestoreClient||XA(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function XA(e){var t,n,i;const s=e._freezeSettings(),r=function(a,l,c,u){return new PR(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,qA(u.experimentalLongPollingOptions),u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,s);e._firestoreClient=new WM(e._authCredentials,e._appCheckCredentials,e._queue,r),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(t){this._byteString=t}static fromBase64String(t){try{return new or(ke.fromBase64String(t))}catch(n){throw new X(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new or(ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new X(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Te(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new X(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new X(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return bt(this._lat,t._lat)||bt(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM=/^__.*__$/;class tD{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Es(t,this.data,this.fieldMask,n,this.fieldTransforms):new la(t,this.data,n,this.fieldTransforms)}}function ZA(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw it()}}class hp{constructor(t,n,i,s,r,o){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.au(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get uu(){return this.settings.uu}cu(t){return new hp(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}lu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.cu({path:i,hu:!1});return s.Pu(t),s}Iu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.cu({path:i,hu:!1});return s.au(),s}Tu(t){return this.cu({path:void 0,hu:!0})}Eu(t){return Xl(t,this.settings.methodName,this.settings.du||!1,this.path,this.settings.Au)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}au(){if(this.path)for(let t=0;t<this.path.length;t++)this.Pu(this.path.get(t))}Pu(t){if(t.length===0)throw this.Eu("Document fields must not be empty");if(ZA(this.uu)&&ZM.test(t))throw this.Eu('Document fields cannot begin and end with "__"')}}class eD{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Zc(t)}Ru(t,n,i,s=!1){return new hp({uu:t,methodName:n,Au:i,path:Te.emptyPath(),hu:!1,du:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nD(e){const t=e._freezeSettings(),n=Zc(e._databaseId);return new eD(e._databaseId,!!t.ignoreUndefinedProperties,n)}function iD(e,t,n,i,s,r={}){const o=e.Ru(r.merge||r.mergeFields?2:0,t,n,s);iw("Data must be an object, but it was:",o,i);const a=ew(i,o);let l,c;if(r.merge)l=new on(o.fieldMask),c=o.fieldTransforms;else if(r.mergeFields){const u=[];for(const h of r.mergeFields){const f=sD(t,h,n);if(!o.contains(f))throw new X(R.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);oD(u,f)||u.push(f)}l=new on(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new tD(new Ze(a),l,c)}function tw(e,t){if(nw(e=Ti(e)))return iw("Unsupported field value:",t,e),ew(e,t);if(e instanceof JA)return function(i,s){if(!ZA(s.uu))throw s.Eu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Eu(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.hu&&t.uu!==4)throw t.Eu("Nested arrays are not supported");return function(i,s){const r=[];let o=0;for(const a of i){let l=tw(a,s.Tu(o));l==null&&(l={nullValue:"NULL_VALUE"}),r.push(l),o++}return{arrayValue:{values:r}}}(e,t)}return function(i,s){if((i=Ti(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return JR(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=oe.fromDate(i);return{timestampValue:Ql(s.serializer,r)}}if(i instanceof oe){const r=new oe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ql(s.serializer,r)}}if(i instanceof up)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof or)return{bytesValue:wA(s.serializer,i._byteString)};if(i instanceof en){const r=s.databaseId,o=i.firestore._databaseId;if(!o.isEqual(r))throw s.Eu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Xd(i.firestore._databaseId||s.databaseId,i._key.path)}}throw s.Eu(`Unsupported field value: ${lp(i)}`)}(e,t)}function ew(e,t){const n={};return G0(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):_r(e,(i,s)=>{const r=tw(s,t.lu(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function nw(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof oe||e instanceof up||e instanceof or||e instanceof en||e instanceof JA)}function iw(e,t,n){if(!nw(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=lp(n);throw i==="an object"?t.Eu(e+" a custom object"):t.Eu(e+" "+i)}}function sD(e,t,n){if((t=Ti(t))instanceof cp)return t._internalPath;if(typeof t=="string")return sw(e,t);throw Xl("Field path arguments must be of type string or ",e,!1,void 0,n)}const rD=new RegExp("[~\\*/\\[\\]]");function sw(e,t,n){if(t.search(rD)>=0)throw Xl(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new cp(...t.split("."))._internalPath}catch{throw Xl(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Xl(e,t,n,i,s){const r=i&&!i.isEmpty(),o=s!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(r||o)&&(l+=" (found",r&&(l+=` in field ${i}`),o&&(l+=` in document ${s}`),l+=")"),new X(R.INVALID_ARGUMENT,a+e+l)}function oD(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(t,n,i,s,r){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new en(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new aD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(ow("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class aD extends rw{data(){return super.data()}}function ow(e,t){return typeof t=="string"?sw(e,t):t instanceof cp?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new X(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cD{convertValue(t,n="none"){switch(ys(t)){case 0:return null;case 1:return t.booleanValue;case 2:return te(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(_s(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw it()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return _r(t,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertGeoPoint(t){return new up(te(t.latitude),te(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Ud(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(ko(t));default:return null}}convertTimestamp(t){const n=Ci(t);return new oe(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=jt.fromString(t);zt(SA(i));const s=new Ro(i.get(1),i.get(3)),r=new J(i.popFirst(5));return s.isEqual(n)||Jn(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class aw extends rw{constructor(t,n,i,s,r,o){super(t,n,i,s,o),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new hl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(ow("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class hl extends aw{data(t={}){return super.data(t)}}class hD{constructor(t,n,i,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new Nr(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new hl(this._firestore,this._userDataWriter,i.key,i,new Nr(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new hl(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Nr(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>r||a.type!==3).map(a=>{const l=new hl(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Nr(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:fD(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function fD(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return it()}}class lw extends cD{constructor(t){super(),this.firestore=t}convertBytes(t){return new or(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new en(this.firestore,null,n)}}function dD(e,t){const n=no(e.firestore,Gl),i=YA(e),s=uD(e.converter,t);return pD(n,[iD(nD(e.firestore),"addDoc",i._key,s,e.converter!==null,{}).toMutation(i._key,Qn.exists(!1))]).then(()=>i)}function cw(e,...t){var n,i,s;e=Ti(e);let r={includeMetadataChanges:!1},o=0;typeof t[o]!="object"||n_(t[o])||(r=t[o],o++);const a={includeMetadataChanges:r.includeMetadataChanges};if(n_(t[o])){const h=t[o];t[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),t[o+1]=(i=h.error)===null||i===void 0?void 0:i.bind(h),t[o+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let l,c,u;if(e instanceof en)c=no(e.firestore,Gl),u=Kd(e._key.path),l={next:h=>{t[o]&&t[o](gD(c,e,h))},error:t[o+1],complete:t[o+2]};else{const h=no(e,iu);c=no(h.firestore,Gl),u=h._query;const f=new lw(c);l={next:d=>{t[o]&&t[o](new hD(c,f,h,d))},error:t[o+1],complete:t[o+2]},lD(e._query)}return function(f,d,p,g){const m=new HM(g),_=new IM(d,m,p);return f.asyncQueue.enqueueAndForget(async()=>wM(await Xm(f),_)),()=>{m.Ca(),f.asyncQueue.enqueueAndForget(async()=>xM(await Xm(f),_))}}(GA(c),u,a,l)}function pD(e,t){return function(i,s){const r=new cs;return i.asyncQueue.enqueueAndForget(async()=>OM(await QM(i),s,r)),r.promise}(GA(e),t)}function gD(e,t,n){const i=n.docs.get(t._key),s=new lw(e);return new aw(e,s,t._key,i,new Nr(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(s){mr=s})(yC),Ii(new Gn("firestore",(i,{instanceIdentifier:s,options:r})=>{const o=i.getProvider("app").getImmediate(),a=new Gl(new gR(i.getProvider("auth-internal")),new vR(i.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new X(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ro(c.options.projectId,u)}(o,s),o);return r=Object.assign({useFetchStreams:n},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),kn(Am,"4.1.0",t),kn(Am,"4.1.0","esm2017")})();const mD={apiKey:"AIzaSyDPHqqYyhuEJ7fIpRksToVYC5zbM1onZ3w",authDomain:"flex-fa8c8.firebaseapp.com",projectId:"flex-fa8c8",storageBucket:"flex-fa8c8.appspot.com",messagingSenderId:"824163771541",appId:"1:824163771541:web:83622e1bb9f3aada3f679c",measurementId:"G-SY23L7GKQC"},_D=yb(mD),fp=JM();nk(_D);const yD=e=>cw(QA(fp,"/routines"),e),vD=(e,t)=>cw(YA(fp,"/exercises",e),t),bD=async e=>{await dD(QA(fp,"routines"),e)};function AD(e){return av()?(sE(e),!0):!1}function uw(e){return typeof e=="function"?e():un(e)}const hw=typeof window<"u",rf=()=>{},wD=xD();function xD(){var e;return hw&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent)}function Fr(e){var t;const n=uw(e);return(t=n==null?void 0:n.$el)!=null?t:n}const fw=hw?window:void 0;function Wu(...e){let t,n,i,s;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,i,s]=e,t=fw):[t,n,i,s]=e,!t)return rf;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const r=[],o=()=>{r.forEach(u=>u()),r.length=0},a=(u,h,f,d)=>(u.addEventListener(h,f,d),()=>u.removeEventListener(h,f,d)),l=os(()=>[Fr(t),uw(s)],([u,h])=>{o(),u&&r.push(...n.flatMap(f=>i.map(d=>a(u,f,d,h))))},{immediate:!0,flush:"post"}),c=()=>{l(),o()};return AD(c),c}let i_=!1;function ED(e,t,n={}){const{window:i=fw,ignore:s=[],capture:r=!0,detectIframe:o=!1}=n;if(!i)return;wD&&!i_&&(i_=!0,Array.from(i.document.body.children).forEach(f=>f.addEventListener("click",rf)),i.document.documentElement.addEventListener("click",rf));let a=!0;const l=f=>s.some(d=>{if(typeof d=="string")return Array.from(i.document.querySelectorAll(d)).some(p=>p===f.target||f.composedPath().includes(p));{const p=Fr(d);return p&&(f.target===p||f.composedPath().includes(p))}}),u=[Wu(i,"click",f=>{const d=Fr(e);if(!(!d||d===f.target||f.composedPath().includes(d))){if(f.detail===0&&(a=!l(f)),!a){a=!0;return}t(f)}},{passive:!0,capture:r}),Wu(i,"pointerdown",f=>{const d=Fr(e);d&&(a=!f.composedPath().includes(d)&&!l(f))},{passive:!0}),o&&Wu(i,"blur",f=>{setTimeout(()=>{var d;const p=Fr(e);((d=i.document.activeElement)==null?void 0:d.tagName)==="IFRAME"&&!(p!=null&&p.contains(i.document.activeElement))&&t(f)},0)})].filter(Boolean);return()=>u.forEach(f=>f())}const TD={class:"page"},ID={class:"selector-container"},SD=["value"],CD={class:"exercises-container"},PD={key:0,class:"modal-bg center"},kD={__name:"Workouts",setup(e){const t=wn([]),n=wn({}),i=wn([]),s=wn(!1),r=wn(null);ED(r,()=>s.value=!1);const o=()=>{yD(u=>{u.forEach(h=>{t.value.push({id:h.id,...h.data()})}),n.value=t.value[0]})},a=()=>{i.value=[],n.value[["exercises"]].forEach(u=>{vD(u,h=>{i.value.push({id:h.id,...h.data()})})})};os(n,u=>a()),Xf(()=>o());const l=()=>{s.value=!1},c=(u,h)=>{if(u=="")console.log("No ha rellenado el campo");else try{bD({name:u,exercises:[],frequency:h}),t.value=[],s.value=!1}catch(f){console.log("Error al aadir: ",f)}};return(u,h)=>(Ut(),ee(we,null,[Z("div",TD,[Pt(ld,{title:"MY WORKOUTS"}),Z("div",ID,[Dv(Z("select",{class:"selector","onUpdate:modelValue":h[0]||(h[0]=f=>n.value=f)},[(Ut(!0),ee(we,null,mo(t.value,f=>(Ut(),ee("option",{value:f},Cn(f.name),9,SD))),256))],512),[[rT,n.value]]),Z("img",{class:"h-9 w-9",src:xI,alt:"add",onClick:h[1]||(h[1]=f=>s.value=!0)})]),Z("div",CD,[(Ut(!0),ee(we,null,mo(i.value,f=>(Ut(),ed(LI,{class:"exeCard",name:f.name,series:f.series,reps:f.reps},null,8,["name","series","reps"]))),256)),Pt($I)])]),s.value?(Ut(),ee("div",PD,[Pt(tS,{ref_key:"modal",ref:r,onCancel:l,onAccept:c},null,512)])):S1("",!0)],64))}},RD=gn(kD,[["__scopeId","data-v-a30f6118"]]);/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function fa(e){return e+.5|0}const di=(e,t,n)=>Math.max(Math.min(e,n),t);function Br(e){return di(fa(e*2.55),0,255)}function xi(e){return di(fa(e*255),0,255)}function jn(e){return di(fa(e/2.55)/100,0,1)}function s_(e){return di(fa(e*100),0,100)}const Xe={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},of=[..."0123456789ABCDEF"],MD=e=>of[e&15],DD=e=>of[(e&240)>>4]+of[e&15],Da=e=>(e&240)>>4===(e&15),OD=e=>Da(e.r)&&Da(e.g)&&Da(e.b)&&Da(e.a);function VD(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&Xe[e[1]]*17,g:255&Xe[e[2]]*17,b:255&Xe[e[3]]*17,a:t===5?Xe[e[4]]*17:255}:(t===7||t===9)&&(n={r:Xe[e[1]]<<4|Xe[e[2]],g:Xe[e[3]]<<4|Xe[e[4]],b:Xe[e[5]]<<4|Xe[e[6]],a:t===9?Xe[e[7]]<<4|Xe[e[8]]:255})),n}const LD=(e,t)=>e<255?t(e):"";function ND(e){var t=OD(e)?MD:DD;return e?"#"+t(e.r)+t(e.g)+t(e.b)+LD(e.a,t):void 0}const FD=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function dw(e,t,n){const i=t*Math.min(n,1-n),s=(r,o=(r+e/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function BD(e,t,n){const i=(s,r=(s+e/60)%6)=>n-n*t*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function zD(e,t,n){const i=dw(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)i[s]*=1-t-n,i[s]+=t;return i}function jD(e,t,n,i,s){return e===s?(t-n)/i+(t<n?6:0):t===s?(n-e)/i+2:(e-t)/i+4}function dp(e){const n=e.r/255,i=e.g/255,s=e.b/255,r=Math.max(n,i,s),o=Math.min(n,i,s),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=jD(n,i,s,u,r),l=l*60+.5),[l|0,c||0,a]}function pp(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(xi)}function gp(e,t,n){return pp(dw,e,t,n)}function $D(e,t,n){return pp(zD,e,t,n)}function UD(e,t,n){return pp(BD,e,t,n)}function pw(e){return(e%360+360)%360}function HD(e){const t=FD.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?Br(+t[5]):xi(+t[5]));const s=pw(+t[2]),r=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?i=$D(s,r,o):t[1]==="hsv"?i=UD(s,r,o):i=gp(s,r,o),{r:i[0],g:i[1],b:i[2],a:n}}function WD(e,t){var n=dp(e);n[0]=pw(n[0]+t),n=gp(n),e.r=n[0],e.g=n[1],e.b=n[2]}function qD(e){if(!e)return;const t=dp(e),n=t[0],i=s_(t[1]),s=s_(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${s}%, ${jn(e.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const r_={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},o_={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function KD(){const e={},t=Object.keys(o_),n=Object.keys(r_);let i,s,r,o,a;for(i=0;i<t.length;i++){for(o=a=t[i],s=0;s<n.length;s++)r=n[s],a=a.replace(r,r_[r]);r=parseInt(o_[o],16),e[a]=[r>>16&255,r>>8&255,r&255]}return e}let Oa;function QD(e){Oa||(Oa=KD(),Oa.transparent=[0,0,0,0]);const t=Oa[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const YD=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function GD(e){const t=YD.exec(e);let n=255,i,s,r;if(t){if(t[7]!==i){const o=+t[7];n=t[8]?Br(o):di(o*255,0,255)}return i=+t[1],s=+t[3],r=+t[5],i=255&(t[2]?Br(i):di(i,0,255)),s=255&(t[4]?Br(s):di(s,0,255)),r=255&(t[6]?Br(r):di(r,0,255)),{r:i,g:s,b:r,a:n}}}function XD(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${jn(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const qu=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,ks=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function JD(e,t,n){const i=ks(jn(e.r)),s=ks(jn(e.g)),r=ks(jn(e.b));return{r:xi(qu(i+n*(ks(jn(t.r))-i))),g:xi(qu(s+n*(ks(jn(t.g))-s))),b:xi(qu(r+n*(ks(jn(t.b))-r))),a:e.a+n*(t.a-e.a)}}function Va(e,t,n){if(e){let i=dp(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=gp(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function gw(e,t){return e&&Object.assign(t||{},e)}function a_(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=xi(e[3]))):(t=gw(e,{r:0,g:0,b:0,a:1}),t.a=xi(t.a)),t}function ZD(e){return e.charAt(0)==="r"?GD(e):HD(e)}class Vo{constructor(t){if(t instanceof Vo)return t;const n=typeof t;let i;n==="object"?i=a_(t):n==="string"&&(i=VD(t)||QD(t)||ZD(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=gw(this._rgb);return t&&(t.a=jn(t.a)),t}set rgb(t){this._rgb=a_(t)}rgbString(){return this._valid?XD(this._rgb):void 0}hexString(){return this._valid?ND(this._rgb):void 0}hslString(){return this._valid?qD(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,s=t.rgb;let r;const o=n===r?.5:n,a=2*o-1,l=i.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,i.r=255&c*i.r+r*s.r+.5,i.g=255&c*i.g+r*s.g+.5,i.b=255&c*i.b+r*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=JD(this._rgb,t._rgb,n)),this}clone(){return new Vo(this.rgb)}alpha(t){return this._rgb.a=xi(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=fa(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Va(this._rgb,2,t),this}darken(t){return Va(this._rgb,2,-t),this}saturate(t){return Va(this._rgb,1,t),this}desaturate(t){return Va(this._rgb,1,-t),this}rotate(t){return WD(this._rgb,t),this}}/*!
 * Chart.js v4.3.3
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function Nn(){}const tO=(()=>{let e=0;return()=>e++})();function vt(e){return e===null||typeof e>"u"}function Nt(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function gt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Kt(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Ue(e,t){return Kt(e)?e:t}function ut(e,t){return typeof e>"u"?t:e}const eO=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,mw=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Mt(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function Tt(e,t,n,i){let s,r,o;if(Nt(e))if(r=e.length,i)for(s=r-1;s>=0;s--)t.call(n,e[s],s);else for(s=0;s<r;s++)t.call(n,e[s],s);else if(gt(e))for(o=Object.keys(e),r=o.length,s=0;s<r;s++)t.call(n,e[o[s]],o[s])}function Jl(e,t){let n,i,s,r;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(s=e[n],r=t[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function Zl(e){if(Nt(e))return e.map(Zl);if(gt(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let s=0;for(;s<i;++s)t[n[s]]=Zl(e[n[s]]);return t}return e}function _w(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function nO(e,t,n,i){if(!_w(e))return;const s=t[e],r=n[e];gt(s)&&gt(r)?Lo(s,r,i):t[e]=Zl(r)}function Lo(e,t,n){const i=Nt(t)?t:[t],s=i.length;if(!gt(e))return e;n=n||{};const r=n.merger||nO;let o;for(let a=0;a<s;++a){if(o=i[a],!gt(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],e,o,n)}return e}function io(e,t){return Lo(e,t,{merger:iO})}function iO(e,t,n){if(!_w(e))return;const i=t[e],s=n[e];gt(i)&&gt(s)?io(i,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Zl(s))}const l_={"":e=>e,x:e=>e.x,y:e=>e.y};function sO(e){const t=e.split("."),n=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function rO(e){const t=sO(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function ki(e,t){return(l_[t]||(l_[t]=rO(t)))(e)}function mp(e){return e.charAt(0).toUpperCase()+e.slice(1)}const No=e=>typeof e<"u",Ri=e=>typeof e=="function",c_=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function oO(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const $t=Math.PI,Ft=2*$t,aO=Ft+$t,tc=Number.POSITIVE_INFINITY,lO=$t/180,Qt=$t/2,ji=$t/4,u_=$t*2/3,pi=Math.log10,Mn=Math.sign;function so(e,t,n){return Math.abs(e-t)<n}function h_(e){const t=Math.round(e);e=so(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(pi(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function cO(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((s,r)=>s-r).pop(),t}function ar(e){return!isNaN(parseFloat(e))&&isFinite(e)}function uO(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function yw(e,t,n){let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i][n],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function an(e){return e*($t/180)}function _p(e){return e*(180/$t)}function f_(e){if(!Kt(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function vw(e,t){const n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*$t&&(r+=Ft),{angle:r,distance:s}}function af(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function hO(e,t){return(e-t+aO)%Ft-$t}function We(e){return(e%Ft+Ft)%Ft}function Fo(e,t,n,i){const s=We(e),r=We(t),o=We(n),a=We(r-s),l=We(o-s),c=We(s-r),u=We(s-o);return s===r||s===o||i&&r===o||a>l&&c<u}function ce(e,t,n){return Math.max(t,Math.min(n,e))}function fO(e){return ce(e,-32768,32767)}function Wn(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function yp(e,t,n){n=n||(o=>e[o]<t);let i=e.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const qn=(e,t,n,i)=>yp(e,n,i?s=>{const r=e[s][t];return r<n||r===n&&e[s+1][t]===n}:s=>e[s][t]<n),dO=(e,t,n)=>yp(e,n,i=>e[i][t]>=n);function pO(e,t,n){let i=0,s=e.length;for(;i<s&&e[i]<t;)i++;for(;s>i&&e[s-1]>n;)s--;return i>0||s<e.length?e.slice(i,s):e}const bw=["push","pop","shift","splice","unshift"];function gO(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),bw.forEach(n=>{const i="_onData"+mp(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...r){const o=s.apply(this,r);return e._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...r)}),o}})})}function d_(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(bw.forEach(r=>{delete e[r]}),delete e._chartjs)}function Aw(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const ww=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function xw(e,t){let n=[],i=!1;return function(...s){n=s,i||(i=!0,ww.call(window,()=>{i=!1,e.apply(t,n)}))}}function mO(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const vp=e=>e==="start"?"left":e==="end"?"right":"center",be=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,_O=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t;function Ew(e,t,n){const i=t.length;let s=0,r=i;if(e._sorted){const{iScale:o,_parsed:a}=e,l=o.axis,{min:c,max:u,minDefined:h,maxDefined:f}=o.getUserBounds();h&&(s=ce(Math.min(qn(a,l,c).lo,n?i:qn(t,l,o.getPixelForValue(c)).lo),0,i-1)),f?r=ce(Math.max(qn(a,o.axis,u,!0).hi+1,n?0:qn(t,l,o.getPixelForValue(u),!0).hi+1),s,i)-s:r=i-s}return{start:s,count:r}}function Tw(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,s={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=s,!0;const r=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),r}const La=e=>e===0||e===1,p_=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Ft/n)),g_=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Ft/n)+1,ro={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Qt)+1,easeOutSine:e=>Math.sin(e*Qt),easeInOutSine:e=>-.5*(Math.cos($t*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>La(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>La(e)?e:p_(e,.075,.3),easeOutElastic:e=>La(e)?e:g_(e,.075,.3),easeInOutElastic(e){return La(e)?e:e<.5?.5*p_(e*2,.1125,.45):.5+.5*g_(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-ro.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?ro.easeInBounce(e*2)*.5:ro.easeOutBounce(e*2-1)*.5+.5};function bp(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function m_(e){return bp(e)?e:new Vo(e)}function Ku(e){return bp(e)?e:new Vo(e).saturate(.5).darken(.1).hexString()}const yO=["x","y","borderWidth","radius","tension"],vO=["color","borderColor","backgroundColor"];function bO(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:vO},numbers:{type:"number",properties:yO}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function AO(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const __=new Map;function wO(e,t){t=t||{};const n=e+JSON.stringify(t);let i=__.get(n);return i||(i=new Intl.NumberFormat(e,t),__.set(n,i)),i}function da(e,t,n){return wO(t,n).format(e)}const Iw={values(e){return Nt(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let s,r=e;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),r=xO(e,n)}const o=pi(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),da(e,i,l)},logarithmic(e,t,n){if(e===0)return"0";const i=n[t].significand||e/Math.pow(10,Math.floor(pi(e)));return[1,2,3,5,10,15].includes(i)||t>.8*n.length?Iw.numeric.call(this,e,t,n):""}};function xO(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var su={formatters:Iw};function EO(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:su.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const vs=Object.create(null),lf=Object.create(null);function oo(e,t){if(!t)return e;const n=t.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];e=e[r]||(e[r]=Object.create(null))}return e}function Qu(e,t,n){return typeof t=="string"?Lo(oo(e,t),n):Lo(oo(e,""),t)}class TO{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Ku(s.backgroundColor),this.hoverBorderColor=(i,s)=>Ku(s.borderColor),this.hoverColor=(i,s)=>Ku(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Qu(this,t,n)}get(t){return oo(this,t)}describe(t,n){return Qu(lf,t,n)}override(t,n){return Qu(vs,t,n)}route(t,n,i,s){const r=oo(this,t),o=oo(this,i),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[s];return gt(l)?Object.assign({},c,l):ut(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(n=>n(this))}}var Yt=new TO({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[bO,AO,EO]);function IO(e){return!e||vt(e.size)||vt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function ec(e,t,n,i,s){let r=t[s];return r||(r=t[s]=e.measureText(s).width,n.push(s)),r>i&&(i=r),i}function SO(e,t,n,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(s=i.data={},r=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let o=0;const a=n.length;let l,c,u,h,f;for(l=0;l<a;l++)if(h=n[l],h!=null&&!Nt(h))o=ec(e,s,r,o,h);else if(Nt(h))for(c=0,u=h.length;c<u;c++)f=h[c],f!=null&&!Nt(f)&&(o=ec(e,s,r,o,f));e.restore();const d=r.length/2;if(d>n.length){for(l=0;l<d;l++)delete s[r[l]];r.splice(0,d)}return o}function $i(e,t,n){const i=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*i)/i+s}function y_(e,t){t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function cf(e,t,n,i){Sw(e,t,n,i,null)}function Sw(e,t,n,i,s){let r,o,a,l,c,u,h,f;const d=t.pointStyle,p=t.rotation,g=t.radius;let m=(p||0)*lO;if(d&&typeof d=="object"&&(r=d.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(m),e.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),d){default:s?e.ellipse(n,i,s/2,g,0,0,Ft):e.arc(n,i,g,0,Ft),e.closePath();break;case"triangle":u=s?s/2:g,e.moveTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=u_,e.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=u_,e.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),e.closePath();break;case"rectRounded":c=g*.516,l=g-c,o=Math.cos(m+ji)*l,h=Math.cos(m+ji)*(s?s/2-c:l),a=Math.sin(m+ji)*l,f=Math.sin(m+ji)*(s?s/2-c:l),e.arc(n-h,i-a,c,m-$t,m-Qt),e.arc(n+f,i-o,c,m-Qt,m),e.arc(n+h,i+a,c,m,m+Qt),e.arc(n-f,i+o,c,m+Qt,m+$t),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=s?s/2:l,e.rect(n-u,i-l,2*u,2*l);break}m+=ji;case"rectRot":h=Math.cos(m)*(s?s/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(s?s/2:g),e.moveTo(n-h,i-a),e.lineTo(n+f,i-o),e.lineTo(n+h,i+a),e.lineTo(n-f,i+o),e.closePath();break;case"crossRot":m+=ji;case"cross":h=Math.cos(m)*(s?s/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(s?s/2:g),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+f,i-o),e.lineTo(n-f,i+o);break;case"star":h=Math.cos(m)*(s?s/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(s?s/2:g),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+f,i-o),e.lineTo(n-f,i+o),m+=ji,h=Math.cos(m)*(s?s/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(s?s/2:g),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+f,i-o),e.lineTo(n-f,i+o);break;case"line":o=s?s/2:Math.cos(m)*g,a=Math.sin(m)*g,e.moveTo(n-o,i-a),e.lineTo(n+o,i+a);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(m)*(s?s/2:g),i+Math.sin(m)*g);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function Kn(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function ru(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function ou(e){e.restore()}function CO(e,t,n,i,s){if(!t)return e.lineTo(n.x,n.y);if(s==="middle"){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else s==="after"!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function PO(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function kO(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),vt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function RO(e,t,n,i,s){if(s.strikethrough||s.underline){const r=e.measureText(i),o=t-r.actualBoundingBoxLeft,a=t+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(o,u),e.lineTo(a,u),e.stroke()}}function MO(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function bs(e,t,n,i,s,r={}){const o=Nt(t)?t:[t],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(e.save(),e.font=s.string,kO(e,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&MO(e,r.backdrop),a&&(r.strokeColor&&(e.strokeStyle=r.strokeColor),vt(r.strokeWidth)||(e.lineWidth=r.strokeWidth),e.strokeText(c,n,i,r.maxWidth)),e.fillText(c,n,i,r.maxWidth),RO(e,n,i,c,r),i+=Number(s.lineHeight);e.restore()}function Bo(e,t){const{x:n,y:i,w:s,h:r,radius:o}=t;e.arc(n+o.topLeft,i+o.topLeft,o.topLeft,-Qt,$t,!0),e.lineTo(n,i+r-o.bottomLeft),e.arc(n+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,$t,Qt,!0),e.lineTo(n+s-o.bottomRight,i+r),e.arc(n+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,Qt,0,!0),e.lineTo(n+s,i+o.topRight),e.arc(n+s-o.topRight,i+o.topRight,o.topRight,0,-Qt,!0),e.lineTo(n+o.topLeft,i)}const DO=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,OO=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function VO(e,t){const n=(""+e).match(DO);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const LO=e=>+e||0;function Ap(e,t){const n={},i=gt(t),s=i?Object.keys(t):t,r=gt(e)?i?o=>ut(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of s)n[o]=LO(r(o));return n}function Cw(e){return Ap(e,{top:"y",right:"x",bottom:"y",left:"x"})}function us(e){return Ap(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Re(e){const t=Cw(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function re(e,t){e=e||{},t=t||Yt.font;let n=ut(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=ut(e.style,t.style);i&&!(""+i).match(OO)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:ut(e.family,t.family),lineHeight:VO(ut(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:ut(e.weight,t.weight),string:""};return s.string=IO(s),s}function zr(e,t,n,i){let s=!0,r,o,a;for(r=0,o=e.length;r<o;++r)if(a=e[r],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),s=!1),n!==void 0&&Nt(a)&&(a=a[n%a.length],s=!1),a!==void 0))return i&&!s&&(i.cacheable=!1),a}function NO(e,t,n){const{min:i,max:s}=e,r=mw(t,(s-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(r)),max:o(s,r)}}function Fi(e,t){return Object.assign(Object.create(e),t)}function wp(e,t=[""],n,i,s=()=>e[0]){const r=n||e;typeof i>"u"&&(i=Mw("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:i,_getTarget:s,override:a=>wp([a,...e],t,r,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return kw(a,l,()=>WO(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return b_(a).includes(l)},ownKeys(a){return b_(a)},set(a,l,c){const u=a._storage||(a._storage=s());return a[l]=u[l]=c,delete a._keys,!0}})}function lr(e,t,n,i){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Pw(e,i),setContext:r=>lr(e,r,n,i),override:r=>lr(e.override(r),t,n,i)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete e[o],!0},get(r,o,a){return kw(r,o,()=>BO(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(r,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(r,o,a){return e[o]=a,delete r[o],!0}})}function Pw(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:i,isScriptable:Ri(n)?n:()=>n,isIndexable:Ri(i)?i:()=>i}}const FO=(e,t)=>e?e+mp(t):t,xp=(e,t)=>gt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function kw(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const i=n();return e[t]=i,i}function BO(e,t,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=e;let a=i[t];return Ri(a)&&o.isScriptable(t)&&(a=zO(t,a,e,n)),Nt(a)&&a.length&&(a=jO(t,a,e,o.isIndexable)),xp(t,a)&&(a=lr(a,s,r&&r[t],o)),a}function zO(e,t,n,i){const{_proxy:s,_context:r,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(r,o||i);return a.delete(e),xp(e,l)&&(l=Ep(s._scopes,s,e,l)),l}function jO(e,t,n,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&i(e))return t[r.index%t.length];if(gt(t[0])){const l=t,c=s._scopes.filter(u=>u!==l);t=[];for(const u of l){const h=Ep(c,s,e,u);t.push(lr(h,r,o&&o[e],a))}}return t}function Rw(e,t,n){return Ri(e)?e(t,n):e}const $O=(e,t)=>e===!0?t:typeof e=="string"?ki(t,e):void 0;function UO(e,t,n,i,s){for(const r of t){const o=$O(n,r);if(o){e.add(o);const a=Rw(o._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function Ep(e,t,n,i){const s=t._rootScopes,r=Rw(t._fallback,n,i),o=[...e,...s],a=new Set;a.add(i);let l=v_(a,o,n,r||n,i);return l===null||typeof r<"u"&&r!==n&&(l=v_(a,o,r,l,i),l===null)?!1:wp(Array.from(a),[""],s,r,()=>HO(t,n,i))}function v_(e,t,n,i,s){for(;n;)n=UO(e,t,n,i,s);return n}function HO(e,t,n){const i=e._getTarget();t in i||(i[t]={});const s=i[t];return Nt(s)&&gt(n)?n:s||{}}function WO(e,t,n,i){let s;for(const r of t)if(s=Mw(FO(r,e),n),typeof s<"u")return xp(e,s)?Ep(n,i,e,s):s}function Mw(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function b_(e){let t=e._keys;return t||(t=e._keys=qO(e._scopes)),t}function qO(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}function Dw(e,t,n,i){const{iScale:s}=e,{key:r="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=t[c],o[a]={r:s.parse(ki(u,r),c)};return o}const KO=Number.EPSILON||1e-14,cr=(e,t)=>t<e.length&&!e[t].skip&&e[t],Ow=e=>e==="x"?"y":"x";function QO(e,t,n,i){const s=e.skip?t:e,r=t,o=n.skip?t:n,a=af(r,s),l=af(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,f=i*u;return{previous:{x:r.x-h*(o.x-s.x),y:r.y-h*(o.y-s.y)},next:{x:r.x+f*(o.x-s.x),y:r.y+f*(o.y-s.y)}}}function YO(e,t,n){const i=e.length;let s,r,o,a,l,c=cr(e,0);for(let u=0;u<i-1;++u)if(l=c,c=cr(e,u+1),!(!l||!c)){if(so(t[u],0,KO)){n[u]=n[u+1]=0;continue}s=n[u]/t[u],r=n[u+1]/t[u],a=Math.pow(s,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=s*o*t[u],n[u+1]=r*o*t[u])}}function GO(e,t,n="x"){const i=Ow(n),s=e.length;let r,o,a,l=cr(e,0);for(let c=0;c<s;++c){if(o=a,a=l,l=cr(e,c+1),!a)continue;const u=a[n],h=a[i];o&&(r=(u-o[n])/3,a[`cp1${n}`]=u-r,a[`cp1${i}`]=h-r*t[c]),l&&(r=(l[n]-u)/3,a[`cp2${n}`]=u+r,a[`cp2${i}`]=h+r*t[c])}}function XO(e,t="x"){const n=Ow(t),i=e.length,s=Array(i).fill(0),r=Array(i);let o,a,l,c=cr(e,0);for(o=0;o<i;++o)if(a=l,l=c,c=cr(e,o+1),!!l){if(c){const u=c[t]-l[t];s[o]=u!==0?(c[n]-l[n])/u:0}r[o]=a?c?Mn(s[o-1])!==Mn(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}YO(e,s,r),GO(e,r,t)}function Na(e,t,n){return Math.max(Math.min(e,n),t)}function JO(e,t){let n,i,s,r,o,a=Kn(e[0],t);for(n=0,i=e.length;n<i;++n)o=r,r=a,a=n<i-1&&Kn(e[n+1],t),r&&(s=e[n],o&&(s.cp1x=Na(s.cp1x,t.left,t.right),s.cp1y=Na(s.cp1y,t.top,t.bottom)),a&&(s.cp2x=Na(s.cp2x,t.left,t.right),s.cp2y=Na(s.cp2y,t.top,t.bottom)))}function ZO(e,t,n,i,s){let r,o,a,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")XO(e,s);else{let c=i?e[e.length-1]:e[0];for(r=0,o=e.length;r<o;++r)a=e[r],l=QO(c,a,e[Math.min(r+1,o-(i?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&JO(e,n)}function Vw(){return typeof window<"u"&&typeof document<"u"}function Tp(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function nc(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const au=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function tV(e,t){return au(e).getPropertyValue(t)}const eV=["top","right","bottom","left"];function hs(e,t,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=eV[s];i[r]=parseFloat(e[t+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const nV=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function iV(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:s,offsetY:r}=i;let o=!1,a,l;if(nV(s,r,e.target))a=s,l=r;else{const c=t.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function qi(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,s=au(n),r=s.boxSizing==="border-box",o=hs(s,"padding"),a=hs(s,"border","width"),{x:l,y:c,box:u}=iV(e,n),h=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:d,height:p}=t;return r&&(d-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-h)/d*n.width/i),y:Math.round((c-f)/p*n.height/i)}}function sV(e,t,n){let i,s;if(t===void 0||n===void 0){const r=Tp(e);if(!r)t=e.clientWidth,n=e.clientHeight;else{const o=r.getBoundingClientRect(),a=au(r),l=hs(a,"border","width"),c=hs(a,"padding");t=o.width-c.width-l.width,n=o.height-c.height-l.height,i=nc(a.maxWidth,r,"clientWidth"),s=nc(a.maxHeight,r,"clientHeight")}}return{width:t,height:n,maxWidth:i||tc,maxHeight:s||tc}}const Fa=e=>Math.round(e*10)/10;function rV(e,t,n,i){const s=au(e),r=hs(s,"margin"),o=nc(s.maxWidth,e,"clientWidth")||tc,a=nc(s.maxHeight,e,"clientHeight")||tc,l=sV(e,t,n);let{width:c,height:u}=l;if(s.boxSizing==="content-box"){const f=hs(s,"border","width"),d=hs(s,"padding");c-=d.width+f.width,u-=d.height+f.height}return c=Math.max(0,c-r.width),u=Math.max(0,i?c/i:u-r.height),c=Fa(Math.min(c,o,l.maxWidth)),u=Fa(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Fa(c/2)),(t!==void 0||n!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=Fa(Math.floor(u*i))),{width:c,height:u}}function A_(e,t,n){const i=t||1,s=Math.floor(e.height*i),r=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||o.height!==s||o.width!==r?(e.currentDevicePixelRatio=i,o.height=s,o.width=r,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const oV=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return e}();function w_(e,t){const n=tV(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ki(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function aV(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:i==="middle"?n<.5?e.y:t.y:i==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function lV(e,t,n,i){const s={x:e.cp2x,y:e.cp2y},r={x:t.cp1x,y:t.cp1y},o=Ki(e,s,n),a=Ki(s,r,n),l=Ki(r,t,n),c=Ki(o,a,n),u=Ki(a,l,n);return Ki(c,u,n)}const cV=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},uV=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function qs(e,t,n){return e?cV(t,n):uV()}function Lw(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function Nw(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Fw(e){return e==="angle"?{between:Fo,compare:hO,normalize:We}:{between:Wn,compare:(t,n)=>t-n,normalize:t=>t}}function x_({start:e,end:t,count:n,loop:i,style:s}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n===0,style:s}}function hV(e,t,n){const{property:i,start:s,end:r}=n,{between:o,normalize:a}=Fw(i),l=t.length;let{start:c,end:u,loop:h}=e,f,d;if(h){for(c+=l,u+=l,f=0,d=l;f<d&&o(a(t[c%l][i]),s,r);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:e.style}}function Bw(e,t,n){if(!n)return[e];const{property:i,start:s,end:r}=n,o=t.length,{compare:a,between:l,normalize:c}=Fw(i),{start:u,end:h,loop:f,style:d}=hV(e,t,n),p=[];let g=!1,m=null,_,y,w;const A=()=>l(s,w,_)&&a(s,w)!==0,E=()=>a(r,_)===0||l(r,w,_),I=()=>g||A(),P=()=>!g||E();for(let O=u,z=u;O<=h;++O)y=t[O%o],!y.skip&&(_=c(y[i]),_!==w&&(g=l(_,s,r),m===null&&I()&&(m=a(_,s)===0?O:z),m!==null&&P()&&(p.push(x_({start:m,end:O,loop:f,count:o,style:d})),m=null),z=O,w=_));return m!==null&&p.push(x_({start:m,end:h,loop:f,count:o,style:d})),p}function zw(e,t){const n=[],i=e.segments;for(let s=0;s<i.length;s++){const r=Bw(i[s],e.points,t);r.length&&n.push(...r)}return n}function fV(e,t,n,i){let s=0,r=t-1;if(n&&!i)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,n&&(r+=s);r>s&&e[r%t].skip;)r--;return r%=t,{start:s,end:r}}function dV(e,t,n,i){const s=e.length,r=[];let o=t,a=e[t],l;for(l=t+1;l<=n;++l){const c=e[l%s];c.skip||c.stop?a.skip||(i=!1,r.push({start:t%s,end:(l-1)%s,loop:i}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&r.push({start:t%s,end:o%s,loop:i}),r}function pV(e,t){const n=e.points,i=e.options.spanGaps,s=n.length;if(!s)return[];const r=!!e._loop,{start:o,end:a}=fV(n,s,r,i);if(i===!0)return E_(e,[{start:o,end:a,loop:r}],n,t);const l=a<o?a+s:a,c=!!e._fullLoop&&o===0&&a===s-1;return E_(e,dV(n,o,l,c),n,t)}function E_(e,t,n,i){return!i||!i.setContext||!n?t:gV(e,t,n,i)}function gV(e,t,n,i){const s=e._chart.getContext(),r=T_(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=n.length,c=[];let u=r,h=t[0].start,f=h;function d(p,g,m,_){const y=a?-1:1;if(p!==g){for(p+=l;n[p%l].skip;)p-=y;for(;n[g%l].skip;)g+=y;p%l!==g%l&&(c.push({start:p%l,end:g%l,loop:m,style:_}),u=_,h=g%l)}}for(const p of t){h=a?h:p.start;let g=n[h%l],m;for(f=h+1;f<=p.end;f++){const _=n[f%l];m=T_(i.setContext(Fi(s,{type:"segment",p0:g,p1:_,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),mV(m,u)&&d(h,f-1,p.loop,u),g=_,u=m}h<f-1&&d(h,f-1,p.loop,u)}return c}function T_(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function mV(e,t){if(!t)return!1;const n=[],i=function(s,r){return bp(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(e,i)!==JSON.stringify(t,i)}/*!
 * Chart.js v4.3.3
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class _V{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,s){const r=n.listeners[s],o=n.duration;r.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=ww.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(s.draw(),this._notify(s,i,t,"progress")),r.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),n+=r.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Fn=new _V;const I_="transparent",yV={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=m_(e||I_),s=i.valid&&m_(t||I_);return s&&s.valid?s.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class vV{constructor(t,n,i,s){const r=n[i];s=zr([t.to,s,r,t.from]);const o=zr([t.from,r,s]);this._active=!0,this._fn=t.fn||yV[t.type||typeof o],this._easing=ro[t.easing]||ro.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=zr([t.to,n,s,t.from]),this._from=zr([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,s=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||n<i),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=r;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(r,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class jw{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!gt(t))return;const n=Object.keys(Yt.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const r=t[s];if(!gt(r))return;const o={};for(const a of n)o[a]=r[a];(Nt(r.properties)&&r.properties||[s]).forEach(a=>{(a===s||!i.has(a))&&i.set(a,o)})})}_animateOptions(t,n){const i=n.options,s=AV(t,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&bV(t.options.$animations,i).then(()=>{t.options=i},()=>{}),r}_createAnimations(t,n){const i=this._properties,s=[],r=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(t,n));continue}const u=n[c];let h=r[c];const f=i.get(c);if(h)if(f&&h.active()){h.update(f,u,a);continue}else h.cancel();if(!f||!f.duration){t[c]=u;continue}r[c]=h=new vV(f,t,c,u),s.push(h)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return Fn.add(this._chart,i),!0}}function bV(e,t){const n=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const r=e[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function AV(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function S_(e,t){const n=e&&e.options||{},i=n.reverse,s=n.min===void 0?t:0,r=n.max===void 0?t:0;return{start:i?r:s,end:i?s:r}}function wV(e,t,n){if(n===!1)return!1;const i=S_(e,n),s=S_(t,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function xV(e){let t,n,i,s;return gt(e)?(t=e.top,n=e.right,i=e.bottom,s=e.left):t=n=i=s=e,{top:t,right:n,bottom:i,left:s,disabled:e===!1}}function $w(e,t){const n=[],i=e._getSortedDatasetMetas(t);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function C_(e,t,n,i={}){const s=e.keys,r=i.mode==="single";let o,a,l,c;if(t!==null){for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(i.all)continue;break}c=e.values[l],Kt(c)&&(r||t===0||Mn(t)===Mn(c))&&(t+=c)}return t}}function EV(e){const t=Object.keys(e),n=new Array(t.length);let i,s,r;for(i=0,s=t.length;i<s;++i)r=t[i],n[i]={x:r,y:e[r]};return n}function P_(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function TV(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function IV(e){const{min:t,max:n,minDefined:i,maxDefined:s}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function SV(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function k_(e,t,n,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const r=e[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function R_(e,t){const{chart:n,_cachedMeta:i}=e,s=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=i,l=r.axis,c=o.axis,u=TV(r,o,i),h=t.length;let f;for(let d=0;d<h;++d){const p=t[d],{[l]:g,[c]:m}=p,_=p._stacks||(p._stacks={});f=_[c]=SV(s,u,g),f[a]=m,f._top=k_(f,o,!0,i.type),f._bottom=k_(f,o,!1,i.type);const y=f._visualValues||(f._visualValues={});y[a]=m}}function Yu(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function CV(e,t){return Fi(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function PV(e,t,n){return Fi(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Ir(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const s of t){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const Gu=e=>e==="reset"||e==="none",M_=(e,t)=>t?e:Object.assign({},e),kV=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:$w(n,!0),values:null};class fn{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=P_(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Ir(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(h,f,d,p)=>h==="x"?f:h==="r"?p:d,r=n.xAxisID=ut(i.xAxisID,Yu(t,"x")),o=n.yAxisID=ut(i.yAxisID,Yu(t,"y")),a=n.rAxisID=ut(i.rAxisID,Yu(t,"r")),l=n.indexAxis,c=n.iAxisID=s(l,r,o,a),u=n.vAxisID=s(l,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&d_(this._data,this),t._stacked&&Ir(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(gt(n))this._data=EV(n);else if(i!==n){if(i){d_(i,this);const s=this._cachedMeta;Ir(s),s._parsed=[]}n&&Object.isExtensible(n)&&gO(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=P_(n.vScale,n),n.stack!==i.stack&&(s=!0,Ir(n),n.stack=i.stack),this._resyncElements(t),(s||r!==n._stacked)&&R_(this,n._parsed)}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:o}=i,a=r.axis;let l=t===0&&n===s.length?!0:i._sorted,c=t>0&&i._parsed[t-1],u,h,f;if(this._parsing===!1)i._parsed=s,i._sorted=!0,f=s;else{Nt(s[t])?f=this.parseArrayData(i,s,t,n):gt(s[t])?f=this.parseObjectData(i,s,t,n):f=this.parsePrimitiveData(i,s,t,n);const d=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<n;++u)i._parsed[u+t]=h=f[u],l&&(d()&&(l=!1),c=h);i._sorted=l}o&&R_(this,f)}parsePrimitiveData(t,n,i,s){const{iScale:r,vScale:o}=t,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,h=new Array(s);let f,d,p;for(f=0,d=s;f<d;++f)p=f+i,h[f]={[a]:u||r.parse(c[p],p),[l]:o.parse(n[p],p)};return h}parseArrayData(t,n,i,s){const{xScale:r,yScale:o}=t,a=new Array(s);let l,c,u,h;for(l=0,c=s;l<c;++l)u=l+i,h=n[u],a[l]={x:r.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(t,n,i,s){const{xScale:r,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let u,h,f,d;for(u=0,h=s;u<h;++u)f=u+i,d=n[f],c[u]={x:r.parse(ki(d,a),f),y:o.parse(ki(d,l),f)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const s=this.chart,r=this._cachedMeta,o=n[t.axis],a={keys:$w(s,!0),values:n._stacks[t.axis]._visualValues};return C_(a,o,r.index,{mode:i})}updateRangeFromParsed(t,n,i,s){const r=i[n.axis];let o=r===null?NaN:r;const a=s&&i._stacks[n.axis];s&&a&&(s.values=a,o=C_(s,r,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&t===i.iScale,o=s.length,a=this._getOtherScale(t),l=kV(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=IV(a);let f,d;function p(){d=s[f];const g=d[a.axis];return!Kt(d[t.axis])||u>g||h<g}for(f=0;f<o&&!(!p()&&(this.updateRangeFromParsed(c,t,d,l),r));++f);if(r){for(f=o-1;f>=0;--f)if(!p()){this.updateRangeFromParsed(c,t,d,l);break}}return c}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let s,r,o;for(s=0,r=n.length;s<r;++s)o=n[s][t.axis],Kt(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(t);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=xV(ut(this.options.clip,wV(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(t,r,a,l),u=a;u<a+l;++u){const h=s[u];h.hidden||(h.active&&c?o.push(h):h.draw(t,r))}for(u=0;u<o.length;++u)o[u].draw(t,r)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const s=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];r=o.$context||(o.$context=PV(this.getContext(),t,o)),r.parsed=this.getParsed(t),r.raw=s.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=CV(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const s=n==="active",r=this._cachedDataOpts,o=t+"-"+n,a=r[o],l=this.enableOptionSharing&&No(i);if(a)return M_(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),h=s?[`${t}Hover`,"hover",t,""]:[t,""],f=c.getOptionScopes(this.getDataset(),u),d=Object.keys(Yt.elements[t]),p=()=>this.getContext(i,s,n),g=c.resolveNamedOptions(f,d,p,h);return g.$shared&&(g.$shared=l,r[o]=Object.freeze(M_(g,l))),g}_resolveAnimations(t,n,i){const s=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let l;if(s.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(f,this.getContext(t,i,n))}const c=new jw(s,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Gu(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),s=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:o}}updateElement(t,n,i,s){Gu(s)?Object.assign(t,i):this._resolveAnimations(n,s).update(t,i)}updateSharedOptions(t,n,i){t&&!Gu(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,s){t.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(t,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const s=i.length,r=n.length,o=Math.min(r,s);o&&this.parse(0,o),r>s?this._insertElements(s,r-s,t):r<s&&this._removeElements(r,s-r)}_insertElements(t,n,i=!0){const s=this._cachedMeta,r=s.data,o=t+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(r),a=t;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(t,n),i&&this.updateElements(r,t,n,"reset")}updateElements(t,n,i,s){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,n);i._stacked&&Ir(i,s)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,s]=t;this[n](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}L(fn,"defaults",{}),L(fn,"datasetElementType",null),L(fn,"dataElementType",null);function RV(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let s=0,r=n.length;s<r;s++)i=i.concat(n[s].controller.getAllParsedValues(e));e._cache.$bar=Aw(i.sort((s,r)=>s-r))}return e._cache.$bar}function MV(e){const t=e.iScale,n=RV(t,e.type);let i=t._length,s,r,o,a;const l=()=>{o===32767||o===-32768||(No(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(s=0,r=n.length;s<r;++s)o=t.getPixelForValue(n[s]),l();for(a=void 0,s=0,r=t.ticks.length;s<r;++s)o=t.getPixelForTick(s),l();return i}function DV(e,t,n,i){const s=n.barThickness;let r,o;return vt(s)?(r=t.min*n.categoryPercentage,o=n.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:t.pixels[e]-r/2}}function OV(e,t,n,i){const s=t.pixels,r=s[e];let o=e>0?s[e-1]:null,a=e<s.length-1?s[e+1]:null;const l=n.categoryPercentage;o===null&&(o=r-(a===null?t.end-t.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}function VV(e,t,n,i){const s=n.parse(e[0],i),r=n.parse(e[1],i),o=Math.min(s,r),a=Math.max(s,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:s,end:r,min:o,max:a}}function Uw(e,t,n,i){return Nt(e)?VV(e,t,n,i):t[n.axis]=n.parse(e,i),t}function D_(e,t,n,i){const s=e.iScale,r=e.vScale,o=s.getLabels(),a=s===r,l=[];let c,u,h,f;for(c=n,u=n+i;c<u;++c)f=t[c],h={},h[s.axis]=a||s.parse(o[c],c),l.push(Uw(f,h,r,c));return l}function Xu(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function LV(e,t,n){return e!==0?Mn(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function NV(e){let t,n,i,s,r;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(s="end",r="start"):(s="start",r="end"),{start:n,end:i,reverse:t,top:s,bottom:r}}function FV(e,t,n,i){let s=t.borderSkipped;const r={};if(!s){e.borderSkipped=r;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=NV(e);s==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?s=c:(n._bottom||0)===i?s=u:(r[O_(u,o,a,l)]=!0,s=c)),r[O_(s,o,a,l)]=!0,e.borderSkipped=r}function O_(e,t,n,i){return i?(e=BV(e,t,n),e=V_(e,n,t)):e=V_(e,t,n),e}function BV(e,t,n){return e===t?n:e===n?t:e}function V_(e,t,n){return e==="start"?t:e==="end"?n:e}function zV(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class fl extends fn{parsePrimitiveData(t,n,i,s){return D_(t,n,i,s)}parseArrayData(t,n,i,s){return D_(t,n,i,s)}parseObjectData(t,n,i,s){const{iScale:r,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let f,d,p,g;for(f=i,d=i+s;f<d;++f)g=n[f],p={},p[r.axis]=r.parse(ki(g,c),f),h.push(Uw(ki(g,u),p,o,f));return h}updateRangeFromParsed(t,n,i,s){super.updateRangeFromParsed(t,n,i,s);const r=i._custom;r&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:s}=n,r=this.getParsed(t),o=r._custom,a=Xu(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,s){const r=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,s);for(let d=n;d<n+i;d++){const p=this.getParsed(d),g=r||vt(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(d),m=this._calculateBarIndexPixels(d,u),_=(p._stacks||{})[a.axis],y={horizontal:c,base:g.base,enableBorderRadius:!_||Xu(p._custom)||o===_._top||o===_._bottom,x:c?g.head:m.center,y:c?m.center:g.head,height:c?m.size:Math.abs(g.size),width:c?Math.abs(g.size):m.size};f&&(y.options=h||this.resolveDataElementOptions(d,t[d].active?"active":s));const w=y.options||t[d].options;FV(y,w,_,o),zV(y,w,u.ratio),this.updateElement(t[d],d,y,s)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),r=i.options.stacked,o=[],a=l=>{const c=l.controller.getParsed(n),u=c&&c[l.vScale.axis];if(vt(u)||isNaN(u))return!0};for(const l of s)if(!(n!==void 0&&a(l))&&((r===!1||o.indexOf(l.stack)===-1||r===void 0&&l.stack===void 0)&&o.push(l.stack),l.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,i){const s=this._getStacks(t,i),r=n!==void 0?s.indexOf(n):-1;return r===-1?s.length-1:r}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,s=[];let r,o;for(r=0,o=n.data.length;r<o;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const a=t.barThickness;return{min:a||MV(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(t),c=l._custom,u=Xu(c);let h=l[n.axis],f=0,d=i?this.applyStack(n,l,i):h,p,g;d!==h&&(f=d-h,d=h),u&&(h=c.barStart,d=c.barEnd-c.barStart,h!==0&&Mn(h)!==Mn(c.barEnd)&&(f=0),f+=h);const m=!vt(r)&&!u?r:f;let _=n.getPixelForValue(m);if(this.chart.getDataVisibility(t)?p=n.getPixelForValue(f+d):p=_,g=p-_,Math.abs(g)<o){g=LV(g,n,a)*o,h===a&&(_-=g/2);const y=n.getPixelForDecimal(0),w=n.getPixelForDecimal(1),A=Math.min(y,w),E=Math.max(y,w);_=Math.max(Math.min(_,E),A),p=_+g,i&&!u&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(p)-n.getValueForPixel(_))}if(_===n.getPixelForValue(a)){const y=Mn(g)*n.getLineWidthForValue(a)/2;_+=y,g-=y}return{size:g,base:_,head:p,center:p+g/2}}_calculateBarIndexPixels(t,n){const i=n.scale,s=this.options,r=s.skipNull,o=ut(s.maxBarThickness,1/0);let a,l;if(n.grouped){const c=r?this._getStackCount(t):n.stackCount,u=s.barThickness==="flex"?OV(t,n,s,c):DV(t,n,s,c),h=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);a=u.start+u.chunk*h+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=i.getPixelForValue(this.getParsed(t)[i.axis],t),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[n.axis]!==null&&i[r].draw(this._ctx)}}L(fl,"id","bar"),L(fl,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),L(fl,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class dl extends fn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,i,s){const r=super.parsePrimitiveData(t,n,i,s);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+i).radius;return r}parseArrayData(t,n,i,s){const r=super.parseArrayData(t,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=ut(a[2],this.resolveDataElementOptions(o+i).radius)}return r}parseObjectData(t,n,i,s){const r=super.parseObjectData(t,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=ut(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let i=t.length-1;i>=0;--i)n=Math.max(n,t[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,o=this.getParsed(t),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y),c=o._custom;return{label:i[t]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,i,s){const r=s==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,s),u=o.axis,h=a.axis;for(let f=n;f<n+i;f++){const d=t[f],p=!r&&this.getParsed(f),g={},m=g[u]=r?o.getPixelForDecimal(.5):o.getPixelForValue(p[u]),_=g[h]=r?a.getBasePixel():a.getPixelForValue(p[h]);g.skip=isNaN(m)||isNaN(_),c&&(g.options=l||this.resolveDataElementOptions(f,d.active?"active":s),r&&(g.options.radius=0)),this.updateElement(d,f,g,s)}}resolveDataElementOptions(t,n){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const r=s.radius;return n!=="active"&&(s.radius=0),s.radius+=ut(i&&i._custom,r),s}}L(dl,"id","bubble"),L(dl,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),L(dl,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function jV(e,t,n){let i=1,s=1,r=0,o=0;if(t<Ft){const a=e,l=a+t,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),f=Math.sin(l),d=(w,A,E)=>Fo(w,a,l,!0)?1:Math.max(A,A*n,E,E*n),p=(w,A,E)=>Fo(w,a,l,!0)?-1:Math.min(A,A*n,E,E*n),g=d(0,c,h),m=d(Qt,u,f),_=p($t,c,h),y=p($t+Qt,u,f);i=(g-_)/2,s=(m-y)/2,r=-(g+_)/2,o=-(m+y)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:o}}class ns extends fn{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let r=l=>+i[l];if(gt(i[t])){const{key:l="value"}=this._parsing;r=c=>+ki(i[c],l)}let o,a;for(o=t,a=t+n;o<a;++o)s._parsed[o]=r(o)}}_getRotation(){return an(this.options.rotation-90)}_getCircumference(){return an(this.options.circumference)}_getRotationExtents(){let t=Ft,n=-Ft;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,r=s._getRotation(),o=s._getCircumference();t=Math.min(t,r),n=Math.max(n,r+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:i}=n,s=this._cachedMeta,r=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(eO(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:d,offsetX:p,offsetY:g}=jV(h,u,l),m=(i.width-o)/f,_=(i.height-o)/d,y=Math.max(Math.min(m,_)/2,0),w=mw(this.options.radius,y),A=Math.max(w*l,0),E=(w-A)/this._getVisibleDatasetWeightTotal();this.offsetX=p*w,this.offsetY=g*w,s.total=this.calculateTotal(),this.outerRadius=w-E*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-E*c,0),this.updateElements(r,0,r.length,t)}_circumference(t,n){const i=this.options,s=this._cachedMeta,r=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*r/Ft)}updateElements(t,n,i,s){const r=s==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,f=r&&c.animateScale,d=f?0:this.innerRadius,p=f?0:this.outerRadius,{sharedOptions:g,includeOptions:m}=this._getSharedOptions(n,s);let _=this._getRotation(),y;for(y=0;y<n;++y)_+=this._circumference(y,r);for(y=n;y<n+i;++y){const w=this._circumference(y,r),A=t[y],E={x:u+this.offsetX,y:h+this.offsetY,startAngle:_,endAngle:_+w,circumference:w,outerRadius:p,innerRadius:d};m&&(E.options=g||this.resolveDataElementOptions(y,A.active?"active":s)),_+=w,this.updateElement(A,y,E,s)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let i=0,s;for(s=0;s<n.length;s++){const r=t._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?Ft*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=da(n._parsed[t],i.options.locale);return{label:s[t]||"",value:r}}getMaxBorderWidth(t){let n=0;const i=this.chart;let s,r,o,a,l;if(!t){for(s=0,r=i.data.datasets.length;s<r;++s)if(i.isDatasetVisible(s)){o=i.getDatasetMeta(s),t=o.data,a=o.controller;break}}if(!t)return 0;for(s=0,r=t.length;s<r;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let i=0,s=t.length;i<s;++i){const r=this.resolveDataElementOptions(i);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(t){return Math.max(ut(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}L(ns,"id","doughnut"),L(ns,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),L(ns,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),L(ns,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return n.labels.map((r,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class pl extends fn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=Ew(n,s,o);this._drawStart=a,this._drawCount=l,Tw(n)&&(a=0,l=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},t),this.updateElements(s,a,l,t)}updateElements(t,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,s),f=o.axis,d=a.axis,{spanGaps:p,segment:g}=this.options,m=ar(p)?p:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||r||s==="none",y=n+i,w=t.length;let A=n>0&&this.getParsed(n-1);for(let E=0;E<w;++E){const I=t[E],P=_?I:{};if(E<n||E>=y){P.skip=!0;continue}const O=this.getParsed(E),z=vt(O[d]),K=P[f]=o.getPixelForValue(O[f],E),nt=P[d]=r||z?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,O,l):O[d],E);P.skip=isNaN(K)||isNaN(nt)||z,P.stop=E>0&&Math.abs(O[f]-A[f])>m,g&&(P.parsed=O,P.raw=c.data[E]),h&&(P.options=u||this.resolveDataElementOptions(E,I.active?"active":s)),_||this.updateElement(I,E,P,s),A=O}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}L(pl,"id","line"),L(pl,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),L(pl,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class ao extends fn{constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=da(n._parsed[t].r,i.options.locale);return{label:s[t]||"",value:r}}parseObjectData(t,n,i,s){return Dw.bind(this)(t,n,i,s)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,s)=>{const r=this.getParsed(s).r;!isNaN(r)&&this.chart.getDataVisibility(s)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,i=t.options,s=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(s/2,0),o=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),a=(r-o)/t.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,n,i,s){const r=s==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,h=c.yCenter,f=c.getIndexAngle(0)-.5*$t;let d=f,p;const g=360/this.countVisibleElements();for(p=0;p<n;++p)d+=this._computeAngle(p,s,g);for(p=n;p<n+i;p++){const m=t[p];let _=d,y=d+this._computeAngle(p,s,g),w=o.getDataVisibility(p)?c.getDistanceFromCenterForValue(this.getParsed(p).r):0;d=y,r&&(l.animateScale&&(w=0),l.animateRotate&&(_=y=f));const A={x:u,y:h,innerRadius:0,outerRadius:w,startAngle:_,endAngle:y,options:this.resolveDataElementOptions(p,m.active?"active":s)};this.updateElement(m,p,A,s)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(t,n,i){return this.chart.getDataVisibility(t)?an(this.resolveDataElementOptions(t,n).angle||i):0}}L(ao,"id","polarArea"),L(ao,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),L(ao,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return n.labels.map((r,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class uf extends ns{}L(uf,"id","pie"),L(uf,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class gl extends fn{getLabelAndValue(t){const n=this._cachedMeta.vScale,i=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(t,n,i,s){return Dw.bind(this)(t,n,i,s)}update(t){const n=this._cachedMeta,i=n.dataset,s=n.data||[],r=n.iScale.getLabels();if(i.points=s,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===s.length,options:o};this.updateElement(i,void 0,a,t)}this.updateElements(s,0,s.length,t)}updateElements(t,n,i,s){const r=this._cachedMeta.rScale,o=s==="reset";for(let a=n;a<n+i;a++){const l=t[a],c=this.resolveDataElementOptions(a,l.active?"active":s),u=r.getPointPositionForValue(a,this.getParsed(a).r),h=o?r.xCenter:u.x,f=o?r.yCenter:u.y,d={x:h,y:f,angle:u.angle,skip:isNaN(h)||isNaN(f),options:c};this.updateElement(l,a,d,s)}}}L(gl,"id","radar"),L(gl,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),L(gl,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class ml extends fn{getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,o=this.getParsed(t),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y);return{label:i[t]||"",value:"("+a+", "+l+")"}}update(t){const n=this._cachedMeta,{data:i=[]}=n,s=this.chart._animationsDisabled;let{start:r,count:o}=Ew(n,i,s);if(this._drawStart=r,this._drawCount=o,Tw(n)&&(r=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!s,options:c},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,r,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,s),h=this.getSharedOptions(u),f=this.includeOptions(s,h),d=o.axis,p=a.axis,{spanGaps:g,segment:m}=this.options,_=ar(g)?g:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||r||s==="none";let w=n>0&&this.getParsed(n-1);for(let A=n;A<n+i;++A){const E=t[A],I=this.getParsed(A),P=y?E:{},O=vt(I[p]),z=P[d]=o.getPixelForValue(I[d],A),K=P[p]=r||O?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,I,l):I[p],A);P.skip=isNaN(z)||isNaN(K)||O,P.stop=A>0&&Math.abs(I[d]-w[d])>_,m&&(P.parsed=I,P.raw=c.data[A]),f&&(P.options=h||this.resolveDataElementOptions(A,E.active?"active":s)),y||this.updateElement(E,A,P,s),w=I}this.updateSharedOptions(h,s,u)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=t.dataset,s=i.options&&i.options.borderWidth||0;if(!n.length)return s;const r=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,r,o)/2}}L(ml,"id","scatter"),L(ml,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),L(ml,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var $V=Object.freeze({__proto__:null,BarController:fl,BubbleController:dl,DoughnutController:ns,LineController:pl,PieController:uf,PolarAreaController:ao,RadarController:gl,ScatterController:ml});function Ui(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ip{constructor(t){L(this,"options");this.options=t||{}}static override(t){Object.assign(Ip.prototype,t)}init(){}formats(){return Ui()}parse(){return Ui()}format(){return Ui()}add(){return Ui()}diff(){return Ui()}startOf(){return Ui()}endOf(){return Ui()}}var UV={_date:Ip};function HV(e,t,n,i){const{controller:s,data:r,_sorted:o}=e,a=s._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&o&&r.length){const l=a._reversePixels?dO:qn;if(i){if(s._sharedOptions){const c=r[0],u=typeof c.getRange=="function"&&c.getRange(t);if(u){const h=l(r,t,n-u),f=l(r,t,n+u);return{lo:h.lo,hi:f.hi}}}}else return l(r,t,n)}return{lo:0,hi:r.length-1}}function pa(e,t,n,i,s){const r=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:h,hi:f}=HV(r[a],t,o,s);for(let d=h;d<=f;++d){const p=u[d];p.skip||i(p,c,d)}}}function WV(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,s){const r=t?Math.abs(i.x-s.x):0,o=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function Ju(e,t,n,i,s){const r=[];return!s&&!e.isPointInArea(t)||pa(e,n,t,function(a,l,c){!s&&!Kn(a,e.chartArea,0)||a.inRange(t.x,t.y,i)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function qV(e,t,n,i){let s=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:h}=vw(o,{x:t.x,y:t.y});Fo(h,c,u)&&s.push({element:o,datasetIndex:a,index:l})}return pa(e,n,t,r),s}function KV(e,t,n,i,s,r){let o=[];const a=WV(n);let l=Number.POSITIVE_INFINITY;function c(u,h,f){const d=u.inRange(t.x,t.y,s);if(i&&!d)return;const p=u.getCenterPoint(s);if(!(!!r||e.isPointInArea(p))&&!d)return;const m=a(t,p);m<l?(o=[{element:u,datasetIndex:h,index:f}],l=m):m===l&&o.push({element:u,datasetIndex:h,index:f})}return pa(e,n,t,c),o}function Zu(e,t,n,i,s,r){return!r&&!e.isPointInArea(t)?[]:n==="r"&&!i?qV(e,t,n,s):KV(e,t,n,i,s,r)}function L_(e,t,n,i,s){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return pa(e,n,t,(l,c,u)=>{l[o](t[n],s)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(t.x,t.y,s))}),i&&!a?[]:r}var QV={evaluateInteractionItems:pa,modes:{index(e,t,n,i){const s=qi(t,e),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Ju(e,s,r,i,o):Zu(e,s,r,!1,i,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(e,t,n,i){const s=qi(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Ju(e,s,r,i,o):Zu(e,s,r,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(e,t,n,i){const s=qi(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;return Ju(e,s,r,i,o)},nearest(e,t,n,i){const s=qi(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;return Zu(e,s,r,n.intersect,i,o)},x(e,t,n,i){const s=qi(t,e);return L_(e,s,"x",n.intersect,i)},y(e,t,n,i){const s=qi(t,e);return L_(e,s,"y",n.intersect,i)}}};const Hw=["left","top","right","bottom"];function Sr(e,t){return e.filter(n=>n.pos===t)}function N_(e,t){return e.filter(n=>Hw.indexOf(n.pos)===-1&&n.box.axis===t)}function Cr(e,t){return e.sort((n,i)=>{const s=t?i:n,r=t?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function YV(e){const t=[];let n,i,s,r,o,a;for(n=0,i=(e||[]).length;n<i;++n)s=e[n],{position:r,options:{stack:o,stackWeight:a=1}}=s,t.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:a});return t}function GV(e){const t={};for(const n of e){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!Hw.includes(s))continue;const o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}function XV(e,t){const n=GV(e),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let r,o,a;for(r=0,o=e.length;r<o;++r){a=e[r];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&t.availableWidth,a.height=s):(a.width=i,a.height=u?u*s:l&&t.availableHeight)}return n}function JV(e){const t=YV(e),n=Cr(t.filter(c=>c.box.fullSize),!0),i=Cr(Sr(t,"left"),!0),s=Cr(Sr(t,"right")),r=Cr(Sr(t,"top"),!0),o=Cr(Sr(t,"bottom")),a=N_(t,"x"),l=N_(t,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:Sr(t,"chartArea"),vertical:i.concat(s).concat(l),horizontal:r.concat(o).concat(a)}}function F_(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function Ww(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function ZV(e,t,n,i){const{pos:s,box:r}=n,o=e.maxPadding;if(!gt(s)){n.size&&(e[s]-=n.size);const h=i[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?r.height:r.width),n.size=h.size/h.count,e[s]+=n.size}r.getPadding&&Ww(o,r.getPadding());const a=Math.max(0,t.outerWidth-F_(o,e,"left","right")),l=Math.max(0,t.outerHeight-F_(o,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function tL(e){const t=e.maxPadding;function n(i){const s=Math.max(t[i]-e[i],0);return e[i]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function eL(e,t){const n=t.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(t[o],n[o])}),r}return i(e?["left","right"]:["top","bottom"])}function jr(e,t,n,i){const s=[];let r,o,a,l,c,u;for(r=0,o=e.length,c=0;r<o;++r){a=e[r],l=a.box,l.update(a.width||t.w,a.height||t.h,eL(a.horizontal,t));const{same:h,other:f}=ZV(t,n,a,i);c|=h&&s.length,u=u||f,l.fullSize||s.push(a)}return c&&jr(s,t,n,i)||u}function Ba(e,t,n,i,s){e.top=n,e.left=t,e.right=t+i,e.bottom=n+s,e.width=i,e.height=s}function B_(e,t,n,i){const s=n.padding;let{x:r,y:o}=t;for(const a of e){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=t.w*u,f=c.size||l.height;No(c.start)&&(o=c.start),l.fullSize?Ba(l,s.left,o,n.outerWidth-s.right-s.left,f):Ba(l,t.left+c.placed,o,h,f),c.start=o,c.placed+=h,o=l.bottom}else{const h=t.h*u,f=c.size||l.width;No(c.start)&&(r=c.start),l.fullSize?Ba(l,r,s.top,f,n.outerHeight-s.bottom-s.top):Ba(l,r,t.top+c.placed,f,h),c.start=r,c.placed+=h,r=l.right}}t.x=r,t.y=o}var Ie={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const s=Re(e.options.layout.padding),r=Math.max(t-s.width,0),o=Math.max(n-s.height,0),a=JV(e.boxes),l=a.vertical,c=a.horizontal;Tt(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,m)=>m.box.options&&m.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},s);Ww(f,Re(i));const d=Object.assign({maxPadding:f,w:r,h:o,x:s.left,y:s.top},s),p=XV(l.concat(c),h);jr(a.fullSize,d,h,p),jr(l,d,h,p),jr(c,d,h,p)&&jr(l,d,h,p),tL(d),B_(a.leftAndTop,d,h,p),d.x+=d.w,d.y+=d.h,B_(a.rightAndBottom,d,h,p),e.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},Tt(a.chartArea,g=>{const m=g.box;Object.assign(m,e.chartArea),m.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})})}};class qw{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,s){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(t){return!0}updateConfig(t){}}class nL extends qw{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const _l="$chartjs",iL={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},z_=e=>e===null||e==="";function sL(e,t){const n=e.style,i=e.getAttribute("height"),s=e.getAttribute("width");if(e[_l]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",z_(s)){const r=w_(e,"width");r!==void 0&&(e.width=r)}if(z_(i))if(e.style.height==="")e.height=e.width/(t||2);else{const r=w_(e,"height");r!==void 0&&(e.height=r)}return e}const Kw=oV?{passive:!0}:!1;function rL(e,t,n){e.addEventListener(t,n,Kw)}function oL(e,t,n){e.canvas.removeEventListener(t,n,Kw)}function aL(e,t){const n=iL[e.type]||e.type,{x:i,y:s}=qi(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:s!==void 0?s:null}}function ic(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function lL(e,t,n){const i=e.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||ic(a.addedNodes,i),o=o&&!ic(a.removedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function cL(e,t,n){const i=e.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||ic(a.removedNodes,i),o=o&&!ic(a.addedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const zo=new Map;let j_=0;function Qw(){const e=window.devicePixelRatio;e!==j_&&(j_=e,zo.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function uL(e,t){zo.size||window.addEventListener("resize",Qw),zo.set(e,t)}function hL(e){zo.delete(e),zo.size||window.removeEventListener("resize",Qw)}function fL(e,t,n){const i=e.canvas,s=i&&Tp(i);if(!s)return;const r=xw((a,l)=>{const c=s.clientWidth;n(a,l),c<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(s),uL(e,r),o}function th(e,t,n){n&&n.disconnect(),t==="resize"&&hL(e)}function dL(e,t,n){const i=e.canvas,s=xw(r=>{e.ctx!==null&&n(aL(r,e))},e);return rL(i,t,s),s}class pL extends qw{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(sL(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[_l])return!1;const i=n[_l].initial;["height","width"].forEach(r=>{const o=i[r];vt(o)?n.removeAttribute(r):n.setAttribute(r,o)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[_l],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),o={attach:lL,detach:cL,resize:fL}[n]||dL;s[n]=o(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),s=i[n];if(!s)return;({attach:th,detach:th,resize:th}[n]||oL)(t,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,s){return rV(t,n,i,s)}isAttached(t){const n=Tp(t);return!!(n&&n.isConnected)}}function gL(e){return!Vw()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?nL:pL}var el;let ri=(el=class{constructor(){L(this,"x");L(this,"y");L(this,"active",!1);L(this,"options");L(this,"$animations")}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return ar(this.x)&&ar(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const s={};return t.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}},L(el,"defaults",{}),L(el,"defaultRoutes"),el);function mL(e,t){const n=e.options.ticks,i=_L(e),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?vL(t):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>s)return bL(t,c,r,o/s),c;const u=yL(r,t,s);if(o>0){let h,f;const d=o>1?Math.round((l-a)/(o-1)):null;for(za(t,c,u,vt(d)?0:a-d,a),h=0,f=o-1;h<f;h++)za(t,c,u,r[h],r[h+1]);return za(t,c,u,l,vt(d)?t.length:l+d),c}return za(t,c,u),c}function _L(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(i,s))}function yL(e,t,n){const i=AL(e),s=t.length/n;if(!i)return Math.max(s,1);const r=cO(i);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>s)return l}return Math.max(s,1)}function vL(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function bL(e,t,n,i){let s=0,r=n[0],o;for(i=Math.ceil(i),o=0;o<e.length;o++)o===r&&(t.push(e[o]),s++,r=n[s*i])}function za(e,t,n,i,s){const r=ut(i,0),o=Math.min(ut(s,e.length),e.length);let a=0,l,c,u;for(n=Math.ceil(n),s&&(l=s-i,n=l/Math.floor(l/n)),u=r;u<0;)a++,u=Math.round(r+a*n);for(c=Math.max(r,0);c<o;c++)c===u&&(t.push(e[c]),a++,u=Math.round(r+a*n))}function AL(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const wL=e=>e==="left"?"right":e==="right"?"left":e,$_=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,U_=(e,t)=>Math.min(t||e,e);function H_(e,t){const n=[],i=e.length/t,s=e.length;let r=0;for(;r<s;r+=i)n.push(e[Math.floor(r)]);return n}function xL(e,t,n){const i=e.ticks.length,s=Math.min(t,i-1),r=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(s),c;if(!(n&&(i===1?c=Math.max(l-r,o-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(s-1))/2,l+=s<t?c:-c,l<r-a||l>o+a)))return l}function EL(e,t){Tt(e,n=>{const i=n.gc,s=i.length/2;let r;if(s>t){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function Pr(e){return e.drawTicks?e.tickLength:0}function W_(e,t){if(!e.display)return 0;const n=re(e.font,t),i=Re(e.padding);return(Nt(e.text)?e.text.length:1)*n.lineHeight+i.height}function TL(e,t){return Fi(e,{scale:t,type:"scale"})}function IL(e,t,n){return Fi(e,{tick:n,index:t,type:"tick"})}function SL(e,t,n){let i=vp(e);return(n&&t!=="right"||!n&&t==="right")&&(i=wL(i)),i}function CL(e,t,n,i){const{top:s,left:r,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:u}=l;let h=0,f,d,p;const g=o-s,m=a-r;if(e.isHorizontal()){if(d=be(i,r,a),gt(n)){const _=Object.keys(n)[0],y=n[_];p=u[_].getPixelForValue(y)+g-t}else n==="center"?p=(c.bottom+c.top)/2+g-t:p=$_(e,n,t);f=a-r}else{if(gt(n)){const _=Object.keys(n)[0],y=n[_];d=u[_].getPixelForValue(y)-m+t}else n==="center"?d=(c.left+c.right)/2-m+t:d=$_(e,n,t);p=be(i,o,s),h=n==="left"?-Qt:Qt}return{titleX:d,titleY:p,maxWidth:f,rotation:h}}class Is extends ri{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return t=Ue(t,Number.POSITIVE_INFINITY),n=Ue(n,Number.NEGATIVE_INFINITY),i=Ue(i,Number.POSITIVE_INFINITY),s=Ue(s,Number.NEGATIVE_INFINITY),{min:Ue(t,i),max:Ue(n,s),minDefined:Kt(t),maxDefined:Kt(n)}}getMinMax(t){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),s||(n=Math.min(n,o.min)),r||(i=Math.max(i,o.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:Ue(n,Ue(i,n)),max:Ue(i,Ue(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Mt(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:s,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=NO(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?H_(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=mL(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Mt(this.options.afterUpdate,[this])}beforeSetDimensions(){Mt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Mt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Mt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Mt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i],r.label=Mt(n.callback,[r.value,i,t],this)}afterTickToLabelConversion(){Mt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Mt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=U_(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,r=n.maxRotation;let o=s,a,l,c;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,d=ce(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/i:d/(i-1),h+6>a&&(a=d/(i-(t.offset?.5:1)),l=this.maxHeight-Pr(t.grid)-n.padding-W_(t.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),o=_p(Math.min(Math.asin(ce((u.highest.height+6)/a,-1,1)),Math.asin(ce(l/c,-1,1))-Math.asin(ce(f/c,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){Mt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Mt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=W_(s,n.options.font);if(a?(t.width=this.maxWidth,t.height=Pr(r)+l):(t.height=this.maxHeight,t.width=Pr(r)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:f}=this._getLabelSizes(),d=i.padding*2,p=an(this.labelRotation),g=Math.cos(p),m=Math.sin(p);if(a){const _=i.mirror?0:m*h.width+g*f.height;t.height=Math.min(this.maxHeight,t.height+_+d)}else{const _=i.mirror?0:g*h.width+m*f.height;t.width=Math.min(this.maxWidth,t.width+_+d)}this._calculatePadding(c,u,m,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,s){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,d=0;l?c?(f=s*t.width,d=i*n.height):(f=i*t.height,d=s*n.width):r==="start"?d=n.width:r==="end"?f=t.width:r!=="inner"&&(f=t.width/2,d=n.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((d-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=t.height/2;r==="start"?(u=0,h=t.height):r==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Mt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)vt(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=H_(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:s,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(n/U_(n,i));let c=0,u=0,h,f,d,p,g,m,_,y,w,A,E;for(h=0;h<n;h+=l){if(p=t[h].label,g=this._resolveTickFontOptions(h),s.font=m=g.string,_=r[m]=r[m]||{data:{},gc:[]},y=g.lineHeight,w=A=0,!vt(p)&&!Nt(p))w=ec(s,_.data,_.gc,w,p),A=y;else if(Nt(p))for(f=0,d=p.length;f<d;++f)E=p[f],!vt(E)&&!Nt(E)&&(w=ec(s,_.data,_.gc,w,E),A+=y);o.push(w),a.push(A),c=Math.max(w,c),u=Math.max(A,u)}EL(r,n);const I=o.indexOf(c),P=a.indexOf(u),O=z=>({width:o[z]||0,height:a[z]||0});return{first:O(0),last:O(n-1),widest:O(I),highest:O(P),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return fO(this._alignToPixels?$i(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=IL(this.getContext(),t,i))}return this.$context||(this.$context=TL(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=an(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*i>a*s?a/i:l/s:l*s<a*i?l/i:a/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:o,border:a}=s,l=r.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=Pr(r),d=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,m=g/2,_=function(at){return $i(i,at,g)};let y,w,A,E,I,P,O,z,K,nt,lt,St;if(o==="top")y=_(this.bottom),P=this.bottom-f,z=y-m,nt=_(t.top)+m,St=t.bottom;else if(o==="bottom")y=_(this.top),nt=t.top,St=_(t.bottom)-m,P=y+m,z=this.top+f;else if(o==="left")y=_(this.right),I=this.right-f,O=y-m,K=_(t.left)+m,lt=t.right;else if(o==="right")y=_(this.left),K=t.left,lt=_(t.right)-m,I=y+m,O=this.left+f;else if(n==="x"){if(o==="center")y=_((t.top+t.bottom)/2+.5);else if(gt(o)){const at=Object.keys(o)[0],et=o[at];y=_(this.chart.scales[at].getPixelForValue(et))}nt=t.top,St=t.bottom,P=y+m,z=P+f}else if(n==="y"){if(o==="center")y=_((t.left+t.right)/2);else if(gt(o)){const at=Object.keys(o)[0],et=o[at];y=_(this.chart.scales[at].getPixelForValue(et))}I=y-m,O=I-f,K=t.left,lt=t.right}const ie=ut(s.ticks.maxTicksLimit,h),mt=Math.max(1,Math.ceil(h/ie));for(w=0;w<h;w+=mt){const at=this.getContext(w),et=r.setContext(at),ct=a.setContext(at),kt=et.lineWidth,Me=et.color,De=ct.dash||[],Xt=ct.dashOffset,Ye=et.tickWidth,Ge=et.tickColor,mn=et.tickBorderDash||[],Wt=et.tickBorderDashOffset;A=xL(this,w,l),A!==void 0&&(E=$i(i,A,kt),c?I=O=K=lt=E:P=z=nt=St=E,d.push({tx1:I,ty1:P,tx2:O,ty2:z,x1:K,y1:nt,x2:lt,y2:St,width:kt,color:Me,borderDash:De,borderDashOffset:Xt,tickWidth:Ye,tickColor:Ge,tickBorderDash:mn,tickBorderDashOffset:Wt}))}return this._ticksLength=h,this._borderValue=y,d}_computeLabelItems(t){const n=this.axis,i=this.options,{position:s,ticks:r}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=r,f=Pr(i.grid),d=f+u,p=h?-u:d,g=-an(this.labelRotation),m=[];let _,y,w,A,E,I,P,O,z,K,nt,lt,St="middle";if(s==="top")I=this.bottom-p,P=this._getXAxisLabelAlignment();else if(s==="bottom")I=this.top+p,P=this._getXAxisLabelAlignment();else if(s==="left"){const mt=this._getYAxisLabelAlignment(f);P=mt.textAlign,E=mt.x}else if(s==="right"){const mt=this._getYAxisLabelAlignment(f);P=mt.textAlign,E=mt.x}else if(n==="x"){if(s==="center")I=(t.top+t.bottom)/2+d;else if(gt(s)){const mt=Object.keys(s)[0],at=s[mt];I=this.chart.scales[mt].getPixelForValue(at)+d}P=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")E=(t.left+t.right)/2-d;else if(gt(s)){const mt=Object.keys(s)[0],at=s[mt];E=this.chart.scales[mt].getPixelForValue(at)}P=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?St="top":l==="end"&&(St="bottom"));const ie=this._getLabelSizes();for(_=0,y=a.length;_<y;++_){w=a[_],A=w.label;const mt=r.setContext(this.getContext(_));O=this.getPixelForTick(_)+r.labelOffset,z=this._resolveTickFontOptions(_),K=z.lineHeight,nt=Nt(A)?A.length:1;const at=nt/2,et=mt.color,ct=mt.textStrokeColor,kt=mt.textStrokeWidth;let Me=P;o?(E=O,P==="inner"&&(_===y-1?Me=this.options.reverse?"left":"right":_===0?Me=this.options.reverse?"right":"left":Me="center"),s==="top"?c==="near"||g!==0?lt=-nt*K+K/2:c==="center"?lt=-ie.highest.height/2-at*K+K:lt=-ie.highest.height+K/2:c==="near"||g!==0?lt=K/2:c==="center"?lt=ie.highest.height/2-at*K:lt=ie.highest.height-nt*K,h&&(lt*=-1),g!==0&&!mt.showLabelBackdrop&&(E+=K/2*Math.sin(g))):(I=O,lt=(1-nt)*K/2);let De;if(mt.showLabelBackdrop){const Xt=Re(mt.backdropPadding),Ye=ie.heights[_],Ge=ie.widths[_];let mn=lt-Xt.top,Wt=0-Xt.left;switch(St){case"middle":mn-=Ye/2;break;case"bottom":mn-=Ye;break}switch(P){case"center":Wt-=Ge/2;break;case"right":Wt-=Ge;break}De={left:Wt,top:mn,width:Ge+Xt.width,height:Ye+Xt.height,color:mt.backdropColor}}m.push({label:A,font:z,textOffset:lt,options:{rotation:g,color:et,strokeColor:ct,strokeWidth:kt,textAlign:Me,textBaseline:St,translation:[E,I],backdrop:De}})}return m}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-an(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),a=t+r,l=o.widest.width;let c,u;return n==="left"?s?(u=this.right+r,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?s?(u=this.left+r,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:s,width:r,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,s,r,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(r=0,o=s.length;r<o;++r){const l=s[r];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,f;this.isHorizontal()?(c=$i(t,this.left,o)-o/2,u=$i(t,this.right,a)+a/2,h=f=l):(h=$i(t,this.top,o)-o/2,f=$i(t,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(c,h),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&ru(i,s);const r=this.getLabelItems(t);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;bs(i,c,0,u,l,a)}s&&ou(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=re(i.font),o=Re(i.padding),a=i.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||gt(n)?(l+=o.bottom,Nt(i.text)&&(l+=r.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:f}=CL(this,l,n,a);bs(t,i.text,0,0,r,{color:i.color,maxWidth:h,rotation:f,textAlign:SL(a,n,s),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=ut(t.grid&&t.grid.z,-1),s=ut(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Is.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[i]===this.id&&(!t||a.type===t)&&s.push(a)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return re(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class ja{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;RL(n)&&(i=this.register(n));const s=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in s||(s[r]=t,PL(t,o,i),this.override&&Yt.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,s=this.scope;i in n&&delete n[i],s&&i in Yt[s]&&(delete Yt[s][i],this.override&&delete vs[i])}}function PL(e,t,n){const i=Lo(Object.create(null),[n?Yt.get(n):{},Yt.get(t),e.defaults]);Yt.set(t,i),e.defaultRoutes&&kL(t,e.defaultRoutes),e.descriptors&&Yt.describe(t,e.descriptors)}function kL(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),s=i.pop(),r=[e].concat(i).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");Yt.route(r,s,l,a)})}function RL(e){return"id"in e&&"defaults"in e}class ML{constructor(){this.controllers=new ja(fn,"datasets",!0),this.elements=new ja(ri,"elements"),this.plugins=new ja(Object,"plugins"),this.scales=new ja(Is,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(t,r,s):Tt(s,o=>{const a=i||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,i){const s=mp(t);Mt(i["before"+s],[],i),n[t](i),Mt(i["after"+s],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var bn=new ML;class DL{constructor(){this._init=[]}notify(t,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=s?this._descriptors(t).filter(s):this._descriptors(t),o=this._notify(r,t,n,i);return n==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,i,s){s=s||{};for(const r of t){const o=r.plugin,a=o[i],l=[n,s,r.options];if(Mt(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){vt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,s=ut(i.options&&i.options.plugins,{}),r=OL(i);return s===!1&&!n?[]:LL(t,r,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,s=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,i),t,"stop"),this._notify(s(i,n),t,"start")}}function OL(e){const t={},n=[],i=Object.keys(bn.plugins.items);for(let r=0;r<i.length;r++)n.push(bn.getPlugin(i[r]));const s=e.plugins||[];for(let r=0;r<s.length;r++){const o=s[r];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function VL(e,t){return!t&&e===!1?null:e===!0?{}:e}function LL(e,{plugins:t,localIds:n},i,s){const r=[],o=e.getContext();for(const a of t){const l=a.id,c=VL(i[l],s);c!==null&&r.push({plugin:a,options:NL(e.config,{plugin:a,local:n[l]},c,o)})}return r}function NL(e,{plugin:t,local:n},i,s){const r=e.pluginScopeKeys(t),o=e.getOptionScopes(i,r);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function hf(e,t){const n=Yt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function FL(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function BL(e,t){return e===t?"_index_":"_value_"}function q_(e){if(e==="x"||e==="y"||e==="r")return e}function zL(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function ff(e,...t){if(q_(e))return e;for(const n of t){const i=n.axis||zL(n.position)||e.length>1&&q_(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function K_(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function jL(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return K_(e,"x",n[0])||K_(e,"y",n[0])}return{}}function $L(e,t){const n=vs[e.type]||{scales:{}},i=t.scales||{},s=hf(e.type,t),r=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!gt(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=ff(o,a,jL(o,e),Yt.scales[a.type]),c=BL(l,s),u=n.scales||{};r[o]=io(Object.create(null),[{axis:l},a,u[l],u[c]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||hf(a,t),u=(vs[a]||{}).scales||{};Object.keys(u).forEach(h=>{const f=FL(h,l),d=o[f+"AxisID"]||f;r[d]=r[d]||Object.create(null),io(r[d],[{axis:f},i[d],u[h]])})}),Object.keys(r).forEach(o=>{const a=r[o];io(a,[Yt.scales[a.type],Yt.scale])}),r}function Yw(e){const t=e.options||(e.options={});t.plugins=ut(t.plugins,{}),t.scales=$L(e,t)}function Gw(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function UL(e){return e=e||{},e.data=Gw(e.data),Yw(e),e}const Q_=new Map,Xw=new Set;function $a(e,t){let n=Q_.get(e);return n||(n=t(),Q_.set(e,n),Xw.add(n)),n}const kr=(e,t,n)=>{const i=ki(t,n);i!==void 0&&e.add(i)};class HL{constructor(t){this._config=UL(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Gw(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Yw(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return $a(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return $a(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return $a(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return $a(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let s=i.get(t);return(!s||n)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,n,i){const{options:s,type:r}=this,o=this._cachedScopes(t,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{t&&(l.add(t),u.forEach(h=>kr(l,t,h))),u.forEach(h=>kr(l,s,h)),u.forEach(h=>kr(l,vs[r]||{},h)),u.forEach(h=>kr(l,Yt,h)),u.forEach(h=>kr(l,lf,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Xw.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:t,type:n}=this;return[t,vs[n]||{},Yt.datasets[n]||{},{type:n},Yt,lf]}resolveNamedOptions(t,n,i,s=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=Y_(this._resolverCache,t,s);let l=o;if(qL(o,n)){r.$shared=!1,i=Ri(i)?i():i;const c=this.createResolver(t,i,a);l=lr(o,i,c)}for(const c of n)r[c]=l[c];return r}createResolver(t,n,i=[""],s){const{resolver:r}=Y_(this._resolverCache,t,i);return gt(n)?lr(r,n,void 0,s):r}}function Y_(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const s=n.join();let r=i.get(s);return r||(r={resolver:wp(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(s,r)),r}const WL=e=>gt(e)&&Object.getOwnPropertyNames(e).reduce((t,n)=>t||Ri(e[n]),!1);function qL(e,t){const{isScriptable:n,isIndexable:i}=Pw(e);for(const s of t){const r=n(s),o=i(s),a=(o||r)&&e[s];if(r&&(Ri(a)||WL(a))||o&&Nt(a))return!0}return!1}var KL="4.3.3";const QL=["top","bottom","left","right","chartArea"];function G_(e,t){return e==="top"||e==="bottom"||QL.indexOf(e)===-1&&t==="x"}function X_(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function J_(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Mt(n&&n.onComplete,[e],t)}function YL(e){const t=e.chart,n=t.options.animation;Mt(n&&n.onProgress,[e],t)}function Jw(e){return Vw()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const yl={},Z_=e=>{const t=Jw(e);return Object.values(yl).filter(n=>n.canvas===t).pop()};function GL(e,t,n){const i=Object.keys(e);for(const s of i){const r=+s;if(r>=t){const o=e[s];delete e[s],(n>0||r>t)&&(e[r+n]=o)}}}function XL(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}function JL(e){const{xScale:t,yScale:n}=e;if(t&&n)return{left:t.left,right:t.right,top:n.top,bottom:n.bottom}}class $n{static register(...t){bn.add(...t),ty()}static unregister(...t){bn.remove(...t),ty()}constructor(t,n){const i=this.config=new HL(n),s=Jw(t),r=Z_(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||gL(s)),this.platform.updateConfig(i);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=tO(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new DL,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=mO(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],yl[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Fn.listen(this,"complete",J_),Fn.listen(this,"progress",YL),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return vt(t)?n&&r?r:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return bn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():A_(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return y_(this.canvas,this.ctx),this}stop(){return Fn.stop(this),this}resize(t,n){Fn.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,t,n,r),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,A_(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Mt(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Tt(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,s=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],l=ff(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Tt(r,o=>{const a=o.options,l=a.id,c=ff(l,a),u=ut(a.type,o.dtype);(a.position===void 0||G_(a.position,c)!==G_(o.dposition))&&(a.position=o.dposition),s[l]=!0;let h=null;if(l in i&&i[l].type===u)h=i[l];else{const f=bn.getScale(u);h=new f({id:l,type:u,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(a,t)}),Tt(s,(o,a)=>{o||delete i[a]}),Tt(i,o=>{Ie.configure(this,o,o.options),Ie.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(X_("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let o=this.getDatasetMeta(i);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=r.indexAxis||hf(a,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=bn.getController(a),{datasetElementType:c,dataElementType:u}=Yt.datasets[a];Object.assign(l,{dataElementType:bn.getElement(u),datasetElementType:c&&bn.getElement(c)}),o.controller=new l(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){Tt(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),f=!s&&r.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||Tt(r,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(X_("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Tt(this.scales,t=>{Ie.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!c_(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const o=i==="_removeElements"?-r:r;GL(t,s,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(t.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!c_(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ie.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Tt(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Ri(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Fn.has(this)?this.attached&&!Fn.running(this)&&Fn.start(this):(this.draw(),J_({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resize(i,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const o=n[s];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i=t._clip,s=!i.disabled,r=JL(t)||this.chartArea,o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(s&&ru(n,{left:i.left===!1?0:r.left-i.left,right:i.right===!1?this.width:r.right+i.right,top:i.top===!1?0:r.top-i.top,bottom:i.bottom===!1?this.height:r.bottom+i.bottom}),t.controller.draw(),s&&ou(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return Kn(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,s){const r=QV.modes[n];return typeof r=="function"?r(this,t,i,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=Fi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,s);No(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(r,{visible:i}),this.update(a=>a.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Fn.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),y_(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete yl[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(r,o)=>{n.addEventListener(this,r,o),t[r]=o},s=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};Tt(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),t[l]=c},s=(l,c)=>{t[l]&&(n.removeEventListener(this,l,c),delete t[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Tt(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Tt(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const s=i?"set":"remove";let r,o,a,l;for(n==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!Jl(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const s=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=r(n,t),a=i?t:r(t,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:s=[],options:r}=this,o=n,a=this._getActiveElements(t,s,i,o),l=oO(t),c=XL(t,this._lastEvent,i,l);i&&(this._lastEvent=null,Mt(r.onHover,[t,a,this],this),l&&Mt(r.onClick,[t,a,this],this));const u=!Jl(a,s);return(u||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=c,u}_getActiveElements(t,n,i,s){if(t.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,s)}}L($n,"defaults",Yt),L($n,"instances",yl),L($n,"overrides",vs),L($n,"registry",bn),L($n,"version",KL),L($n,"getChart",Z_);function ty(){return Tt($n.instances,e=>e._plugins.invalidate())}function ZL(e,t,n){const{startAngle:i,pixelMargin:s,x:r,y:o,outerRadius:a,innerRadius:l}=t;let c=s/a;e.beginPath(),e.arc(r,o,a,i-c,n+c),l>s?(c=s/l,e.arc(r,o,l,n+c,i-c,!0)):e.arc(r,o,s,n+Qt,i-Qt),e.closePath(),e.clip()}function tN(e){return Ap(e,["outerStart","outerEnd","innerStart","innerEnd"])}function eN(e,t,n,i){const s=tN(e.options.borderRadius),r=(n-t)/2,o=Math.min(r,i*t/2),a=l=>{const c=(n-Math.min(r,l))*i/2;return ce(l,0,Math.min(r,c))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:ce(s.innerStart,0,o),innerEnd:ce(s.innerEnd,0,o)}}function Rs(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function sc(e,t,n,i,s,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=t,h=Math.max(t.outerRadius+i+n-c,0),f=u>0?u+i+n+c:0;let d=0;const p=s-l;if(i){const mt=u>0?u-i:0,at=h>0?h-i:0,et=(mt+at)/2,ct=et!==0?p*et/(et+i):p;d=(p-ct)/2}const g=Math.max(.001,p*h-n/$t)/h,m=(p-g)/2,_=l+m+d,y=s-m-d,{outerStart:w,outerEnd:A,innerStart:E,innerEnd:I}=eN(t,f,h,y-_),P=h-w,O=h-A,z=_+w/P,K=y-A/O,nt=f+E,lt=f+I,St=_+E/nt,ie=y-I/lt;if(e.beginPath(),r){const mt=(z+K)/2;if(e.arc(o,a,h,z,mt),e.arc(o,a,h,mt,K),A>0){const kt=Rs(O,K,o,a);e.arc(kt.x,kt.y,A,K,y+Qt)}const at=Rs(lt,y,o,a);if(e.lineTo(at.x,at.y),I>0){const kt=Rs(lt,ie,o,a);e.arc(kt.x,kt.y,I,y+Qt,ie+Math.PI)}const et=(y-I/f+(_+E/f))/2;if(e.arc(o,a,f,y-I/f,et,!0),e.arc(o,a,f,et,_+E/f,!0),E>0){const kt=Rs(nt,St,o,a);e.arc(kt.x,kt.y,E,St+Math.PI,_-Qt)}const ct=Rs(P,_,o,a);if(e.lineTo(ct.x,ct.y),w>0){const kt=Rs(P,z,o,a);e.arc(kt.x,kt.y,w,_-Qt,z)}}else{e.moveTo(o,a);const mt=Math.cos(z)*h+o,at=Math.sin(z)*h+a;e.lineTo(mt,at);const et=Math.cos(K)*h+o,ct=Math.sin(K)*h+a;e.lineTo(et,ct)}e.closePath()}function nN(e,t,n,i,s){const{fullCircles:r,startAngle:o,circumference:a}=t;let l=t.endAngle;if(r){sc(e,t,n,i,l,s);for(let c=0;c<r;++c)e.fill();isNaN(a)||(l=o+(a%Ft||Ft))}return sc(e,t,n,i,l,s),e.fill(),l}function iN(e,t,n,i,s){const{fullCircles:r,startAngle:o,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:f}=l,d=l.borderAlign==="inner";if(!c)return;e.setLineDash(h||[]),e.lineDashOffset=f,d?(e.lineWidth=c*2,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let p=t.endAngle;if(r){sc(e,t,n,i,p,s);for(let g=0;g<r;++g)e.stroke();isNaN(a)||(p=o+(a%Ft||Ft))}d&&ZL(e,t,p),r||(sc(e,t,n,i,p,s),e.stroke())}class $r extends ri{constructor(n){super();L(this,"circumference");L(this,"endAngle");L(this,"fullCircles");L(this,"innerRadius");L(this,"outerRadius");L(this,"pixelMargin");L(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.getProps(["x","y"],s),{angle:o,distance:a}=vw(r,{x:n,y:i}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),d=(this.options.spacing+this.options.borderWidth)/2,g=ut(f,c-l)>=Ft||Fo(o,l,c),m=Wn(a,u+d,h+d);return g&&m}getCenterPoint(n){const{x:i,y:s,startAngle:r,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,h=(r+o)/2,f=(a+l+u+c)/2;return{x:i+Math.cos(h)*f,y:s+Math.sin(h)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:s}=this,r=(i.offset||0)/4,o=(i.spacing||0)/2,a=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>Ft?Math.floor(s/Ft):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*r,Math.sin(l)*r);const c=1-Math.sin(Math.min($t,s||0)),u=r*c;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,nN(n,this,u,o,a),iN(n,this,u,o,a),n.restore()}}L($r,"id","arc"),L($r,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),L($r,"defaultRoutes",{backgroundColor:"backgroundColor"}),L($r,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function Zw(e,t,n=t){e.lineCap=ut(n.borderCapStyle,t.borderCapStyle),e.setLineDash(ut(n.borderDash,t.borderDash)),e.lineDashOffset=ut(n.borderDashOffset,t.borderDashOffset),e.lineJoin=ut(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=ut(n.borderWidth,t.borderWidth),e.strokeStyle=ut(n.borderColor,t.borderColor)}function sN(e,t,n){e.lineTo(n.x,n.y)}function rN(e){return e.stepped?CO:e.tension||e.cubicInterpolationMode==="monotone"?PO:sN}function tx(e,t,n={}){const i=e.length,{start:s=0,end:r=i-1}=n,{start:o,end:a}=t,l=Math.max(s,o),c=Math.min(r,a),u=s<o&&r<o||s>a&&r>a;return{count:i,start:l,loop:t.loop,ilen:c<l&&!u?i+c-l:c-l}}function oN(e,t,n,i){const{points:s,options:r}=t,{count:o,start:a,loop:l,ilen:c}=tx(s,n,i),u=rN(r);let{move:h=!0,reverse:f}=i||{},d,p,g;for(d=0;d<=c;++d)p=s[(a+(f?c-d:d))%o],!p.skip&&(h?(e.moveTo(p.x,p.y),h=!1):u(e,g,p,f,r.stepped),g=p);return l&&(p=s[(a+(f?c:0))%o],u(e,g,p,f,r.stepped)),!!l}function aN(e,t,n,i){const s=t.points,{count:r,start:o,ilen:a}=tx(s,n,i),{move:l=!0,reverse:c}=i||{};let u=0,h=0,f,d,p,g,m,_;const y=A=>(o+(c?a-A:A))%r,w=()=>{g!==m&&(e.lineTo(u,m),e.lineTo(u,g),e.lineTo(u,_))};for(l&&(d=s[y(0)],e.moveTo(d.x,d.y)),f=0;f<=a;++f){if(d=s[y(f)],d.skip)continue;const A=d.x,E=d.y,I=A|0;I===p?(E<g?g=E:E>m&&(m=E),u=(h*u+A)/++h):(w(),e.lineTo(A,E),p=I,h=0,g=m=E),_=E}w()}function df(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?aN:oN}function lN(e){return e.stepped?aV:e.tension||e.cubicInterpolationMode==="monotone"?lV:Ki}function cN(e,t,n,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,n,i)&&s.closePath()),Zw(e,t.options),e.stroke(s)}function uN(e,t,n,i){const{segments:s,options:r}=t,o=df(t);for(const a of s)Zw(e,r,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}const hN=typeof Path2D=="function";function fN(e,t,n,i){hN&&!t.options.segment?cN(e,t,n,i):uN(e,t,n,i)}class gi extends ri{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;ZO(this._points,i,t,s,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=pV(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){const i=this.options,s=t[n],r=this.points,o=zw(this,{property:n,start:s,end:s});if(!o.length)return;const a=[],l=lN(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:f}=o[c],d=r[h],p=r[f];if(d===p){a.push(d);continue}const g=Math.abs((s-d[n])/(p[n]-d[n])),m=l(d,p,g,i.stepped);m[n]=t[n],a.push(m)}return a.length===1?a[0]:a}pathSegment(t,n,i){return df(this)(t,this,n,i)}path(t,n,i){const s=this.segments,r=df(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of s)o&=r(t,this,a,{start:n,end:n+i-1});return!!o}draw(t,n,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),fN(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}L(gi,"id","line"),L(gi,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),L(gi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),L(gi,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function ey(e,t,n,i){const s=e.options,{[n]:r}=e.getProps([n],i);return Math.abs(t-r)<s.radius+s.hitRadius}class vl extends ri{constructor(n){super();L(this,"parsed");L(this,"skip");L(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(n-o,2)+Math.pow(i-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(n,i){return ey(this,n,"x",i)}inYRange(n,i){return ey(this,n,"y",i)}getCenterPoint(n){const{x:i,y:s}=this.getProps(["x","y"],n);return{x:i,y:s}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const s=i&&n.borderWidth||0;return(i+s)*2}draw(n,i){const s=this.options;this.skip||s.radius<.1||!Kn(this,i,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,cf(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}L(vl,"id","point"),L(vl,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),L(vl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function ex(e,t){const{x:n,y:i,base:s,width:r,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,c,u,h;return e.horizontal?(h=o/2,a=Math.min(n,s),l=Math.max(n,s),c=i-h,u=i+h):(h=r/2,a=n-h,l=n+h,c=Math.min(i,s),u=Math.max(i,s)),{left:a,top:c,right:l,bottom:u}}function mi(e,t,n,i){return e?0:ce(t,n,i)}function dN(e,t,n){const i=e.options.borderWidth,s=e.borderSkipped,r=Cw(i);return{t:mi(s.top,r.top,0,n),r:mi(s.right,r.right,0,t),b:mi(s.bottom,r.bottom,0,n),l:mi(s.left,r.left,0,t)}}function pN(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,r=us(s),o=Math.min(t,n),a=e.borderSkipped,l=i||gt(s);return{topLeft:mi(!l||a.top||a.left,r.topLeft,0,o),topRight:mi(!l||a.top||a.right,r.topRight,0,o),bottomLeft:mi(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:mi(!l||a.bottom||a.right,r.bottomRight,0,o)}}function gN(e){const t=ex(e),n=t.right-t.left,i=t.bottom-t.top,s=dN(e,n/2,i/2),r=pN(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:r},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function eh(e,t,n,i){const s=t===null,r=n===null,a=e&&!(s&&r)&&ex(e,i);return a&&(s||Wn(t,a.left,a.right))&&(r||Wn(n,a.top,a.bottom))}function mN(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function _N(e,t){e.rect(t.x,t.y,t.w,t.h)}function nh(e,t,n={}){const i=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,r=(e.x+e.w!==n.x+n.w?t:0)-i,o=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+i,y:e.y+s,w:e.w+r,h:e.h+o,radius:e.radius}}class bl extends ri{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:o}=gN(this),a=mN(o.radius)?Bo:_N;t.save(),(o.w!==r.w||o.h!==r.h)&&(t.beginPath(),a(t,nh(o,n,r)),t.clip(),a(t,nh(r,-n,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,nh(r,n)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,n,i){return eh(this,t,n,i)}inXRange(t,n){return eh(this,t,null,n)}inYRange(t,n){return eh(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(n+s)/2:n,y:r?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}L(bl,"id","bar"),L(bl,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),L(bl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var yN=Object.freeze({__proto__:null,ArcElement:$r,BarElement:bl,LineElement:gi,PointElement:vl});const pf=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],ny=pf.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function nx(e){return pf[e%pf.length]}function ix(e){return ny[e%ny.length]}function vN(e,t){return e.borderColor=nx(t),e.backgroundColor=ix(t),++t}function bN(e,t){return e.backgroundColor=e.data.map(()=>nx(t++)),t}function AN(e,t){return e.backgroundColor=e.data.map(()=>ix(t++)),t}function wN(e){let t=0;return(n,i)=>{const s=e.getDatasetMeta(i).controller;s instanceof ns?t=bN(n,t):s instanceof ao?t=AN(n,t):s&&(t=vN(n,t))}}function iy(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function xN(e){return e&&(e.borderColor||e.backgroundColor)}var EN={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:i},options:s}=e.config,{elements:r}=s;if(!n.forceOverride&&(iy(i)||xN(s)||r&&iy(r)))return;const o=wN(e);i.forEach(o)}};function TN(e,t,n,i,s){const r=s.samples||i;if(r>=n)return e.slice(t,t+n);const o=[],a=(n-2)/(r-2);let l=0;const c=t+n-1;let u=t,h,f,d,p,g;for(o[l++]=e[u],h=0;h<r-2;h++){let m=0,_=0,y;const w=Math.floor((h+1)*a)+1+t,A=Math.min(Math.floor((h+2)*a)+1,n)+t,E=A-w;for(y=w;y<A;y++)m+=e[y].x,_+=e[y].y;m/=E,_/=E;const I=Math.floor(h*a)+1+t,P=Math.min(Math.floor((h+1)*a)+1,n)+t,{x:O,y:z}=e[u];for(d=p=-1,y=I;y<P;y++)p=.5*Math.abs((O-m)*(e[y].y-z)-(O-e[y].x)*(_-z)),p>d&&(d=p,f=e[y],g=y);o[l++]=f,u=g}return o[l++]=e[c],o}function IN(e,t,n,i){let s=0,r=0,o,a,l,c,u,h,f,d,p,g;const m=[],_=t+n-1,y=e[t].x,A=e[_].x-y;for(o=t;o<t+n;++o){a=e[o],l=(a.x-y)/A*i,c=a.y;const E=l|0;if(E===u)c<p?(p=c,h=o):c>g&&(g=c,f=o),s=(r*s+a.x)/++r;else{const I=o-1;if(!vt(h)&&!vt(f)){const P=Math.min(h,f),O=Math.max(h,f);P!==d&&P!==I&&m.push({...e[P],x:s}),O!==d&&O!==I&&m.push({...e[O],x:s})}o>0&&I!==d&&m.push(e[I]),m.push(a),u=E,r=0,p=g=c,h=f=d=o}}return m}function sx(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function sy(e){e.data.datasets.forEach(t=>{sx(t)})}function SN(e,t){const n=t.length;let i=0,s;const{iScale:r}=e,{min:o,max:a,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(i=ce(qn(t,r.axis,o).lo,0,n-1)),c?s=ce(qn(t,r.axis,a).hi+1,i,n)-i:s=n-i,{start:i,count:s}}var CN={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){sy(e);return}const i=e.width;e.data.datasets.forEach((s,r)=>{const{_data:o,indexAxis:a}=s,l=e.getDatasetMeta(r),c=o||s.data;if(zr([a,e.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=e.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||e.options.parsing)return;let{start:h,count:f}=SN(l,c);const d=n.threshold||4*i;if(f<=d){sx(s);return}vt(o)&&(s._data=c,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let p;switch(n.algorithm){case"lttb":p=TN(c,h,f,i,n);break;case"min-max":p=IN(c,h,f,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=p})},destroy(e){sy(e)}};function PN(e,t,n){const i=e.segments,s=e.points,r=t.points,o=[];for(const a of i){let{start:l,end:c}=a;c=Sp(l,c,s);const u=gf(n,s[l],s[c],a.loop);if(!t.segments){o.push({source:a,target:u,start:s[l],end:s[c]});continue}const h=zw(t,u);for(const f of h){const d=gf(n,r[f.start],r[f.end],f.loop),p=Bw(a,s,d);for(const g of p)o.push({source:g,target:f,start:{[n]:ry(u,d,"start",Math.max)},end:{[n]:ry(u,d,"end",Math.min)}})}}return o}function gf(e,t,n,i){if(i)return;let s=t[e],r=n[e];return e==="angle"&&(s=We(s),r=We(r)),{property:e,start:s,end:r}}function kN(e,t){const{x:n=null,y:i=null}=e||{},s=t.points,r=[];return t.segments.forEach(({start:o,end:a})=>{a=Sp(o,a,s);const l=s[o],c=s[a];i!==null?(r.push({x:l.x,y:i}),r.push({x:c.x,y:i})):n!==null&&(r.push({x:n,y:l.y}),r.push({x:n,y:c.y}))}),r}function Sp(e,t,n){for(;t>e;t--){const i=n[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function ry(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function rx(e,t){let n=[],i=!1;return Nt(e)?(i=!0,n=e):n=kN(e,t),n.length?new gi({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function oy(e){return e&&e.fill!==!1}function RN(e,t,n){let s=e[t].fill;const r=[t];let o;if(!n)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!Kt(s))return s;if(o=e[s],!o)return!1;if(o.visible)return s;r.push(s),s=o.fill}return!1}function MN(e,t,n){const i=LN(e);if(gt(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return Kt(s)&&Math.floor(s)===s?DN(i[0],t,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function DN(e,t,n,i){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=i?!1:n}function ON(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:gt(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function VN(e,t,n){let i;return e==="start"?i=n:e==="end"?i=t.options.reverse?t.min:t.max:gt(e)?i=e.value:i=t.getBaseValue(),i}function LN(e){const t=e.options,n=t.fill;let i=ut(n&&n.target,n);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function NN(e){const{scale:t,index:n,line:i}=e,s=[],r=i.segments,o=i.points,a=FN(t,n);a.push(rx({x:null,y:t.bottom},i));for(let l=0;l<r.length;l++){const c=r[l];for(let u=c.start;u<=c.end;u++)BN(s,o[u],a)}return new gi({points:s,options:{}})}function FN(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const r=i[s];if(r.index===t)break;r.hidden||n.unshift(r.dataset)}return n}function BN(e,t,n){const i=[];for(let s=0;s<n.length;s++){const r=n[s],{first:o,last:a,point:l}=zN(r,t,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(e.push(l),!a)break}}e.push(...i)}function zN(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const s=i[n],r=e.segments,o=e.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const u=r[c],h=o[u.start][n],f=o[u.end][n];if(Wn(s,h,f)){a=s===h,l=s===f;break}}return{first:a,last:l,point:i}}class ox{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,i){const{x:s,y:r,radius:o}=this;return n=n||{start:0,end:Ft},t.arc(s,r,o,n.end,n.start,!0),!i.bounds}interpolate(t){const{x:n,y:i,radius:s}=this,r=t.angle;return{x:n+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}}function jN(e){const{chart:t,fill:n,line:i}=e;if(Kt(n))return $N(t,n);if(n==="stack")return NN(e);if(n==="shape")return!0;const s=UN(e);return s instanceof ox?s:rx(s,i)}function $N(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function UN(e){return(e.scale||{}).getPointPositionForValue?WN(e):HN(e)}function HN(e){const{scale:t={},fill:n}=e,i=ON(n,t);if(Kt(i)){const s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function WN(e){const{scale:t,fill:n}=e,i=t.options,s=t.getLabels().length,r=i.reverse?t.max:t.min,o=VN(n,t,r),a=[];if(i.grid.circular){const l=t.getPointPositionForValue(0,r);return new ox({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<s;++l)a.push(t.getPointPositionForValue(l,o));return a}function ih(e,t,n){const i=jN(t),{line:s,scale:r,axis:o}=t,a=s.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:h=c}=l||{};i&&s.points.length&&(ru(e,n),qN(e,{line:s,target:i,above:u,below:h,area:n,scale:r,axis:o}),ou(e))}function qN(e,t){const{line:n,target:i,above:s,below:r,area:o,scale:a}=t,l=n._loop?"angle":t.axis;e.save(),l==="x"&&r!==s&&(ay(e,i,o.top),ly(e,{line:n,target:i,color:s,scale:a,property:l}),e.restore(),e.save(),ay(e,i,o.bottom)),ly(e,{line:n,target:i,color:r,scale:a,property:l}),e.restore()}function ay(e,t,n){const{segments:i,points:s}=t;let r=!0,o=!1;e.beginPath();for(const a of i){const{start:l,end:c}=a,u=s[l],h=s[Sp(l,c,s)];r?(e.moveTo(u.x,u.y),r=!1):(e.lineTo(u.x,n),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(h.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function ly(e,t){const{line:n,target:i,property:s,color:r,scale:o}=t,a=PN(n,i,s);for(const{source:l,target:c,start:u,end:h}of a){const{style:{backgroundColor:f=r}={}}=l,d=i!==!0;e.save(),e.fillStyle=f,KN(e,o,d&&gf(s,u,h)),e.beginPath();const p=!!n.pathSegment(e,l);let g;if(d){p?e.closePath():cy(e,i,h,s);const m=!!i.pathSegment(e,c,{move:p,reverse:!0});g=p&&m,g||cy(e,i,u,s)}e.closePath(),e.fill(g?"evenodd":"nonzero"),e.restore()}}function KN(e,t,n){const{top:i,bottom:s}=t.chart.chartArea,{property:r,start:o,end:a}=n||{};r==="x"&&(e.beginPath(),e.rect(o,i,a-o,s-i),e.clip())}function cy(e,t,n,i){const s=t.interpolate(n,i);s&&e.lineTo(s.x,s.y)}var QN={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,s=[];let r,o,a,l;for(o=0;o<i;++o)r=e.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof gi&&(l={visible:e.isDatasetVisible(o),index:o,fill:MN(a,o,i),chart:e,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,s.push(l);for(o=0;o<i;++o)l=s[o],!(!l||l.fill===!1)&&(l.fill=RN(s,o,n.propagate))},beforeDraw(e,t,n){const i=n.drawTime==="beforeDraw",s=e.getSortedVisibleDatasetMetas(),r=e.chartArea;for(let o=s.length-1;o>=0;--o){const a=s[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),i&&a.fill&&ih(e.ctx,a,r))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=e.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const r=i[s].$filler;oy(r)&&ih(e.ctx,r,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;!oy(i)||n.drawTime!=="beforeDatasetDraw"||ih(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const uy=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},YN=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class hy extends ri{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Mt(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=re(i.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=uy(i,r);let c,u;n.font=s.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,s,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,s){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=s+a;let h=t;r.textAlign="left",r.textBaseline="middle";let f=-1,d=-u;return this.legendItems.forEach((p,g)=>{const m=i+n/2+r.measureText(p.text).width;(g===0||c[c.length-1]+m+2*a>o)&&(h+=u,c[c.length-(g>0?0:1)]=0,d+=u,f++),l[g]={left:0,top:d,row:f,width:m,height:s},c[c.length-1]+=m+a}),h}_fitCols(t,n,i,s){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-t;let h=a,f=0,d=0,p=0,g=0;return this.legendItems.forEach((m,_)=>{const{itemWidth:y,itemHeight:w}=GN(i,n,r,m,s);_>0&&d+w+2*a>u&&(h+=f+a,c.push({width:f,height:d}),p+=f+a,g++,f=d=0),l[_]={left:p,top:d,col:g,width:y,height:w},f=Math.max(f,y),d+=w+a}),h+=f,c.push({width:f,height:d}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,o=qs(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=be(i,this.left+s,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=be(i,this.left+s,this.right-this.lineWidths[a])),c.top+=this.top+t+s,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+s}else{let a=0,l=be(i,this.top+t+s,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=be(i,this.top+t+s,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+s,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;ru(t,this),this._draw(),ou(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:o}=t,a=Yt.color,l=qs(t.rtl,this.left,this.width),c=re(o.font),{padding:u}=o,h=c.size,f=h/2;let d;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:p,boxHeight:g,itemHeight:m}=uy(o,h),_=function(I,P,O){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;s.save();const z=ut(O.lineWidth,1);if(s.fillStyle=ut(O.fillStyle,a),s.lineCap=ut(O.lineCap,"butt"),s.lineDashOffset=ut(O.lineDashOffset,0),s.lineJoin=ut(O.lineJoin,"miter"),s.lineWidth=z,s.strokeStyle=ut(O.strokeStyle,a),s.setLineDash(ut(O.lineDash,[])),o.usePointStyle){const K={radius:g*Math.SQRT2/2,pointStyle:O.pointStyle,rotation:O.rotation,borderWidth:z},nt=l.xPlus(I,p/2),lt=P+f;Sw(s,K,nt,lt,o.pointStyleWidth&&p)}else{const K=P+Math.max((h-g)/2,0),nt=l.leftForLtr(I,p),lt=us(O.borderRadius);s.beginPath(),Object.values(lt).some(St=>St!==0)?Bo(s,{x:nt,y:K,w:p,h:g,radius:lt}):s.rect(nt,K,p,g),s.fill(),z!==0&&s.stroke()}s.restore()},y=function(I,P,O){bs(s,O.text,I,P+m/2,c,{strikethrough:O.hidden,textAlign:l.textAlign(O.textAlign)})},w=this.isHorizontal(),A=this._computeTitleHeight();w?d={x:be(r,this.left+u,this.right-i[0]),y:this.top+u+A,line:0}:d={x:this.left+u,y:be(r,this.top+A+u,this.bottom-n[0].height),line:0},Lw(this.ctx,t.textDirection);const E=m+u;this.legendItems.forEach((I,P)=>{s.strokeStyle=I.fontColor,s.fillStyle=I.fontColor;const O=s.measureText(I.text).width,z=l.textAlign(I.textAlign||(I.textAlign=o.textAlign)),K=p+f+O;let nt=d.x,lt=d.y;l.setWidth(this.width),w?P>0&&nt+K+u>this.right&&(lt=d.y+=E,d.line++,nt=d.x=be(r,this.left+u,this.right-i[d.line])):P>0&&lt+E>this.bottom&&(nt=d.x=nt+n[d.line].width+u,d.line++,lt=d.y=be(r,this.top+A+u,this.bottom-n[d.line].height));const St=l.x(nt);if(_(St,lt,I),nt=_O(z,nt+p+f,w?nt+K:this.right,t.rtl),y(l.x(nt),lt,I),w)d.x+=K+u;else if(typeof I.text!="string"){const ie=c.lineHeight;d.y+=ax(I,ie)+u}else d.y+=E}),Nw(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=re(n.font),s=Re(n.padding);if(!n.display)return;const r=qs(t.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,c=s.top+l;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,h=be(t.align,h,this.right-f);else{const p=this.columnSizes.reduce((g,m)=>Math.max(g,m.height),0);u=c+be(t.align,this.top,this.bottom-p-t.labels.padding-this._computeTitleHeight())}const d=be(a,h,h+f);o.textAlign=r.textAlign(vp(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,bs(o,n.text,d,u,i)}_computeTitleHeight(){const t=this.options.title,n=re(t.font),i=Re(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,s,r;if(Wn(t,this.left,this.right)&&Wn(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],Wn(t,s.left,s.left+s.width)&&Wn(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!ZN(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,r=YN(s,i);s&&!r&&Mt(n.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!r&&Mt(n.onHover,[t,i,this],this)}else i&&Mt(n.onClick,[t,i,this],this)}}function GN(e,t,n,i,s){const r=XN(i,e,t,n),o=JN(s,i,t.lineHeight);return{itemWidth:r,itemHeight:o}}function XN(e,t,n,i){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((r,o)=>r.length>o.length?r:o)),t+n.size/2+i.measureText(s).width}function JN(e,t,n){let i=e;return typeof t.text!="string"&&(i=ax(t,n)),i}function ax(e,t){const n=e.text?e.text.length:0;return t*n}function ZN(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var tF={id:"legend",_element:hy,start(e,t,n){const i=e.legend=new hy({ctx:e.ctx,options:n,chart:e});Ie.configure(e,i,n),Ie.addBox(e,i)},stop(e){Ie.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;Ie.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=Re(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Cp extends ri{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const s=Nt(i.text)?i.text.length:1;this._padding=Re(i.padding);const r=s*re(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:s,right:r,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=be(a,i,r),h=n+t,c=r-i):(o.position==="left"?(u=i+t,h=be(a,s,n),l=$t*-.5):(u=r-t,h=be(a,n,s),l=$t*.5),c=s-n),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=re(n.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);bs(t,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:vp(n.align),textBaseline:"middle",translation:[o,a]})}}function eF(e,t){const n=new Cp({ctx:e.ctx,options:t,chart:e});Ie.configure(e,n,t),Ie.addBox(e,n),e.titleBlock=n}var nF={id:"title",_element:Cp,start(e,t,n){eF(e,n)},stop(e){const t=e.titleBlock;Ie.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;Ie.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ua=new WeakMap;var iF={id:"subtitle",start(e,t,n){const i=new Cp({ctx:e.ctx,options:n,chart:e});Ie.configure(e,i,n),Ie.addBox(e,i),Ua.set(e,i)},stop(e){Ie.removeBox(e,Ua.get(e)),Ua.delete(e)},beforeUpdate(e,t,n){const i=Ua.get(e);Ie.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ur={average(e){if(!e.length)return!1;let t,n,i=0,s=0,r=0;for(t=0,n=e.length;t<n;++t){const o=e[t].element;if(o&&o.hasValue()){const a=o.tooltipPosition();i+=a.x,s+=a.y,++r}}return{x:i/r,y:s/r}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,s=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=e.length;r<o;++r){const l=e[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=af(t,c);u<s&&(s=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function vn(e,t){return t&&(Nt(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Bn(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function sF(e,t){const{element:n,datasetIndex:i,index:s}=t,r=e.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(s);return{chart:e,label:o,parsed:r.getParsed(s),raw:e.data.datasets[i].data[s],formattedValue:a,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function fy(e,t){const n=e.chart.ctx,{body:i,footer:s,title:r}=e,{boxWidth:o,boxHeight:a}=t,l=re(t.bodyFont),c=re(t.titleFont),u=re(t.footerFont),h=r.length,f=s.length,d=i.length,p=Re(t.padding);let g=p.height,m=0,_=i.reduce((A,E)=>A+E.before.length+E.lines.length+E.after.length,0);if(_+=e.beforeBody.length+e.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),_){const A=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=d*A+(_-d)*l.lineHeight+(_-1)*t.bodySpacing}f&&(g+=t.footerMarginTop+f*u.lineHeight+(f-1)*t.footerSpacing);let y=0;const w=function(A){m=Math.max(m,n.measureText(A).width+y)};return n.save(),n.font=c.string,Tt(e.title,w),n.font=l.string,Tt(e.beforeBody.concat(e.afterBody),w),y=t.displayColors?o+2+t.boxPadding:0,Tt(i,A=>{Tt(A.before,w),Tt(A.lines,w),Tt(A.after,w)}),y=0,n.font=u.string,Tt(e.footer,w),n.restore(),m+=p.width,{width:m,height:g}}function rF(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function oF(e,t,n,i){const{x:s,width:r}=i,o=n.caretSize+n.caretPadding;if(e==="left"&&s+r+o>t.width||e==="right"&&s-r-o<0)return!0}function aF(e,t,n,i){const{x:s,width:r}=n,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return i==="center"?c=s<=(a+l)/2?"left":"right":s<=r/2?c="left":s>=o-r/2&&(c="right"),oF(c,e,t,n)&&(c="center"),c}function dy(e,t,n){const i=n.yAlign||t.yAlign||rF(e,n);return{xAlign:n.xAlign||t.xAlign||aF(e,t,n,i),yAlign:i}}function lF(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function cF(e,t,n){let{y:i,height:s}=e;return t==="top"?i+=n:t==="bottom"?i-=s+n:i-=s/2,i}function py(e,t,n,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,c=s+r,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:d}=us(o);let p=lF(t,a);const g=cF(t,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,f)+s:a==="right"&&(p+=Math.max(h,d)+s),{x:ce(p,0,i.width-t.width),y:ce(g,0,i.height-t.height)}}function Ha(e,t,n){const i=Re(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function gy(e){return vn([],Bn(e))}function uF(e,t,n){return Fi(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function my(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const lx={beforeTitle:Nn,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:Nn,beforeBody:Nn,beforeLabel:Nn,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return vt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Nn,afterBody:Nn,beforeFooter:Nn,footer:Nn,afterFooter:Nn};function Le(e,t,n,i){const s=e[t].call(n,i);return typeof s>"u"?lx[t].call(n,i):s}class mf extends ri{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new jw(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=uF(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,s=Le(i,"beforeTitle",this,t),r=Le(i,"title",this,t),o=Le(i,"afterTitle",this,t);let a=[];return a=vn(a,Bn(s)),a=vn(a,Bn(r)),a=vn(a,Bn(o)),a}getBeforeBody(t,n){return gy(Le(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,s=[];return Tt(t,r=>{const o={before:[],lines:[],after:[]},a=my(i,r);vn(o.before,Bn(Le(a,"beforeLabel",this,r))),vn(o.lines,Le(a,"label",this,r)),vn(o.after,Bn(Le(a,"afterLabel",this,r))),s.push(o)}),s}getAfterBody(t,n){return gy(Le(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,s=Le(i,"beforeFooter",this,t),r=Le(i,"footer",this,t),o=Le(i,"afterFooter",this,t);let a=[];return a=vn(a,Bn(s)),a=vn(a,Bn(r)),a=vn(a,Bn(o)),a}_createItems(t){const n=this._active,i=this.chart.data,s=[],r=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(sF(this.chart,n[l]));return t.filter&&(a=a.filter((u,h,f)=>t.filter(u,h,f,i))),t.itemSort&&(a=a.sort((u,h)=>t.itemSort(u,h,i))),Tt(a,u=>{const h=my(t.callbacks,u);s.push(Le(h,"labelColor",this,u)),r.push(Le(h,"labelPointStyle",this,u)),o.push(Le(h,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,o=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const a=Ur[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=fy(this,i),c=Object.assign({},a,l),u=dy(this.chart,i,c),h=py(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,s){const r=this.getCaretPosition(t,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(t,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=us(a),{x:f,y:d}=t,{width:p,height:g}=n;let m,_,y,w,A,E;return r==="center"?(A=d+g/2,s==="left"?(m=f,_=m-o,w=A+o,E=A-o):(m=f+p,_=m+o,w=A-o,E=A+o),y=m):(s==="left"?_=f+Math.max(l,u)+o:s==="right"?_=f+p-Math.max(c,h)-o:_=this.caretX,r==="top"?(w=d,A=w-o,m=_-o,y=_+o):(w=d+g,A=w+o,m=_+o,y=_-o),E=w),{x1:m,x2:_,x3:y,y1:w,y2:A,y3:E}}drawTitle(t,n,i){const s=this.title,r=s.length;let o,a,l;if(r){const c=qs(i.rtl,this.x,this.width);for(t.x=Ha(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=re(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<r;++l)n.fillText(s[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===r&&(t.y+=i.titleMarginBottom-a)}}_drawColorBox(t,n,i,s,r){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=r,u=re(r.bodyFont),h=Ha(this,"left",r),f=s.x(h),d=l<u.lineHeight?(u.lineHeight-l)/2:0,p=n.y+d;if(r.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},m=s.leftForLtr(f,c)+c/2,_=p+l/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,cf(t,g,m,_),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,cf(t,g,m,_)}else{t.lineWidth=gt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const g=s.leftForLtr(f,c),m=s.leftForLtr(s.xPlus(f,1),c-2),_=us(o.borderRadius);Object.values(_).some(y=>y!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,Bo(t,{x:g,y:p,w:c,h:l,radius:_}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Bo(t,{x:m,y:p+1,w:c-2,h:l-2,radius:_}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(g,p,c,l),t.strokeRect(g,p,c,l),t.fillStyle=o.backgroundColor,t.fillRect(m,p+1,c-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,h=re(i.bodyFont);let f=h.lineHeight,d=0;const p=qs(i.rtl,this.x,this.width),g=function(O){n.fillText(O,p.x(t.x+d),t.y+f/2),t.y+=f+r},m=p.textAlign(o);let _,y,w,A,E,I,P;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,t.x=Ha(this,m,i),n.fillStyle=i.bodyColor,Tt(this.beforeBody,g),d=a&&m!=="right"?o==="center"?c/2+u:c+2+u:0,A=0,I=s.length;A<I;++A){for(_=s[A],y=this.labelTextColors[A],n.fillStyle=y,Tt(_.before,g),w=_.lines,a&&w.length&&(this._drawColorBox(n,t,A,p,i),f=Math.max(h.lineHeight,l)),E=0,P=w.length;E<P;++E)g(w[E]),f=h.lineHeight;Tt(_.after,g)}d=0,f=h.lineHeight,Tt(this.afterBody,g),t.y-=r}drawFooter(t,n,i){const s=this.footer,r=s.length;let o,a;if(r){const l=qs(i.rtl,this.x,this.width);for(t.x=Ha(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=re(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(s[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,n,i,s){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:u}=i,{topLeft:h,topRight:f,bottomLeft:d,bottomRight:p}=us(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(t,n,i,s),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&r==="right"&&this.drawCaret(t,n,i,s),n.lineTo(a+c,l+u-p),n.quadraticCurveTo(a+c,l+u,a+c-p,l+u),o==="bottom"&&this.drawCaret(t,n,i,s),n.lineTo(a+d,l+u),n.quadraticCurveTo(a,l+u,a,l+u-d),o==="center"&&r==="left"&&this.drawCaret(t,n,i,s),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const o=Ur[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=fy(this,t),l=Object.assign({},o,this._size),c=dy(n,t,l),u=py(t,l,c,n);(s._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Re(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=i,this.drawBackground(r,t,s,n),Lw(t,n.textDirection),r.y+=o.top,this.drawTitle(r,t,n),this.drawBody(r,t,n),this.drawFooter(r,t,n),Nw(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,s=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!Jl(i,s),o=this._positionChanged(s,n);(r||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],o=this._getActiveElements(t,r,n,i),a=this._positionChanged(o,t),l=n||!Jl(o,r)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,i,s){const r=this.options;if(t.type==="mouseout")return[];if(!s)return n;const o=this.chart.getElementsAtEventForMode(t,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:i,caretY:s,options:r}=this,o=Ur[r.position].call(this,t,n);return o!==!1&&(i!==o.x||s!==o.y)}}L(mf,"positioners",Ur);var hF={id:"tooltip",_element:mf,positioners:Ur,afterInit(e,t,n){n&&(e.tooltip=new mf({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:lx},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},fF=Object.freeze({__proto__:null,Colors:EN,Decimation:CN,Filler:QN,Legend:tF,SubTitle:iF,Title:nF,Tooltip:hF});const dF=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function pF(e,t,n,i){const s=e.indexOf(t);if(s===-1)return dF(e,t,n,i);const r=e.lastIndexOf(t);return s!==r?n:s}const gF=(e,t)=>e===null?null:ce(Math.round(e),0,t);function _y(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class _f extends Is{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(vt(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:pF(i,t,ut(n,t),this._addedLabels),gF(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=t===0&&n===r.length-1?r:r.slice(t,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=n;o++)s.push({value:o});return s}getLabelForValue(t){return _y.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}L(_f,"id","category"),L(_f,"defaults",{ticks:{callback:_y}});function mF(e,t){const n=[],{bounds:s,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:f}=e,d=r||1,p=u-1,{min:g,max:m}=t,_=!vt(o),y=!vt(a),w=!vt(c),A=(m-g)/(h+1);let E=h_((m-g)/p/d)*d,I,P,O,z;if(E<1e-14&&!_&&!y)return[{value:g},{value:m}];z=Math.ceil(m/E)-Math.floor(g/E),z>p&&(E=h_(z*E/p/d)*d),vt(l)||(I=Math.pow(10,l),E=Math.ceil(E*I)/I),s==="ticks"?(P=Math.floor(g/E)*E,O=Math.ceil(m/E)*E):(P=g,O=m),_&&y&&r&&uO((a-o)/r,E/1e3)?(z=Math.round(Math.min((a-o)/E,u)),E=(a-o)/z,P=o,O=a):w?(P=_?o:P,O=y?a:O,z=c-1,E=(O-P)/z):(z=(O-P)/E,so(z,Math.round(z),E/1e3)?z=Math.round(z):z=Math.ceil(z));const K=Math.max(f_(E),f_(P));I=Math.pow(10,vt(l)?K:l),P=Math.round(P*I)/I,O=Math.round(O*I)/I;let nt=0;for(_&&(f&&P!==o?(n.push({value:o}),P<o&&nt++,so(Math.round((P+nt*E)*I)/I,o,yy(o,A,e))&&nt++):P<o&&nt++);nt<z;++nt){const lt=Math.round((P+nt*E)*I)/I;if(y&&lt>a)break;n.push({value:lt})}return y&&f&&O!==a?n.length&&so(n[n.length-1].value,a,yy(a,A,e))?n[n.length-1].value=a:n.push({value:a}):(!y||O===a)&&n.push({value:O}),n}function yy(e,t,{horizontal:n,minRotation:i}){const s=an(i),r=(n?Math.sin(s):Math.cos(s))||.001,o=.75*t*(""+e).length;return Math.min(t/r,o)}class rc extends Is{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return vt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const o=l=>s=n?s:l,a=l=>r=i?r:l;if(t){const l=Mn(s),c=Mn(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(s===r){let l=r===0?1:Math.abs(r*.05);a(r+l),t||o(s-l)}this.min=s,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=mF(s,r);return t.bounds==="ticks"&&yw(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-n)/Math.max(t.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return da(t,this.chart.options.locale,this.options.ticks.format)}}class yf extends rc{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Kt(t)?t:0,this.max=Kt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=an(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}L(yf,"id","linear"),L(yf,"defaults",{ticks:{callback:su.formatters.numeric}});const jo=e=>Math.floor(pi(e)),Hi=(e,t)=>Math.pow(10,jo(e)+t);function vy(e){return e/Math.pow(10,jo(e))===1}function by(e,t,n){const i=Math.pow(10,n),s=Math.floor(e/i);return Math.ceil(t/i)-s}function _F(e,t){const n=t-e;let i=jo(n);for(;by(e,t,i)>10;)i++;for(;by(e,t,i)<10;)i--;return Math.min(i,jo(e))}function yF(e,{min:t,max:n}){t=Ue(e.min,t);const i=[],s=jo(t);let r=_F(t,n),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=s>r?Math.pow(10,s):0,c=Math.round((t-l)*o)/o,u=Math.floor((t-l)/a/10)*a*10;let h=Math.floor((c-u)/Math.pow(10,r)),f=Ue(e.min,Math.round((l+u+h*Math.pow(10,r))*o)/o);for(;f<n;)i.push({value:f,major:vy(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(r++,h=2,o=r>=0?1:o),f=Math.round((l+u+h*Math.pow(10,r))*o)/o;const d=Ue(e.max,f);return i.push({value:d,major:vy(d),significand:h}),i}class vf extends Is{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const i=rc.prototype.parse.apply(this,[t,n]);if(i===0){this._zero=!0;return}return Kt(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Kt(t)?Math.max(0,t):null,this.max=Kt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Kt(this._userMin)&&(this.min=t===Hi(this.min,0)?Hi(this.min,-1):Hi(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let i=this.min,s=this.max;const r=a=>i=t?i:a,o=a=>s=n?s:a;i===s&&(i<=0?(r(1),o(10)):(r(Hi(i,-1)),o(Hi(s,1)))),i<=0&&r(Hi(s,-1)),s<=0&&o(Hi(i,1)),this.min=i,this.max=s}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},i=yF(n,this);return t.bounds==="ticks"&&yw(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":da(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=pi(t),this._valueRange=pi(this.max)-pi(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(pi(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}L(vf,"id","logarithmic"),L(vf,"defaults",{ticks:{callback:su.formatters.logarithmic,major:{enabled:!0}}});function bf(e){const t=e.ticks;if(t.display&&e.display){const n=Re(t.backdropPadding);return ut(t.font&&t.font.size,Yt.font.size)+n.height}return 0}function vF(e,t,n){return n=Nt(n)?n:[n],{w:SO(e,t.string,n),h:n.length*t.lineHeight}}function Ay(e,t,n,i,s){return e===i||e===s?{start:t-n/2,end:t+n/2}:e<i||e>s?{start:t-n,end:t}:{start:t,end:t+n}}function bF(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],s=[],r=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?$t/r:0;for(let l=0;l<r;l++){const c=o.setContext(e.getPointLabelContext(l));s[l]=c.padding;const u=e.getPointPosition(l,e.drawingArea+s[l],a),h=re(c.font),f=vF(e.ctx,h,e._pointLabels[l]);i[l]=f;const d=We(e.getIndexAngle(l)+a),p=Math.round(_p(d)),g=Ay(p,u.x,f.w,0,180),m=Ay(p,u.y,f.h,90,270);AF(n,t,d,g,m)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=EF(e,i,s)}function AF(e,t,n,i,s){const r=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<t.l?(a=(t.l-i.start)/r,e.l=Math.min(e.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/r,e.r=Math.max(e.r,t.r+a)),s.start<t.t?(l=(t.t-s.start)/o,e.t=Math.min(e.t,t.t-l)):s.end>t.b&&(l=(s.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function wF(e,t,n){const i=e.drawingArea,{extra:s,additionalAngle:r,padding:o,size:a}=n,l=e.getPointPosition(t,i+s+o,r),c=Math.round(_p(We(l.angle+Qt))),u=SF(l.y,a.h,c),h=TF(c),f=IF(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:f,top:u,right:f+a.w,bottom:u+a.h}}function xF(e,t){if(!t)return!0;const{left:n,top:i,right:s,bottom:r}=e;return!(Kn({x:n,y:i},t)||Kn({x:n,y:r},t)||Kn({x:s,y:i},t)||Kn({x:s,y:r},t))}function EF(e,t,n){const i=[],s=e._pointLabels.length,r=e.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:bf(r)/2,additionalAngle:o?$t/s:0};let c;for(let u=0;u<s;u++){l.padding=n[u],l.size=t[u];const h=wF(e,u,l);i.push(h),a==="auto"&&(h.visible=xF(h,c),h.visible&&(c=h))}return i}function TF(e){return e===0||e===180?"center":e<180?"left":"right"}function IF(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function SF(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function CF(e,t,n){const{left:i,top:s,right:r,bottom:o}=n,{backdropColor:a}=t;if(!vt(a)){const l=us(t.borderRadius),c=Re(t.backdropPadding);e.fillStyle=a;const u=i-c.left,h=s-c.top,f=r-i+c.width,d=o-s+c.height;Object.values(l).some(p=>p!==0)?(e.beginPath(),Bo(e,{x:u,y:h,w:f,h:d,radius:l}),e.fill()):e.fillRect(u,h,f,d)}}function PF(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let s=t-1;s>=0;s--){const r=e._pointLabelItems[s];if(!r.visible)continue;const o=i.setContext(e.getPointLabelContext(s));CF(n,o,r);const a=re(o.font),{x:l,y:c,textAlign:u}=r;bs(n,e._pointLabels[s],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function cx(e,t,n,i){const{ctx:s}=e;if(n)s.arc(e.xCenter,e.yCenter,t,0,Ft);else{let r=e.getPointPosition(0,t);s.moveTo(r.x,r.y);for(let o=1;o<i;o++)r=e.getPointPosition(o,t),s.lineTo(r.x,r.y)}}function kF(e,t,n,i,s){const r=e.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!i||!a||!l||n<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(s.dash),r.lineDashOffset=s.dashOffset,r.beginPath(),cx(e,n,o,i),r.closePath(),r.stroke(),r.restore())}function RF(e,t,n){return Fi(e,{label:n,index:t,type:"pointLabel"})}class Hr extends rc{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Re(bf(this.options)/2),n=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=Kt(t)&&!isNaN(t)?t:0,this.max=Kt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/bf(this.options))}generateTickLabels(t){rc.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,i)=>{const s=Mt(this.options.pointLabels.callback,[n,i],this);return s||s===0?s:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?bF(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,i,s){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,i,s))}getIndexAngle(t){const n=Ft/(this._pointLabels.length||1),i=this.options.startAngle||0;return We(t*n+an(i))}getDistanceFromCenterForValue(t){if(vt(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(vt(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const i=n[t];return RF(this.getContext(),t,i)}}getPointPosition(t,n,i=0){const s=this.getIndexAngle(t)-Qt+i;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:i,right:s,bottom:r}=this._pointLabelItems[t];return{left:n,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),cx(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:i,grid:s,border:r}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&PF(this,o),s.display&&this.ticks.forEach((u,h)=>{if(h!==0){l=this.getDistanceFromCenterForValue(u.value);const f=this.getContext(h),d=s.setContext(f),p=r.setContext(f);kF(this,d,l,o,p)}}),i.display){for(t.save(),a=o-1;a>=0;a--){const u=i.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:f}=u;!f||!h||(t.lineWidth=f,t.strokeStyle=h,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&!n.reverse)return;const c=i.setContext(this.getContext(l)),u=re(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=u.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const h=Re(c.backdropPadding);t.fillRect(-o/2-h.left,-r-u.size/2-h.top,o+h.width,u.size+h.height)}bs(t,a.label,0,-r,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}L(Hr,"id","radialLinear"),L(Hr,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:su.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),L(Hr,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),L(Hr,"descriptors",{angleLines:{_fallback:"grid"}});const lu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Be=Object.keys(lu);function wy(e,t){return e-t}function xy(e,t){if(vt(t))return null;const n=e._adapter,{parser:i,round:s,isoWeekday:r}=e._parseOpts;let o=t;return typeof i=="function"&&(o=i(o)),Kt(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(ar(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,s)),+o)}function Ey(e,t,n,i){const s=Be.length;for(let r=Be.indexOf(e);r<s-1;++r){const o=lu[Be[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=i)return Be[r]}return Be[s-1]}function MF(e,t,n,i,s){for(let r=Be.length-1;r>=Be.indexOf(n);r--){const o=Be[r];if(lu[o].common&&e._adapter.diff(s,i,o)>=t-1)return o}return Be[n?Be.indexOf(n):0]}function DF(e){for(let t=Be.indexOf(e)+1,n=Be.length;t<n;++t)if(lu[Be[t]].common)return Be[t]}function Ty(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:s}=yp(n,t),r=n[i]>=t?n[i]:n[s];e[r]=!0}}function OF(e,t,n,i){const s=e._adapter,r=+s.startOf(t[0].value,i),o=t[t.length-1].value;let a,l;for(a=r;a<=o;a=+s.add(a,1,i))l=n[a],l>=0&&(t[l].major=!0);return t}function Iy(e,t,n){const i=[],s={},r=t.length;let o,a;for(o=0;o<r;++o)a=t[o],s[a]=o,i.push({value:a,major:!1});return r===0||!n?i:OF(e,i,s,n)}class $o extends Is{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),s=this._adapter=new UV._date(t.adapters.date);s.init(n),io(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:xy(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:s,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=Kt(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=Kt(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,o=this.max,a=pO(s,r,o);return this._unit=n.unit||(i.autoSkip?Ey(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):MF(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:DF(this._unit),this.initOffsets(s),t.reverse&&a.reverse(),Iy(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,s,r;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?i=r:i=(r-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=ce(n,0,o),i=ce(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,o=r.unit||Ey(r.minUnit,n,i,this._getLabelCapacity(n)),a=ut(s.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=ar(l)||l===!0,u={};let h=n,f,d;if(c&&(h=+t.startOf(h,"isoWeek",l)),h=+t.startOf(h,c?"day":o),t.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const p=s.ticks.source==="data"&&this.getDataTimestamps();for(f=h,d=0;f<i;f=+t.add(f,a,o),d++)Ty(u,f,p);return(f===i||s.bounds==="ticks"||d===1)&&Ty(u,f,p),Object.keys(u).sort(wy).map(g=>+g)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,r=this._unit,o=n||s[r];return this._adapter.format(t,o)}_tickFormatFunction(t,n,i,s){const r=this.options,o=r.ticks.callback;if(o)return Mt(o,[t,n,i],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],f=i[n],d=c&&h&&f&&f.major;return this._adapter.format(t,s||(d?h:u))}generateTickLabels(t){let n,i,s;for(n=0,i=t.length;n<i;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,s=an(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:i*r+a*o,h:i*o+a*r}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(t,0,Iy(this,[t],this._majorUnit),s),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)t.push(xy(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return Aw(t.sort(wy))}}L($o,"id","time"),L($o,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Wa(e,t,n){let i=0,s=e.length-1,r,o,a,l;n?(t>=e[i].pos&&t<=e[s].pos&&({lo:i,hi:s}=qn(e,"pos",t)),{pos:r,time:a}=e[i],{pos:o,time:l}=e[s]):(t>=e[i].time&&t<=e[s].time&&({lo:i,hi:s}=qn(e,"time",t)),{time:r,pos:a}=e[i],{time:o,pos:l}=e[s]);const c=o-r;return c?a+(l-a)*(t-r)/c:a}class Af extends $o{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Wa(n,this.min),this._tableRange=Wa(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,s=[],r=[];let o,a,l,c,u;for(o=0,a=t.length;o<a;++o)c=t[o],c>=n&&c<=i&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=s.length;o<a;++o)u=s[o+1],l=s[o-1],c=s[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Wa(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return Wa(this._table,i*this._tableRange+this._minPos,!0)}}L(Af,"id","timeseries"),L(Af,"defaults",$o.defaults);var VF=Object.freeze({__proto__:null,CategoryScale:_f,LinearScale:yf,LogarithmicScale:vf,RadialLinearScale:Hr,TimeScale:$o,TimeSeriesScale:Af});const LF=[$V,yN,fF,VF];$n.register(...LF);const NF={class:"container center"},FF={class:"title"},BF={class:"bar-chart center"},zF={__name:"ChartCard",props:{title:"title",type:"bar",data:{type:Array,required:!0},values:{type:Array,equired:!0}},setup(e){const t=e,n=wn(null);return Xf(()=>{if(n.value){const i=n.value.getContext("2d");new $n(i,{type:t.type,data:{labels:t.data,datasets:[{data:t.values,borderWidth:1,borderColor:"black",pointBackgroundColor:"orange"}]},options:{scales:{x:{ticks:{font:{size:18},color:"black"}},y:{beginAtZero:!1,ticks:{font:{size:18},color:"black"}}},plugins:{legend:{display:!1}}}})}}),(i,s)=>(Ut(),ee("div",NF,[Z("h1",FF,Cn(t.title),1),Z("div",BF,[Z("canvas",{ref_key:"chartCanvas",ref:n},null,512)])]))}},sh=gn(zF,[["__scopeId","data-v-29ebf924"]]);const jF={class:"page"},$F={class:"charts"},UF={__name:"Stats",setup(e){const t={title:"Bench Press",data:["Jan","Mar","Apr","May","Jun","Jul"],values:[100,115,120,125,130,145]},n={title:"Deadlift",data:["Jan","Mar","Apr","May","Jun","Jul"],values:[120,140,170,180,190,170]},i={title:"Squat",data:["Jan","Mar","Apr","May","Jun","Jul"],values:[120,130,140,150,160,150]};return(s,r)=>(Ut(),ee("div",jF,[Pt(ld,{title:"MY STATS"}),Z("div",$F,[Pt(sh,{type:"line",title:t.title,data:t.data,values:t.values},null,8,["title","data","values"]),Pt(sh,{type:"bar",title:n.title,data:n.data,values:n.values},null,8,["title","data","values"]),Pt(sh,{type:"line",title:i.title,data:i.data,values:i.values},null,8,["title","data","values"])])]))}},HF=gn(UF,[["__scopeId","data-v-a0eac107"]]);const WF={class:"component"},qF={class:"title"},KF={class:"card"},QF={class:"row"},YF={__name:"TableData",props:{title:"",data:{type:Array,required:!0}},setup(e){const t=e;return(n,i)=>(Ut(),ee("div",WF,[Z("h1",qF,Cn(t.title),1),Z("div",KF,[(Ut(!0),ee(we,null,mo(t.data,s=>(Ut(),ee("div",QF,[Z("h1",null,Cn(s.key),1),Z("h1",null,Cn(s.value),1)]))),256))])]))}},Sy=gn(YF,[["__scopeId","data-v-bb1f6a56"]]);const GF=e=>(bc("data-v-52e4a6dc"),e=e(),Ac(),e),XF={class:"page"},JF=GF(()=>Z("header",null,[Z("h1",null,"Hi, user"),Z("h3",null,"You will achive your goals")],-1)),ZF={class:"data"},t4={__name:"User",setup(e){const t=[{key:"Height",value:"178"},{key:"Weight",value:"88"},{key:"IMC",value:"28.1"}],n=[{key:"Height",value:"178"},{key:"Weight",value:"95"},{key:"IMC",value:"30"}];return(i,s)=>(Ut(),ee("div",XF,[Pt(ld,{title:"MY PROFILE"}),JF,Z("div",ZF,[Pt(Sy,{data:t,title:"Current Data"}),Pt(Sy,{data:n,title:"Objectives"})])]))}},e4=gn(t4,[["__scopeId","data-v-52e4a6dc"]]),n4=fI({history:kT("/Flex/"),routes:[{path:"/",name:"home",component:RD},{path:"/stats",name:"stats",component:HF},{path:"/user",name:"user",component:e4}]});function Cy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Cy(Object(n),!0).forEach(function(i){ae(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cy(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function oc(e){"@babel/helpers - typeof";return oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oc(e)}function i4(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Py(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function s4(e,t,n){return t&&Py(e.prototype,t),n&&Py(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pp(e,t){return o4(e)||l4(e,t)||ux(e,t)||u4()}function ga(e){return r4(e)||a4(e)||ux(e)||c4()}function r4(e){if(Array.isArray(e))return wf(e)}function o4(e){if(Array.isArray(e))return e}function a4(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function l4(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],s=!0,r=!1,o,a;try{for(n=n.call(e);!(s=(o=n.next()).done)&&(i.push(o.value),!(t&&i.length===t));s=!0);}catch(l){r=!0,a=l}finally{try{!s&&n.return!=null&&n.return()}finally{if(r)throw a}}return i}}function ux(e,t){if(e){if(typeof e=="string")return wf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wf(e,t)}}function wf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function c4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ky=function(){},kp={},hx={},fx=null,dx={mark:ky,measure:ky};try{typeof window<"u"&&(kp=window),typeof document<"u"&&(hx=document),typeof MutationObserver<"u"&&(fx=MutationObserver),typeof performance<"u"&&(dx=performance)}catch{}var h4=kp.navigator||{},Ry=h4.userAgent,My=Ry===void 0?"":Ry,Mi=kp,Bt=hx,Dy=fx,qa=dx;Mi.document;var oi=!!Bt.documentElement&&!!Bt.head&&typeof Bt.addEventListener=="function"&&typeof Bt.createElement=="function",px=~My.indexOf("MSIE")||~My.indexOf("Trident/"),Ka,Qa,Ya,Ga,Xa,ei="___FONT_AWESOME___",xf=16,gx="fa",mx="svg-inline--fa",As="data-fa-i2svg",Ef="data-fa-pseudo-element",f4="data-fa-pseudo-element-pending",Rp="data-prefix",Mp="data-icon",Oy="fontawesome-i2svg",d4="async",p4=["HTML","HEAD","STYLE","SCRIPT"],_x=function(){try{return!0}catch{return!1}}(),Vt="classic",qt="sharp",Dp=[Vt,qt];function ma(e){return new Proxy(e,{get:function(n,i){return i in n?n[i]:n[Vt]}})}var Uo=ma((Ka={},ae(Ka,Vt,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),ae(Ka,qt,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),Ka)),Ho=ma((Qa={},ae(Qa,Vt,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),ae(Qa,qt,{solid:"fass",regular:"fasr",light:"fasl"}),Qa)),Wo=ma((Ya={},ae(Ya,Vt,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),ae(Ya,qt,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),Ya)),g4=ma((Ga={},ae(Ga,Vt,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),ae(Ga,qt,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),Ga)),m4=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,yx="fa-layers-text",_4=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,y4=ma((Xa={},ae(Xa,Vt,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),ae(Xa,qt,{900:"fass",400:"fasr",300:"fasl"}),Xa)),vx=[1,2,3,4,5,6,7,8,9,10],v4=vx.concat([11,12,13,14,15,16,17,18,19,20]),b4=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],is={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},qo=new Set;Object.keys(Ho[Vt]).map(qo.add.bind(qo));Object.keys(Ho[qt]).map(qo.add.bind(qo));var A4=[].concat(Dp,ga(qo),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",is.GROUP,is.SWAP_OPACITY,is.PRIMARY,is.SECONDARY]).concat(vx.map(function(e){return"".concat(e,"x")})).concat(v4.map(function(e){return"w-".concat(e)})),lo=Mi.FontAwesomeConfig||{};function w4(e){var t=Bt.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}function x4(e){return e===""?!0:e==="false"?!1:e==="true"?!0:e}if(Bt&&typeof Bt.querySelector=="function"){var E4=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];E4.forEach(function(e){var t=Pp(e,2),n=t[0],i=t[1],s=x4(w4(n));s!=null&&(lo[i]=s)})}var bx={styleDefault:"solid",familyDefault:"classic",cssPrefix:gx,replacementClass:mx,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};lo.familyPrefix&&(lo.cssPrefix=lo.familyPrefix);var ur=$($({},bx),lo);ur.autoReplaceSvg||(ur.observeMutations=!1);var W={};Object.keys(bx).forEach(function(e){Object.defineProperty(W,e,{enumerable:!0,set:function(n){ur[e]=n,co.forEach(function(i){return i(W)})},get:function(){return ur[e]}})});Object.defineProperty(W,"familyPrefix",{enumerable:!0,set:function(t){ur.cssPrefix=t,co.forEach(function(n){return n(W)})},get:function(){return ur.cssPrefix}});Mi.FontAwesomeConfig=W;var co=[];function T4(e){return co.push(e),function(){co.splice(co.indexOf(e),1)}}var ci=xf,Sn={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function I4(e){if(!(!e||!oi)){var t=Bt.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=Bt.head.childNodes,i=null,s=n.length-1;s>-1;s--){var r=n[s],o=(r.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(i=r)}return Bt.head.insertBefore(t,i),e}}var S4="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Ko(){for(var e=12,t="";e-- >0;)t+=S4[Math.random()*62|0];return t}function br(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function Op(e){return e.classList?br(e.classList):(e.getAttribute("class")||"").split(" ").filter(function(t){return t})}function Ax(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function C4(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,'="').concat(Ax(e[n]),'" ')},"").trim()}function cu(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")},"")}function Vp(e){return e.size!==Sn.size||e.x!==Sn.x||e.y!==Sn.y||e.rotate!==Sn.rotate||e.flipX||e.flipY}function P4(e){var t=e.transform,n=e.containerWidth,i=e.iconWidth,s={transform:"translate(".concat(n/2," 256)")},r="translate(".concat(t.x*32,", ").concat(t.y*32,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),a="rotate(".concat(t.rotate," 0 0)"),l={transform:"".concat(r," ").concat(o," ").concat(a)},c={transform:"translate(".concat(i/2*-1," -256)")};return{outer:s,inner:l,path:c}}function k4(e){var t=e.transform,n=e.width,i=n===void 0?xf:n,s=e.height,r=s===void 0?xf:s,o=e.startCentered,a=o===void 0?!1:o,l="";return a&&px?l+="translate(".concat(t.x/ci-i/2,"em, ").concat(t.y/ci-r/2,"em) "):a?l+="translate(calc(-50% + ".concat(t.x/ci,"em), calc(-50% + ").concat(t.y/ci,"em)) "):l+="translate(".concat(t.x/ci,"em, ").concat(t.y/ci,"em) "),l+="scale(".concat(t.size/ci*(t.flipX?-1:1),", ").concat(t.size/ci*(t.flipY?-1:1),") "),l+="rotate(".concat(t.rotate,"deg) "),l}var R4=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function wx(){var e=gx,t=mx,n=W.cssPrefix,i=W.replacementClass,s=R4;if(n!==e||i!==t){var r=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),a=new RegExp("\\.".concat(t),"g");s=s.replace(r,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(i))}return s}var Vy=!1;function rh(){W.autoAddCss&&!Vy&&(I4(wx()),Vy=!0)}var M4={mixout:function(){return{dom:{css:wx,insertCss:rh}}},hooks:function(){return{beforeDOMElementCreation:function(){rh()},beforeI2svg:function(){rh()}}}},ni=Mi||{};ni[ei]||(ni[ei]={});ni[ei].styles||(ni[ei].styles={});ni[ei].hooks||(ni[ei].hooks={});ni[ei].shims||(ni[ei].shims=[]);var ln=ni[ei],xx=[],D4=function e(){Bt.removeEventListener("DOMContentLoaded",e),ac=1,xx.map(function(t){return t()})},ac=!1;oi&&(ac=(Bt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Bt.readyState),ac||Bt.addEventListener("DOMContentLoaded",D4));function O4(e){oi&&(ac?setTimeout(e,0):xx.push(e))}function _a(e){var t=e.tag,n=e.attributes,i=n===void 0?{}:n,s=e.children,r=s===void 0?[]:s;return typeof e=="string"?Ax(e):"<".concat(t," ").concat(C4(i),">").concat(r.map(_a).join(""),"</").concat(t,">")}function Ly(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}var V4=function(t,n){return function(i,s,r,o){return t.call(n,i,s,r,o)}},oh=function(t,n,i,s){var r=Object.keys(t),o=r.length,a=s!==void 0?V4(n,s):n,l,c,u;for(i===void 0?(l=1,u=t[r[0]]):(l=0,u=i);l<o;l++)c=r[l],u=a(u,t[c],c,t);return u};function L4(e){for(var t=[],n=0,i=e.length;n<i;){var s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<i){var r=e.charCodeAt(n++);(r&64512)==56320?t.push(((s&1023)<<10)+(r&1023)+65536):(t.push(s),n--)}else t.push(s)}return t}function Tf(e){var t=L4(e);return t.length===1?t[0].toString(16):null}function N4(e,t){var n=e.length,i=e.charCodeAt(t),s;return i>=55296&&i<=56319&&n>t+1&&(s=e.charCodeAt(t+1),s>=56320&&s<=57343)?(i-55296)*1024+s-56320+65536:i}function Ny(e){return Object.keys(e).reduce(function(t,n){var i=e[n],s=!!i.icon;return s?t[i.iconName]=i.icon:t[n]=i,t},{})}function If(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.skipHooks,s=i===void 0?!1:i,r=Ny(t);typeof ln.hooks.addPack=="function"&&!s?ln.hooks.addPack(e,Ny(t)):ln.styles[e]=$($({},ln.styles[e]||{}),r),e==="fas"&&If("fa",t)}var Ja,Za,tl,Ls=ln.styles,F4=ln.shims,B4=(Ja={},ae(Ja,Vt,Object.values(Wo[Vt])),ae(Ja,qt,Object.values(Wo[qt])),Ja),Lp=null,Ex={},Tx={},Ix={},Sx={},Cx={},z4=(Za={},ae(Za,Vt,Object.keys(Uo[Vt])),ae(Za,qt,Object.keys(Uo[qt])),Za);function j4(e){return~A4.indexOf(e)}function $4(e,t){var n=t.split("-"),i=n[0],s=n.slice(1).join("-");return i===e&&s!==""&&!j4(s)?s:null}var Px=function(){var t=function(r){return oh(Ls,function(o,a,l){return o[l]=oh(a,r,{}),o},{})};Ex=t(function(s,r,o){if(r[3]&&(s[r[3]]=o),r[2]){var a=r[2].filter(function(l){return typeof l=="number"});a.forEach(function(l){s[l.toString(16)]=o})}return s}),Tx=t(function(s,r,o){if(s[o]=o,r[2]){var a=r[2].filter(function(l){return typeof l=="string"});a.forEach(function(l){s[l]=o})}return s}),Cx=t(function(s,r,o){var a=r[2];return s[o]=o,a.forEach(function(l){s[l]=o}),s});var n="far"in Ls||W.autoFetchSvg,i=oh(F4,function(s,r){var o=r[0],a=r[1],l=r[2];return a==="far"&&!n&&(a="fas"),typeof o=="string"&&(s.names[o]={prefix:a,iconName:l}),typeof o=="number"&&(s.unicodes[o.toString(16)]={prefix:a,iconName:l}),s},{names:{},unicodes:{}});Ix=i.names,Sx=i.unicodes,Lp=uu(W.styleDefault,{family:W.familyDefault})};T4(function(e){Lp=uu(e.styleDefault,{family:W.familyDefault})});Px();function Np(e,t){return(Ex[e]||{})[t]}function U4(e,t){return(Tx[e]||{})[t]}function ss(e,t){return(Cx[e]||{})[t]}function kx(e){return Ix[e]||{prefix:null,iconName:null}}function H4(e){var t=Sx[e],n=Np("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Di(){return Lp}var Fp=function(){return{prefix:null,iconName:null,rest:[]}};function uu(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.family,i=n===void 0?Vt:n,s=Uo[i][e],r=Ho[i][e]||Ho[i][s],o=e in ln.styles?e:null;return r||o||null}var Fy=(tl={},ae(tl,Vt,Object.keys(Wo[Vt])),ae(tl,qt,Object.keys(Wo[qt])),tl);function hu(e){var t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.skipLookups,s=i===void 0?!1:i,r=(t={},ae(t,Vt,"".concat(W.cssPrefix,"-").concat(Vt)),ae(t,qt,"".concat(W.cssPrefix,"-").concat(qt)),t),o=null,a=Vt;(e.includes(r[Vt])||e.some(function(c){return Fy[Vt].includes(c)}))&&(a=Vt),(e.includes(r[qt])||e.some(function(c){return Fy[qt].includes(c)}))&&(a=qt);var l=e.reduce(function(c,u){var h=$4(W.cssPrefix,u);if(Ls[u]?(u=B4[a].includes(u)?g4[a][u]:u,o=u,c.prefix=u):z4[a].indexOf(u)>-1?(o=u,c.prefix=uu(u,{family:a})):h?c.iconName=h:u!==W.replacementClass&&u!==r[Vt]&&u!==r[qt]&&c.rest.push(u),!s&&c.prefix&&c.iconName){var f=o==="fa"?kx(c.iconName):{},d=ss(c.prefix,c.iconName);f.prefix&&(o=null),c.iconName=f.iconName||d||c.iconName,c.prefix=f.prefix||c.prefix,c.prefix==="far"&&!Ls.far&&Ls.fas&&!W.autoFetchSvg&&(c.prefix="fas")}return c},Fp());return(e.includes("fa-brands")||e.includes("fab"))&&(l.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(l.prefix="fad"),!l.prefix&&a===qt&&(Ls.fass||W.autoFetchSvg)&&(l.prefix="fass",l.iconName=ss(l.prefix,l.iconName)||l.iconName),(l.prefix==="fa"||o==="fa")&&(l.prefix=Di()||"fas"),l}var W4=function(){function e(){i4(this,e),this.definitions={}}return s4(e,[{key:"add",value:function(){for(var n=this,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];var o=s.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=$($({},n.definitions[a]||{}),o[a]),If(a,o[a]);var l=Wo[Vt][a];l&&If(l,o[a]),Px()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,i){var s=i.prefix&&i.iconName&&i.icon?{0:i}:i;return Object.keys(s).map(function(r){var o=s[r],a=o.prefix,l=o.iconName,c=o.icon,u=c[2];n[a]||(n[a]={}),u.length>0&&u.forEach(function(h){typeof h=="string"&&(n[a][h]=c)}),n[a][l]=c}),n}}]),e}(),By=[],Ns={},Ks={},q4=Object.keys(Ks);function K4(e,t){var n=t.mixoutsTo;return By=e,Ns={},Object.keys(Ks).forEach(function(i){q4.indexOf(i)===-1&&delete Ks[i]}),By.forEach(function(i){var s=i.mixout?i.mixout():{};if(Object.keys(s).forEach(function(o){typeof s[o]=="function"&&(n[o]=s[o]),oc(s[o])==="object"&&Object.keys(s[o]).forEach(function(a){n[o]||(n[o]={}),n[o][a]=s[o][a]})}),i.hooks){var r=i.hooks();Object.keys(r).forEach(function(o){Ns[o]||(Ns[o]=[]),Ns[o].push(r[o])})}i.provides&&i.provides(Ks)}),n}function Sf(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];var r=Ns[e]||[];return r.forEach(function(o){t=o.apply(null,[t].concat(i))}),t}function ws(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var s=Ns[e]||[];s.forEach(function(r){r.apply(null,n)})}function ii(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Ks[e]?Ks[e].apply(null,t):void 0}function Cf(e){e.prefix==="fa"&&(e.prefix="fas");var t=e.iconName,n=e.prefix||Di();if(t)return t=ss(n,t)||t,Ly(Rx.definitions,n,t)||Ly(ln.styles,n,t)}var Rx=new W4,Q4=function(){W.autoReplaceSvg=!1,W.observeMutations=!1,ws("noAuto")},Y4={i2svg:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return oi?(ws("beforeI2svg",t),ii("pseudoElements2svg",t),ii("i2svg",t)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.autoReplaceSvgRoot;W.autoReplaceSvg===!1&&(W.autoReplaceSvg=!0),W.observeMutations=!0,O4(function(){X4({autoReplaceSvgRoot:n}),ws("watch",t)})}},G4={icon:function(t){if(t===null)return null;if(oc(t)==="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:ss(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){var n=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],i=uu(t[0]);return{prefix:i,iconName:ss(i,n)||n}}if(typeof t=="string"&&(t.indexOf("".concat(W.cssPrefix,"-"))>-1||t.match(m4))){var s=hu(t.split(" "),{skipLookups:!0});return{prefix:s.prefix||Di(),iconName:ss(s.prefix,s.iconName)||s.iconName}}if(typeof t=="string"){var r=Di();return{prefix:r,iconName:ss(r,t)||t}}}},Qe={noAuto:Q4,config:W,dom:Y4,parse:G4,library:Rx,findIconDefinition:Cf,toHtml:_a},X4=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.autoReplaceSvgRoot,i=n===void 0?Bt:n;(Object.keys(ln.styles).length>0||W.autoFetchSvg)&&oi&&W.autoReplaceSvg&&Qe.dom.i2svg({node:i})};function fu(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(function(i){return _a(i)})}}),Object.defineProperty(e,"node",{get:function(){if(oi){var i=Bt.createElement("div");return i.innerHTML=e.html,i.children}}}),e}function J4(e){var t=e.children,n=e.main,i=e.mask,s=e.attributes,r=e.styles,o=e.transform;if(Vp(o)&&n.found&&!i.found){var a=n.width,l=n.height,c={x:a/l/2,y:.5};s.style=cu($($({},r),{},{"transform-origin":"".concat(c.x+o.x/16,"em ").concat(c.y+o.y/16,"em")}))}return[{tag:"svg",attributes:s,children:t}]}function Z4(e){var t=e.prefix,n=e.iconName,i=e.children,s=e.attributes,r=e.symbol,o=r===!0?"".concat(t,"-").concat(W.cssPrefix,"-").concat(n):r;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:$($({},s),{},{id:o}),children:i}]}]}function Bp(e){var t=e.icons,n=t.main,i=t.mask,s=e.prefix,r=e.iconName,o=e.transform,a=e.symbol,l=e.title,c=e.maskId,u=e.titleId,h=e.extra,f=e.watchable,d=f===void 0?!1:f,p=i.found?i:n,g=p.width,m=p.height,_=s==="fak",y=[W.replacementClass,r?"".concat(W.cssPrefix,"-").concat(r):""].filter(function(z){return h.classes.indexOf(z)===-1}).filter(function(z){return z!==""||!!z}).concat(h.classes).join(" "),w={children:[],attributes:$($({},h.attributes),{},{"data-prefix":s,"data-icon":r,class:y,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(m)})},A=_&&!~h.classes.indexOf("fa-fw")?{width:"".concat(g/m*16*.0625,"em")}:{};d&&(w.attributes[As]=""),l&&(w.children.push({tag:"title",attributes:{id:w.attributes["aria-labelledby"]||"title-".concat(u||Ko())},children:[l]}),delete w.attributes.title);var E=$($({},w),{},{prefix:s,iconName:r,main:n,mask:i,maskId:c,transform:o,symbol:a,styles:$($({},A),h.styles)}),I=i.found&&n.found?ii("generateAbstractMask",E)||{children:[],attributes:{}}:ii("generateAbstractIcon",E)||{children:[],attributes:{}},P=I.children,O=I.attributes;return E.children=P,E.attributes=O,a?Z4(E):J4(E)}function zy(e){var t=e.content,n=e.width,i=e.height,s=e.transform,r=e.title,o=e.extra,a=e.watchable,l=a===void 0?!1:a,c=$($($({},o.attributes),r?{title:r}:{}),{},{class:o.classes.join(" ")});l&&(c[As]="");var u=$({},o.styles);Vp(s)&&(u.transform=k4({transform:s,startCentered:!0,width:n,height:i}),u["-webkit-transform"]=u.transform);var h=cu(u);h.length>0&&(c.style=h);var f=[];return f.push({tag:"span",attributes:c,children:[t]}),r&&f.push({tag:"span",attributes:{class:"sr-only"},children:[r]}),f}function tB(e){var t=e.content,n=e.title,i=e.extra,s=$($($({},i.attributes),n?{title:n}:{}),{},{class:i.classes.join(" ")}),r=cu(i.styles);r.length>0&&(s.style=r);var o=[];return o.push({tag:"span",attributes:s,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var ah=ln.styles;function Pf(e){var t=e[0],n=e[1],i=e.slice(4),s=Pp(i,1),r=s[0],o=null;return Array.isArray(r)?o={tag:"g",attributes:{class:"".concat(W.cssPrefix,"-").concat(is.GROUP)},children:[{tag:"path",attributes:{class:"".concat(W.cssPrefix,"-").concat(is.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(W.cssPrefix,"-").concat(is.PRIMARY),fill:"currentColor",d:r[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:t,height:n,icon:o}}var eB={found:!1,width:512,height:512};function nB(e,t){!_x&&!W.showMissingIcons&&e&&console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}function kf(e,t){var n=t;return t==="fa"&&W.styleDefault!==null&&(t=Di()),new Promise(function(i,s){if(ii("missingIconAbstract"),n==="fa"){var r=kx(e)||{};e=r.iconName||e,t=r.prefix||t}if(e&&t&&ah[t]&&ah[t][e]){var o=ah[t][e];return i(Pf(o))}nB(e,t),i($($({},eB),{},{icon:W.showMissingIcons&&e?ii("missingIconAbstract")||{}:{}}))})}var jy=function(){},Rf=W.measurePerformance&&qa&&qa.mark&&qa.measure?qa:{mark:jy,measure:jy},Wr='FA "6.4.2"',iB=function(t){return Rf.mark("".concat(Wr," ").concat(t," begins")),function(){return Mx(t)}},Mx=function(t){Rf.mark("".concat(Wr," ").concat(t," ends")),Rf.measure("".concat(Wr," ").concat(t),"".concat(Wr," ").concat(t," begins"),"".concat(Wr," ").concat(t," ends"))},zp={begin:iB,end:Mx},Al=function(){};function $y(e){var t=e.getAttribute?e.getAttribute(As):null;return typeof t=="string"}function sB(e){var t=e.getAttribute?e.getAttribute(Rp):null,n=e.getAttribute?e.getAttribute(Mp):null;return t&&n}function rB(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(W.replacementClass)}function oB(){if(W.autoReplaceSvg===!0)return wl.replace;var e=wl[W.autoReplaceSvg];return e||wl.replace}function aB(e){return Bt.createElementNS("http://www.w3.org/2000/svg",e)}function lB(e){return Bt.createElement(e)}function Dx(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.ceFn,i=n===void 0?e.tag==="svg"?aB:lB:n;if(typeof e=="string")return Bt.createTextNode(e);var s=i(e.tag);Object.keys(e.attributes||[]).forEach(function(o){s.setAttribute(o,e.attributes[o])});var r=e.children||[];return r.forEach(function(o){s.appendChild(Dx(o,{ceFn:i}))}),s}function cB(e){var t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}var wl={replace:function(t){var n=t[0];if(n.parentNode)if(t[1].forEach(function(s){n.parentNode.insertBefore(Dx(s),n)}),n.getAttribute(As)===null&&W.keepOriginalSource){var i=Bt.createComment(cB(n));n.parentNode.replaceChild(i,n)}else n.remove()},nest:function(t){var n=t[0],i=t[1];if(~Op(n).indexOf(W.replacementClass))return wl.replace(t);var s=new RegExp("".concat(W.cssPrefix,"-.*"));if(delete i[0].attributes.id,i[0].attributes.class){var r=i[0].attributes.class.split(" ").reduce(function(a,l){return l===W.replacementClass||l.match(s)?a.toSvg.push(l):a.toNode.push(l),a},{toNode:[],toSvg:[]});i[0].attributes.class=r.toSvg.join(" "),r.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",r.toNode.join(" "))}var o=i.map(function(a){return _a(a)}).join(`
`);n.setAttribute(As,""),n.innerHTML=o}};function Uy(e){e()}function Ox(e,t){var n=typeof t=="function"?t:Al;if(e.length===0)n();else{var i=Uy;W.mutateApproach===d4&&(i=Mi.requestAnimationFrame||Uy),i(function(){var s=oB(),r=zp.begin("mutate");e.map(s),r(),n()})}}var jp=!1;function Vx(){jp=!0}function Mf(){jp=!1}var lc=null;function Hy(e){if(Dy&&W.observeMutations){var t=e.treeCallback,n=t===void 0?Al:t,i=e.nodeCallback,s=i===void 0?Al:i,r=e.pseudoElementsCallback,o=r===void 0?Al:r,a=e.observeMutationsRoot,l=a===void 0?Bt:a;lc=new Dy(function(c){if(!jp){var u=Di();br(c).forEach(function(h){if(h.type==="childList"&&h.addedNodes.length>0&&!$y(h.addedNodes[0])&&(W.searchPseudoElements&&o(h.target),n(h.target)),h.type==="attributes"&&h.target.parentNode&&W.searchPseudoElements&&o(h.target.parentNode),h.type==="attributes"&&$y(h.target)&&~b4.indexOf(h.attributeName))if(h.attributeName==="class"&&sB(h.target)){var f=hu(Op(h.target)),d=f.prefix,p=f.iconName;h.target.setAttribute(Rp,d||u),p&&h.target.setAttribute(Mp,p)}else rB(h.target)&&s(h.target)})}}),oi&&lc.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function uB(){lc&&lc.disconnect()}function hB(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce(function(i,s){var r=s.split(":"),o=r[0],a=r.slice(1);return o&&a.length>0&&(i[o]=a.join(":").trim()),i},{})),n}function fB(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),i=e.innerText!==void 0?e.innerText.trim():"",s=hu(Op(e));return s.prefix||(s.prefix=Di()),t&&n&&(s.prefix=t,s.iconName=n),s.iconName&&s.prefix||(s.prefix&&i.length>0&&(s.iconName=U4(s.prefix,e.innerText)||Np(s.prefix,Tf(e.innerText))),!s.iconName&&W.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=e.firstChild.data)),s}function dB(e){var t=br(e.attributes).reduce(function(s,r){return s.name!=="class"&&s.name!=="style"&&(s[r.name]=r.value),s},{}),n=e.getAttribute("title"),i=e.getAttribute("data-fa-title-id");return W.autoA11y&&(n?t["aria-labelledby"]="".concat(W.replacementClass,"-title-").concat(i||Ko()):(t["aria-hidden"]="true",t.focusable="false")),t}function pB(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Sn,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function Wy(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=fB(e),i=n.iconName,s=n.prefix,r=n.rest,o=dB(e),a=Sf("parseNodeAttributes",{},e),l=t.styleParser?hB(e):[];return $({iconName:i,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:s,transform:Sn,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:r,styles:l,attributes:o}},a)}var gB=ln.styles;function Lx(e){var t=W.autoReplaceSvg==="nest"?Wy(e,{styleParser:!1}):Wy(e);return~t.extra.classes.indexOf(yx)?ii("generateLayersText",e,t):ii("generateSvgReplacementMutation",e,t)}var Oi=new Set;Dp.map(function(e){Oi.add("fa-".concat(e))});Object.keys(Uo[Vt]).map(Oi.add.bind(Oi));Object.keys(Uo[qt]).map(Oi.add.bind(Oi));Oi=ga(Oi);function qy(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!oi)return Promise.resolve();var n=Bt.documentElement.classList,i=function(h){return n.add("".concat(Oy,"-").concat(h))},s=function(h){return n.remove("".concat(Oy,"-").concat(h))},r=W.autoFetchSvg?Oi:Dp.map(function(u){return"fa-".concat(u)}).concat(Object.keys(gB));r.includes("fa")||r.push("fa");var o=[".".concat(yx,":not([").concat(As,"])")].concat(r.map(function(u){return".".concat(u,":not([").concat(As,"])")})).join(", ");if(o.length===0)return Promise.resolve();var a=[];try{a=br(e.querySelectorAll(o))}catch{}if(a.length>0)i("pending"),s("complete");else return Promise.resolve();var l=zp.begin("onTree"),c=a.reduce(function(u,h){try{var f=Lx(h);f&&u.push(f)}catch(d){_x||d.name==="MissingIcon"&&console.error(d)}return u},[]);return new Promise(function(u,h){Promise.all(c).then(function(f){Ox(f,function(){i("active"),i("complete"),s("pending"),typeof t=="function"&&t(),l(),u()})}).catch(function(f){l(),h(f)})})}function mB(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Lx(e).then(function(n){n&&Ox([n],t)})}function _B(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=(t||{}).icon?t:Cf(t||{}),s=n.mask;return s&&(s=(s||{}).icon?s:Cf(s||{})),e(i,$($({},n),{},{mask:s}))}}var yB=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.transform,s=i===void 0?Sn:i,r=n.symbol,o=r===void 0?!1:r,a=n.mask,l=a===void 0?null:a,c=n.maskId,u=c===void 0?null:c,h=n.title,f=h===void 0?null:h,d=n.titleId,p=d===void 0?null:d,g=n.classes,m=g===void 0?[]:g,_=n.attributes,y=_===void 0?{}:_,w=n.styles,A=w===void 0?{}:w;if(t){var E=t.prefix,I=t.iconName,P=t.icon;return fu($({type:"icon"},t),function(){return ws("beforeDOMElementCreation",{iconDefinition:t,params:n}),W.autoA11y&&(f?y["aria-labelledby"]="".concat(W.replacementClass,"-title-").concat(p||Ko()):(y["aria-hidden"]="true",y.focusable="false")),Bp({icons:{main:Pf(P),mask:l?Pf(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:E,iconName:I,transform:$($({},Sn),s),symbol:o,title:f,maskId:u,titleId:p,extra:{attributes:y,styles:A,classes:m}})})}},vB={mixout:function(){return{icon:_B(yB)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=qy,n.nodeCallback=mB,n}}},provides:function(t){t.i2svg=function(n){var i=n.node,s=i===void 0?Bt:i,r=n.callback,o=r===void 0?function(){}:r;return qy(s,o)},t.generateSvgReplacementMutation=function(n,i){var s=i.iconName,r=i.title,o=i.titleId,a=i.prefix,l=i.transform,c=i.symbol,u=i.mask,h=i.maskId,f=i.extra;return new Promise(function(d,p){Promise.all([kf(s,a),u.iconName?kf(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var m=Pp(g,2),_=m[0],y=m[1];d([n,Bp({icons:{main:_,mask:y},prefix:a,iconName:s,transform:l,symbol:c,maskId:h,title:r,titleId:o,extra:f,watchable:!0})])}).catch(p)})},t.generateAbstractIcon=function(n){var i=n.children,s=n.attributes,r=n.main,o=n.transform,a=n.styles,l=cu(a);l.length>0&&(s.style=l);var c;return Vp(o)&&(c=ii("generateAbstractTransformGrouping",{main:r,transform:o,containerWidth:r.width,iconWidth:r.width})),i.push(c||r.icon),{children:i,attributes:s}}}},bB={mixout:function(){return{layer:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.classes,r=s===void 0?[]:s;return fu({type:"layer"},function(){ws("beforeDOMElementCreation",{assembler:n,params:i});var o=[];return n(function(a){Array.isArray(a)?a.map(function(l){o=o.concat(l.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(W.cssPrefix,"-layers")].concat(ga(r)).join(" ")},children:o}]})}}}},AB={mixout:function(){return{counter:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.title,r=s===void 0?null:s,o=i.classes,a=o===void 0?[]:o,l=i.attributes,c=l===void 0?{}:l,u=i.styles,h=u===void 0?{}:u;return fu({type:"counter",content:n},function(){return ws("beforeDOMElementCreation",{content:n,params:i}),tB({content:n.toString(),title:r,extra:{attributes:c,styles:h,classes:["".concat(W.cssPrefix,"-layers-counter")].concat(ga(a))}})})}}}},wB={mixout:function(){return{text:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.transform,r=s===void 0?Sn:s,o=i.title,a=o===void 0?null:o,l=i.classes,c=l===void 0?[]:l,u=i.attributes,h=u===void 0?{}:u,f=i.styles,d=f===void 0?{}:f;return fu({type:"text",content:n},function(){return ws("beforeDOMElementCreation",{content:n,params:i}),zy({content:n,transform:$($({},Sn),r),title:a,extra:{attributes:h,styles:d,classes:["".concat(W.cssPrefix,"-layers-text")].concat(ga(c))}})})}}},provides:function(t){t.generateLayersText=function(n,i){var s=i.title,r=i.transform,o=i.extra,a=null,l=null;if(px){var c=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();a=u.width/c,l=u.height/c}return W.autoA11y&&!s&&(o.attributes["aria-hidden"]="true"),Promise.resolve([n,zy({content:n.innerHTML,width:a,height:l,transform:r,title:s,extra:o,watchable:!0})])}}},xB=new RegExp('"',"ug"),Ky=[1105920,1112319];function EB(e){var t=e.replace(xB,""),n=N4(t,0),i=n>=Ky[0]&&n<=Ky[1],s=t.length===2?t[0]===t[1]:!1;return{value:Tf(s?t[0]:t),isSecondary:i||s}}function Qy(e,t){var n="".concat(f4).concat(t.replace(":","-"));return new Promise(function(i,s){if(e.getAttribute(n)!==null)return i();var r=br(e.children),o=r.filter(function(P){return P.getAttribute(Ef)===t})[0],a=Mi.getComputedStyle(e,t),l=a.getPropertyValue("font-family").match(_4),c=a.getPropertyValue("font-weight"),u=a.getPropertyValue("content");if(o&&!l)return e.removeChild(o),i();if(l&&u!=="none"&&u!==""){var h=a.getPropertyValue("content"),f=~["Sharp"].indexOf(l[2])?qt:Vt,d=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(l[2])?Ho[f][l[2].toLowerCase()]:y4[f][c],p=EB(h),g=p.value,m=p.isSecondary,_=l[0].startsWith("FontAwesome"),y=Np(d,g),w=y;if(_){var A=H4(g);A.iconName&&A.prefix&&(y=A.iconName,d=A.prefix)}if(y&&!m&&(!o||o.getAttribute(Rp)!==d||o.getAttribute(Mp)!==w)){e.setAttribute(n,w),o&&e.removeChild(o);var E=pB(),I=E.extra;I.attributes[Ef]=t,kf(y,d).then(function(P){var O=Bp($($({},E),{},{icons:{main:P,mask:Fp()},prefix:d,iconName:w,extra:I,watchable:!0})),z=Bt.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?e.insertBefore(z,e.firstChild):e.appendChild(z),z.outerHTML=O.map(function(K){return _a(K)}).join(`
`),e.removeAttribute(n),i()}).catch(s)}else i()}else i()})}function TB(e){return Promise.all([Qy(e,"::before"),Qy(e,"::after")])}function IB(e){return e.parentNode!==document.head&&!~p4.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(Ef)&&(!e.parentNode||e.parentNode.tagName!=="svg")}function Yy(e){if(oi)return new Promise(function(t,n){var i=br(e.querySelectorAll("*")).filter(IB).map(TB),s=zp.begin("searchPseudoElements");Vx(),Promise.all(i).then(function(){s(),Mf(),t()}).catch(function(){s(),Mf(),n()})})}var SB={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=Yy,n}}},provides:function(t){t.pseudoElements2svg=function(n){var i=n.node,s=i===void 0?Bt:i;W.searchPseudoElements&&Yy(s)}}},Gy=!1,CB={mixout:function(){return{dom:{unwatch:function(){Vx(),Gy=!0}}}},hooks:function(){return{bootstrap:function(){Hy(Sf("mutationObserverCallbacks",{}))},noAuto:function(){uB()},watch:function(n){var i=n.observeMutationsRoot;Gy?Mf():Hy(Sf("mutationObserverCallbacks",{observeMutationsRoot:i}))}}}},Xy=function(t){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce(function(i,s){var r=s.toLowerCase().split("-"),o=r[0],a=r.slice(1).join("-");if(o&&a==="h")return i.flipX=!0,i;if(o&&a==="v")return i.flipY=!0,i;if(a=parseFloat(a),isNaN(a))return i;switch(o){case"grow":i.size=i.size+a;break;case"shrink":i.size=i.size-a;break;case"left":i.x=i.x-a;break;case"right":i.x=i.x+a;break;case"up":i.y=i.y-a;break;case"down":i.y=i.y+a;break;case"rotate":i.rotate=i.rotate+a;break}return i},n)},PB={mixout:function(){return{parse:{transform:function(n){return Xy(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,i){var s=i.getAttribute("data-fa-transform");return s&&(n.transform=Xy(s)),n}}},provides:function(t){t.generateAbstractTransformGrouping=function(n){var i=n.main,s=n.transform,r=n.containerWidth,o=n.iconWidth,a={transform:"translate(".concat(r/2," 256)")},l="translate(".concat(s.x*32,", ").concat(s.y*32,") "),c="scale(".concat(s.size/16*(s.flipX?-1:1),", ").concat(s.size/16*(s.flipY?-1:1),") "),u="rotate(".concat(s.rotate," 0 0)"),h={transform:"".concat(l," ").concat(c," ").concat(u)},f={transform:"translate(".concat(o/2*-1," -256)")},d={outer:a,inner:h,path:f};return{tag:"g",attributes:$({},d.outer),children:[{tag:"g",attributes:$({},d.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:$($({},i.icon.attributes),d.path)}]}]}}}},lh={x:0,y:0,width:"100%",height:"100%"};function Jy(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function kB(e){return e.tag==="g"?e.children:[e]}var RB={hooks:function(){return{parseNodeAttributes:function(n,i){var s=i.getAttribute("data-fa-mask"),r=s?hu(s.split(" ").map(function(o){return o.trim()})):Fp();return r.prefix||(r.prefix=Di()),n.mask=r,n.maskId=i.getAttribute("data-fa-mask-id"),n}}},provides:function(t){t.generateAbstractMask=function(n){var i=n.children,s=n.attributes,r=n.main,o=n.mask,a=n.maskId,l=n.transform,c=r.width,u=r.icon,h=o.width,f=o.icon,d=P4({transform:l,containerWidth:h,iconWidth:c}),p={tag:"rect",attributes:$($({},lh),{},{fill:"white"})},g=u.children?{children:u.children.map(Jy)}:{},m={tag:"g",attributes:$({},d.inner),children:[Jy($({tag:u.tag,attributes:$($({},u.attributes),d.path)},g))]},_={tag:"g",attributes:$({},d.outer),children:[m]},y="mask-".concat(a||Ko()),w="clip-".concat(a||Ko()),A={tag:"mask",attributes:$($({},lh),{},{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,_]},E={tag:"defs",children:[{tag:"clipPath",attributes:{id:w},children:kB(f)},A]};return i.push(E,{tag:"rect",attributes:$({fill:"currentColor","clip-path":"url(#".concat(w,")"),mask:"url(#".concat(y,")")},lh)}),{children:i,attributes:s}}}},MB={provides:function(t){var n=!1;Mi.matchMedia&&(n=Mi.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){var i=[],s={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};i.push({tag:"path",attributes:$($({},s),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=$($({},r),{},{attributeName:"opacity"}),a={tag:"circle",attributes:$($({},s),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:$($({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:$($({},o),{},{values:"1;0;1;1;0;1;"})}),i.push(a),i.push({tag:"path",attributes:$($({},s),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:$($({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||i.push({tag:"path",attributes:$($({},s),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:$($({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:i}}}},DB={hooks:function(){return{parseNodeAttributes:function(n,i){var s=i.getAttribute("data-fa-symbol"),r=s===null?!1:s===""?!0:s;return n.symbol=r,n}}}},OB=[M4,vB,bB,AB,wB,SB,CB,PB,RB,MB,DB];K4(OB,{mixoutsTo:Qe});Qe.noAuto;Qe.config;var VB=Qe.library;Qe.dom;var Df=Qe.parse;Qe.findIconDefinition;Qe.toHtml;var LB=Qe.icon;Qe.layer;Qe.text;Qe.counter;function Zy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function Un(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zy(Object(n),!0).forEach(function(i){Ne(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zy(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function cc(e){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cc(e)}function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NB(e,t){if(e==null)return{};var n={},i=Object.keys(e),s,r;for(r=0;r<i.length;r++)s=i[r],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function FB(e,t){if(e==null)return{};var n=NB(e,t),i,s;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}var BB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Nx={exports:{}};(function(e){(function(t){var n=function(_,y,w){if(!c(y)||h(y)||f(y)||d(y)||l(y))return y;var A,E=0,I=0;if(u(y))for(A=[],I=y.length;E<I;E++)A.push(n(_,y[E],w));else{A={};for(var P in y)Object.prototype.hasOwnProperty.call(y,P)&&(A[_(P,w)]=n(_,y[P],w))}return A},i=function(_,y){y=y||{};var w=y.separator||"_",A=y.split||/(?=[A-Z])/;return _.split(A).join(w)},s=function(_){return p(_)?_:(_=_.replace(/[\-_\s]+(.)?/g,function(y,w){return w?w.toUpperCase():""}),_.substr(0,1).toLowerCase()+_.substr(1))},r=function(_){var y=s(_);return y.substr(0,1).toUpperCase()+y.substr(1)},o=function(_,y){return i(_,y).toLowerCase()},a=Object.prototype.toString,l=function(_){return typeof _=="function"},c=function(_){return _===Object(_)},u=function(_){return a.call(_)=="[object Array]"},h=function(_){return a.call(_)=="[object Date]"},f=function(_){return a.call(_)=="[object RegExp]"},d=function(_){return a.call(_)=="[object Boolean]"},p=function(_){return _=_-0,_===_},g=function(_,y){var w=y&&"process"in y?y.process:y;return typeof w!="function"?_:function(A,E){return w(A,_,E)}},m={camelize:s,decamelize:o,pascalize:r,depascalize:o,camelizeKeys:function(_,y){return n(g(s,y),_)},decamelizeKeys:function(_,y){return n(g(o,y),_,y)},pascalizeKeys:function(_,y){return n(g(r,y),_)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};e.exports?e.exports=m:t.humps=m})(BB)})(Nx);var zB=Nx.exports,jB=["class","style"];function $B(e){return e.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,n){var i=n.indexOf(":"),s=zB.camelize(n.slice(0,i)),r=n.slice(i+1).trim();return t[s]=r,t},{})}function UB(e){return e.split(/\s+/).reduce(function(t,n){return t[n]=!0,t},{})}function Fx(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var i=(e.children||[]).map(function(l){return Fx(l)}),s=Object.keys(e.attributes||{}).reduce(function(l,c){var u=e.attributes[c];switch(c){case"class":l.class=UB(u);break;case"style":l.style=$B(u);break;default:l.attrs[c]=u}return l},{attrs:{},class:{},style:{}});n.class;var r=n.style,o=r===void 0?{}:r,a=FB(n,jB);return sd(e.tag,Un(Un(Un({},t),{},{class:s.class,style:Un(Un({},s.style),o)},s.attrs),a),i)}var Bx=!1;try{Bx=!0}catch{}function HB(){if(!Bx&&console&&typeof console.error=="function"){var e;(e=console).error.apply(e,arguments)}}function ch(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?Ne({},e,t):{}}function WB(e){var t,n=(t={"fa-spin":e.spin,"fa-pulse":e.pulse,"fa-fw":e.fixedWidth,"fa-border":e.border,"fa-li":e.listItem,"fa-inverse":e.inverse,"fa-flip":e.flip===!0,"fa-flip-horizontal":e.flip==="horizontal"||e.flip==="both","fa-flip-vertical":e.flip==="vertical"||e.flip==="both"},Ne(t,"fa-".concat(e.size),e.size!==null),Ne(t,"fa-rotate-".concat(e.rotation),e.rotation!==null),Ne(t,"fa-pull-".concat(e.pull),e.pull!==null),Ne(t,"fa-swap-opacity",e.swapOpacity),Ne(t,"fa-bounce",e.bounce),Ne(t,"fa-shake",e.shake),Ne(t,"fa-beat",e.beat),Ne(t,"fa-fade",e.fade),Ne(t,"fa-beat-fade",e.beatFade),Ne(t,"fa-flash",e.flash),Ne(t,"fa-spin-pulse",e.spinPulse),Ne(t,"fa-spin-reverse",e.spinReverse),t);return Object.keys(n).map(function(i){return n[i]?i:null}).filter(function(i){return i})}function tv(e){if(e&&cc(e)==="object"&&e.prefix&&e.iconName&&e.icon)return e;if(Df.icon)return Df.icon(e);if(e===null)return null;if(cc(e)==="object"&&e.prefix&&e.iconName)return e;if(Array.isArray(e)&&e.length===2)return{prefix:e[0],iconName:e[1]};if(typeof e=="string")return{prefix:"fas",iconName:e}}var qB=Gf({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:[Boolean,String],default:!1,validator:function(t){return[!0,!1,"horizontal","vertical","both"].indexOf(t)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(t){return["right","left"].indexOf(t)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(t){return[90,180,270].indexOf(Number.parseInt(t,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(t){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(t)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},inverse:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},shake:{type:Boolean,default:!1},beat:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},beatFade:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1}},setup:function(t,n){var i=n.attrs,s=pe(function(){return tv(t.icon)}),r=pe(function(){return ch("classes",WB(t))}),o=pe(function(){return ch("transform",typeof t.transform=="string"?Df.transform(t.transform):t.transform)}),a=pe(function(){return ch("mask",tv(t.mask))}),l=pe(function(){return LB(s.value,Un(Un(Un(Un({},r.value),o.value),a.value),{},{symbol:t.symbol,title:t.title}))});os(l,function(u){if(!u)return HB("Could not find one or more icon(s)",s.value,a.value)},{immediate:!0});var c=pe(function(){return l.value?Fx(l.value.abstract[0],{},i):null});return function(){return c.value}}}),KB={prefix:"fas",iconName:"chart-simple",icon:[448,512,[],"e473","M160 80c0-26.5 21.5-48 48-48h32c26.5 0 48 21.5 48 48V432c0 26.5-21.5 48-48 48H208c-26.5 0-48-21.5-48-48V80zM0 272c0-26.5 21.5-48 48-48H80c26.5 0 48 21.5 48 48V432c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V272zM368 96h32c26.5 0 48 21.5 48 48V432c0 26.5-21.5 48-48 48H368c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48z"]},QB={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"]},YB={prefix:"fas",iconName:"dumbbell",icon:[640,512,[],"f44b","M96 64c0-17.7 14.3-32 32-32h32c17.7 0 32 14.3 32 32V224v64V448c0 17.7-14.3 32-32 32H128c-17.7 0-32-14.3-32-32V384H64c-17.7 0-32-14.3-32-32V288c-17.7 0-32-14.3-32-32s14.3-32 32-32V160c0-17.7 14.3-32 32-32H96V64zm448 0v64h32c17.7 0 32 14.3 32 32v64c17.7 0 32 14.3 32 32s-14.3 32-32 32v64c0 17.7-14.3 32-32 32H544v64c0 17.7-14.3 32-32 32H480c-17.7 0-32-14.3-32-32V288 224 64c0-17.7 14.3-32 32-32h32c17.7 0 32 14.3 32 32zM416 224v64H224V224H416z"]},GB={prefix:"fas",iconName:"circle-plus",icon:[512,512,["plus-circle"],"f055","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344V280H168c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V168c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H280v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]};VB.add(QB,YB,KB,GB);const du=lT(wI);du.component("font-awesome-icon",qB);du.use(fT());du.use(n4);du.mount("#app");
