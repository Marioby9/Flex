var U1=Object.defineProperty;var z1=(e,t,n)=>t in e?U1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var F=(e,t,n)=>(z1(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function cp(e,t){const n=Object.create(null),i=e.split(",");for(let s=0;s<i.length;s++)n[i[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const Lt={},pr=[],_n=()=>{},j1=()=>!1,$1=/^on[^a-z]/,Eu=e=>$1.test(e),up=e=>e.startsWith("onUpdate:"),me=Object.assign,hp=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},H1=Object.prototype.hasOwnProperty,vt=(e,t)=>H1.call(e,t),nt=Array.isArray,gr=e=>qa(e)==="[object Map]",qr=e=>qa(e)==="[object Set]",Nm=e=>qa(e)==="[object Date]",pt=e=>typeof e=="function",ae=e=>typeof e=="string",na=e=>typeof e=="symbol",Nt=e=>e!==null&&typeof e=="object",f0=e=>Nt(e)&&pt(e.then)&&pt(e.catch),d0=Object.prototype.toString,qa=e=>d0.call(e),W1=e=>qa(e).slice(8,-1),p0=e=>qa(e)==="[object Object]",fp=e=>ae(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,cc=cp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Iu=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},q1=/-(\w)/g,Hn=Iu(e=>e.replace(q1,(t,n)=>n?n.toUpperCase():"")),K1=/\B([A-Z])/g,Kr=Iu(e=>e.replace(K1,"-$1").toLowerCase()),Tu=Iu(e=>e.charAt(0).toUpperCase()+e.slice(1)),Dh=Iu(e=>e?`on${Tu(e)}`:""),ia=(e,t)=>!Object.is(e,t),uc=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Oc=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Dc=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Lm;const Lf=()=>Lm||(Lm=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function dp(e){if(nt(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],s=ae(i)?X1(i):dp(i);if(s)for(const r in s)t[r]=s[r]}return t}else{if(ae(e))return e;if(Nt(e))return e}}const G1=/;(?![^(]*\))/g,Q1=/:([^]+)/,Y1=/\/\*[^]*?\*\//g;function X1(e){const t={};return e.replace(Y1,"").split(G1).forEach(n=>{if(n){const i=n.split(Q1);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Ka(e){let t="";if(ae(e))t=e;else if(nt(e))for(let n=0;n<e.length;n++){const i=Ka(e[n]);i&&(t+=i+" ")}else if(Nt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const J1="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Z1=cp(J1);function g0(e){return!!e||e===""}function tx(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=Ms(e[i],t[i]);return n}function Ms(e,t){if(e===t)return!0;let n=Nm(e),i=Nm(t);if(n||i)return n&&i?e.getTime()===t.getTime():!1;if(n=na(e),i=na(t),n||i)return e===t;if(n=nt(e),i=nt(t),n||i)return n&&i?tx(e,t):!1;if(n=Nt(e),i=Nt(t),n||i){if(!n||!i)return!1;const s=Object.keys(e).length,r=Object.keys(t).length;if(s!==r)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!Ms(e[o],t[o]))return!1}}return String(e)===String(t)}function pp(e,t){return e.findIndex(n=>Ms(n,t))}const yn=e=>ae(e)?e:e==null?"":nt(e)||Nt(e)&&(e.toString===d0||!pt(e.toString))?JSON.stringify(e,m0,2):String(e),m0=(e,t)=>t&&t.__v_isRef?m0(e,t.value):gr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,s])=>(n[`${i} =>`]=s,n),{})}:qr(t)?{[`Set(${t.size})`]:[...t.values()]}:Nt(t)&&!nt(t)&&!p0(t)?String(t):t;let Ye;class _0{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ye,!t&&Ye&&(this.index=(Ye.scopes||(Ye.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Ye;try{return Ye=this,t()}finally{Ye=n}}}on(){Ye=this}off(){Ye=this.parent}stop(t){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function y0(e){return new _0(e)}function ex(e,t=Ye){t&&t.active&&t.effects.push(e)}function gp(){return Ye}function v0(e){Ye&&Ye.cleanups.push(e)}const mp=e=>{const t=new Set(e);return t.w=0,t.n=0,t},b0=e=>(e.w&Wi)>0,A0=e=>(e.n&Wi)>0,nx=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Wi},ix=e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const s=t[i];b0(s)&&!A0(s)?s.delete(e):t[n++]=s,s.w&=~Wi,s.n&=~Wi}t.length=n}},Nc=new WeakMap;let bo=0,Wi=1;const Vf=30;let fn;const Es=Symbol(""),Ff=Symbol("");class _p{constructor(t,n=null,i){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,ex(this,i)}run(){if(!this.active)return this.fn();let t=fn,n=Li;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=fn,fn=this,Li=!0,Wi=1<<++bo,bo<=Vf?nx(this):Vm(this),this.fn()}finally{bo<=Vf&&ix(this),Wi=1<<--bo,fn=this.parent,Li=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){fn===this?this.deferStop=!0:this.active&&(Vm(this),this.onStop&&this.onStop(),this.active=!1)}}function Vm(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Li=!0;const w0=[];function Gr(){w0.push(Li),Li=!1}function Qr(){const e=w0.pop();Li=e===void 0?!0:e}function Ke(e,t,n){if(Li&&fn){let i=Nc.get(e);i||Nc.set(e,i=new Map);let s=i.get(n);s||i.set(n,s=mp()),E0(s)}}function E0(e,t){let n=!1;bo<=Vf?A0(e)||(e.n|=Wi,n=!b0(e)):n=!e.has(fn),n&&(e.add(fn),fn.deps.push(e))}function li(e,t,n,i,s,r){const o=Nc.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&nt(e)){const l=Number(i);o.forEach((c,u)=>{(u==="length"||u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),t){case"add":nt(e)?fp(n)&&a.push(o.get("length")):(a.push(o.get(Es)),gr(e)&&a.push(o.get(Ff)));break;case"delete":nt(e)||(a.push(o.get(Es)),gr(e)&&a.push(o.get(Ff)));break;case"set":gr(e)&&a.push(o.get(Es));break}if(a.length===1)a[0]&&Bf(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);Bf(mp(l))}}function Bf(e,t){const n=nt(e)?e:[...e];for(const i of n)i.computed&&Fm(i);for(const i of n)i.computed||Fm(i)}function Fm(e,t){(e!==fn||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function sx(e,t){var n;return(n=Nc.get(e))==null?void 0:n.get(t)}const rx=cp("__proto__,__v_isRef,__isVue"),I0=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(na)),ox=yp(),ax=yp(!1,!0),lx=yp(!0),Bm=cx();function cx(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=At(this);for(let r=0,o=this.length;r<o;r++)Ke(i,"get",r+"");const s=i[t](...n);return s===-1||s===!1?i[t](...n.map(At)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Gr();const i=At(this)[t].apply(this,n);return Qr(),i}}),e}function ux(e){const t=At(this);return Ke(t,"has",e),t.hasOwnProperty(e)}function yp(e=!1,t=!1){return function(i,s,r){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&r===(e?t?xx:C0:t?k0:S0).get(i))return i;const o=nt(i);if(!e){if(o&&vt(Bm,s))return Reflect.get(Bm,s,r);if(s==="hasOwnProperty")return ux}const a=Reflect.get(i,s,r);return(na(s)?I0.has(s):rx(s))||(e||Ke(i,"get",s),t)?a:Yt(a)?o&&fp(s)?a:a.value:Nt(a)?e?R0(a):Ga(a):a}}const hx=T0(),fx=T0(!0);function T0(e=!1){return function(n,i,s,r){let o=n[i];if(Tr(o)&&Yt(o)&&!Yt(s))return!1;if(!e&&(!Lc(s)&&!Tr(s)&&(o=At(o),s=At(s)),!nt(n)&&Yt(o)&&!Yt(s)))return o.value=s,!0;const a=nt(n)&&fp(i)?Number(i)<n.length:vt(n,i),l=Reflect.set(n,i,s,r);return n===At(r)&&(a?ia(s,o)&&li(n,"set",i,s):li(n,"add",i,s)),l}}function dx(e,t){const n=vt(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&li(e,"delete",t,void 0),i}function px(e,t){const n=Reflect.has(e,t);return(!na(t)||!I0.has(t))&&Ke(e,"has",t),n}function gx(e){return Ke(e,"iterate",nt(e)?"length":Es),Reflect.ownKeys(e)}const x0={get:ox,set:hx,deleteProperty:dx,has:px,ownKeys:gx},mx={get:lx,set(e,t){return!0},deleteProperty(e,t){return!0}},_x=me({},x0,{get:ax,set:fx}),vp=e=>e,xu=e=>Reflect.getPrototypeOf(e);function El(e,t,n=!1,i=!1){e=e.__v_raw;const s=At(e),r=At(t);n||(t!==r&&Ke(s,"get",t),Ke(s,"get",r));const{has:o}=xu(s),a=i?vp:n?wp:sa;if(o.call(s,t))return a(e.get(t));if(o.call(s,r))return a(e.get(r));e!==s&&e.get(t)}function Il(e,t=!1){const n=this.__v_raw,i=At(n),s=At(e);return t||(e!==s&&Ke(i,"has",e),Ke(i,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function Tl(e,t=!1){return e=e.__v_raw,!t&&Ke(At(e),"iterate",Es),Reflect.get(e,"size",e)}function Um(e){e=At(e);const t=At(this);return xu(t).has.call(t,e)||(t.add(e),li(t,"add",e,e)),this}function zm(e,t){t=At(t);const n=At(this),{has:i,get:s}=xu(n);let r=i.call(n,e);r||(e=At(e),r=i.call(n,e));const o=s.call(n,e);return n.set(e,t),r?ia(t,o)&&li(n,"set",e,t):li(n,"add",e,t),this}function jm(e){const t=At(this),{has:n,get:i}=xu(t);let s=n.call(t,e);s||(e=At(e),s=n.call(t,e)),i&&i.call(t,e);const r=t.delete(e);return s&&li(t,"delete",e,void 0),r}function $m(){const e=At(this),t=e.size!==0,n=e.clear();return t&&li(e,"clear",void 0,void 0),n}function xl(e,t){return function(i,s){const r=this,o=r.__v_raw,a=At(o),l=t?vp:e?wp:sa;return!e&&Ke(a,"iterate",Es),o.forEach((c,u)=>i.call(s,l(c),l(u),r))}}function Sl(e,t,n){return function(...i){const s=this.__v_raw,r=At(s),o=gr(r),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=s[e](...i),u=n?vp:t?wp:sa;return!t&&Ke(r,"iterate",l?Ff:Es),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function bi(e){return function(...t){return e==="delete"?!1:this}}function yx(){const e={get(r){return El(this,r)},get size(){return Tl(this)},has:Il,add:Um,set:zm,delete:jm,clear:$m,forEach:xl(!1,!1)},t={get(r){return El(this,r,!1,!0)},get size(){return Tl(this)},has:Il,add:Um,set:zm,delete:jm,clear:$m,forEach:xl(!1,!0)},n={get(r){return El(this,r,!0)},get size(){return Tl(this,!0)},has(r){return Il.call(this,r,!0)},add:bi("add"),set:bi("set"),delete:bi("delete"),clear:bi("clear"),forEach:xl(!0,!1)},i={get(r){return El(this,r,!0,!0)},get size(){return Tl(this,!0)},has(r){return Il.call(this,r,!0)},add:bi("add"),set:bi("set"),delete:bi("delete"),clear:bi("clear"),forEach:xl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=Sl(r,!1,!1),n[r]=Sl(r,!0,!1),t[r]=Sl(r,!1,!0),i[r]=Sl(r,!0,!0)}),[e,n,t,i]}const[vx,bx,Ax,wx]=yx();function bp(e,t){const n=t?e?wx:Ax:e?bx:vx;return(i,s,r)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?i:Reflect.get(vt(n,s)&&s in i?n:i,s,r)}const Ex={get:bp(!1,!1)},Ix={get:bp(!1,!0)},Tx={get:bp(!0,!1)},S0=new WeakMap,k0=new WeakMap,C0=new WeakMap,xx=new WeakMap;function Sx(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function kx(e){return e.__v_skip||!Object.isExtensible(e)?0:Sx(W1(e))}function Ga(e){return Tr(e)?e:Ap(e,!1,x0,Ex,S0)}function P0(e){return Ap(e,!1,_x,Ix,k0)}function R0(e){return Ap(e,!0,mx,Tx,C0)}function Ap(e,t,n,i,s){if(!Nt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=s.get(e);if(r)return r;const o=kx(e);if(o===0)return e;const a=new Proxy(e,o===2?i:n);return s.set(e,a),a}function Vi(e){return Tr(e)?Vi(e.__v_raw):!!(e&&e.__v_isReactive)}function Tr(e){return!!(e&&e.__v_isReadonly)}function Lc(e){return!!(e&&e.__v_isShallow)}function M0(e){return Vi(e)||Tr(e)}function At(e){const t=e&&e.__v_raw;return t?At(t):e}function Su(e){return Oc(e,"__v_skip",!0),e}const sa=e=>Nt(e)?Ga(e):e,wp=e=>Nt(e)?R0(e):e;function O0(e){Li&&fn&&(e=At(e),E0(e.dep||(e.dep=mp())))}function D0(e,t){e=At(e);const n=e.dep;n&&Bf(n)}function Yt(e){return!!(e&&e.__v_isRef===!0)}function Qt(e){return N0(e,!1)}function Cx(e){return N0(e,!0)}function N0(e,t){return Yt(e)?e:new Px(e,t)}class Px{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:At(t),this._value=n?t:sa(t)}get value(){return O0(this),this._value}set value(t){const n=this.__v_isShallow||Lc(t)||Tr(t);t=n?t:At(t),ia(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:sa(t),D0(this))}}function ge(e){return Yt(e)?e.value:e}const Rx={get:(e,t,n)=>ge(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const s=e[t];return Yt(s)&&!Yt(n)?(s.value=n,!0):Reflect.set(e,t,n,i)}};function L0(e){return Vi(e)?e:new Proxy(e,Rx)}function Mx(e){const t=nt(e)?new Array(e.length):{};for(const n in e)t[n]=Dx(e,n);return t}class Ox{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return sx(At(this._object),this._key)}}function Dx(e,t,n){const i=e[t];return Yt(i)?i:new Ox(e,t,n)}class Nx{constructor(t,n,i,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new _p(t,()=>{this._dirty||(this._dirty=!0,D0(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const t=At(this);return O0(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Lx(e,t,n=!1){let i,s;const r=pt(e);return r?(i=e,s=_n):(i=e.get,s=e.set),new Nx(i,s,r||!s,n)}function Fi(e,t,n,i){let s;try{s=i?e(...i):e()}catch(r){ku(r,t,n)}return s}function vn(e,t,n,i){if(pt(e)){const r=Fi(e,t,n,i);return r&&f0(r)&&r.catch(o=>{ku(o,t,n)}),r}const s=[];for(let r=0;r<e.length;r++)s.push(vn(e[r],t,n,i));return s}function ku(e,t,n,i=!0){const s=t?t.vnode:null;if(t){let r=t.parent;const o=t.proxy,a=n;for(;r;){const c=r.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,o,a)===!1)return}r=r.parent}const l=t.appContext.config.errorHandler;if(l){Fi(l,null,10,[e,o,a]);return}}Vx(e,n,s,i)}function Vx(e,t,n,i=!0){console.error(e)}let ra=!1,Uf=!1;const ke=[];let On=0;const mr=[];let Xn=null,ds=0;const V0=Promise.resolve();let Ep=null;function Ip(e){const t=Ep||V0;return e?t.then(this?e.bind(this):e):t}function Fx(e){let t=On+1,n=ke.length;for(;t<n;){const i=t+n>>>1;oa(ke[i])<e?t=i+1:n=i}return t}function Tp(e){(!ke.length||!ke.includes(e,ra&&e.allowRecurse?On+1:On))&&(e.id==null?ke.push(e):ke.splice(Fx(e.id),0,e),F0())}function F0(){!ra&&!Uf&&(Uf=!0,Ep=V0.then(U0))}function Bx(e){const t=ke.indexOf(e);t>On&&ke.splice(t,1)}function Ux(e){nt(e)?mr.push(...e):(!Xn||!Xn.includes(e,e.allowRecurse?ds+1:ds))&&mr.push(e),F0()}function Hm(e,t=ra?On+1:0){for(;t<ke.length;t++){const n=ke[t];n&&n.pre&&(ke.splice(t,1),t--,n())}}function B0(e){if(mr.length){const t=[...new Set(mr)];if(mr.length=0,Xn){Xn.push(...t);return}for(Xn=t,Xn.sort((n,i)=>oa(n)-oa(i)),ds=0;ds<Xn.length;ds++)Xn[ds]();Xn=null,ds=0}}const oa=e=>e.id==null?1/0:e.id,zx=(e,t)=>{const n=oa(e)-oa(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function U0(e){Uf=!1,ra=!0,ke.sort(zx);const t=_n;try{for(On=0;On<ke.length;On++){const n=ke[On];n&&n.active!==!1&&Fi(n,null,14)}}finally{On=0,ke.length=0,B0(),ra=!1,Ep=null,(ke.length||mr.length)&&U0()}}function jx(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||Lt;let s=n;const r=t.startsWith("update:"),o=r&&t.slice(7);if(o&&o in i){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=i[u]||Lt;f&&(s=n.map(d=>ae(d)?d.trim():d)),h&&(s=n.map(Dc))}let a,l=i[a=Dh(t)]||i[a=Dh(Hn(t))];!l&&r&&(l=i[a=Dh(Kr(t))]),l&&vn(l,e,6,s);const c=i[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,vn(c,e,6,s)}}function z0(e,t,n=!1){const i=t.emitsCache,s=i.get(e);if(s!==void 0)return s;const r=e.emits;let o={},a=!1;if(!pt(e)){const l=c=>{const u=z0(c,t,!0);u&&(a=!0,me(o,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!r&&!a?(Nt(e)&&i.set(e,null),null):(nt(r)?r.forEach(l=>o[l]=null):me(o,r),Nt(e)&&i.set(e,o),o)}function Cu(e,t){return!e||!Eu(t)?!1:(t=t.slice(2).replace(/Once$/,""),vt(e,t[0].toLowerCase()+t.slice(1))||vt(e,Kr(t))||vt(e,t))}let Je=null,Pu=null;function Vc(e){const t=Je;return Je=e,Pu=e&&e.type.__scopeId||null,t}function Ks(e){Pu=e}function Gs(){Pu=null}function Os(e,t=Je,n){if(!t||e._n)return e;const i=(...s)=>{i._d&&e_(-1);const r=Vc(t);let o;try{o=e(...s)}finally{Vc(r),i._d&&e_(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function Nh(e){const{type:t,vnode:n,proxy:i,withProxy:s,props:r,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:h,data:f,setupState:d,ctx:p,inheritAttrs:g}=e;let m,_;const y=Vc(e);try{if(n.shapeFlag&4){const A=s||i;m=Mn(u.call(A,A,h,r,d,f,p)),_=l}else{const A=t;m=Mn(A.length>1?A(r,{attrs:l,slots:a,emit:c}):A(r,null)),_=t.props?l:$x(l)}}catch(A){Fo.length=0,ku(A,e,1),m=xt(Ds)}let w=m;if(_&&g!==!1){const A=Object.keys(_),{shapeFlag:E}=w;A.length&&E&7&&(o&&A.some(up)&&(_=Hx(_,o)),w=xr(w,_))}return n.dirs&&(w=xr(w),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&(w.transition=n.transition),m=w,Vc(y),m}const $x=e=>{let t;for(const n in e)(n==="class"||n==="style"||Eu(n))&&((t||(t={}))[n]=e[n]);return t},Hx=(e,t)=>{const n={};for(const i in e)(!up(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function Wx(e,t,n){const{props:i,children:s,component:r}=e,{props:o,children:a,patchFlag:l}=t,c=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?Wm(i,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==i[f]&&!Cu(c,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?Wm(i,o,c):!0:!!o;return!1}function Wm(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(t[r]!==e[r]&&!Cu(n,r))return!0}return!1}function qx({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Kx=e=>e.__isSuspense;function Gx(e,t){t&&t.pendingBranch?nt(e)?t.effects.push(...e):t.effects.push(e):Ux(e)}const kl={};function Bi(e,t,n){return j0(e,t,n)}function j0(e,t,{immediate:n,deep:i,flush:s,onTrack:r,onTrigger:o}=Lt){var a;const l=gp()===((a=de)==null?void 0:a.scope)?de:null;let c,u=!1,h=!1;if(Yt(e)?(c=()=>e.value,u=Lc(e)):Vi(e)?(c=()=>e,i=!0):nt(e)?(h=!0,u=e.some(A=>Vi(A)||Lc(A)),c=()=>e.map(A=>{if(Yt(A))return A.value;if(Vi(A))return gs(A);if(pt(A))return Fi(A,l,2)})):pt(e)?t?c=()=>Fi(e,l,2):c=()=>{if(!(l&&l.isUnmounted))return f&&f(),vn(e,l,3,[d])}:c=_n,t&&i){const A=c;c=()=>gs(A())}let f,d=A=>{f=y.onStop=()=>{Fi(A,l,4)}},p;if(ha)if(d=_n,t?n&&vn(t,l,3,[c(),h?[]:void 0,d]):c(),s==="sync"){const A=US();p=A.__watcherHandles||(A.__watcherHandles=[])}else return _n;let g=h?new Array(e.length).fill(kl):kl;const m=()=>{if(y.active)if(t){const A=y.run();(i||u||(h?A.some((E,T)=>ia(E,g[T])):ia(A,g)))&&(f&&f(),vn(t,l,3,[A,g===kl?void 0:h&&g[0]===kl?[]:g,d]),g=A)}else y.run()};m.allowRecurse=!!t;let _;s==="sync"?_=m:s==="post"?_=()=>$e(m,l&&l.suspense):(m.pre=!0,l&&(m.id=l.uid),_=()=>Tp(m));const y=new _p(c,_);t?n?m():g=y.run():s==="post"?$e(y.run.bind(y),l&&l.suspense):y.run();const w=()=>{y.stop(),l&&l.scope&&hp(l.scope.effects,y)};return p&&p.push(w),w}function Qx(e,t,n){const i=this.proxy,s=ae(e)?e.includes(".")?$0(i,e):()=>i[e]:e.bind(i,i);let r;pt(t)?r=t:(r=t.handler,n=t);const o=de;kr(this);const a=j0(s,r.bind(i),n);return o?kr(o):Ts(),a}function $0(e,t){const n=t.split(".");return()=>{let i=e;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}function gs(e,t){if(!Nt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Yt(e))gs(e.value,t);else if(nt(e))for(let n=0;n<e.length;n++)gs(e[n],t);else if(qr(e)||gr(e))e.forEach(n=>{gs(n,t)});else if(p0(e))for(const n in e)gs(e[n],t);return e}function Is(e,t){const n=Je;if(n===null)return e;const i=Lu(n)||n.proxy,s=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,a,l,c=Lt]=t[r];o&&(pt(o)&&(o={mounted:o,updated:o}),o.deep&&gs(a),s.push({dir:o,instance:i,value:a,oldValue:void 0,arg:l,modifiers:c}))}return e}function ss(e,t,n,i){const s=e.dirs,r=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];r&&(a.oldValue=r[o].value);let l=a.dir[i];l&&(Gr(),vn(l,n,8,[e.el,a,e,t]),Qr())}}function xp(e,t){return pt(e)?(()=>me({name:e.name},t,{setup:e}))():e}const hc=e=>!!e.type.__asyncLoader,H0=e=>e.type.__isKeepAlive;function Yx(e,t){W0(e,"a",t)}function Xx(e,t){W0(e,"da",t)}function W0(e,t,n=de){const i=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Ru(t,i,n),n){let s=n.parent;for(;s&&s.parent;)H0(s.parent.vnode)&&Jx(i,t,n,s),s=s.parent}}function Jx(e,t,n,i){const s=Ru(t,e,i,!0);q0(()=>{hp(i[t],s)},n)}function Ru(e,t,n=de,i=!1){if(n){const s=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;Gr(),kr(n);const a=vn(t,n,e,o);return Ts(),Qr(),a});return i?s.unshift(r):s.push(r),r}}const _i=e=>(t,n=de)=>(!ha||e==="sp")&&Ru(e,(...i)=>t(...i),n),Zx=_i("bm"),Mu=_i("m"),tS=_i("bu"),eS=_i("u"),nS=_i("bum"),q0=_i("um"),iS=_i("sp"),sS=_i("rtg"),rS=_i("rtc");function oS(e,t=de){Ru("ec",e,t)}const Sp="components";function Ou(e,t){return G0(Sp,e,!0,t)||e}const K0=Symbol.for("v-ndc");function aS(e){return ae(e)?G0(Sp,e,!1)||e:e||K0}function G0(e,t,n=!0,i=!1){const s=Je||de;if(s){const r=s.type;if(e===Sp){const a=VS(r,!1);if(a&&(a===t||a===Hn(t)||a===Tu(Hn(t))))return r}const o=qm(s[e]||r[e],t)||qm(s.appContext[e],t);return!o&&i?r:o}}function qm(e,t){return e&&(e[t]||e[Hn(t)]||e[Tu(Hn(t))])}function aa(e,t,n,i){let s;const r=n&&n[i];if(nt(e)||ae(e)){s=new Array(e.length);for(let o=0,a=e.length;o<a;o++)s[o]=t(e[o],o,void 0,r&&r[o])}else if(typeof e=="number"){s=new Array(e);for(let o=0;o<e;o++)s[o]=t(o+1,o,void 0,r&&r[o])}else if(Nt(e))if(e[Symbol.iterator])s=Array.from(e,(o,a)=>t(o,a,void 0,r&&r[a]));else{const o=Object.keys(e);s=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];s[a]=t(e[c],c,a,r&&r[a])}}else s=[];return n&&(n[i]=s),s}const zf=e=>e?rA(e)?Lu(e)||e.proxy:zf(e.parent):null,Vo=me(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>zf(e.parent),$root:e=>zf(e.root),$emit:e=>e.emit,$options:e=>kp(e),$forceUpdate:e=>e.f||(e.f=()=>Tp(e.update)),$nextTick:e=>e.n||(e.n=Ip.bind(e.proxy)),$watch:e=>Qx.bind(e)}),Lh=(e,t)=>e!==Lt&&!e.__isScriptSetup&&vt(e,t),lS={get({_:e},t){const{ctx:n,setupState:i,data:s,props:r,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const d=o[t];if(d!==void 0)switch(d){case 1:return i[t];case 2:return s[t];case 4:return n[t];case 3:return r[t]}else{if(Lh(i,t))return o[t]=1,i[t];if(s!==Lt&&vt(s,t))return o[t]=2,s[t];if((c=e.propsOptions[0])&&vt(c,t))return o[t]=3,r[t];if(n!==Lt&&vt(n,t))return o[t]=4,n[t];jf&&(o[t]=0)}}const u=Vo[t];let h,f;if(u)return t==="$attrs"&&Ke(e,"get",t),u(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(n!==Lt&&vt(n,t))return o[t]=4,n[t];if(f=l.config.globalProperties,vt(f,t))return f[t]},set({_:e},t,n){const{data:i,setupState:s,ctx:r}=e;return Lh(s,t)?(s[t]=n,!0):i!==Lt&&vt(i,t)?(i[t]=n,!0):vt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:s,propsOptions:r}},o){let a;return!!n[o]||e!==Lt&&vt(e,o)||Lh(t,o)||(a=r[0])&&vt(a,o)||vt(i,o)||vt(Vo,o)||vt(s.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:vt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Km(e){return nt(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let jf=!0;function cS(e){const t=kp(e),n=e.proxy,i=e.ctx;jf=!1,t.beforeCreate&&Gm(t.beforeCreate,e,"bc");const{data:s,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:d,updated:p,activated:g,deactivated:m,beforeDestroy:_,beforeUnmount:y,destroyed:w,unmounted:A,render:E,renderTracked:T,renderTriggered:k,errorCaptured:S,serverPrefetch:M,expose:$,inheritAttrs:Y,components:st,directives:It,filters:ee}=t;if(c&&uS(c,i,null),o)for(const it in o){const ut=o[it];pt(ut)&&(i[it]=ut.bind(n))}if(s){const it=s.call(n,n);Nt(it)&&(e.data=Ga(it))}if(jf=!0,r)for(const it in r){const ut=r[it],Mt=pt(ut)?ut.bind(n,n):pt(ut.get)?ut.get.bind(n,n):_n,Ve=!pt(ut)&&pt(ut.set)?ut.set.bind(n):_n,Fe=fe({get:Mt,set:Ve});Object.defineProperty(i,it,{enumerable:!0,configurable:!0,get:()=>Fe.value,set:ne=>Fe.value=ne})}if(a)for(const it in a)Q0(a[it],i,n,it);if(l){const it=pt(l)?l.call(n):l;Reflect.ownKeys(it).forEach(ut=>{fc(ut,it[ut])})}u&&Gm(u,e,"c");function X(it,ut){nt(ut)?ut.forEach(Mt=>it(Mt.bind(n))):ut&&it(ut.bind(n))}if(X(Zx,h),X(Mu,f),X(tS,d),X(eS,p),X(Yx,g),X(Xx,m),X(oS,S),X(rS,T),X(sS,k),X(nS,y),X(q0,A),X(iS,M),nt($))if($.length){const it=e.exposed||(e.exposed={});$.forEach(ut=>{Object.defineProperty(it,ut,{get:()=>n[ut],set:Mt=>n[ut]=Mt})})}else e.exposed||(e.exposed={});E&&e.render===_n&&(e.render=E),Y!=null&&(e.inheritAttrs=Y),st&&(e.components=st),It&&(e.directives=It)}function uS(e,t,n=_n){nt(e)&&(e=$f(e));for(const i in e){const s=e[i];let r;Nt(s)?"default"in s?r=cn(s.from||i,s.default,!0):r=cn(s.from||i):r=cn(s),Yt(r)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[i]=r}}function Gm(e,t,n){vn(nt(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function Q0(e,t,n,i){const s=i.includes(".")?$0(n,i):()=>n[i];if(ae(e)){const r=t[e];pt(r)&&Bi(s,r)}else if(pt(e))Bi(s,e.bind(n));else if(Nt(e))if(nt(e))e.forEach(r=>Q0(r,t,n,i));else{const r=pt(e.handler)?e.handler.bind(n):t[e.handler];pt(r)&&Bi(s,r,e)}}function kp(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,a=r.get(t);let l;return a?l=a:!s.length&&!n&&!i?l=t:(l={},s.length&&s.forEach(c=>Fc(l,c,o,!0)),Fc(l,t,o)),Nt(t)&&r.set(t,l),l}function Fc(e,t,n,i=!1){const{mixins:s,extends:r}=t;r&&Fc(e,r,n,!0),s&&s.forEach(o=>Fc(e,o,n,!0));for(const o in t)if(!(i&&o==="expose")){const a=hS[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const hS={data:Qm,props:Ym,emits:Ym,methods:Ao,computed:Ao,beforeCreate:Be,created:Be,beforeMount:Be,mounted:Be,beforeUpdate:Be,updated:Be,beforeDestroy:Be,beforeUnmount:Be,destroyed:Be,unmounted:Be,activated:Be,deactivated:Be,errorCaptured:Be,serverPrefetch:Be,components:Ao,directives:Ao,watch:dS,provide:Qm,inject:fS};function Qm(e,t){return t?e?function(){return me(pt(e)?e.call(this,this):e,pt(t)?t.call(this,this):t)}:t:e}function fS(e,t){return Ao($f(e),$f(t))}function $f(e){if(nt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Be(e,t){return e?[...new Set([].concat(e,t))]:t}function Ao(e,t){return e?me(Object.create(null),e,t):t}function Ym(e,t){return e?nt(e)&&nt(t)?[...new Set([...e,...t])]:me(Object.create(null),Km(e),Km(t??{})):t}function dS(e,t){if(!e)return t;if(!t)return e;const n=me(Object.create(null),e);for(const i in t)n[i]=Be(e[i],t[i]);return n}function Y0(){return{app:null,config:{isNativeTag:j1,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let pS=0;function gS(e,t){return function(i,s=null){pt(i)||(i=me({},i)),s!=null&&!Nt(s)&&(s=null);const r=Y0(),o=new Set;let a=!1;const l=r.app={_uid:pS++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:zS,get config(){return r.config},set config(c){},use(c,...u){return o.has(c)||(c&&pt(c.install)?(o.add(c),c.install(l,...u)):pt(c)&&(o.add(c),c(l,...u))),l},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),l},component(c,u){return u?(r.components[c]=u,l):r.components[c]},directive(c,u){return u?(r.directives[c]=u,l):r.directives[c]},mount(c,u,h){if(!a){const f=xt(i,s);return f.appContext=r,u&&t?t(f,c):e(f,c,h),a=!0,l._container=c,c.__vue_app__=l,Lu(f.component)||f.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(c,u){return r.provides[c]=u,l},runWithContext(c){la=l;try{return c()}finally{la=null}}};return l}}let la=null;function fc(e,t){if(de){let n=de.provides;const i=de.parent&&de.parent.provides;i===n&&(n=de.provides=Object.create(i)),n[e]=t}}function cn(e,t,n=!1){const i=de||Je;if(i||la){const s=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:la._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&pt(t)?t.call(i&&i.proxy):t}}function mS(){return!!(de||Je||la)}function _S(e,t,n,i=!1){const s={},r={};Oc(r,Nu,1),e.propsDefaults=Object.create(null),X0(e,t,s,r);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=i?s:P0(s):e.type.props?e.props=s:e.props=r,e.attrs=r}function yS(e,t,n,i){const{props:s,attrs:r,vnode:{patchFlag:o}}=e,a=At(s),[l]=e.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(Cu(e.emitsOptions,f))continue;const d=t[f];if(l)if(vt(r,f))d!==r[f]&&(r[f]=d,c=!0);else{const p=Hn(f);s[p]=Hf(l,a,p,d,e,!1)}else d!==r[f]&&(r[f]=d,c=!0)}}}else{X0(e,t,s,r)&&(c=!0);let u;for(const h in a)(!t||!vt(t,h)&&((u=Kr(h))===h||!vt(t,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(s[h]=Hf(l,a,h,void 0,e,!0)):delete s[h]);if(r!==a)for(const h in r)(!t||!vt(t,h))&&(delete r[h],c=!0)}c&&li(e,"set","$attrs")}function X0(e,t,n,i){const[s,r]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(cc(l))continue;const c=t[l];let u;s&&vt(s,u=Hn(l))?!r||!r.includes(u)?n[u]=c:(a||(a={}))[u]=c:Cu(e.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(r){const l=At(n),c=a||Lt;for(let u=0;u<r.length;u++){const h=r[u];n[h]=Hf(s,l,h,c[h],e,!vt(c,h))}}return o}function Hf(e,t,n,i,s,r){const o=e[n];if(o!=null){const a=vt(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&pt(l)){const{propsDefaults:c}=s;n in c?i=c[n]:(kr(s),i=c[n]=l.call(null,t),Ts())}else i=l}o[0]&&(r&&!a?i=!1:o[1]&&(i===""||i===Kr(n))&&(i=!0))}return i}function J0(e,t,n=!1){const i=t.propsCache,s=i.get(e);if(s)return s;const r=e.props,o={},a=[];let l=!1;if(!pt(e)){const u=h=>{l=!0;const[f,d]=J0(h,t,!0);me(o,f),d&&a.push(...d)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!r&&!l)return Nt(e)&&i.set(e,pr),pr;if(nt(r))for(let u=0;u<r.length;u++){const h=Hn(r[u]);Xm(h)&&(o[h]=Lt)}else if(r)for(const u in r){const h=Hn(u);if(Xm(h)){const f=r[u],d=o[h]=nt(f)||pt(f)?{type:f}:me({},f);if(d){const p=t_(Boolean,d.type),g=t_(String,d.type);d[0]=p>-1,d[1]=g<0||p<g,(p>-1||vt(d,"default"))&&a.push(h)}}}const c=[o,a];return Nt(e)&&i.set(e,c),c}function Xm(e){return e[0]!=="$"}function Jm(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Zm(e,t){return Jm(e)===Jm(t)}function t_(e,t){return nt(t)?t.findIndex(n=>Zm(n,e)):pt(t)&&Zm(t,e)?0:-1}const Z0=e=>e[0]==="_"||e==="$stable",Cp=e=>nt(e)?e.map(Mn):[Mn(e)],vS=(e,t,n)=>{if(t._n)return t;const i=Os((...s)=>Cp(t(...s)),n);return i._c=!1,i},tA=(e,t,n)=>{const i=e._ctx;for(const s in e){if(Z0(s))continue;const r=e[s];if(pt(r))t[s]=vS(s,r,i);else if(r!=null){const o=Cp(r);t[s]=()=>o}}},eA=(e,t)=>{const n=Cp(t);e.slots.default=()=>n},bS=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=At(t),Oc(t,"_",n)):tA(t,e.slots={})}else e.slots={},t&&eA(e,t);Oc(e.slots,Nu,1)},AS=(e,t,n)=>{const{vnode:i,slots:s}=e;let r=!0,o=Lt;if(i.shapeFlag&32){const a=t._;a?n&&a===1?r=!1:(me(s,t),!n&&a===1&&delete s._):(r=!t.$stable,tA(t,s)),o=t}else t&&(eA(e,t),o={default:1});if(r)for(const a in s)!Z0(a)&&!(a in o)&&delete s[a]};function Wf(e,t,n,i,s=!1){if(nt(e)){e.forEach((f,d)=>Wf(f,t&&(nt(t)?t[d]:t),n,i,s));return}if(hc(i)&&!s)return;const r=i.shapeFlag&4?Lu(i.component)||i.component.proxy:i.el,o=s?null:r,{i:a,r:l}=e,c=t&&t.r,u=a.refs===Lt?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==l&&(ae(c)?(u[c]=null,vt(h,c)&&(h[c]=null)):Yt(c)&&(c.value=null)),pt(l))Fi(l,a,12,[o,u]);else{const f=ae(l),d=Yt(l);if(f||d){const p=()=>{if(e.f){const g=f?vt(h,l)?h[l]:u[l]:l.value;s?nt(g)&&hp(g,r):nt(g)?g.includes(r)||g.push(r):f?(u[l]=[r],vt(h,l)&&(h[l]=u[l])):(l.value=[r],e.k&&(u[e.k]=l.value))}else f?(u[l]=o,vt(h,l)&&(h[l]=o)):d&&(l.value=o,e.k&&(u[e.k]=o))};o?(p.id=-1,$e(p,n)):p()}}}const $e=Gx;function wS(e){return ES(e)}function ES(e,t){const n=Lf();n.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:d=_n,insertStaticContent:p}=e,g=(v,b,I,x=null,P=null,O=null,j=!1,V=null,B=!!b.dynamicChildren)=>{if(v===b)return;v&&!uo(v,b)&&(x=C(v),ne(v,P,O,!0),v=null),b.patchFlag===-2&&(B=!1,b.dynamicChildren=null);const{type:D,ref:tt,shapeFlag:K}=b;switch(D){case Du:m(v,b,I,x);break;case Ds:_(v,b,I,x);break;case Vh:v==null&&y(b,I,x,j);break;case xe:st(v,b,I,x,P,O,j,V,B);break;default:K&1?E(v,b,I,x,P,O,j,V,B):K&6?It(v,b,I,x,P,O,j,V,B):(K&64||K&128)&&D.process(v,b,I,x,P,O,j,V,B,U)}tt!=null&&P&&Wf(tt,v&&v.ref,O,b||v,!b)},m=(v,b,I,x)=>{if(v==null)i(b.el=a(b.children),I,x);else{const P=b.el=v.el;b.children!==v.children&&c(P,b.children)}},_=(v,b,I,x)=>{v==null?i(b.el=l(b.children||""),I,x):b.el=v.el},y=(v,b,I,x)=>{[v.el,v.anchor]=p(v.children,b,I,x,v.el,v.anchor)},w=({el:v,anchor:b},I,x)=>{let P;for(;v&&v!==b;)P=f(v),i(v,I,x),v=P;i(b,I,x)},A=({el:v,anchor:b})=>{let I;for(;v&&v!==b;)I=f(v),s(v),v=I;s(b)},E=(v,b,I,x,P,O,j,V,B)=>{j=j||b.type==="svg",v==null?T(b,I,x,P,O,j,V,B):M(v,b,P,O,j,V,B)},T=(v,b,I,x,P,O,j,V)=>{let B,D;const{type:tt,props:K,shapeFlag:et,transition:lt,dirs:gt}=v;if(B=v.el=o(v.type,O,K&&K.is,K),et&8?u(B,v.children):et&16&&S(v.children,B,null,x,P,O&&tt!=="foreignObject",j,V),gt&&ss(v,null,x,"created"),k(B,v,v.scopeId,j,x),K){for(const Rt in K)Rt!=="value"&&!cc(Rt)&&r(B,Rt,null,K[Rt],O,v.children,x,P,Kt);"value"in K&&r(B,"value",null,K.value),(D=K.onVnodeBeforeMount)&&Cn(D,x,v)}gt&&ss(v,null,x,"beforeMount");const Ot=(!P||P&&!P.pendingBranch)&&lt&&!lt.persisted;Ot&&lt.beforeEnter(B),i(B,b,I),((D=K&&K.onVnodeMounted)||Ot||gt)&&$e(()=>{D&&Cn(D,x,v),Ot&&lt.enter(B),gt&&ss(v,null,x,"mounted")},P)},k=(v,b,I,x,P)=>{if(I&&d(v,I),x)for(let O=0;O<x.length;O++)d(v,x[O]);if(P){let O=P.subTree;if(b===O){const j=P.vnode;k(v,j,j.scopeId,j.slotScopeIds,P.parent)}}},S=(v,b,I,x,P,O,j,V,B=0)=>{for(let D=B;D<v.length;D++){const tt=v[D]=V?Ti(v[D]):Mn(v[D]);g(null,tt,b,I,x,P,O,j,V)}},M=(v,b,I,x,P,O,j)=>{const V=b.el=v.el;let{patchFlag:B,dynamicChildren:D,dirs:tt}=b;B|=v.patchFlag&16;const K=v.props||Lt,et=b.props||Lt;let lt;I&&rs(I,!1),(lt=et.onVnodeBeforeUpdate)&&Cn(lt,I,b,v),tt&&ss(b,v,I,"beforeUpdate"),I&&rs(I,!0);const gt=P&&b.type!=="foreignObject";if(D?$(v.dynamicChildren,D,V,I,x,gt,O):j||ut(v,b,V,null,I,x,gt,O,!1),B>0){if(B&16)Y(V,b,K,et,I,x,P);else if(B&2&&K.class!==et.class&&r(V,"class",null,et.class,P),B&4&&r(V,"style",K.style,et.style,P),B&8){const Ot=b.dynamicProps;for(let Rt=0;Rt<Ot.length;Rt++){const ie=Ot[Rt],hn=K[ie],er=et[ie];(er!==hn||ie==="value")&&r(V,ie,hn,er,P,v.children,I,x,Kt)}}B&1&&v.children!==b.children&&u(V,b.children)}else!j&&D==null&&Y(V,b,K,et,I,x,P);((lt=et.onVnodeUpdated)||tt)&&$e(()=>{lt&&Cn(lt,I,b,v),tt&&ss(b,v,I,"updated")},x)},$=(v,b,I,x,P,O,j)=>{for(let V=0;V<b.length;V++){const B=v[V],D=b[V],tt=B.el&&(B.type===xe||!uo(B,D)||B.shapeFlag&70)?h(B.el):I;g(B,D,tt,null,x,P,O,j,!0)}},Y=(v,b,I,x,P,O,j)=>{if(I!==x){if(I!==Lt)for(const V in I)!cc(V)&&!(V in x)&&r(v,V,I[V],null,j,b.children,P,O,Kt);for(const V in x){if(cc(V))continue;const B=x[V],D=I[V];B!==D&&V!=="value"&&r(v,V,D,B,j,b.children,P,O,Kt)}"value"in x&&r(v,"value",I.value,x.value)}},st=(v,b,I,x,P,O,j,V,B)=>{const D=b.el=v?v.el:a(""),tt=b.anchor=v?v.anchor:a("");let{patchFlag:K,dynamicChildren:et,slotScopeIds:lt}=b;lt&&(V=V?V.concat(lt):lt),v==null?(i(D,I,x),i(tt,I,x),S(b.children,I,tt,P,O,j,V,B)):K>0&&K&64&&et&&v.dynamicChildren?($(v.dynamicChildren,et,I,P,O,j,V),(b.key!=null||P&&b===P.subTree)&&nA(v,b,!0)):ut(v,b,I,tt,P,O,j,V,B)},It=(v,b,I,x,P,O,j,V,B)=>{b.slotScopeIds=V,v==null?b.shapeFlag&512?P.ctx.activate(b,I,x,j,B):ee(b,I,x,P,O,j,B):dt(v,b,B)},ee=(v,b,I,x,P,O,j)=>{const V=v.component=MS(v,x,P);if(H0(v)&&(V.ctx.renderer=U),OS(V),V.asyncDep){if(P&&P.registerDep(V,X),!v.el){const B=V.subTree=xt(Ds);_(null,B,b,I)}return}X(V,v,b,I,P,O,j)},dt=(v,b,I)=>{const x=b.component=v.component;if(Wx(v,b,I))if(x.asyncDep&&!x.asyncResolved){it(x,b,I);return}else x.next=b,Bx(x.update),x.update();else b.el=v.el,x.vnode=b},X=(v,b,I,x,P,O,j)=>{const V=()=>{if(v.isMounted){let{next:tt,bu:K,u:et,parent:lt,vnode:gt}=v,Ot=tt,Rt;rs(v,!1),tt?(tt.el=gt.el,it(v,tt,j)):tt=gt,K&&uc(K),(Rt=tt.props&&tt.props.onVnodeBeforeUpdate)&&Cn(Rt,lt,tt,gt),rs(v,!0);const ie=Nh(v),hn=v.subTree;v.subTree=ie,g(hn,ie,h(hn.el),C(hn),v,P,O),tt.el=ie.el,Ot===null&&qx(v,ie.el),et&&$e(et,P),(Rt=tt.props&&tt.props.onVnodeUpdated)&&$e(()=>Cn(Rt,lt,tt,gt),P)}else{let tt;const{el:K,props:et}=b,{bm:lt,m:gt,parent:Ot}=v,Rt=hc(b);if(rs(v,!1),lt&&uc(lt),!Rt&&(tt=et&&et.onVnodeBeforeMount)&&Cn(tt,Ot,b),rs(v,!0),K&&Tt){const ie=()=>{v.subTree=Nh(v),Tt(K,v.subTree,v,P,null)};Rt?b.type.__asyncLoader().then(()=>!v.isUnmounted&&ie()):ie()}else{const ie=v.subTree=Nh(v);g(null,ie,I,x,v,P,O),b.el=ie.el}if(gt&&$e(gt,P),!Rt&&(tt=et&&et.onVnodeMounted)){const ie=b;$e(()=>Cn(tt,Ot,ie),P)}(b.shapeFlag&256||Ot&&hc(Ot.vnode)&&Ot.vnode.shapeFlag&256)&&v.a&&$e(v.a,P),v.isMounted=!0,b=I=x=null}},B=v.effect=new _p(V,()=>Tp(D),v.scope),D=v.update=()=>B.run();D.id=v.uid,rs(v,!0),D()},it=(v,b,I)=>{b.component=v;const x=v.vnode.props;v.vnode=b,v.next=null,yS(v,b.props,x,I),AS(v,b.children,I),Gr(),Hm(),Qr()},ut=(v,b,I,x,P,O,j,V,B=!1)=>{const D=v&&v.children,tt=v?v.shapeFlag:0,K=b.children,{patchFlag:et,shapeFlag:lt}=b;if(et>0){if(et&128){Ve(D,K,I,x,P,O,j,V,B);return}else if(et&256){Mt(D,K,I,x,P,O,j,V,B);return}}lt&8?(tt&16&&Kt(D,P,O),K!==D&&u(I,K)):tt&16?lt&16?Ve(D,K,I,x,P,O,j,V,B):Kt(D,P,O,!0):(tt&8&&u(I,""),lt&16&&S(K,I,x,P,O,j,V,B))},Mt=(v,b,I,x,P,O,j,V,B)=>{v=v||pr,b=b||pr;const D=v.length,tt=b.length,K=Math.min(D,tt);let et;for(et=0;et<K;et++){const lt=b[et]=B?Ti(b[et]):Mn(b[et]);g(v[et],lt,I,null,P,O,j,V,B)}D>tt?Kt(v,P,O,!0,!1,K):S(b,I,x,P,O,j,V,B,K)},Ve=(v,b,I,x,P,O,j,V,B)=>{let D=0;const tt=b.length;let K=v.length-1,et=tt-1;for(;D<=K&&D<=et;){const lt=v[D],gt=b[D]=B?Ti(b[D]):Mn(b[D]);if(uo(lt,gt))g(lt,gt,I,null,P,O,j,V,B);else break;D++}for(;D<=K&&D<=et;){const lt=v[K],gt=b[et]=B?Ti(b[et]):Mn(b[et]);if(uo(lt,gt))g(lt,gt,I,null,P,O,j,V,B);else break;K--,et--}if(D>K){if(D<=et){const lt=et+1,gt=lt<tt?b[lt].el:x;for(;D<=et;)g(null,b[D]=B?Ti(b[D]):Mn(b[D]),I,gt,P,O,j,V,B),D++}}else if(D>et)for(;D<=K;)ne(v[D],P,O,!0),D++;else{const lt=D,gt=D,Ot=new Map;for(D=gt;D<=et;D++){const Ge=b[D]=B?Ti(b[D]):Mn(b[D]);Ge.key!=null&&Ot.set(Ge.key,D)}let Rt,ie=0;const hn=et-gt+1;let er=!1,Mm=0;const co=new Array(hn);for(D=0;D<hn;D++)co[D]=0;for(D=lt;D<=K;D++){const Ge=v[D];if(ie>=hn){ne(Ge,P,O,!0);continue}let kn;if(Ge.key!=null)kn=Ot.get(Ge.key);else for(Rt=gt;Rt<=et;Rt++)if(co[Rt-gt]===0&&uo(Ge,b[Rt])){kn=Rt;break}kn===void 0?ne(Ge,P,O,!0):(co[kn-gt]=D+1,kn>=Mm?Mm=kn:er=!0,g(Ge,b[kn],I,null,P,O,j,V,B),ie++)}const Om=er?IS(co):pr;for(Rt=Om.length-1,D=hn-1;D>=0;D--){const Ge=gt+D,kn=b[Ge],Dm=Ge+1<tt?b[Ge+1].el:x;co[D]===0?g(null,kn,I,Dm,P,O,j,V,B):er&&(Rt<0||D!==Om[Rt]?Fe(kn,I,Dm,2):Rt--)}}},Fe=(v,b,I,x,P=null)=>{const{el:O,type:j,transition:V,children:B,shapeFlag:D}=v;if(D&6){Fe(v.component.subTree,b,I,x);return}if(D&128){v.suspense.move(b,I,x);return}if(D&64){j.move(v,b,I,U);return}if(j===xe){i(O,b,I);for(let K=0;K<B.length;K++)Fe(B[K],b,I,x);i(v.anchor,b,I);return}if(j===Vh){w(v,b,I);return}if(x!==2&&D&1&&V)if(x===0)V.beforeEnter(O),i(O,b,I),$e(()=>V.enter(O),P);else{const{leave:K,delayLeave:et,afterLeave:lt}=V,gt=()=>i(O,b,I),Ot=()=>{K(O,()=>{gt(),lt&&lt()})};et?et(O,gt,Ot):Ot()}else i(O,b,I)},ne=(v,b,I,x=!1,P=!1)=>{const{type:O,props:j,ref:V,children:B,dynamicChildren:D,shapeFlag:tt,patchFlag:K,dirs:et}=v;if(V!=null&&Wf(V,null,I,v,!0),tt&256){b.ctx.deactivate(v);return}const lt=tt&1&&et,gt=!hc(v);let Ot;if(gt&&(Ot=j&&j.onVnodeBeforeUnmount)&&Cn(Ot,b,v),tt&6)Sn(v.component,I,x);else{if(tt&128){v.suspense.unmount(I,x);return}lt&&ss(v,null,b,"beforeUnmount"),tt&64?v.type.remove(v,b,I,P,U,x):D&&(O!==xe||K>0&&K&64)?Kt(D,b,I,!1,!0):(O===xe&&K&384||!P&&tt&16)&&Kt(B,b,I),x&&sn(v)}(gt&&(Ot=j&&j.onVnodeUnmounted)||lt)&&$e(()=>{Ot&&Cn(Ot,b,v),lt&&ss(v,null,b,"unmounted")},I)},sn=v=>{const{type:b,el:I,anchor:x,transition:P}=v;if(b===xe){rn(I,x);return}if(b===Vh){A(v);return}const O=()=>{s(I),P&&!P.persisted&&P.afterLeave&&P.afterLeave()};if(v.shapeFlag&1&&P&&!P.persisted){const{leave:j,delayLeave:V}=P,B=()=>j(I,O);V?V(v.el,O,B):B()}else O()},rn=(v,b)=>{let I;for(;v!==b;)I=f(v),s(v),v=I;s(b)},Sn=(v,b,I)=>{const{bum:x,scope:P,update:O,subTree:j,um:V}=v;x&&uc(x),P.stop(),O&&(O.active=!1,ne(j,v,b,I)),V&&$e(V,b),$e(()=>{v.isUnmounted=!0},b),b&&b.pendingBranch&&!b.isUnmounted&&v.asyncDep&&!v.asyncResolved&&v.suspenseId===b.pendingId&&(b.deps--,b.deps===0&&b.resolve())},Kt=(v,b,I,x=!1,P=!1,O=0)=>{for(let j=O;j<v.length;j++)ne(v[j],b,I,x,P)},C=v=>v.shapeFlag&6?C(v.component.subTree):v.shapeFlag&128?v.suspense.next():f(v.anchor||v.el),W=(v,b,I)=>{v==null?b._vnode&&ne(b._vnode,null,null,!0):g(b._vnode||null,v,b,null,null,null,I),Hm(),B0(),b._vnode=v},U={p:g,um:ne,m:Fe,r:sn,mt:ee,mc:S,pc:ut,pbc:$,n:C,o:e};let J,Tt;return t&&([J,Tt]=t(U)),{render:W,hydrate:J,createApp:gS(W,J)}}function rs({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function nA(e,t,n=!1){const i=e.children,s=t.children;if(nt(i)&&nt(s))for(let r=0;r<i.length;r++){const o=i[r];let a=s[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[r]=Ti(s[r]),a.el=o.el),n||nA(o,a)),a.type===Du&&(a.el=o.el)}}function IS(e){const t=e.slice(),n=[0];let i,s,r,o,a;const l=e.length;for(i=0;i<l;i++){const c=e[i];if(c!==0){if(s=n[n.length-1],e[s]<c){t[i]=s,n.push(i);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,e[n[a]]<c?r=a+1:o=a;c<e[n[r]]&&(r>0&&(t[i]=n[r-1]),n[r]=i)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=t[o];return n}const TS=e=>e.__isTeleport,xe=Symbol.for("v-fgt"),Du=Symbol.for("v-txt"),Ds=Symbol.for("v-cmt"),Vh=Symbol.for("v-stc"),Fo=[];let dn=null;function Ct(e=!1){Fo.push(dn=e?null:[])}function xS(){Fo.pop(),dn=Fo[Fo.length-1]||null}let ca=1;function e_(e){ca+=e}function iA(e){return e.dynamicChildren=ca>0?dn||pr:null,xS(),ca>0&&dn&&dn.push(e),e}function Ut(e,t,n,i,s,r){return iA(L(e,t,n,i,s,r,!0))}function Bc(e,t,n,i,s){return iA(xt(e,t,n,i,s,!0))}function qf(e){return e?e.__v_isVNode===!0:!1}function uo(e,t){return e.type===t.type&&e.key===t.key}const Nu="__vInternal",sA=({key:e})=>e??null,dc=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?ae(e)||Yt(e)||pt(e)?{i:Je,r:e,k:t,f:!!n}:e:null);function L(e,t=null,n=null,i=0,s=null,r=e===xe?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&sA(t),ref:t&&dc(t),scopeId:Pu,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Je};return a?(Pp(l,n),r&128&&e.normalize(l)):n&&(l.shapeFlag|=ae(n)?8:16),ca>0&&!o&&dn&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&dn.push(l),l}const xt=SS;function SS(e,t=null,n=null,i=0,s=null,r=!1){if((!e||e===K0)&&(e=Ds),qf(e)){const a=xr(e,t,!0);return n&&Pp(a,n),ca>0&&!r&&dn&&(a.shapeFlag&6?dn[dn.indexOf(e)]=a:dn.push(a)),a.patchFlag|=-2,a}if(FS(e)&&(e=e.__vccOpts),t){t=kS(t);let{class:a,style:l}=t;a&&!ae(a)&&(t.class=Ka(a)),Nt(l)&&(M0(l)&&!nt(l)&&(l=me({},l)),t.style=dp(l))}const o=ae(e)?1:Kx(e)?128:TS(e)?64:Nt(e)?4:pt(e)?2:0;return L(e,t,n,i,s,o,r,!0)}function kS(e){return e?M0(e)||Nu in e?me({},e):e:null}function xr(e,t,n=!1){const{props:i,ref:s,patchFlag:r,children:o}=e,a=t?CS(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&sA(a),ref:t&&t.ref?n&&s?nt(s)?s.concat(dc(t)):[s,dc(t)]:dc(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==xe?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&xr(e.ssContent),ssFallback:e.ssFallback&&xr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Sr(e=" ",t=0){return xt(Du,null,e,t)}function ua(e="",t=!1){return t?(Ct(),Bc(Ds,null,e)):xt(Ds,null,e)}function Mn(e){return e==null||typeof e=="boolean"?xt(Ds):nt(e)?xt(xe,null,e.slice()):typeof e=="object"?Ti(e):xt(Du,null,String(e))}function Ti(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:xr(e)}function Pp(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(nt(t))n=16;else if(typeof t=="object")if(i&65){const s=t.default;s&&(s._c&&(s._d=!1),Pp(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(Nu in t)?t._ctx=Je:s===3&&Je&&(Je.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else pt(t)?(t={default:t,_ctx:Je},n=32):(t=String(t),i&64?(n=16,t=[Sr(t)]):n=8);e.children=t,e.shapeFlag|=n}function CS(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const s in i)if(s==="class")t.class!==i.class&&(t.class=Ka([t.class,i.class]));else if(s==="style")t.style=dp([t.style,i.style]);else if(Eu(s)){const r=t[s],o=i[s];o&&r!==o&&!(nt(r)&&r.includes(o))&&(t[s]=r?[].concat(r,o):o)}else s!==""&&(t[s]=i[s])}return t}function Cn(e,t,n,i=null){vn(e,t,7,[n,i])}const PS=Y0();let RS=0;function MS(e,t,n){const i=e.type,s=(t?t.appContext:e.appContext)||PS,r={uid:RS++,vnode:e,type:i,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new _0(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:J0(i,s),emitsOptions:z0(i,s),emit:null,emitted:null,propsDefaults:Lt,inheritAttrs:i.inheritAttrs,ctx:Lt,data:Lt,props:Lt,attrs:Lt,slots:Lt,refs:Lt,setupState:Lt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=jx.bind(null,r),e.ce&&e.ce(r),r}let de=null,Rp,nr,n_="__VUE_INSTANCE_SETTERS__";(nr=Lf()[n_])||(nr=Lf()[n_]=[]),nr.push(e=>de=e),Rp=e=>{nr.length>1?nr.forEach(t=>t(e)):nr[0](e)};const kr=e=>{Rp(e),e.scope.on()},Ts=()=>{de&&de.scope.off(),Rp(null)};function rA(e){return e.vnode.shapeFlag&4}let ha=!1;function OS(e,t=!1){ha=t;const{props:n,children:i}=e.vnode,s=rA(e);_S(e,n,s,t),bS(e,i);const r=s?DS(e,t):void 0;return ha=!1,r}function DS(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Su(new Proxy(e.ctx,lS));const{setup:i}=n;if(i){const s=e.setupContext=i.length>1?LS(e):null;kr(e),Gr();const r=Fi(i,e,0,[e.props,s]);if(Qr(),Ts(),f0(r)){if(r.then(Ts,Ts),t)return r.then(o=>{i_(e,o,t)}).catch(o=>{ku(o,e,0)});e.asyncDep=r}else i_(e,r,t)}else oA(e,t)}function i_(e,t,n){pt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Nt(t)&&(e.setupState=L0(t)),oA(e,n)}let s_;function oA(e,t,n){const i=e.type;if(!e.render){if(!t&&s_&&!i.render){const s=i.template||kp(e).template;if(s){const{isCustomElement:r,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=i,c=me(me({isCustomElement:r,delimiters:a},o),l);i.render=s_(s,c)}}e.render=i.render||_n}kr(e),Gr(),cS(e),Qr(),Ts()}function NS(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Ke(e,"get","$attrs"),t[n]}}))}function LS(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return NS(e)},slots:e.slots,emit:e.emit,expose:t}}function Lu(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(L0(Su(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Vo)return Vo[n](e)},has(t,n){return n in t||n in Vo}}))}function VS(e,t=!0){return pt(e)?e.displayName||e.name:e.name||t&&e.__name}function FS(e){return pt(e)&&"__vccOpts"in e}const fe=(e,t)=>Lx(e,t,ha);function Mp(e,t,n){const i=arguments.length;return i===2?Nt(t)&&!nt(t)?qf(t)?xt(e,null,[t]):xt(e,t):xt(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&qf(n)&&(n=[n]),xt(e,t,n))}const BS=Symbol.for("v-scx"),US=()=>cn(BS),zS="3.3.4",jS="http://www.w3.org/2000/svg",ps=typeof document<"u"?document:null,r_=ps&&ps.createElement("template"),$S={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const s=t?ps.createElementNS(jS,e):ps.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:e=>ps.createTextNode(e),createComment:e=>ps.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ps.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,s,r){const o=n?n.previousSibling:t.lastChild;if(s&&(s===r||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{r_.innerHTML=i?`<svg>${e}</svg>`:e;const a=r_.content;if(i){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function HS(e,t,n){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function WS(e,t,n){const i=e.style,s=ae(n);if(n&&!s){if(t&&!ae(t))for(const r in t)n[r]==null&&Kf(i,r,"");for(const r in n)Kf(i,r,n[r])}else{const r=i.display;s?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=r)}}const o_=/\s*!important$/;function Kf(e,t,n){if(nt(n))n.forEach(i=>Kf(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=qS(e,t);o_.test(n)?e.setProperty(Kr(i),n.replace(o_,""),"important"):e[i]=n}}const a_=["Webkit","Moz","ms"],Fh={};function qS(e,t){const n=Fh[t];if(n)return n;let i=Hn(t);if(i!=="filter"&&i in e)return Fh[t]=i;i=Tu(i);for(let s=0;s<a_.length;s++){const r=a_[s]+i;if(r in e)return Fh[t]=r}return t}const l_="http://www.w3.org/1999/xlink";function KS(e,t,n,i,s){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(l_,t.slice(6,t.length)):e.setAttributeNS(l_,t,n);else{const r=Z1(t);n==null||r&&!g0(n)?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}function GS(e,t,n,i,s,r,o){if(t==="innerHTML"||t==="textContent"){i&&o(i,s,r),e[t]=n??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=n;const c=a==="OPTION"?e.getAttribute("value"):e.value,u=n??"";c!==u&&(e.value=u),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=g0(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function ti(e,t,n,i){e.addEventListener(t,n,i)}function QS(e,t,n,i){e.removeEventListener(t,n,i)}function YS(e,t,n,i,s=null){const r=e._vei||(e._vei={}),o=r[t];if(i&&o)o.value=i;else{const[a,l]=XS(t);if(i){const c=r[t]=tk(i,s);ti(e,a,c,l)}else o&&(QS(e,a,o,l),r[t]=void 0)}}const c_=/(?:Once|Passive|Capture)$/;function XS(e){let t;if(c_.test(e)){t={};let i;for(;i=e.match(c_);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Kr(e.slice(2)),t]}let Bh=0;const JS=Promise.resolve(),ZS=()=>Bh||(JS.then(()=>Bh=0),Bh=Date.now());function tk(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;vn(ek(i,n.value),t,5,[i])};return n.value=e,n.attached=ZS(),n}function ek(e,t){if(nt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>s=>!s._stopped&&i&&i(s))}else return t}const u_=/^on[a-z]/,nk=(e,t,n,i,s=!1,r,o,a,l)=>{t==="class"?HS(e,i,s):t==="style"?WS(e,n,i):Eu(t)?up(t)||YS(e,t,n,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ik(e,t,i,s))?GS(e,t,i,r,o,a,l):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),KS(e,t,i,s))};function ik(e,t,n,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&u_.test(t)&&pt(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||u_.test(t)&&ae(n)?!1:t in e}const qi=e=>{const t=e.props["onUpdate:modelValue"]||!1;return nt(t)?n=>uc(t,n):t};function sk(e){e.target.composing=!0}function h_(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Cr={created(e,{modifiers:{lazy:t,trim:n,number:i}},s){e._assign=qi(s);const r=i||s.props&&s.props.type==="number";ti(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),r&&(a=Dc(a)),e._assign(a)}),n&&ti(e,"change",()=>{e.value=e.value.trim()}),t||(ti(e,"compositionstart",sk),ti(e,"compositionend",h_),ti(e,"change",h_))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:i,number:s}},r){if(e._assign=qi(r),e.composing||document.activeElement===e&&e.type!=="range"&&(n||i&&e.value.trim()===t||(s||e.type==="number")&&Dc(e.value)===t))return;const o=t??"";e.value!==o&&(e.value=o)}},rk={deep:!0,created(e,t,n){e._assign=qi(n),ti(e,"change",()=>{const i=e._modelValue,s=Pr(e),r=e.checked,o=e._assign;if(nt(i)){const a=pp(i,s),l=a!==-1;if(r&&!l)o(i.concat(s));else if(!r&&l){const c=[...i];c.splice(a,1),o(c)}}else if(qr(i)){const a=new Set(i);r?a.add(s):a.delete(s),o(a)}else o(lA(e,r))})},mounted:f_,beforeUpdate(e,t,n){e._assign=qi(n),f_(e,t,n)}};function f_(e,{value:t,oldValue:n},i){e._modelValue=t,nt(t)?e.checked=pp(t,i.props.value)>-1:qr(t)?e.checked=t.has(i.props.value):t!==n&&(e.checked=Ms(t,lA(e,!0)))}const ok={created(e,{value:t},n){e.checked=Ms(t,n.props.value),e._assign=qi(n),ti(e,"change",()=>{e._assign(Pr(e))})},beforeUpdate(e,{value:t,oldValue:n},i){e._assign=qi(i),t!==n&&(e.checked=Ms(t,i.props.value))}},aA={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const s=qr(t);ti(e,"change",()=>{const r=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>n?Dc(Pr(o)):Pr(o));e._assign(e.multiple?s?new Set(r):r:r[0])}),e._assign=qi(i)},mounted(e,{value:t}){d_(e,t)},beforeUpdate(e,t,n){e._assign=qi(n)},updated(e,{value:t}){d_(e,t)}};function d_(e,t){const n=e.multiple;if(!(n&&!nt(t)&&!qr(t))){for(let i=0,s=e.options.length;i<s;i++){const r=e.options[i],o=Pr(r);if(n)nt(t)?r.selected=pp(t,o)>-1:r.selected=t.has(o);else if(Ms(Pr(r),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Pr(e){return"_value"in e?e._value:e.value}function lA(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const cA={created(e,t,n){Cl(e,t,n,null,"created")},mounted(e,t,n){Cl(e,t,n,null,"mounted")},beforeUpdate(e,t,n,i){Cl(e,t,n,i,"beforeUpdate")},updated(e,t,n,i){Cl(e,t,n,i,"updated")}};function ak(e,t){switch(e){case"SELECT":return aA;case"TEXTAREA":return Cr;default:switch(t){case"checkbox":return rk;case"radio":return ok;default:return Cr}}}function Cl(e,t,n,i,s){const o=ak(e.tagName,n.props&&n.props.type)[s];o&&o(e,t,n,i)}const lk=me({patchProp:nk},$S);let p_;function ck(){return p_||(p_=wS(lk))}const uk=(...e)=>{const t=ck().createApp(...e),{mount:n}=t;return t.mount=i=>{const s=hk(i);if(!s)return;const r=t._component;!pt(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function hk(e){return ae(e)?document.querySelector(e):e}var fk=!1;/*!
  * pinia v2.1.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let uA;const Vu=e=>uA=e,hA=Symbol();function Gf(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Bo;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Bo||(Bo={}));function dk(){const e=y0(!0),t=e.run(()=>Qt({}));let n=[],i=[];const s=Su({install(r){Vu(s),s._a=r,r.provide(hA,s),r.config.globalProperties.$pinia=s,i.forEach(o=>n.push(o)),i=[]},use(r){return!this._a&&!fk?i.push(r):n.push(r),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}const fA=()=>{};function g_(e,t,n,i=fA){e.push(t);const s=()=>{const r=e.indexOf(t);r>-1&&(e.splice(r,1),i())};return!n&&gp()&&v0(s),s}function ir(e,...t){e.slice().forEach(n=>{n(...t)})}const pk=e=>e();function Qf(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,i)=>e.set(i,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n],s=e[n];Gf(s)&&Gf(i)&&e.hasOwnProperty(n)&&!Yt(i)&&!Vi(i)?e[n]=Qf(s,i):e[n]=i}return e}const gk=Symbol();function mk(e){return!Gf(e)||!e.hasOwnProperty(gk)}const{assign:Ii}=Object;function _k(e){return!!(Yt(e)&&e.effect)}function yk(e,t,n,i){const{state:s,actions:r,getters:o}=t,a=n.state.value[e];let l;function c(){a||(n.state.value[e]=s?s():{});const u=Mx(n.state.value[e]);return Ii(u,r,Object.keys(o||{}).reduce((h,f)=>(h[f]=Su(fe(()=>{Vu(n);const d=n._s.get(e);return o[f].call(d,d)})),h),{}))}return l=dA(e,c,t,n,i,!0),l}function dA(e,t,n={},i,s,r){let o;const a=Ii({actions:{}},n),l={deep:!0};let c,u,h=[],f=[],d;const p=i.state.value[e];!r&&!p&&(i.state.value[e]={}),Qt({});let g;function m(S){let M;c=u=!1,typeof S=="function"?(S(i.state.value[e]),M={type:Bo.patchFunction,storeId:e,events:d}):(Qf(i.state.value[e],S),M={type:Bo.patchObject,payload:S,storeId:e,events:d});const $=g=Symbol();Ip().then(()=>{g===$&&(c=!0)}),u=!0,ir(h,M,i.state.value[e])}const _=r?function(){const{state:M}=n,$=M?M():{};this.$patch(Y=>{Ii(Y,$)})}:fA;function y(){o.stop(),h=[],f=[],i._s.delete(e)}function w(S,M){return function(){Vu(i);const $=Array.from(arguments),Y=[],st=[];function It(X){Y.push(X)}function ee(X){st.push(X)}ir(f,{args:$,name:S,store:E,after:It,onError:ee});let dt;try{dt=M.apply(this&&this.$id===e?this:E,$)}catch(X){throw ir(st,X),X}return dt instanceof Promise?dt.then(X=>(ir(Y,X),X)).catch(X=>(ir(st,X),Promise.reject(X))):(ir(Y,dt),dt)}}const A={_p:i,$id:e,$onAction:g_.bind(null,f),$patch:m,$reset:_,$subscribe(S,M={}){const $=g_(h,S,M.detached,()=>Y()),Y=o.run(()=>Bi(()=>i.state.value[e],st=>{(M.flush==="sync"?u:c)&&S({storeId:e,type:Bo.direct,events:d},st)},Ii({},l,M)));return $},$dispose:y},E=Ga(A);i._s.set(e,E);const T=i._a&&i._a.runWithContext||pk,k=i._e.run(()=>(o=y0(),T(()=>o.run(t))));for(const S in k){const M=k[S];if(Yt(M)&&!_k(M)||Vi(M))r||(p&&mk(M)&&(Yt(M)?M.value=p[S]:Qf(M,p[S])),i.state.value[e][S]=M);else if(typeof M=="function"){const $=w(S,M);k[S]=$,a.actions[S]=M}}return Ii(E,k),Ii(At(E),k),Object.defineProperty(E,"$state",{get:()=>i.state.value[e],set:S=>{m(M=>{Ii(M,S)})}}),i._p.forEach(S=>{Ii(E,o.run(()=>S({store:E,app:i._a,pinia:i,options:a})))}),p&&r&&n.hydrate&&n.hydrate(E.$state,p),c=!0,u=!0,E}function vk(e,t,n){let i,s;const r=typeof t=="function";typeof e=="string"?(i=e,s=r?n:t):(s=e,i=e.id);function o(a,l){const c=mS();return a=a||(c?cn(hA,null):null),a&&Vu(a),a=uA,a._s.has(i)||(r?dA(i,t,s,a):yk(i,s,a)),a._s.get(i)}return o.$id=i,o}/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const ar=typeof window<"u";function bk(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const St=Object.assign;function Uh(e,t){const n={};for(const i in t){const s=t[i];n[i]=An(s)?s.map(e):e(s)}return n}const Uo=()=>{},An=Array.isArray,Ak=/\/$/,wk=e=>e.replace(Ak,"");function zh(e,t,n="/"){let i,s={},r="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=t.slice(0,l),r=t.slice(l+1,a>-1?a:t.length),s=e(r)),a>-1&&(i=i||t.slice(0,a),o=t.slice(a,t.length)),i=xk(i??t,n),{fullPath:i+(r&&"?")+r+o,path:i,query:s,hash:o}}function Ek(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function m_(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Ik(e,t,n){const i=t.matched.length-1,s=n.matched.length-1;return i>-1&&i===s&&Rr(t.matched[i],n.matched[s])&&pA(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Rr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function pA(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Tk(e[n],t[n]))return!1;return!0}function Tk(e,t){return An(e)?__(e,t):An(t)?__(t,e):e===t}function __(e,t){return An(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function xk(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let r=n.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+i.slice(o-(o===i.length?1:0)).join("/")}var fa;(function(e){e.pop="pop",e.push="push"})(fa||(fa={}));var zo;(function(e){e.back="back",e.forward="forward",e.unknown=""})(zo||(zo={}));function Sk(e){if(!e)if(ar){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),wk(e)}const kk=/^[^#]+#/;function Ck(e,t){return e.replace(kk,"#")+t}function Pk(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const Fu=()=>({left:window.pageXOffset,top:window.pageYOffset});function Rk(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=Pk(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function y_(e,t){return(history.state?history.state.position-t:-1)+e}const Yf=new Map;function Mk(e,t){Yf.set(e,t)}function Ok(e){const t=Yf.get(e);return Yf.delete(e),t}let Dk=()=>location.protocol+"//"+location.host;function gA(e,t){const{pathname:n,search:i,hash:s}=t,r=e.indexOf("#");if(r>-1){let a=s.includes(e.slice(r))?e.slice(r).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),m_(l,"")}return m_(n,e)+i+s}function Nk(e,t,n,i){let s=[],r=[],o=null;const a=({state:f})=>{const d=gA(e,location),p=n.value,g=t.value;let m=0;if(f){if(n.value=d,t.value=f,o&&o===p){o=null;return}m=g?f.position-g.position:0}else i(d);s.forEach(_=>{_(n.value,p,{delta:m,type:fa.pop,direction:m?m>0?zo.forward:zo.back:zo.unknown})})};function l(){o=n.value}function c(f){s.push(f);const d=()=>{const p=s.indexOf(f);p>-1&&s.splice(p,1)};return r.push(d),d}function u(){const{history:f}=window;f.state&&f.replaceState(St({},f.state,{scroll:Fu()}),"")}function h(){for(const f of r)f();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function v_(e,t,n,i=!1,s=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:s?Fu():null}}function Lk(e){const{history:t,location:n}=window,i={value:gA(e,n)},s={value:t.state};s.value||r(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const h=e.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+l:Dk()+e+l;try{t[u?"replaceState":"pushState"](c,"",f),s.value=c}catch(d){console.error(d),n[u?"replace":"assign"](f)}}function o(l,c){const u=St({},t.state,v_(s.value.back,l,s.value.forward,!0),c,{position:s.value.position});r(l,u,!0),i.value=l}function a(l,c){const u=St({},s.value,t.state,{forward:l,scroll:Fu()});r(u.current,u,!0);const h=St({},v_(i.value,l,null),{position:u.position+1},c);r(l,h,!1),i.value=l}return{location:i,state:s,push:a,replace:o}}function Vk(e){e=Sk(e);const t=Lk(e),n=Nk(e,t.state,t.location,t.replace);function i(r,o=!0){o||n.pauseListeners(),history.go(r)}const s=St({location:"",base:e,go:i,createHref:Ck.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function Fk(e){return typeof e=="string"||e&&typeof e=="object"}function mA(e){return typeof e=="string"||typeof e=="symbol"}const Ai={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},_A=Symbol("");var b_;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(b_||(b_={}));function Mr(e,t){return St(new Error,{type:e,[_A]:!0},t)}function Kn(e,t){return e instanceof Error&&_A in e&&(t==null||!!(e.type&t))}const A_="[^/]+?",Bk={sensitive:!1,strict:!1,start:!0,end:!0},Uk=/[.+*?^${}()[\]/\\]/g;function zk(e,t){const n=St({},Bk,t),i=[];let s=n.start?"^":"";const r=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let h=0;h<c.length;h++){const f=c[h];let d=40+(n.sensitive?.25:0);if(f.type===0)h||(s+="/"),s+=f.value.replace(Uk,"\\$&"),d+=40;else if(f.type===1){const{value:p,repeatable:g,optional:m,regexp:_}=f;r.push({name:p,repeatable:g,optional:m});const y=_||A_;if(y!==A_){d+=10;try{new RegExp(`(${y})`)}catch(A){throw new Error(`Invalid custom RegExp for param "${p}" (${y}): `+A.message)}}let w=g?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;h||(w=m&&c.length<2?`(?:/${w})`:"/"+w),m&&(w+="?"),s+=w,d+=20,m&&(d+=-8),g&&(d+=-20),y===".*"&&(d+=-50)}u.push(d)}i.push(u)}if(n.strict&&n.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const d=u[f]||"",p=r[f-1];h[p.name]=d&&p.repeatable?d.split("/"):d}return h}function l(c){let u="",h=!1;for(const f of e){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const d of f)if(d.type===0)u+=d.value;else if(d.type===1){const{value:p,repeatable:g,optional:m}=d,_=p in c?c[p]:"";if(An(_)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const y=An(_)?_.join("/"):_;if(!y)if(m)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${p}"`);u+=y}}return u||"/"}return{re:o,score:i,keys:r,parse:a,stringify:l}}function jk(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function $k(e,t){let n=0;const i=e.score,s=t.score;for(;n<i.length&&n<s.length;){const r=jk(i[n],s[n]);if(r)return r;n++}if(Math.abs(s.length-i.length)===1){if(w_(i))return 1;if(w_(s))return-1}return s.length-i.length}function w_(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const Hk={type:0,value:""},Wk=/[a-zA-Z0-9_]/;function qk(e){if(!e)return[[]];if(e==="/")return[[Hk]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(d){throw new Error(`ERR (${n})/"${c}": ${d}`)}let n=0,i=n;const s=[];let r;function o(){r&&s.push(r),r=[]}let a=0,l,c="",u="";function h(){c&&(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),n=1):f();break;case 4:f(),n=i;break;case 1:l==="("?n=2:Wk.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),h(),o(),s}function Kk(e,t,n){const i=zk(qk(e.path),n),s=St(i,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function Gk(e,t){const n=[],i=new Map;t=T_({strict:!1,end:!0,sensitive:!1},t);function s(u){return i.get(u)}function r(u,h,f){const d=!f,p=Qk(u);p.aliasOf=f&&f.record;const g=T_(t,u),m=[p];if("alias"in u){const w=typeof u.alias=="string"?[u.alias]:u.alias;for(const A of w)m.push(St({},p,{components:f?f.record.components:p.components,path:A,aliasOf:f?f.record:p}))}let _,y;for(const w of m){const{path:A}=w;if(h&&A[0]!=="/"){const E=h.record.path,T=E[E.length-1]==="/"?"":"/";w.path=h.record.path+(A&&T+A)}if(_=Kk(w,h,g),f?f.alias.push(_):(y=y||_,y!==_&&y.alias.push(_),d&&u.name&&!I_(_)&&o(u.name)),p.children){const E=p.children;for(let T=0;T<E.length;T++)r(E[T],_,f&&f.children[T])}f=f||_,(_.record.components&&Object.keys(_.record.components).length||_.record.name||_.record.redirect)&&l(_)}return y?()=>{o(y)}:Uo}function o(u){if(mA(u)){const h=i.get(u);h&&(i.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&i.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let h=0;for(;h<n.length&&$k(u,n[h])>=0&&(u.record.path!==n[h].record.path||!yA(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!I_(u)&&i.set(u.record.name,u)}function c(u,h){let f,d={},p,g;if("name"in u&&u.name){if(f=i.get(u.name),!f)throw Mr(1,{location:u});g=f.record.name,d=St(E_(h.params,f.keys.filter(y=>!y.optional).map(y=>y.name)),u.params&&E_(u.params,f.keys.map(y=>y.name))),p=f.stringify(d)}else if("path"in u)p=u.path,f=n.find(y=>y.re.test(p)),f&&(d=f.parse(p),g=f.record.name);else{if(f=h.name?i.get(h.name):n.find(y=>y.re.test(h.path)),!f)throw Mr(1,{location:u,currentLocation:h});g=f.record.name,d=St({},h.params,u.params),p=f.stringify(d)}const m=[];let _=f;for(;_;)m.unshift(_.record),_=_.parent;return{name:g,path:p,params:d,matched:m,meta:Xk(m)}}return e.forEach(u=>r(u)),{addRoute:r,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function E_(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function Qk(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Yk(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function Yk(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="object"?n[i]:n;return t}function I_(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Xk(e){return e.reduce((t,n)=>St(t,n.meta),{})}function T_(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function yA(e,t){return t.children.some(n=>n===e||yA(e,n))}const vA=/#/g,Jk=/&/g,Zk=/\//g,tC=/=/g,eC=/\?/g,bA=/\+/g,nC=/%5B/g,iC=/%5D/g,AA=/%5E/g,sC=/%60/g,wA=/%7B/g,rC=/%7C/g,EA=/%7D/g,oC=/%20/g;function Op(e){return encodeURI(""+e).replace(rC,"|").replace(nC,"[").replace(iC,"]")}function aC(e){return Op(e).replace(wA,"{").replace(EA,"}").replace(AA,"^")}function Xf(e){return Op(e).replace(bA,"%2B").replace(oC,"+").replace(vA,"%23").replace(Jk,"%26").replace(sC,"`").replace(wA,"{").replace(EA,"}").replace(AA,"^")}function lC(e){return Xf(e).replace(tC,"%3D")}function cC(e){return Op(e).replace(vA,"%23").replace(eC,"%3F")}function uC(e){return e==null?"":cC(e).replace(Zk,"%2F")}function Uc(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function hC(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<i.length;++s){const r=i[s].replace(bA," "),o=r.indexOf("="),a=Uc(o<0?r:r.slice(0,o)),l=o<0?null:Uc(r.slice(o+1));if(a in t){let c=t[a];An(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function x_(e){let t="";for(let n in e){const i=e[n];if(n=lC(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(An(i)?i.map(r=>r&&Xf(r)):[i&&Xf(i)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+n,r!=null&&(t+="="+r))})}return t}function fC(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=An(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return t}const dC=Symbol(""),S_=Symbol(""),Bu=Symbol(""),Dp=Symbol(""),Jf=Symbol("");function ho(){let e=[];function t(i){return e.push(i),()=>{const s=e.indexOf(i);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function xi(e,t,n,i,s){const r=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((o,a)=>{const l=h=>{h===!1?a(Mr(4,{from:n,to:t})):h instanceof Error?a(h):Fk(h)?a(Mr(2,{from:t,to:h})):(r&&i.enterCallbacks[s]===r&&typeof h=="function"&&r.push(h),o())},c=e.call(i&&i.instances[s],t,n,l);let u=Promise.resolve(c);e.length<3&&(u=u.then(l)),u.catch(h=>a(h))})}function jh(e,t,n,i){const s=[];for(const r of e)for(const o in r.components){let a=r.components[o];if(!(t!=="beforeRouteEnter"&&!r.instances[o]))if(pC(a)){const c=(a.__vccOpts||a)[t];c&&s.push(xi(c,n,i,r,o))}else{let l=a();s.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${r.path}"`));const u=bk(c)?c.default:c;r.components[o]=u;const f=(u.__vccOpts||u)[t];return f&&xi(f,n,i,r,o)()}))}}return s}function pC(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function k_(e){const t=cn(Bu),n=cn(Dp),i=fe(()=>t.resolve(ge(e.to))),s=fe(()=>{const{matched:l}=i.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(Rr.bind(null,u));if(f>-1)return f;const d=C_(l[c-2]);return c>1&&C_(u)===d&&h[h.length-1].path!==d?h.findIndex(Rr.bind(null,l[c-2])):f}),r=fe(()=>s.value>-1&&_C(n.params,i.value.params)),o=fe(()=>s.value>-1&&s.value===n.matched.length-1&&pA(n.params,i.value.params));function a(l={}){return mC(l)?t[ge(e.replace)?"replace":"push"](ge(e.to)).catch(Uo):Promise.resolve()}return{route:i,href:fe(()=>i.value.href),isActive:r,isExactActive:o,navigate:a}}const gC=xp({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:k_,setup(e,{slots:t}){const n=Ga(k_(e)),{options:i}=cn(Bu),s=fe(()=>({[P_(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[P_(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=t.default&&t.default(n);return e.custom?r:Mp("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},r)}}}),Or=gC;function mC(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function _C(e,t){for(const n in t){const i=t[n],s=e[n];if(typeof i=="string"){if(i!==s)return!1}else if(!An(s)||s.length!==i.length||i.some((r,o)=>r!==s[o]))return!1}return!0}function C_(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const P_=(e,t,n)=>e??t??n,yC=xp({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=cn(Jf),s=fe(()=>e.route||i.value),r=cn(S_,0),o=fe(()=>{let c=ge(r);const{matched:u}=s.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=fe(()=>s.value.matched[o.value]);fc(S_,fe(()=>o.value+1)),fc(dC,a),fc(Jf,s);const l=Qt();return Bi(()=>[l.value,a.value,e.name],([c,u,h],[f,d,p])=>{u&&(u.instances[h]=c,d&&d!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=d.leaveGuards),u.updateGuards.size||(u.updateGuards=d.updateGuards))),c&&u&&(!d||!Rr(u,d)||!f)&&(u.enterCallbacks[h]||[]).forEach(g=>g(c))},{flush:"post"}),()=>{const c=s.value,u=e.name,h=a.value,f=h&&h.components[u];if(!f)return R_(n.default,{Component:f,route:c});const d=h.props[u],p=d?d===!0?c.params:typeof d=="function"?d(c):d:null,m=Mp(f,St({},p,t,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return R_(n.default,{Component:m,route:c})||m}}});function R_(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const IA=yC;function vC(e){const t=Gk(e.routes,e),n=e.parseQuery||hC,i=e.stringifyQuery||x_,s=e.history,r=ho(),o=ho(),a=ho(),l=Cx(Ai);let c=Ai;ar&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Uh.bind(null,C=>""+C),h=Uh.bind(null,uC),f=Uh.bind(null,Uc);function d(C,W){let U,J;return mA(C)?(U=t.getRecordMatcher(C),J=W):J=C,t.addRoute(J,U)}function p(C){const W=t.getRecordMatcher(C);W&&t.removeRoute(W)}function g(){return t.getRoutes().map(C=>C.record)}function m(C){return!!t.getRecordMatcher(C)}function _(C,W){if(W=St({},W||l.value),typeof C=="string"){const I=zh(n,C,W.path),x=t.resolve({path:I.path},W),P=s.createHref(I.fullPath);return St(I,x,{params:f(x.params),hash:Uc(I.hash),redirectedFrom:void 0,href:P})}let U;if("path"in C)U=St({},C,{path:zh(n,C.path,W.path).path});else{const I=St({},C.params);for(const x in I)I[x]==null&&delete I[x];U=St({},C,{params:h(I)}),W.params=h(W.params)}const J=t.resolve(U,W),Tt=C.hash||"";J.params=u(f(J.params));const v=Ek(i,St({},C,{hash:aC(Tt),path:J.path})),b=s.createHref(v);return St({fullPath:v,hash:Tt,query:i===x_?fC(C.query):C.query||{}},J,{redirectedFrom:void 0,href:b})}function y(C){return typeof C=="string"?zh(n,C,l.value.path):St({},C)}function w(C,W){if(c!==C)return Mr(8,{from:W,to:C})}function A(C){return k(C)}function E(C){return A(St(y(C),{replace:!0}))}function T(C){const W=C.matched[C.matched.length-1];if(W&&W.redirect){const{redirect:U}=W;let J=typeof U=="function"?U(C):U;return typeof J=="string"&&(J=J.includes("?")||J.includes("#")?J=y(J):{path:J},J.params={}),St({query:C.query,hash:C.hash,params:"path"in J?{}:C.params},J)}}function k(C,W){const U=c=_(C),J=l.value,Tt=C.state,v=C.force,b=C.replace===!0,I=T(U);if(I)return k(St(y(I),{state:typeof I=="object"?St({},Tt,I.state):Tt,force:v,replace:b}),W||U);const x=U;x.redirectedFrom=W;let P;return!v&&Ik(i,J,U)&&(P=Mr(16,{to:x,from:J}),Fe(J,J,!0,!1)),(P?Promise.resolve(P):$(x,J)).catch(O=>Kn(O)?Kn(O,2)?O:Ve(O):ut(O,x,J)).then(O=>{if(O){if(Kn(O,2))return k(St({replace:b},y(O.to),{state:typeof O.to=="object"?St({},Tt,O.to.state):Tt,force:v}),W||x)}else O=st(x,J,!0,b,Tt);return Y(x,J,O),O})}function S(C,W){const U=w(C,W);return U?Promise.reject(U):Promise.resolve()}function M(C){const W=rn.values().next().value;return W&&typeof W.runWithContext=="function"?W.runWithContext(C):C()}function $(C,W){let U;const[J,Tt,v]=bC(C,W);U=jh(J.reverse(),"beforeRouteLeave",C,W);for(const I of J)I.leaveGuards.forEach(x=>{U.push(xi(x,C,W))});const b=S.bind(null,C,W);return U.push(b),Kt(U).then(()=>{U=[];for(const I of r.list())U.push(xi(I,C,W));return U.push(b),Kt(U)}).then(()=>{U=jh(Tt,"beforeRouteUpdate",C,W);for(const I of Tt)I.updateGuards.forEach(x=>{U.push(xi(x,C,W))});return U.push(b),Kt(U)}).then(()=>{U=[];for(const I of v)if(I.beforeEnter)if(An(I.beforeEnter))for(const x of I.beforeEnter)U.push(xi(x,C,W));else U.push(xi(I.beforeEnter,C,W));return U.push(b),Kt(U)}).then(()=>(C.matched.forEach(I=>I.enterCallbacks={}),U=jh(v,"beforeRouteEnter",C,W),U.push(b),Kt(U))).then(()=>{U=[];for(const I of o.list())U.push(xi(I,C,W));return U.push(b),Kt(U)}).catch(I=>Kn(I,8)?I:Promise.reject(I))}function Y(C,W,U){a.list().forEach(J=>M(()=>J(C,W,U)))}function st(C,W,U,J,Tt){const v=w(C,W);if(v)return v;const b=W===Ai,I=ar?history.state:{};U&&(J||b?s.replace(C.fullPath,St({scroll:b&&I&&I.scroll},Tt)):s.push(C.fullPath,Tt)),l.value=C,Fe(C,W,U,b),Ve()}let It;function ee(){It||(It=s.listen((C,W,U)=>{if(!Sn.listening)return;const J=_(C),Tt=T(J);if(Tt){k(St(Tt,{replace:!0}),J).catch(Uo);return}c=J;const v=l.value;ar&&Mk(y_(v.fullPath,U.delta),Fu()),$(J,v).catch(b=>Kn(b,12)?b:Kn(b,2)?(k(b.to,J).then(I=>{Kn(I,20)&&!U.delta&&U.type===fa.pop&&s.go(-1,!1)}).catch(Uo),Promise.reject()):(U.delta&&s.go(-U.delta,!1),ut(b,J,v))).then(b=>{b=b||st(J,v,!1),b&&(U.delta&&!Kn(b,8)?s.go(-U.delta,!1):U.type===fa.pop&&Kn(b,20)&&s.go(-1,!1)),Y(J,v,b)}).catch(Uo)}))}let dt=ho(),X=ho(),it;function ut(C,W,U){Ve(C);const J=X.list();return J.length?J.forEach(Tt=>Tt(C,W,U)):console.error(C),Promise.reject(C)}function Mt(){return it&&l.value!==Ai?Promise.resolve():new Promise((C,W)=>{dt.add([C,W])})}function Ve(C){return it||(it=!C,ee(),dt.list().forEach(([W,U])=>C?U(C):W()),dt.reset()),C}function Fe(C,W,U,J){const{scrollBehavior:Tt}=e;if(!ar||!Tt)return Promise.resolve();const v=!U&&Ok(y_(C.fullPath,0))||(J||!U)&&history.state&&history.state.scroll||null;return Ip().then(()=>Tt(C,W,v)).then(b=>b&&Rk(b)).catch(b=>ut(b,C,W))}const ne=C=>s.go(C);let sn;const rn=new Set,Sn={currentRoute:l,listening:!0,addRoute:d,removeRoute:p,hasRoute:m,getRoutes:g,resolve:_,options:e,push:A,replace:E,go:ne,back:()=>ne(-1),forward:()=>ne(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:X.add,isReady:Mt,install(C){const W=this;C.component("RouterLink",Or),C.component("RouterView",IA),C.config.globalProperties.$router=W,Object.defineProperty(C.config.globalProperties,"$route",{enumerable:!0,get:()=>ge(l)}),ar&&!sn&&l.value===Ai&&(sn=!0,A(s.location).catch(Tt=>{}));const U={};for(const Tt in Ai)Object.defineProperty(U,Tt,{get:()=>l.value[Tt],enumerable:!0});C.provide(Bu,W),C.provide(Dp,P0(U)),C.provide(Jf,l);const J=C.unmount;rn.add(C),C.unmount=function(){rn.delete(C),rn.size<1&&(c=Ai,It&&It(),It=null,l.value=Ai,sn=!1,it=!1),J()}}};function Kt(C){return C.reduce((W,U)=>W.then(()=>M(U)),Promise.resolve())}return Sn}function bC(e,t){const n=[],i=[],s=[],r=Math.max(t.matched.length,e.matched.length);for(let o=0;o<r;o++){const a=t.matched[o];a&&(e.matched.find(c=>Rr(c,a))?i.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(c=>Rr(c,l))||s.push(l))}return[n,i,s]}function Np(){return cn(Bu)}function TA(){return cn(Dp)}const en=(e,t)=>{const n=e.__vccOpts||e;for(const[i,s]of t)n[i]=s;return n},AC={class:"menu"},wC=["title"],EC={__name:"Menu",setup(e){const t=TA(),n=[{path:"/workouts",name:"home",icon:"dumbbell"},{path:"/stats",name:"stats",icon:"chart-simple"},{path:"/user",name:"user",icon:"user"}];return(i,s)=>{const r=Ou("font-awesome-icon");return Ct(),Ut("nav",AC,[(Ct(),Ut(xe,null,aa(n,o=>xt(ge(Or),{to:o.path},{default:Os(()=>[L("abbr",{class:"center",title:o.name},[xt(r,{icon:o.icon,class:Ka(ge(t).path==o.path?"text-orange":"text-white"),alt:"elm.name"},null,8,["icon","class"])],8,wC)]),_:2},1032,["to"])),64))])}}},IC=en(EC,[["__scopeId","data-v-babcdf8b"]]);const TC={class:"header center"},xC={class:"title"},SC={__name:"Header",props:{title:"title"},setup(e){const t=e;return(n,i)=>(Ct(),Ut("div",TC,[L("h1",xC,"My "+yn(t.title),1)]))}},kC=en(SC,[["__scopeId","data-v-d6d7d8f6"]]);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},CC=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=e[n++];t[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=e[n++],o=e[n++],a=e[n++],l=((s&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(l&1023))}else{const r=e[n++],o=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|o&63)}}return t.join("")},SA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const r=e[s],o=s+1<e.length,a=o?e[s+1]:0,l=s+2<e.length,c=l?e[s+2]:0,u=r>>2,h=(r&3)<<4|a>>4;let f=(a&15)<<2|c>>6,d=c&63;l||(d=64,o||(f=64)),i.push(n[u],n[h],n[f],n[d])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(xA(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):CC(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const r=n[e.charAt(s++)],a=s<e.length?n[e.charAt(s)]:0;++s;const c=s<e.length?n[e.charAt(s)]:64;++s;const h=s<e.length?n[e.charAt(s)]:64;if(++s,r==null||a==null||c==null||h==null)throw new PC;const f=r<<2|a>>4;if(i.push(f),c!==64){const d=a<<4&240|c>>2;if(i.push(d),h!==64){const p=c<<6&192|h;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class PC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RC=function(e){const t=xA(e);return SA.encodeByteArray(t,!0)},zc=function(e){return RC(e).replace(/\./g,"")},kA=function(e){try{return SA.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=()=>MC().__FIREBASE_DEFAULTS__,DC=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},NC=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&kA(e[1]);return t&&JSON.parse(t)},Lp=()=>{try{return OC()||DC()||NC()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},CA=e=>{var t,n;return(n=(t=Lp())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},LC=e=>{const t=CA(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},PA=()=>{var e;return(e=Lp())===null||e===void 0?void 0:e.config},RA=e=>{var t;return(t=Lp())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",s=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[zc(JSON.stringify(n)),zc(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(De())}function MA(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function UC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zC(){const e=De();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function OA(){try{return typeof indexedDB=="object"}catch{return!1}}function DA(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;t(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){t(n)}})}function jC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="FirebaseError";class xn extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=$C,Object.setPrototypeOf(this,xn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qs.prototype.create)}}class Qs{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,r=this.errors[t],o=r?HC(r,i):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new xn(s,a,i)}}function HC(e,t){return e.replace(WC,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const WC=/\{\$([^}]+)}/g;function qC(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function da(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const r=e[s],o=t[s];if(M_(r)&&M_(o)){if(!da(r,o))return!1}else if(r!==o)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function M_(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function wo(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");t[decodeURIComponent(s)]=decodeURIComponent(r)}}),t}function Eo(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function KC(e,t){const n=new GC(e,t);return n.subscribe.bind(n)}class GC{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");QC(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=$h),s.error===void 0&&(s.error=$h),s.complete===void 0&&(s.complete=$h);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QC(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function $h(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=1e3,XC=2,JC=4*60*60*1e3,ZC=.5;function O_(e,t=YC,n=XC){const i=t*Math.pow(n,e),s=Math.round(ZC*i*(Math.random()-.5)*2);return Math.min(JC,i+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(e){return e&&e._delegate?e._delegate:e}class wn{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new VC;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(nP(t))try{this.getOrInitializeService({instanceIdentifier:us})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(t=us){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=us){return this.instances.has(t)}getOptions(t=us){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);i===a&&o.resolve(s)}return s}onInit(t,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(t),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&t(o,s),()=>{r.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:eP(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=us){return this.component?this.component.multipleInstances?t:us:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eP(e){return e===us?void 0:e}function nP(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new tP(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(wt||(wt={}));const sP={debug:wt.DEBUG,verbose:wt.VERBOSE,info:wt.INFO,warn:wt.WARN,error:wt.ERROR,silent:wt.SILENT},rP=wt.INFO,oP={[wt.DEBUG]:"log",[wt.VERBOSE]:"log",[wt.INFO]:"info",[wt.WARN]:"warn",[wt.ERROR]:"error"},aP=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=oP[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Uu{constructor(t){this.name=t,this._logLevel=rP,this._logHandler=aP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in wt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?sP[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,wt.DEBUG,...t),this._logHandler(this,wt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,wt.VERBOSE,...t),this._logHandler(this,wt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,wt.INFO,...t),this._logHandler(this,wt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,wt.WARN,...t),this._logHandler(this,wt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,wt.ERROR,...t),this._logHandler(this,wt.ERROR,...t)}}const lP=(e,t)=>t.some(n=>e instanceof n);let D_,N_;function cP(){return D_||(D_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uP(){return N_||(N_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NA=new WeakMap,Zf=new WeakMap,LA=new WeakMap,Hh=new WeakMap,Vp=new WeakMap;function hP(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",r),e.removeEventListener("error",o)},r=()=>{n(Ui(e.result)),s()},o=()=>{i(e.error),s()};e.addEventListener("success",r),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&NA.set(n,e)}).catch(()=>{}),Vp.set(t,e),t}function fP(e){if(Zf.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",o),e.removeEventListener("abort",o)},r=()=>{n(),s()},o=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",r),e.addEventListener("error",o),e.addEventListener("abort",o)});Zf.set(e,t)}let td={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Zf.get(e);if(t==="objectStoreNames")return e.objectStoreNames||LA.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ui(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function dP(e){td=e(td)}function pP(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Wh(this),t,...n);return LA.set(i,t.sort?t.sort():[t]),Ui(i)}:uP().includes(e)?function(...t){return e.apply(Wh(this),t),Ui(NA.get(this))}:function(...t){return Ui(e.apply(Wh(this),t))}}function gP(e){return typeof e=="function"?pP(e):(e instanceof IDBTransaction&&fP(e),lP(e,cP())?new Proxy(e,td):e)}function Ui(e){if(e instanceof IDBRequest)return hP(e);if(Hh.has(e))return Hh.get(e);const t=gP(e);return t!==e&&(Hh.set(e,t),Vp.set(t,e)),t}const Wh=e=>Vp.get(e);function mP(e,t,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(e,t),a=Ui(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Ui(o.result),l.oldVersion,l.newVersion,Ui(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const _P=["get","getKey","getAll","getAllKeys","count"],yP=["put","add","delete","clear"],qh=new Map;function L_(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(qh.get(t))return qh.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=yP.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||_P.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return qh.set(t,r),r}dP(e=>({...e,get:(t,n,i)=>L_(t,n)||e.get(t,n,i),has:(t,n)=>!!L_(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bP(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function bP(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ed="@firebase/app",V_="0.9.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns=new Uu("@firebase/app"),AP="@firebase/app-compat",wP="@firebase/analytics-compat",EP="@firebase/analytics",IP="@firebase/app-check-compat",TP="@firebase/app-check",xP="@firebase/auth",SP="@firebase/auth-compat",kP="@firebase/database",CP="@firebase/database-compat",PP="@firebase/functions",RP="@firebase/functions-compat",MP="@firebase/installations",OP="@firebase/installations-compat",DP="@firebase/messaging",NP="@firebase/messaging-compat",LP="@firebase/performance",VP="@firebase/performance-compat",FP="@firebase/remote-config",BP="@firebase/remote-config-compat",UP="@firebase/storage",zP="@firebase/storage-compat",jP="@firebase/firestore",$P="@firebase/firestore-compat",HP="firebase",WP="10.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nd="[DEFAULT]",qP={[ed]:"fire-core",[AP]:"fire-core-compat",[EP]:"fire-analytics",[wP]:"fire-analytics-compat",[TP]:"fire-app-check",[IP]:"fire-app-check-compat",[xP]:"fire-auth",[SP]:"fire-auth-compat",[kP]:"fire-rtdb",[CP]:"fire-rtdb-compat",[PP]:"fire-fn",[RP]:"fire-fn-compat",[MP]:"fire-iid",[OP]:"fire-iid-compat",[DP]:"fire-fcm",[NP]:"fire-fcm-compat",[LP]:"fire-perf",[VP]:"fire-perf-compat",[FP]:"fire-rc",[BP]:"fire-rc-compat",[UP]:"fire-gcs",[zP]:"fire-gcs-compat",[jP]:"fire-fst",[$P]:"fire-fst-compat","fire-js":"fire-js",[HP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=new Map,id=new Map;function KP(e,t){try{e.container.addComponent(t)}catch(n){Ns.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Wn(e){const t=e.name;if(id.has(t))return Ns.debug(`There were multiple attempts to register component ${t}.`),!1;id.set(t,e);for(const n of jc.values())KP(n,e);return!0}function Ys(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},zi=new Qs("app","Firebase",GP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new wn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr=WP;function VA(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:nd,automaticDataCollectionEnabled:!1},t),s=i.name;if(typeof s!="string"||!s)throw zi.create("bad-app-name",{appName:String(s)});if(n||(n=PA()),!n)throw zi.create("no-options");const r=jc.get(s);if(r){if(da(n,r.options)&&da(i,r.config))return r;throw zi.create("duplicate-app",{appName:s})}const o=new iP(s);for(const l of id.values())o.addComponent(l);const a=new QP(n,i,o);return jc.set(s,a),a}function Fp(e=nd){const t=jc.get(e);if(!t&&e===nd&&PA())return VA();if(!t)throw zi.create("no-app",{appName:e});return t}function un(e,t,n){var i;let s=(i=qP[e])!==null&&i!==void 0?i:e;n&&(s+=`-${n}`);const r=s.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const a=[`Unable to register library "${s}" with version "${t}":`];r&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ns.warn(a.join(" "));return}Wn(new wn(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP="firebase-heartbeat-database",XP=1,pa="firebase-heartbeat-store";let Kh=null;function FA(){return Kh||(Kh=mP(YP,XP,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(pa)}}}).catch(e=>{throw zi.create("idb-open",{originalErrorMessage:e.message})})),Kh}async function JP(e){try{return await(await FA()).transaction(pa).objectStore(pa).get(BA(e))}catch(t){if(t instanceof xn)Ns.warn(t.message);else{const n=zi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ns.warn(n.message)}}}async function F_(e,t){try{const i=(await FA()).transaction(pa,"readwrite");await i.objectStore(pa).put(t,BA(e)),await i.done}catch(n){if(n instanceof xn)Ns.warn(n.message);else{const i=zi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ns.warn(i.message)}}}function BA(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=1024,tR=30*24*60*60*1e3;class eR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iR(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=B_();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const r=new Date(s.date).valueOf();return Date.now()-r<=tR}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=B_(),{heartbeatsToSend:n,unsentEntries:i}=nR(this._heartbeatsCache.heartbeats),s=zc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function B_(){return new Date().toISOString().substring(0,10)}function nR(e,t=ZP){const n=[];let i=e.slice();for(const s of e){const r=n.find(o=>o.agent===s.agent);if(r){if(r.dates.push(s.date),U_(n)>t){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),U_(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class iR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OA()?DA().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await JP(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return F_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return F_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function U_(e){return zc(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(e){Wn(new wn("platform-logger",t=>new vP(t),"PRIVATE")),Wn(new wn("heartbeat",t=>new eR(t),"PRIVATE")),un(ed,V_,e),un(ed,V_,"esm2017"),un("fire-js","")}sR("");var rR="firebase",oR="10.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un(rR,oR,"app");const aR=(e,t)=>t.some(n=>e instanceof n);let z_,j_;function lR(){return z_||(z_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cR(){return j_||(j_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const UA=new WeakMap,sd=new WeakMap,zA=new WeakMap,Gh=new WeakMap,Bp=new WeakMap;function uR(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",r),e.removeEventListener("error",o)},r=()=>{n(ji(e.result)),s()},o=()=>{i(e.error),s()};e.addEventListener("success",r),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&UA.set(n,e)}).catch(()=>{}),Bp.set(t,e),t}function hR(e){if(sd.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",o),e.removeEventListener("abort",o)},r=()=>{n(),s()},o=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",r),e.addEventListener("error",o),e.addEventListener("abort",o)});sd.set(e,t)}let rd={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return sd.get(e);if(t==="objectStoreNames")return e.objectStoreNames||zA.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ji(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function fR(e){rd=e(rd)}function dR(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Qh(this),t,...n);return zA.set(i,t.sort?t.sort():[t]),ji(i)}:cR().includes(e)?function(...t){return e.apply(Qh(this),t),ji(UA.get(this))}:function(...t){return ji(e.apply(Qh(this),t))}}function pR(e){return typeof e=="function"?dR(e):(e instanceof IDBTransaction&&hR(e),aR(e,lR())?new Proxy(e,rd):e)}function ji(e){if(e instanceof IDBRequest)return uR(e);if(Gh.has(e))return Gh.get(e);const t=pR(e);return t!==e&&(Gh.set(e,t),Bp.set(t,e)),t}const Qh=e=>Bp.get(e);function gR(e,t,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(e,t),a=ji(o);return i&&o.addEventListener("upgradeneeded",l=>{i(ji(o.result),l.oldVersion,l.newVersion,ji(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",()=>s())}).catch(()=>{}),a}const mR=["get","getKey","getAll","getAllKeys","count"],_R=["put","add","delete","clear"],Yh=new Map;function $_(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Yh.get(t))return Yh.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=_R.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||mR.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Yh.set(t,r),r}fR(e=>({...e,get:(t,n,i)=>$_(t,n)||e.get(t,n,i),has:(t,n)=>!!$_(t,n)||e.has(t,n)}));const jA="@firebase/installations",Up="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A=1e4,HA=`w:${Up}`,WA="FIS_v2",yR="https://firebaseinstallations.googleapis.com/v1",vR=60*60*1e3,bR="installations",AR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ls=new Qs(bR,AR,wR);function qA(e){return e instanceof xn&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA({projectId:e}){return`${yR}/projects/${e}/installations`}function GA(e){return{token:e.token,requestStatus:2,expiresIn:IR(e.expiresIn),creationTime:Date.now()}}async function QA(e,t){const i=(await t.json()).error;return Ls.create("request-failed",{requestName:e,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function YA({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function ER(e,{refreshToken:t}){const n=YA(e);return n.append("Authorization",TR(t)),n}async function XA(e){const t=await e();return t.status>=500&&t.status<600?e():t}function IR(e){return Number(e.replace("s","000"))}function TR(e){return`${WA} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xR({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const i=KA(e),s=YA(e),r=t.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:WA,appId:e.appId,sdkVersion:HA},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await XA(()=>fetch(i,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:GA(c.authToken)}}else throw await QA("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=/^[cdef][\w-]{21}$/,od="";function CR(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=PR(e);return kR.test(n)?n:od}catch{return od}}function PR(e){return SR(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=new Map;function tw(e,t){const n=zu(e);ew(n,t),RR(n,t)}function ew(e,t){const n=ZA.get(e);if(n)for(const i of n)i(t)}function RR(e,t){const n=MR();n&&n.postMessage({key:e,fid:t}),OR()}let ms=null;function MR(){return!ms&&"BroadcastChannel"in self&&(ms=new BroadcastChannel("[Firebase] FID Change"),ms.onmessage=e=>{ew(e.data.key,e.data.fid)}),ms}function OR(){ZA.size===0&&ms&&(ms.close(),ms=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR="firebase-installations-database",NR=1,Vs="firebase-installations-store";let Xh=null;function zp(){return Xh||(Xh=gR(DR,NR,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Vs)}}})),Xh}async function $c(e,t){const n=zu(e),s=(await zp()).transaction(Vs,"readwrite"),r=s.objectStore(Vs),o=await r.get(n);return await r.put(t,n),await s.done,(!o||o.fid!==t.fid)&&tw(e,t.fid),t}async function nw(e){const t=zu(e),i=(await zp()).transaction(Vs,"readwrite");await i.objectStore(Vs).delete(t),await i.done}async function ju(e,t){const n=zu(e),s=(await zp()).transaction(Vs,"readwrite"),r=s.objectStore(Vs),o=await r.get(n),a=t(o);return a===void 0?await r.delete(n):await r.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&tw(e,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jp(e){let t;const n=await ju(e.appConfig,i=>{const s=LR(i),r=VR(e,s);return t=r.registrationPromise,r.installationEntry});return n.fid===od?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function LR(e){const t=e||{fid:CR(),registrationStatus:0};return iw(t)}function VR(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Ls.create("app-offline"));return{installationEntry:t,registrationPromise:s}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=FR(e,n);return{installationEntry:n,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:BR(e)}:{installationEntry:t}}async function FR(e,t){try{const n=await xR(e,t);return $c(e.appConfig,n)}catch(n){throw qA(n)&&n.customData.serverCode===409?await nw(e.appConfig):await $c(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function BR(e){let t=await H_(e.appConfig);for(;t.registrationStatus===1;)await JA(100),t=await H_(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await jp(e);return i||n}return t}function H_(e){return ju(e,t=>{if(!t)throw Ls.create("installation-not-found");return iw(t)})}function iw(e){return UR(e)?{fid:e.fid,registrationStatus:0}:e}function UR(e){return e.registrationStatus===1&&e.registrationTime+$A<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zR({appConfig:e,heartbeatServiceProvider:t},n){const i=jR(e,n),s=ER(e,n),r=t.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:HA,appId:e.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await XA(()=>fetch(i,a));if(l.ok){const c=await l.json();return GA(c)}else throw await QA("Generate Auth Token",l)}function jR(e,{fid:t}){return`${KA(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $p(e,t=!1){let n;const i=await ju(e.appConfig,r=>{if(!sw(r))throw Ls.create("not-registered");const o=r.authToken;if(!t&&WR(o))return r;if(o.requestStatus===1)return n=$R(e,t),r;{if(!navigator.onLine)throw Ls.create("app-offline");const a=KR(r);return n=HR(e,a),a}});return n?await n:i.authToken}async function $R(e,t){let n=await W_(e.appConfig);for(;n.authToken.requestStatus===1;)await JA(100),n=await W_(e.appConfig);const i=n.authToken;return i.requestStatus===0?$p(e,t):i}function W_(e){return ju(e,t=>{if(!sw(t))throw Ls.create("not-registered");const n=t.authToken;return GR(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function HR(e,t){try{const n=await zR(e,t),i=Object.assign(Object.assign({},t),{authToken:n});return await $c(e.appConfig,i),n}catch(n){if(qA(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await nw(e.appConfig);else{const i=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await $c(e.appConfig,i)}throw n}}function sw(e){return e!==void 0&&e.registrationStatus===2}function WR(e){return e.requestStatus===2&&!qR(e)}function qR(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+vR}function KR(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function GR(e){return e.requestStatus===1&&e.requestTime+$A<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR(e){const t=e,{installationEntry:n,registrationPromise:i}=await jp(t);return i?i.catch(console.error):$p(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YR(e,t=!1){const n=e;return await XR(n),(await $p(n,t)).token}async function XR(e){const{registrationPromise:t}=await jp(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JR(e){if(!e||!e.options)throw Jh("App Configuration");if(!e.name)throw Jh("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Jh(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function Jh(e){return Ls.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="installations",ZR="installations-internal",tM=e=>{const t=e.getProvider("app").getImmediate(),n=JR(t),i=Ys(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},eM=e=>{const t=e.getProvider("app").getImmediate(),n=Ys(t,rw).getImmediate();return{getId:()=>QR(n),getToken:s=>YR(n,s)}};function nM(){Wn(new wn(rw,tM,"PUBLIC")),Wn(new wn(ZR,eM,"PRIVATE"))}nM();un(jA,Up);un(jA,Up,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc="analytics",iM="firebase_id",sM="origin",rM=60*1e3,oM="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Hp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We=new Uu("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aM={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ze=new Qs("analytics","Analytics",aM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(e){if(!e.startsWith(Hp)){const t=Ze.create("invalid-gtag-resource",{gtagURL:e});return We.warn(t.message),""}return e}function ow(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function cM(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function uM(e,t){const n=cM("firebase-js-sdk-policy",{createScriptURL:lM}),i=document.createElement("script"),s=`${Hp}?l=${e}&id=${t}`;i.src=n?n==null?void 0:n.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function hM(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function fM(e,t,n,i,s,r){const o=i[s];try{if(o)await t[o];else{const l=(await ow(n)).find(c=>c.measurementId===s);l&&await t[l.appId]}}catch(a){We.error(a)}e("config",s,r)}async function dM(e,t,n,i,s){try{let r=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await ow(n);for(const l of o){const c=a.find(h=>h.measurementId===l),u=c&&t[c.appId];if(u)r.push(u);else{r=[];break}}}r.length===0&&(r=Object.values(t)),await Promise.all(r),e("event",i,s||{})}catch(r){We.error(r)}}function pM(e,t,n,i){async function s(r,...o){try{if(r==="event"){const[a,l]=o;await dM(e,t,n,a,l)}else if(r==="config"){const[a,l]=o;await fM(e,t,n,i,a,l)}else if(r==="consent"){const[a]=o;e("consent","update",a)}else if(r==="get"){const[a,l,c]=o;e("get",a,l,c)}else if(r==="set"){const[a]=o;e("set",a)}else e(r,...o)}catch(a){We.error(a)}}return s}function gM(e,t,n,i,s){let r=function(...o){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(r=window[s]),window[s]=pM(r,e,t,n),{gtagCore:r,wrappedGtag:window[s]}}function mM(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Hp)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M=30,yM=1e3;class vM{constructor(t={},n=yM){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const aw=new vM;function bM(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function AM(e){var t;const{appId:n,apiKey:i}=e,s={method:"GET",headers:bM(i)},r=oM.replace("{app-id}",n),o=await fetch(r,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((t=l.error)===null||t===void 0)&&t.message&&(a=l.error.message)}catch{}throw Ze.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function wM(e,t=aw,n){const{appId:i,apiKey:s,measurementId:r}=e.options;if(!i)throw Ze.create("no-app-id");if(!s){if(r)return{measurementId:r,appId:i};throw Ze.create("no-api-key")}const o=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new TM;return setTimeout(async()=>{a.abort()},n!==void 0?n:rM),lw({appId:i,apiKey:s,measurementId:r},o,a,t)}async function lw(e,{throttleEndTimeMillis:t,backoffCount:n},i,s=aw){var r;const{appId:o,measurementId:a}=e;try{await EM(i,t)}catch(l){if(a)return We.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await AM(e);return s.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!IM(c)){if(s.deleteThrottleMetadata(o),a)return We.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const u=Number((r=c==null?void 0:c.customData)===null||r===void 0?void 0:r.httpStatus)===503?O_(n,s.intervalMillis,_M):O_(n,s.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return s.setThrottleMetadata(o,h),We.debug(`Calling attemptFetch again in ${u} millis`),lw(e,h,i,s)}}function EM(e,t){return new Promise((n,i)=>{const s=Math.max(t-Date.now(),0),r=setTimeout(n,s);e.addEventListener(()=>{clearTimeout(r),i(Ze.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function IM(e){if(!(e instanceof xn)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class TM{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function xM(e,t,n,i,s){if(s&&s.global){e("event",n,i);return}else{const r=await t,o=Object.assign(Object.assign({},i),{send_to:r});e("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SM(){if(OA())try{await DA()}catch(e){return We.warn(Ze.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return We.warn(Ze.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function kM(e,t,n,i,s,r,o){var a;const l=wM(e);l.then(d=>{n[d.measurementId]=d.appId,e.options.measurementId&&d.measurementId!==e.options.measurementId&&We.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${d.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(d=>We.error(d)),t.push(l);const c=SM().then(d=>{if(d)return i.getId()}),[u,h]=await Promise.all([l,c]);mM(r)||uM(r,u.measurementId),s("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[sM]="firebase",f.update=!0,h!=null&&(f[iM]=h),s("config",u.measurementId,f),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(t){this.app=t}_delete(){return delete jo[this.app.options.appId],Promise.resolve()}}let jo={},q_=[];const K_={};let Zh="dataLayer",PM="gtag",G_,cw,Q_=!1;function RM(){const e=[];if(MA()&&e.push("This is a browser extension environment."),jC()||e.push("Cookies are not available."),e.length>0){const t=e.map((i,s)=>`(${s+1}) ${i}`).join(" "),n=Ze.create("invalid-analytics-context",{errorInfo:t});We.warn(n.message)}}function MM(e,t,n){RM();const i=e.options.appId;if(!i)throw Ze.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)We.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ze.create("no-api-key");if(jo[i]!=null)throw Ze.create("already-exists",{id:i});if(!Q_){hM(Zh);const{wrappedGtag:r,gtagCore:o}=gM(jo,q_,K_,Zh,PM);cw=r,G_=o,Q_=!0}return jo[i]=kM(e,q_,K_,t,G_,Zh,n),new CM(e)}function OM(e=Fp()){e=_e(e);const t=Ys(e,Hc);return t.isInitialized()?t.getImmediate():DM(e)}function DM(e,t={}){const n=Ys(e,Hc);if(n.isInitialized()){const s=n.getImmediate();if(da(t,n.getOptions()))return s;throw Ze.create("already-initialized")}return n.initialize({options:t})}function NM(e,t,n,i){e=_e(e),xM(cw,jo[e.app.options.appId],t,n,i).catch(s=>We.error(s))}const Y_="@firebase/analytics",X_="0.10.0";function LM(){Wn(new wn(Hc,(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("installations-internal").getImmediate();return MM(i,s,n)},"PUBLIC")),Wn(new wn("analytics-internal",e,"PRIVATE")),un(Y_,X_),un(Y_,X_,"esm2017");function e(t){try{const n=t.getProvider(Hc).getImmediate();return{logEvent:(i,s,r)=>NM(n,i,s,r)}}catch(n){throw Ze.create("interop-component-reg-failed",{reason:n})}}}LM();var VM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},z,Wp=Wp||{},at=VM||self;function $u(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function Ya(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function FM(e){return Object.prototype.hasOwnProperty.call(e,tf)&&e[tf]||(e[tf]=++BM)}var tf="closure_uid_"+(1e9*Math.random()>>>0),BM=0;function UM(e,t,n){return e.call.apply(e.bind,arguments)}function zM(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,i),e.apply(t,s)}}return function(){return e.apply(t,arguments)}}function Re(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Re=UM:Re=zM,Re.apply(null,arguments)}function Pl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function ve(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(i,s,r){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[s].apply(i,o)}}function es(){this.s=this.s,this.o=this.o}var jM=0;es.prototype.s=!1;es.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),jM!=0)&&FM(this)};es.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const uw=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function qp(e){const t=e.length;if(0<t){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function J_(e,t){for(let n=1;n<arguments.length;n++){const i=arguments[n];if($u(i)){const s=e.length||0,r=i.length||0;e.length=s+r;for(let o=0;o<r;o++)e[s+o]=i[o]}else e.push(i)}}function Me(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Me.prototype.h=function(){this.defaultPrevented=!0};var $M=function(){if(!at.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{at.addEventListener("test",()=>{},t),at.removeEventListener("test",()=>{},t)}catch{}return e}();function ga(e){return/^[\s\xa0]*$/.test(e)}function Hu(){var e=at.navigator;return e&&(e=e.userAgent)?e:""}function Dn(e){return Hu().indexOf(e)!=-1}function Kp(e){return Kp[" "](e),e}Kp[" "]=function(){};function HM(e,t){var n=L2;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var WM=Dn("Opera"),Dr=Dn("Trident")||Dn("MSIE"),hw=Dn("Edge"),ad=hw||Dr,fw=Dn("Gecko")&&!(Hu().toLowerCase().indexOf("webkit")!=-1&&!Dn("Edge"))&&!(Dn("Trident")||Dn("MSIE"))&&!Dn("Edge"),qM=Hu().toLowerCase().indexOf("webkit")!=-1&&!Dn("Edge");function dw(){var e=at.document;return e?e.documentMode:void 0}var ld;t:{var ef="",nf=function(){var e=Hu();if(fw)return/rv:([^\);]+)(\)|;)/.exec(e);if(hw)return/Edge\/([\d\.]+)/.exec(e);if(Dr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(qM)return/WebKit\/(\S+)/.exec(e);if(WM)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(nf&&(ef=nf?nf[1]:""),Dr){var sf=dw();if(sf!=null&&sf>parseFloat(ef)){ld=String(sf);break t}}ld=ef}var cd;if(at.document&&Dr){var Z_=dw();cd=Z_||parseInt(ld,10)||void 0}else cd=void 0;var KM=cd;function ma(e,t){if(Me.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(fw){t:{try{Kp(t.nodeName);var s=!0;break t}catch{}s=!1}s||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:GM[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ma.$.h.call(this)}}ve(ma,Me);var GM={2:"touch",3:"pen",4:"mouse"};ma.prototype.h=function(){ma.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Xa="closure_listenable_"+(1e6*Math.random()|0),QM=0;function YM(e,t,n,i,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.la=s,this.key=++QM,this.fa=this.ia=!1}function Wu(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Gp(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function XM(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function pw(e){const t={};for(const n in e)t[n]=e[n];return t}const ty="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gw(e,t){let n,i;for(let s=1;s<arguments.length;s++){i=arguments[s];for(n in i)e[n]=i[n];for(let r=0;r<ty.length;r++)n=ty[r],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function qu(e){this.src=e,this.g={},this.h=0}qu.prototype.add=function(e,t,n,i,s){var r=e.toString();e=this.g[r],e||(e=this.g[r]=[],this.h++);var o=hd(e,t,i,s);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new YM(t,this.src,r,!!i,s),t.ia=n,e.push(t)),t};function ud(e,t){var n=t.type;if(n in e.g){var i=e.g[n],s=uw(i,t),r;(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Wu(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function hd(e,t,n,i){for(var s=0;s<e.length;++s){var r=e[s];if(!r.fa&&r.listener==t&&r.capture==!!n&&r.la==i)return s}return-1}var Qp="closure_lm_"+(1e6*Math.random()|0),rf={};function mw(e,t,n,i,s){if(i&&i.once)return yw(e,t,n,i,s);if(Array.isArray(t)){for(var r=0;r<t.length;r++)mw(e,t[r],n,i,s);return null}return n=Jp(n),e&&e[Xa]?e.O(t,n,Ya(i)?!!i.capture:!!i,s):_w(e,t,n,!1,i,s)}function _w(e,t,n,i,s,r){if(!t)throw Error("Invalid event type");var o=Ya(s)?!!s.capture:!!s,a=Xp(e);if(a||(e[Qp]=a=new qu(e)),n=a.add(t,n,i,o,r),n.proxy)return n;if(i=JM(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)$M||(s=o),s===void 0&&(s=!1),e.addEventListener(t.toString(),i,s);else if(e.attachEvent)e.attachEvent(bw(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function JM(){function e(n){return t.call(e.src,e.listener,n)}const t=ZM;return e}function yw(e,t,n,i,s){if(Array.isArray(t)){for(var r=0;r<t.length;r++)yw(e,t[r],n,i,s);return null}return n=Jp(n),e&&e[Xa]?e.P(t,n,Ya(i)?!!i.capture:!!i,s):_w(e,t,n,!0,i,s)}function vw(e,t,n,i,s){if(Array.isArray(t))for(var r=0;r<t.length;r++)vw(e,t[r],n,i,s);else i=Ya(i)?!!i.capture:!!i,n=Jp(n),e&&e[Xa]?(e=e.i,t=String(t).toString(),t in e.g&&(r=e.g[t],n=hd(r,n,i,s),-1<n&&(Wu(r[n]),Array.prototype.splice.call(r,n,1),r.length==0&&(delete e.g[t],e.h--)))):e&&(e=Xp(e))&&(t=e.g[t.toString()],e=-1,t&&(e=hd(t,n,i,s)),(n=-1<e?t[e]:null)&&Yp(n))}function Yp(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[Xa])ud(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(bw(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=Xp(t))?(ud(n,e),n.h==0&&(n.src=null,t[Qp]=null)):Wu(e)}}}function bw(e){return e in rf?rf[e]:rf[e]="on"+e}function ZM(e,t){if(e.fa)e=!0;else{t=new ma(t,this);var n=e.listener,i=e.la||e.src;e.ia&&Yp(e),e=n.call(i,t)}return e}function Xp(e){return e=e[Qp],e instanceof qu?e:null}var of="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jp(e){return typeof e=="function"?e:(e[of]||(e[of]=function(t){return e.handleEvent(t)}),e[of])}function ye(){es.call(this),this.i=new qu(this),this.S=this,this.J=null}ve(ye,es);ye.prototype[Xa]=!0;ye.prototype.removeEventListener=function(e,t,n,i){vw(this,e,t,n,i)};function we(e,t){var n,i=e.J;if(i)for(n=[];i;i=i.J)n.push(i);if(e=e.S,i=t.type||t,typeof t=="string")t=new Me(t,e);else if(t instanceof Me)t.target=t.target||e;else{var s=t;t=new Me(i,e),gw(t,s)}if(s=!0,n)for(var r=n.length-1;0<=r;r--){var o=t.g=n[r];s=Rl(o,i,!0,t)&&s}if(o=t.g=e,s=Rl(o,i,!0,t)&&s,s=Rl(o,i,!1,t)&&s,n)for(r=0;r<n.length;r++)o=t.g=n[r],s=Rl(o,i,!1,t)&&s}ye.prototype.N=function(){if(ye.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)Wu(n[i]);delete e.g[t],e.h--}}this.J=null};ye.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};ye.prototype.P=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};function Rl(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var s=!0,r=0;r<t.length;++r){var o=t[r];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&ud(e.i,o),s=a.call(l,i)!==!1&&s}}return s&&!i.defaultPrevented}var Zp=at.JSON.stringify;class t2{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function e2(){var e=tg;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class n2{constructor(){this.h=this.g=null}add(t,n){const i=Aw.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i}}var Aw=new t2(()=>new i2,e=>e.reset());class i2{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function s2(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function r2(e){at.setTimeout(()=>{throw e},0)}let _a,ya=!1,tg=new n2,ww=()=>{const e=at.Promise.resolve(void 0);_a=()=>{e.then(o2)}};var o2=()=>{for(var e;e=e2();){try{e.h.call(e.g)}catch(n){r2(n)}var t=Aw;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ya=!1};function Ku(e,t){ye.call(this),this.h=e||1,this.g=t||at,this.j=Re(this.qb,this),this.l=Date.now()}ve(Ku,ye);z=Ku.prototype;z.ga=!1;z.T=null;z.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),we(this,"tick"),this.ga&&(eg(this),this.start()))}};z.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function eg(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}z.N=function(){Ku.$.N.call(this),eg(this),delete this.g};function ng(e,t,n){if(typeof e=="function")n&&(e=Re(e,n));else if(e&&typeof e.handleEvent=="function")e=Re(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:at.setTimeout(e,t||0)}function Ew(e){e.g=ng(()=>{e.g=null,e.i&&(e.i=!1,Ew(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class a2 extends es{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Ew(this)}N(){super.N(),this.g&&(at.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function va(e){es.call(this),this.h=e,this.g={}}ve(va,es);var ey=[];function Iw(e,t,n,i){Array.isArray(n)||(n&&(ey[0]=n.toString()),n=ey);for(var s=0;s<n.length;s++){var r=mw(t,n[s],i||e.handleEvent,!1,e.h||e);if(!r)break;e.g[r.key]=r}}function Tw(e){Gp(e.g,function(t,n){this.g.hasOwnProperty(n)&&Yp(t)},e),e.g={}}va.prototype.N=function(){va.$.N.call(this),Tw(this)};va.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Gu(){this.g=!0}Gu.prototype.Ea=function(){this.g=!1};function l2(e,t,n,i,s,r){e.info(function(){if(e.g)if(r)for(var o="",a=r.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=r;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+t+`
`+n+`
`+o})}function c2(e,t,n,i,s,r,o){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+t+`
`+n+`
`+r+" "+o})}function ur(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+h2(e,n)+(i?" "+i:"")})}function u2(e,t){e.info(function(){return"TIMEOUT: "+t})}Gu.prototype.info=function(){};function h2(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var r=s[0];if(r!="noop"&&r!="stop"&&r!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return Zp(n)}catch{return t}}var Xs={},ny=null;function Qu(){return ny=ny||new ye}Xs.Ta="serverreachability";function xw(e){Me.call(this,Xs.Ta,e)}ve(xw,Me);function ba(e){const t=Qu();we(t,new xw(t))}Xs.STAT_EVENT="statevent";function Sw(e,t){Me.call(this,Xs.STAT_EVENT,e),this.stat=t}ve(Sw,Me);function Ue(e){const t=Qu();we(t,new Sw(t,e))}Xs.Ua="timingevent";function kw(e,t){Me.call(this,Xs.Ua,e),this.size=t}ve(kw,Me);function Ja(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return at.setTimeout(function(){e()},t)}var Yu={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Cw={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ig(){}ig.prototype.h=null;function iy(e){return e.h||(e.h=e.i())}function Pw(){}var Za={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function sg(){Me.call(this,"d")}ve(sg,Me);function rg(){Me.call(this,"c")}ve(rg,Me);var fd;function Xu(){}ve(Xu,ig);Xu.prototype.g=function(){return new XMLHttpRequest};Xu.prototype.i=function(){return{}};fd=new Xu;function tl(e,t,n,i){this.l=e,this.j=t,this.m=n,this.W=i||1,this.U=new va(this),this.P=f2,e=ad?125:void 0,this.V=new Ku(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Rw}function Rw(){this.i=null,this.g="",this.h=!1}var f2=45e3,dd={},Wc={};z=tl.prototype;z.setTimeout=function(e){this.P=e};function pd(e,t,n){e.L=1,e.v=Zu(ci(t)),e.s=n,e.S=!0,Mw(e,null)}function Mw(e,t){e.G=Date.now(),el(e),e.A=ci(e.v);var n=e.A,i=e.W;Array.isArray(i)||(i=[String(i)]),Uw(n.i,"t",i),e.C=0,n=e.l.J,e.h=new Rw,e.g=aE(e.l,n?t:null,!e.s),0<e.O&&(e.M=new a2(Re(e.Pa,e,e.g),e.O)),Iw(e.U,e.g,"readystatechange",e.nb),t=e.I?pw(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),ba(),l2(e.j,e.u,e.A,e.m,e.W,e.s)}z.nb=function(e){e=e.target;const t=this.M;t&&Nn(e)==3?t.l():this.Pa(e)};z.Pa=function(e){try{if(e==this.g)t:{const u=Nn(this.g);var t=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||ad||this.g&&(this.h.h||this.g.ja()||ay(this.g)))){this.J||u!=4||t==7||(t==8||0>=h?ba(3):ba(2)),Ju(this);var n=this.g.da();this.ca=n;e:if(Ow(this)){var i=ay(this.g);e="";var s=i.length,r=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_s(this),$o(this);var o="";break e}this.h.i=new at.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(i[t],{stream:r&&t==s-1});i.splice(0,s),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,c2(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){e:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ga(a)){var c=a;break e}}c=null}if(n=c)ur(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gd(this,n);else{this.i=!1,this.o=3,Ue(12),_s(this),$o(this);break t}}this.S?(Dw(this,u,o),ad&&this.i&&u==3&&(Iw(this.U,this.V,"tick",this.mb),this.V.start())):(ur(this.j,this.m,o,null),gd(this,o)),u==4&&_s(this),this.i&&!this.J&&(u==4?iE(this.l,this):(this.i=!1,el(this)))}else O2(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Ue(12)):(this.o=0,Ue(13)),_s(this),$o(this)}}}catch{}finally{}};function Ow(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function Dw(e,t,n){let i=!0,s;for(;!e.J&&e.C<n.length;)if(s=d2(e,n),s==Wc){t==4&&(e.o=4,Ue(14),i=!1),ur(e.j,e.m,null,"[Incomplete Response]");break}else if(s==dd){e.o=4,Ue(15),ur(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else ur(e.j,e.m,s,null),gd(e,s);Ow(e)&&s!=Wc&&s!=dd&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,Ue(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),hg(t),t.M=!0,Ue(11))):(ur(e.j,e.m,n,"[Invalid Chunked Response]"),_s(e),$o(e))}z.mb=function(){if(this.g){var e=Nn(this.g),t=this.g.ja();this.C<t.length&&(Ju(this),Dw(this,e,t),this.i&&e!=4&&el(this))}};function d2(e,t){var n=e.C,i=t.indexOf(`
`,n);return i==-1?Wc:(n=Number(t.substring(n,i)),isNaN(n)?dd:(i+=1,i+n>t.length?Wc:(t=t.slice(i,i+n),e.C=i+n,t)))}z.cancel=function(){this.J=!0,_s(this)};function el(e){e.Y=Date.now()+e.P,Nw(e,e.P)}function Nw(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=Ja(Re(e.lb,e),t)}function Ju(e){e.B&&(at.clearTimeout(e.B),e.B=null)}z.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(u2(this.j,this.A),this.L!=2&&(ba(),Ue(17)),_s(this),this.o=2,$o(this)):Nw(this,this.Y-e)};function $o(e){e.l.H==0||e.J||iE(e.l,e)}function _s(e){Ju(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,eg(e.V),Tw(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function gd(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||md(n.i,e))){if(!e.K&&md(n.i,e)&&n.H==3){try{var i=n.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var s=i;if(s[0]==0){t:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)Gc(n),nh(n);else break t;ug(n),Ue(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Ja(Re(n.ib,n),6e3));if(1>=$w(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ys(n,11)}else if((e.K||n.g==e)&&Gc(n),!ga(t))for(s=n.Ja.g.parse(t),t=0;t<s.length;t++){let c=s[t];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const d=e.g;if(d){const p=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var r=i.i;r.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(r.j=r.l,r.g=new Set,r.h&&(og(r,r.h),r.h=null))}if(i.F){const g=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(i.Da=g,Ft(i.I,i.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var o=e;if(i.wa=oE(i,i.J?i.pa:null,i.Y),o.K){Hw(i.i,o);var a=o,l=i.L;l&&a.setTimeout(l),a.B&&(Ju(a),el(a)),i.g=o}else eE(i);0<n.j.length&&ih(n)}else c[0]!="stop"&&c[0]!="close"||ys(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?ys(n,7):cg(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}ba(4)}catch{}}function p2(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if($u(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function g2(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if($u(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const i in e)t[n++]=i;return t}}}function Lw(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if($u(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=g2(e),i=p2(e),s=i.length,r=0;r<s;r++)t.call(void 0,i[r],n&&n[r],e)}var Vw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function m2(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),s=null;if(0<=i){var r=e[n].substring(0,i);s=e[n].substring(i+1)}else r=e[n];t(r,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function xs(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof xs){this.h=e.h,qc(this,e.j),this.s=e.s,this.g=e.g,Kc(this,e.m),this.l=e.l;var t=e.i,n=new Aa;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),sy(this,n),this.o=e.o}else e&&(t=String(e).match(Vw))?(this.h=!1,qc(this,t[1]||"",!0),this.s=Io(t[2]||""),this.g=Io(t[3]||"",!0),Kc(this,t[4]),this.l=Io(t[5]||"",!0),sy(this,t[6]||"",!0),this.o=Io(t[7]||"")):(this.h=!1,this.i=new Aa(null,this.h))}xs.prototype.toString=function(){var e=[],t=this.j;t&&e.push(To(t,ry,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(To(t,ry,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(To(n,n.charAt(0)=="/"?v2:y2,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",To(n,A2)),e.join("")};function ci(e){return new xs(e)}function qc(e,t,n){e.j=n?Io(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Kc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function sy(e,t,n){t instanceof Aa?(e.i=t,w2(e.i,e.h)):(n||(t=To(t,b2)),e.i=new Aa(t,e.h))}function Ft(e,t,n){e.i.set(t,n)}function Zu(e){return Ft(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Io(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function To(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,_2),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function _2(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var ry=/[#\/\?@]/g,y2=/[#\?:]/g,v2=/[#\?]/g,b2=/[#\?@]/g,A2=/#/g;function Aa(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ns(e){e.g||(e.g=new Map,e.h=0,e.i&&m2(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}z=Aa.prototype;z.add=function(e,t){ns(this),this.i=null,e=Xr(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function Fw(e,t){ns(e),t=Xr(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Bw(e,t){return ns(e),t=Xr(e,t),e.g.has(t)}z.forEach=function(e,t){ns(this),this.g.forEach(function(n,i){n.forEach(function(s){e.call(t,s,i,this)},this)},this)};z.ta=function(){ns(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let i=0;i<t.length;i++){const s=e[i];for(let r=0;r<s.length;r++)n.push(t[i])}return n};z.Z=function(e){ns(this);let t=[];if(typeof e=="string")Bw(this,e)&&(t=t.concat(this.g.get(Xr(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};z.set=function(e,t){return ns(this),this.i=null,e=Xr(this,e),Bw(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};z.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function Uw(e,t,n){Fw(e,t),0<n.length&&(e.i=null,e.g.set(Xr(e,t),qp(n)),e.h+=n.length)}z.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var i=t[n];const r=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var s=r;o[i]!==""&&(s+="="+encodeURIComponent(String(o[i]))),e.push(s)}}return this.i=e.join("&")};function Xr(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function w2(e,t){t&&!e.j&&(ns(e),e.i=null,e.g.forEach(function(n,i){var s=i.toLowerCase();i!=s&&(Fw(this,i),Uw(this,s,n))},e)),e.j=t}var E2=class{constructor(e,t){this.g=e,this.map=t}};function zw(e){this.l=e||I2,at.PerformanceNavigationTiming?(e=at.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(at.g&&at.g.Ka&&at.g.Ka()&&at.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var I2=10;function jw(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function $w(e){return e.h?1:e.g?e.g.size:0}function md(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function og(e,t){e.g?e.g.add(t):e.h=t}function Hw(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}zw.prototype.cancel=function(){if(this.i=Ww(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function Ww(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return qp(e.i)}var T2=class{stringify(e){return at.JSON.stringify(e,void 0)}parse(e){return at.JSON.parse(e,void 0)}};function x2(){this.g=new T2}function S2(e,t,n){const i=n||"";try{Lw(e,function(s,r){let o=s;Ya(s)&&(o=Zp(s)),t.push(i+r+"="+encodeURIComponent(o))})}catch(s){throw t.push(i+"type="+encodeURIComponent("_badmap")),s}}function k2(e,t){const n=new Gu;if(at.Image){const i=new Image;i.onload=Pl(Ml,n,i,"TestLoadImage: loaded",!0,t),i.onerror=Pl(Ml,n,i,"TestLoadImage: error",!1,t),i.onabort=Pl(Ml,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=Pl(Ml,n,i,"TestLoadImage: timeout",!1,t),at.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function Ml(e,t,n,i,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(i)}catch{}}function nl(e){this.l=e.fc||null,this.j=e.ob||!1}ve(nl,ig);nl.prototype.g=function(){return new th(this.l,this.j)};nl.prototype.i=function(e){return function(){return e}}({});function th(e,t){ye.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=ag,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ve(th,ye);var ag=0;z=th.prototype;z.open=function(e,t){if(this.readyState!=ag)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,wa(this)};z.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||at).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,il(this)),this.readyState=ag};z.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,wa(this)),this.g&&(this.readyState=3,wa(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof at.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qw(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function qw(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}z.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?il(this):wa(this),this.readyState==3&&qw(this)}};z.Za=function(e){this.g&&(this.response=this.responseText=e,il(this))};z.Ya=function(e){this.g&&(this.response=e,il(this))};z.ka=function(){this.g&&il(this)};function il(e){e.readyState=4,e.l=null,e.j=null,e.A=null,wa(e)}z.setRequestHeader=function(e,t){this.v.append(e,t)};z.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};z.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function wa(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(th.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var C2=at.JSON.parse;function te(e){ye.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Kw,this.L=this.M=!1}ve(te,ye);var Kw="",P2=/^https?$/i,R2=["POST","PUT"];z=te.prototype;z.Oa=function(e){this.M=e};z.ha=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():fd.g(),this.C=this.u?iy(this.u):iy(fd),this.g.onreadystatechange=Re(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(r){oy(this,r);return}if(e=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)n.set(s,i[s]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const r of i.keys())n.set(r,i.get(r));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(r=>r.toLowerCase()=="content-type"),s=at.FormData&&e instanceof at.FormData,!(0<=uw(R2,t))||i||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[r,o]of n)this.g.setRequestHeader(r,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Yw(this),0<this.B&&((this.L=M2(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Re(this.ua,this)):this.A=ng(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(r){oy(this,r)}};function M2(e){return Dr&&typeof e.timeout=="number"&&e.ontimeout!==void 0}z.ua=function(){typeof Wp<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,we(this,"timeout"),this.abort(8))};function oy(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Gw(e),eh(e)}function Gw(e){e.F||(e.F=!0,we(e,"complete"),we(e,"error"))}z.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,we(this,"complete"),we(this,"abort"),eh(this))};z.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),eh(this,!0)),te.$.N.call(this)};z.La=function(){this.s||(this.G||this.v||this.l?Qw(this):this.kb())};z.kb=function(){Qw(this)};function Qw(e){if(e.h&&typeof Wp<"u"&&(!e.C[1]||Nn(e)!=4||e.da()!=2)){if(e.v&&Nn(e)==4)ng(e.La,0,e);else if(we(e,"readystatechange"),Nn(e)==4){e.h=!1;try{const o=e.da();t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break t;default:t=!1}var n;if(!(n=t)){var i;if(i=o===0){var s=String(e.I).match(Vw)[1]||null;!s&&at.self&&at.self.location&&(s=at.self.location.protocol.slice(0,-1)),i=!P2.test(s?s.toLowerCase():"")}n=i}if(n)we(e,"complete"),we(e,"success");else{e.m=6;try{var r=2<Nn(e)?e.g.statusText:""}catch{r=""}e.j=r+" ["+e.da()+"]",Gw(e)}}finally{eh(e)}}}}function eh(e,t){if(e.g){Yw(e);const n=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||we(e,"ready");try{n.onreadystatechange=i}catch{}}}function Yw(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(at.clearTimeout(e.A),e.A=null)}z.isActive=function(){return!!this.g};function Nn(e){return e.g?e.g.readyState:0}z.da=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}};z.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};z.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),C2(t)}};function ay(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Kw:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function O2(e){const t={};e=(e.g&&2<=Nn(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<e.length;i++){if(ga(e[i]))continue;var n=s2(e[i]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const r=t[s]||[];t[s]=r,r.push(n)}XM(t,function(i){return i.join(", ")})}z.Ia=function(){return this.m};z.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Xw(e){let t="";return Gp(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function lg(e,t,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=Xw(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Ft(e,t,n))}function fo(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Jw(e){this.Ga=0,this.j=[],this.l=new Gu,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=fo("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=fo("baseRetryDelayMs",5e3,e),this.hb=fo("retryDelaySeedMs",1e4,e),this.eb=fo("forwardChannelMaxRetries",2,e),this.xa=fo("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new zw(e&&e.concurrentRequestLimit),this.Ja=new x2,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}z=Jw.prototype;z.ra=8;z.H=1;function cg(e){if(Zw(e),e.H==3){var t=e.W++,n=ci(e.I);if(Ft(n,"SID",e.K),Ft(n,"RID",t),Ft(n,"TYPE","terminate"),sl(e,n),t=new tl(e,e.l,t),t.L=2,t.v=Zu(ci(n)),n=!1,at.navigator&&at.navigator.sendBeacon)try{n=at.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&at.Image&&(new Image().src=t.v,n=!0),n||(t.g=aE(t.l,null),t.g.ha(t.v)),t.G=Date.now(),el(t)}rE(e)}function nh(e){e.g&&(hg(e),e.g.cancel(),e.g=null)}function Zw(e){nh(e),e.u&&(at.clearTimeout(e.u),e.u=null),Gc(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&at.clearTimeout(e.m),e.m=null)}function ih(e){if(!jw(e.i)&&!e.m){e.m=!0;var t=e.Na;_a||ww(),ya||(_a(),ya=!0),tg.add(t,e),e.C=0}}function D2(e,t){return $w(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=Ja(Re(e.Na,e,t),sE(e,e.C)),e.C++,!0)}z.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const s=new tl(this,this.l,e);let r=this.s;if(this.U&&(r?(r=pw(r),gw(r,this.U)):r=this.U),this.o!==null||this.O||(s.I=r,r=null),this.P)t:{for(var t=0,n=0;n<this.j.length;n++){e:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break e}i=void 0}if(i===void 0)break;if(t+=i,4096<t){t=n;break t}if(t===4096||n===this.j.length-1){t=n+1;break t}}t=1e3}else t=1e3;t=tE(this,s,t),n=ci(this.I),Ft(n,"RID",e),Ft(n,"CVER",22),this.F&&Ft(n,"X-HTTP-Session-Id",this.F),sl(this,n),r&&(this.O?t="headers="+encodeURIComponent(String(Xw(r)))+"&"+t:this.o&&lg(n,this.o,r)),og(this.i,s),this.bb&&Ft(n,"TYPE","init"),this.P?(Ft(n,"$req",t),Ft(n,"SID","null"),s.aa=!0,pd(s,n,null)):pd(s,n,t),this.H=2}}else this.H==3&&(e?ly(this,e):this.j.length==0||jw(this.i)||ly(this))};function ly(e,t){var n;t?n=t.m:n=e.W++;const i=ci(e.I);Ft(i,"SID",e.K),Ft(i,"RID",n),Ft(i,"AID",e.V),sl(e,i),e.o&&e.s&&lg(i,e.o,e.s),n=new tl(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=tE(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),og(e.i,n),pd(n,i,t)}function sl(e,t){e.na&&Gp(e.na,function(n,i){Ft(t,i,n)}),e.h&&Lw({},function(n,i){Ft(t,i,n)})}function tE(e,t,n){n=Math.min(e.j.length,n);var i=e.h?Re(e.h.Va,e.h,e):null;t:{var s=e.j;let r=-1;for(;;){const o=["count="+n];r==-1?0<n?(r=s[0].g,o.push("ofs="+r)):r=0:o.push("ofs="+r);let a=!0;for(let l=0;l<n;l++){let c=s[l].g;const u=s[l].map;if(c-=r,0>c)r=Math.max(0,s[l].g-100),a=!1;else try{S2(u,o,"req"+c+"_")}catch{i&&i(u)}}if(a){i=o.join("&");break t}}}return e=e.j.splice(0,n),t.F=e,i}function eE(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;_a||ww(),ya||(_a(),ya=!0),tg.add(t,e),e.A=0}}function ug(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=Ja(Re(e.Ma,e),sE(e,e.A)),e.A++,!0)}z.Ma=function(){if(this.u=null,nE(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Ja(Re(this.jb,this),e)}};z.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ue(10),nh(this),nE(this))};function hg(e){e.B!=null&&(at.clearTimeout(e.B),e.B=null)}function nE(e){e.g=new tl(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=ci(e.wa);Ft(t,"RID","rpc"),Ft(t,"SID",e.K),Ft(t,"AID",e.V),Ft(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Ft(t,"TO",e.qa),Ft(t,"TYPE","xmlhttp"),sl(e,t),e.o&&e.s&&lg(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Zu(ci(t)),n.s=null,n.S=!0,Mw(n,e)}z.ib=function(){this.v!=null&&(this.v=null,nh(this),ug(this),Ue(19))};function Gc(e){e.v!=null&&(at.clearTimeout(e.v),e.v=null)}function iE(e,t){var n=null;if(e.g==t){Gc(e),hg(e),e.g=null;var i=2}else if(md(e.i,t))n=t.F,Hw(e.i,t),i=1;else return;if(e.H!=0){if(t.i)if(i==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var s=e.C;i=Qu(),we(i,new kw(i,n)),ih(e)}else eE(e);else if(s=t.o,s==3||s==0&&0<t.ca||!(i==1&&D2(e,t)||i==2&&ug(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),s){case 1:ys(e,5);break;case 4:ys(e,10);break;case 3:ys(e,6);break;default:ys(e,2)}}}function sE(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function ys(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var i=Re(e.pb,e);n||(n=new xs("//www.google.com/images/cleardot.gif"),at.location&&at.location.protocol=="http"||qc(n,"https"),Zu(n)),k2(n.toString(),i)}else Ue(2);e.H=0,e.h&&e.h.za(t),rE(e),Zw(e)}z.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Ue(2)):(this.l.info("Failed to ping google.com"),Ue(1))};function rE(e){if(e.H=0,e.ma=[],e.h){const t=Ww(e.i);(t.length!=0||e.j.length!=0)&&(J_(e.ma,t),J_(e.ma,e.j),e.i.i.length=0,qp(e.j),e.j.length=0),e.h.ya()}}function oE(e,t,n){var i=n instanceof xs?ci(n):new xs(n);if(i.g!="")t&&(i.g=t+"."+i.g),Kc(i,i.m);else{var s=at.location;i=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var r=new xs(null);i&&qc(r,i),t&&(r.g=t),s&&Kc(r,s),n&&(r.l=n),i=r}return n=e.F,t=e.Da,n&&t&&Ft(i,n,t),Ft(i,"VER",e.ra),sl(e,i),i}function aE(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new te(new nl({ob:!0})):new te(e.va),t.Oa(e.J),t}z.isActive=function(){return!!this.h&&this.h.isActive(this)};function lE(){}z=lE.prototype;z.Ba=function(){};z.Aa=function(){};z.za=function(){};z.ya=function(){};z.isActive=function(){return!0};z.Va=function(){};function Qc(){if(Dr&&!(10<=Number(KM)))throw Error("Environmental error: no available transport.")}Qc.prototype.g=function(e,t){return new tn(e,t)};function tn(e,t){ye.call(this),this.g=new Jw(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!ga(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ga(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Jr(this)}ve(tn,ye);tn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Ue(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=oE(e,null,e.Y),ih(e)};tn.prototype.close=function(){cg(this.g)};tn.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Zp(e),e=n);t.j.push(new E2(t.fb++,e)),t.H==3&&ih(t)};tn.prototype.N=function(){this.g.h=null,delete this.j,cg(this.g),delete this.g,tn.$.N.call(this)};function cE(e){sg.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){t:{for(const n in t){e=n;break t}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}ve(cE,sg);function uE(){rg.call(this),this.status=1}ve(uE,rg);function Jr(e){this.g=e}ve(Jr,lE);Jr.prototype.Ba=function(){we(this.g,"a")};Jr.prototype.Aa=function(e){we(this.g,new cE(e))};Jr.prototype.za=function(e){we(this.g,new uE)};Jr.prototype.ya=function(){we(this.g,"b")};function N2(){this.blockSize=-1}function En(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ve(En,N2);En.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function af(e,t,n){n||(n=0);var i=Array(16);if(typeof t=="string")for(var s=0;16>s;++s)i[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)i[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var r=e.g[3],o=t+(r^n&(s^r))+i[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=r+(s^t&(n^s))+i[1]+3905402710&4294967295,r=t+(o<<12&4294967295|o>>>20),o=s+(n^r&(t^n))+i[2]+606105819&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(t^s&(r^t))+i[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(r^n&(s^r))+i[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=r+(s^t&(n^s))+i[5]+1200080426&4294967295,r=t+(o<<12&4294967295|o>>>20),o=s+(n^r&(t^n))+i[6]+2821735955&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(t^s&(r^t))+i[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(r^n&(s^r))+i[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=r+(s^t&(n^s))+i[9]+2336552879&4294967295,r=t+(o<<12&4294967295|o>>>20),o=s+(n^r&(t^n))+i[10]+4294925233&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(t^s&(r^t))+i[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(r^n&(s^r))+i[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=r+(s^t&(n^s))+i[13]+4254626195&4294967295,r=t+(o<<12&4294967295|o>>>20),o=s+(n^r&(t^n))+i[14]+2792965006&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(t^s&(r^t))+i[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(s^r&(n^s))+i[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(t^n))+i[6]+3225465664&4294967295,r=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(r^t))+i[11]+643717713&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^t&(s^r))+i[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^r&(n^s))+i[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(t^n))+i[10]+38016083&4294967295,r=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(r^t))+i[15]+3634488961&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^t&(s^r))+i[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^r&(n^s))+i[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(t^n))+i[14]+3275163606&4294967295,r=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(r^t))+i[3]+4107603335&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^t&(s^r))+i[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^r&(n^s))+i[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(t^n))+i[2]+4243563512&4294967295,r=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(r^t))+i[7]+1735328473&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^t&(s^r))+i[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(n^s^r)+i[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=r+(t^n^s)+i[8]+2272392833&4294967295,r=t+(o<<11&4294967295|o>>>21),o=s+(r^t^n)+i[11]+1839030562&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^t)+i[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^r)+i[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=r+(t^n^s)+i[4]+1272893353&4294967295,r=t+(o<<11&4294967295|o>>>21),o=s+(r^t^n)+i[7]+4139469664&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^t)+i[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^r)+i[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=r+(t^n^s)+i[0]+3936430074&4294967295,r=t+(o<<11&4294967295|o>>>21),o=s+(r^t^n)+i[3]+3572445317&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^t)+i[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^r)+i[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=r+(t^n^s)+i[12]+3873151461&4294967295,r=t+(o<<11&4294967295|o>>>21),o=s+(r^t^n)+i[15]+530742520&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^t)+i[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(s^(n|~r))+i[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=r+(n^(t|~s))+i[7]+1126891415&4294967295,r=t+(o<<10&4294967295|o>>>22),o=s+(t^(r|~n))+i[14]+2878612391&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~t))+i[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~r))+i[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=r+(n^(t|~s))+i[3]+2399980690&4294967295,r=t+(o<<10&4294967295|o>>>22),o=s+(t^(r|~n))+i[10]+4293915773&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~t))+i[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~r))+i[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=r+(n^(t|~s))+i[15]+4264355552&4294967295,r=t+(o<<10&4294967295|o>>>22),o=s+(t^(r|~n))+i[6]+2734768916&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~t))+i[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~r))+i[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=r+(n^(t|~s))+i[11]+3174756917&4294967295,r=t+(o<<10&4294967295|o>>>22),o=s+(t^(r|~n))+i[2]+718787259&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~t))+i[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+r&4294967295}En.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,i=this.m,s=this.h,r=0;r<t;){if(s==0)for(;r<=n;)af(this,e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<t;)if(i[s++]=e.charCodeAt(r++),s==this.blockSize){af(this,i),s=0;break}}else for(;r<t;)if(i[s++]=e[r++],s==this.blockSize){af(this,i),s=0;break}}this.h=s,this.i+=t};En.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var i=0;32>i;i+=8)e[n++]=this.g[t]>>>i&255;return e};function Pt(e,t){this.h=t;for(var n=[],i=!0,s=e.length-1;0<=s;s--){var r=e[s]|0;i&&r==t||(n[s]=r,i=!1)}this.g=n}var L2={};function fg(e){return-128<=e&&128>e?HM(e,function(t){return new Pt([t|0],0>t?-1:0)}):new Pt([e|0],0>e?-1:0)}function Ln(e){if(isNaN(e)||!isFinite(e))return _r;if(0>e)return Ae(Ln(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=_d;return new Pt(t,0)}function hE(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return Ae(hE(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ln(Math.pow(t,8)),i=_r,s=0;s<e.length;s+=8){var r=Math.min(8,e.length-s),o=parseInt(e.substring(s,s+r),t);8>r?(r=Ln(Math.pow(t,r)),i=i.R(r).add(Ln(o))):(i=i.R(n),i=i.add(Ln(o)))}return i}var _d=4294967296,_r=fg(0),yd=fg(1),cy=fg(16777216);z=Pt.prototype;z.ea=function(){if(an(this))return-Ae(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var i=this.D(n);e+=(0<=i?i:_d+i)*t,t*=_d}return e};z.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(ni(this))return"0";if(an(this))return"-"+Ae(this).toString(e);for(var t=Ln(Math.pow(e,6)),n=this,i="";;){var s=Xc(n,t).g;n=Yc(n,s.R(t));var r=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=s,ni(n))return r+i;for(;6>r.length;)r="0"+r;i=r+i}};z.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function ni(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function an(e){return e.h==-1}z.X=function(e){return e=Yc(this,e),an(e)?-1:ni(e)?0:1};function Ae(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new Pt(n,~e.h).add(yd)}z.abs=function(){return an(this)?Ae(this):this};z.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var r=i+(this.D(s)&65535)+(e.D(s)&65535),o=(r>>>16)+(this.D(s)>>>16)+(e.D(s)>>>16);i=o>>>16,r&=65535,o&=65535,n[s]=o<<16|r}return new Pt(n,n[n.length-1]&-2147483648?-1:0)};function Yc(e,t){return e.add(Ae(t))}z.R=function(e){if(ni(this)||ni(e))return _r;if(an(this))return an(e)?Ae(this).R(Ae(e)):Ae(Ae(this).R(e));if(an(e))return Ae(this.R(Ae(e)));if(0>this.X(cy)&&0>e.X(cy))return Ln(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var r=this.D(i)>>>16,o=this.D(i)&65535,a=e.D(s)>>>16,l=e.D(s)&65535;n[2*i+2*s]+=o*l,Ol(n,2*i+2*s),n[2*i+2*s+1]+=r*l,Ol(n,2*i+2*s+1),n[2*i+2*s+1]+=o*a,Ol(n,2*i+2*s+1),n[2*i+2*s+2]+=r*a,Ol(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new Pt(n,0)};function Ol(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function po(e,t){this.g=e,this.h=t}function Xc(e,t){if(ni(t))throw Error("division by zero");if(ni(e))return new po(_r,_r);if(an(e))return t=Xc(Ae(e),t),new po(Ae(t.g),Ae(t.h));if(an(t))return t=Xc(e,Ae(t)),new po(Ae(t.g),t.h);if(30<e.g.length){if(an(e)||an(t))throw Error("slowDivide_ only works with positive integers.");for(var n=yd,i=t;0>=i.X(e);)n=uy(n),i=uy(i);var s=sr(n,1),r=sr(i,1);for(i=sr(i,2),n=sr(n,2);!ni(i);){var o=r.add(i);0>=o.X(e)&&(s=s.add(n),r=o),i=sr(i,1),n=sr(n,1)}return t=Yc(e,s.R(t)),new po(s,t)}for(s=_r;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),r=Ln(n),o=r.R(t);an(o)||0<o.X(e);)n-=i,r=Ln(n),o=r.R(t);ni(r)&&(r=yd),s=s.add(r),e=Yc(e,o)}return new po(s,e)}z.gb=function(e){return Xc(this,e).h};z.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)&e.D(i);return new Pt(n,this.h&e.h)};z.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)|e.D(i);return new Pt(n,this.h|e.h)};z.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)^e.D(i);return new Pt(n,this.h^e.h)};function uy(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.D(i)<<1|e.D(i-1)>>>31;return new Pt(n,e.h)}function sr(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],r=0;r<i;r++)s[r]=0<t?e.D(r+n)>>>t|e.D(r+n+1)<<32-t:e.D(r+n);return new Pt(s,e.h)}Qc.prototype.createWebChannel=Qc.prototype.g;tn.prototype.send=tn.prototype.u;tn.prototype.open=tn.prototype.m;tn.prototype.close=tn.prototype.close;Yu.NO_ERROR=0;Yu.TIMEOUT=8;Yu.HTTP_ERROR=6;Cw.COMPLETE="complete";Pw.EventType=Za;Za.OPEN="a";Za.CLOSE="b";Za.ERROR="c";Za.MESSAGE="d";ye.prototype.listen=ye.prototype.O;te.prototype.listenOnce=te.prototype.P;te.prototype.getLastError=te.prototype.Sa;te.prototype.getLastErrorCode=te.prototype.Ia;te.prototype.getStatus=te.prototype.da;te.prototype.getResponseJson=te.prototype.Wa;te.prototype.getResponseText=te.prototype.ja;te.prototype.send=te.prototype.ha;te.prototype.setWithCredentials=te.prototype.Oa;En.prototype.digest=En.prototype.l;En.prototype.reset=En.prototype.reset;En.prototype.update=En.prototype.j;Pt.prototype.add=Pt.prototype.add;Pt.prototype.multiply=Pt.prototype.R;Pt.prototype.modulo=Pt.prototype.gb;Pt.prototype.compare=Pt.prototype.X;Pt.prototype.toNumber=Pt.prototype.ea;Pt.prototype.toString=Pt.prototype.toString;Pt.prototype.getBits=Pt.prototype.D;Pt.fromNumber=Ln;Pt.fromString=hE;var V2=function(){return new Qc},F2=function(){return Qu()},lf=Yu,B2=Cw,U2=Xs,hy={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},z2=nl,Dl=Pw,j2=te,$2=En,yr=Pt;const fy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Te=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Te.UNAUTHENTICATED=new Te(null),Te.GOOGLE_CREDENTIALS=new Te("google-credentials-uid"),Te.FIRST_PARTY=new Te("first-party-uid"),Te.MOCK_USER=new Te("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zr="10.1.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new Uu("@firebase/firestore");function dy(){return Fs.logLevel}function Q(e,...t){if(Fs.logLevel<=wt.DEBUG){const n=t.map(dg);Fs.debug(`Firestore (${Zr}): ${e}`,...n)}}function ui(e,...t){if(Fs.logLevel<=wt.ERROR){const n=t.map(dg);Fs.error(`Firestore (${Zr}): ${e}`,...n)}}function Nr(e,...t){if(Fs.logLevel<=wt.WARN){const n=t.map(dg);Fs.warn(`Firestore (${Zr}): ${e}`,...n)}}function dg(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(e="Unexpected state"){const t=`FIRESTORE (${Zr}) INTERNAL ASSERTION FAILED: `+e;throw ui(t),new Error(t)}function Ht(e,t){e||ot()}function ft(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends xn{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class H2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Te.UNAUTHENTICATED))}shutdown(){}}class W2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class q2{constructor(t){this.t=t,this.currentUser=Te.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let r=new Ss;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Ss,t.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=r;t.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Ss)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ht(typeof i.accessToken=="string"),new fE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string"),new Te(t)}}class K2{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=Te.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class G2{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new K2(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Te.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Q2{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Y2{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const i=r=>{r.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.R;return this.R=r.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(r.token):Promise.resolve()};this.o=r=>{t.enqueueRetryable(()=>i(r))};const s=r=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.appCheck.addTokenListener(this.o)};this.A.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.A.getImmediate({optional:!0});r?s(r):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ht(typeof n.token=="string"),this.R=n.token,new Q2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{static V(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const s=X2(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=t.charAt(s[r]%t.length))}return i}}function Et(e,t){return e<t?-1:e>t?1:0}function Lr(e,t,n){return e.length===t.length&&e.every((i,s)=>n(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new q(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new q(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new q(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ce.fromMillis(Date.now())}static fromDate(t){return ce.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*n));return new ce(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Et(this.nanoseconds,t.nanoseconds):Et(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ct(t)}static min(){return new ct(new ce(0,0))}static max(){return new ct(new ce(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(t,n,i){n===void 0?n=0:n>t.length&&ot(),i===void 0?i=t.length-n:i>t.length-n&&ot(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Ea.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ea?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let s=0;s<i;s++){const r=t.get(s),o=n.get(s);if(r<o)return-1;if(r>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class Bt extends Ea{construct(t,n,i){return new Bt(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new q(R.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new Bt(n)}static emptyPath(){return new Bt([])}}const J2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ce extends Ea{construct(t,n,i){return new Ce(t,n,i)}static isValidIdentifier(t){return J2.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ce.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ce(["__name__"])}static fromServerFormat(t){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new q(R.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;s<t.length;){const a=t[s];if(a==="\\"){if(s+1===t.length)throw new q(R.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(i+=a,s++):(r(),s++)}if(r(),o)throw new q(R.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ce(n)}static emptyPath(){return new Ce([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.path=t}static fromPath(t){return new Z(Bt.fromString(t))}static fromName(t){return new Z(Bt.fromString(t).popFirst(5))}static empty(){return new Z(Bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Bt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Bt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Z(new Bt(t.slice()))}}function Z2(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,s=ct.fromTimestamp(i===1e9?new ce(n+1,0):new ce(n,i));return new Ki(s,Z.empty(),t)}function tO(e){return new Ki(e.readTime,e.key,-1)}class Ki{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Ki(ct.min(),Z.empty(),-1)}static max(){return new Ki(ct.max(),Z.empty(),-1)}}function eO(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Z.comparator(e.documentKey,t.documentKey),n!==0?n:Et(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rl(e){if(e.code!==R.FAILED_PRECONDITION||e.message!==nO)throw e;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new N((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(t,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof N?n:N.resolve(n)}catch(n){return N.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):N.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):N.reject(n)}static resolve(t){return new N((n,i)=>{n(t)})}static reject(t){return new N((n,i)=>{i(t)})}static waitFor(t){return new N((n,i)=>{let s=0,r=0,o=!1;t.forEach(a=>{++s,a.next(()=>{++r,o&&r===s&&n()},l=>i(l))}),o=!0,r===s&&n()})}static or(t){let n=N.resolve(!1);for(const i of t)n=n.next(s=>s?N.resolve(s):i());return n}static forEach(t,n){const i=[];return t.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(t,n){return new N((i,s)=>{const r=t.length,o=new Array(r);let a=0;for(let l=0;l<r;l++){const c=l;n(t[c]).next(u=>{o[c]=u,++a,a===r&&i(o)},u=>s(u))}})}static doWhile(t,n){return new N((i,s)=>{const r=()=>{t()===!0?n().next(()=>{r()},s):i()};r()})}}function ol(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}pg.ae=-1;function sh(e){return e==null}function Jc(e){return e===0&&1/e==-1/0}function sO(e){return typeof e=="number"&&Number.isInteger(e)&&!Jc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function to(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function pE(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(t,n){this.comparator=t,this.root=n||be.EMPTY}insert(t,n){return new qt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,be.BLACK,null,null))}remove(t){return new qt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,be.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Nl(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Nl(this.root,t,this.comparator,!1)}getReverseIterator(){return new Nl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Nl(this.root,t,this.comparator,!0)}}class Nl{constructor(t,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=n?i(t.key,n):1,n&&s&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(r===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class be{constructor(t,n,i,s,r){this.key=t,this.value=n,this.color=i??be.RED,this.left=s??be.EMPTY,this.right=r??be.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,s,r){return new be(t??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let s=this;const r=i(t,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(t,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return be.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return be.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,be.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const t=this.left.check();if(t!==this.right.check())throw ot();return t+(this.isRed()?0:1)}}be.EMPTY=null,be.RED=!0,be.BLACK=!1;be.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(t,n,i,s,r){return this}insert(t,n,i){return new be(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(t){this.comparator=t,this.data=new qt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new gy(this.data.getIterator())}getIteratorFrom(t){return new gy(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Oe)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Oe(this.comparator);return n.data=t,n}}class gy{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.fields=t,t.sort(Ce.comparator)}static empty(){return new pn([])}unionWith(t){let n=new Oe(Ce.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new pn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Lr(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new gE("Invalid base64 string: "+r):r}}(t);return new Ne(n)}static fromUint8Array(t){const n=function(s){let r="";for(let o=0;o<s.length;++o)r+=String.fromCharCode(s[o]);return r}(t);return new Ne(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Et(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ne.EMPTY_BYTE_STRING=new Ne("");const rO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gi(e){if(Ht(!!e),typeof e=="string"){let t=0;const n=rO.exec(e);if(Ht(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:re(e.seconds),nanos:re(e.nanos)}}function re(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Bs(e){return typeof e=="string"?Ne.fromBase64String(e):Ne.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function mg(e){const t=e.mapValue.fields.__previous_value__;return gg(t)?mg(t):t}function Ia(e){const t=Gi(e.mapValue.fields.__local_write_time__.timestampValue);return new ce(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(t,n,i,s,r,o,a,l,c){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Ta{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Ta("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Ta&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Us(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?gg(e)?4:aO(e)?9007199254740991:10:ot()}function qn(e,t){if(e===t)return!0;const n=Us(e);if(n!==Us(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ia(e).isEqual(Ia(t));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const o=Gi(s.timestampValue),a=Gi(r.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,r){return Bs(s.bytesValue).isEqual(Bs(r.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,r){return re(s.geoPointValue.latitude)===re(r.geoPointValue.latitude)&&re(s.geoPointValue.longitude)===re(r.geoPointValue.longitude)}(e,t);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return re(s.integerValue)===re(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const o=re(s.doubleValue),a=re(r.doubleValue);return o===a?Jc(o)===Jc(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return Lr(e.arrayValue.values||[],t.arrayValue.values||[],qn);case 10:return function(s,r){const o=s.mapValue.fields||{},a=r.mapValue.fields||{};if(py(o)!==py(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!qn(o[l],a[l])))return!1;return!0}(e,t);default:return ot()}}function xa(e,t){return(e.values||[]).find(n=>qn(n,t))!==void 0}function Vr(e,t){if(e===t)return 0;const n=Us(e),i=Us(t);if(n!==i)return Et(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Et(e.booleanValue,t.booleanValue);case 2:return function(r,o){const a=re(r.integerValue||r.doubleValue),l=re(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return my(e.timestampValue,t.timestampValue);case 4:return my(Ia(e),Ia(t));case 5:return Et(e.stringValue,t.stringValue);case 6:return function(r,o){const a=Bs(r),l=Bs(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(r,o){const a=r.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Et(a[c],l[c]);if(u!==0)return u}return Et(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(r,o){const a=Et(re(r.latitude),re(o.latitude));return a!==0?a:Et(re(r.longitude),re(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(r,o){const a=r.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=Vr(a[c],l[c]);if(u)return u}return Et(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===Ll.mapValue&&o===Ll.mapValue)return 0;if(r===Ll.mapValue)return 1;if(o===Ll.mapValue)return-1;const a=r.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const f=Et(l[h],u[h]);if(f!==0)return f;const d=Vr(a[l[h]],c[u[h]]);if(d!==0)return d}return Et(l.length,u.length)}(e.mapValue,t.mapValue);default:throw ot()}}function my(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Et(e,t);const n=Gi(e),i=Gi(t),s=Et(n.seconds,i.seconds);return s!==0?s:Et(n.nanos,i.nanos)}function Fr(e){return vd(e)}function vd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Gi(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Bs(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Z.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",s=!0;for(const r of n.values||[])s?s=!1:i+=",",i+=vd(r);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",r=!0;for(const o of i)r?r=!1:s+=",",s+=`${o}:${vd(n.fields[o])}`;return s+"}"}(e.mapValue):ot()}function _y(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function bd(e){return!!e&&"integerValue"in e}function _g(e){return!!e&&"arrayValue"in e}function yy(e){return!!e&&"nullValue"in e}function vy(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function pc(e){return!!e&&"mapValue"in e}function Ho(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return to(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Ho(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ho(e.arrayValue.values[n]);return t}return Object.assign({},e)}function aO(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.value=t}static empty(){return new ln({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!pc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ho(n)}setAll(t){let n=Ce.emptyPath(),i={},s=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,s),i={},s=[],n=a.popLast()}o?i[a.lastSegment()]=Ho(o):s.push(a.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(t){const n=this.field(t.popLast());pc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return qn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=n.mapValue.fields[t.get(i)];pc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,i){to(n,(s,r)=>t[s]=r);for(const s of i)delete t[s]}clone(){return new ln(Ho(this.value))}}function mE(e){const t=[];return to(e.fields,(n,i)=>{const s=new Ce([n]);if(pc(i)){const r=mE(i.mapValue).fields;if(r.length===0)t.push(s);else for(const o of r)t.push(s.child(o))}else t.push(s)}),new pn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(t,n,i,s,r,o,a){this.key=t,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Se(t,0,ct.min(),ct.min(),ct.min(),ln.empty(),0)}static newFoundDocument(t,n,i,s){return new Se(t,1,n,ct.min(),i,s,0)}static newNoDocument(t,n){return new Se(t,2,n,ct.min(),ct.min(),ln.empty(),0)}static newUnknownDocument(t,n){return new Se(t,3,n,ct.min(),ct.min(),ln.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ct.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Se&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Se(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(t,n){this.position=t,this.inclusive=n}}function by(e,t,n){let i=0;for(let s=0;s<e.position.length;s++){const r=t[s],o=e.position[s];if(r.field.isKeyField()?i=Z.comparator(Z.fromName(o.referenceValue),n.key):i=Vr(o,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function Ay(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!qn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(t,n="asc"){this.field=t,this.dir=n}}function lO(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{}class oe extends _E{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new uO(t,n,i):n==="array-contains"?new dO(t,i):n==="in"?new pO(t,i):n==="not-in"?new gO(t,i):n==="array-contains-any"?new mO(t,i):new oe(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new hO(t,i):new fO(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Vr(n,this.value)):n!==null&&Us(this.value)===Us(n)&&this.matchesComparison(Vr(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class In extends _E{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new In(t,n)}matches(t){return yE(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.le(n=>n.isInequality());return t!==null?t.field:null}le(t){for(const n of this.getFlattenedFilters())if(t(n))return n;return null}}function yE(e){return e.op==="and"}function vE(e){return cO(e)&&yE(e)}function cO(e){for(const t of e.filters)if(t instanceof In)return!1;return!0}function Ad(e){if(e instanceof oe)return e.field.canonicalString()+e.op.toString()+Fr(e.value);if(vE(e))return e.filters.map(t=>Ad(t)).join(",");{const t=e.filters.map(n=>Ad(n)).join(",");return`${e.op}(${t})`}}function bE(e,t){return e instanceof oe?function(i,s){return s instanceof oe&&i.op===s.op&&i.field.isEqual(s.field)&&qn(i.value,s.value)}(e,t):e instanceof In?function(i,s){return s instanceof In&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,o,a)=>r&&bE(o,s.filters[a]),!0):!1}(e,t):void ot()}function AE(e){return e instanceof oe?function(n){return`${n.field.canonicalString()} ${n.op} ${Fr(n.value)}`}(e):e instanceof In?function(n){return n.op.toString()+" {"+n.getFilters().map(AE).join(" ,")+"}"}(e):"Filter"}class uO extends oe{constructor(t,n,i){super(t,n,i),this.key=Z.fromName(i.referenceValue)}matches(t){const n=Z.comparator(t.key,this.key);return this.matchesComparison(n)}}class hO extends oe{constructor(t,n){super(t,"in",n),this.keys=wE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class fO extends oe{constructor(t,n){super(t,"not-in",n),this.keys=wE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function wE(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Z.fromName(i.referenceValue))}class dO extends oe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return _g(n)&&xa(n.arrayValue,this.value)}}class pO extends oe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&xa(this.value.arrayValue,n)}}class gO extends oe{constructor(t,n){super(t,"not-in",n)}matches(t){if(xa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!xa(this.value.arrayValue,n)}}class mO extends oe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!_g(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>xa(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(t,n=null,i=[],s=[],r=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=o,this.endAt=a,this.he=null}}function wy(e,t=null,n=[],i=[],s=null,r=null,o=null){return new _O(e,t,n,i,s,r,o)}function yg(e){const t=ft(e);if(t.he===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>Ad(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),sh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Fr(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Fr(i)).join(",")),t.he=n}return t.he}function vg(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!lO(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!bE(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ay(e.startAt,t.startAt)&&Ay(e.endAt,t.endAt)}function wd(e){return Z.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(t,n=null,i=[],s=[],r=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=o,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function yO(e,t,n,i,s,r,o,a){return new al(e,t,n,i,s,r,o,a)}function bg(e){return new al(e)}function Ey(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function EE(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Ag(e){for(const t of e.filters){const n=t.getFirstInequalityField();if(n!==null)return n}return null}function IE(e){return e.collectionGroup!==null}function vr(e){const t=ft(e);if(t.Pe===null){t.Pe=[];const n=Ag(t),i=EE(t);if(n!==null&&i===null)n.isKeyField()||t.Pe.push(new Wo(n)),t.Pe.push(new Wo(Ce.keyField(),"asc"));else{let s=!1;for(const r of t.explicitOrderBy)t.Pe.push(r),r.field.isKeyField()&&(s=!0);if(!s){const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new Wo(Ce.keyField(),r))}}}return t.Pe}function hi(e){const t=ft(e);if(!t.Ie)if(t.limitType==="F")t.Ie=wy(t.path,t.collectionGroup,vr(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const r of vr(t)){const o=r.dir==="desc"?"asc":"desc";n.push(new Wo(r.field,o))}const i=t.endAt?new Zc(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Zc(t.startAt.position,t.startAt.inclusive):null;t.Ie=wy(t.path,t.collectionGroup,n,t.filters,t.limit,i,s)}return t.Ie}function Ed(e,t){t.getFirstInequalityField(),Ag(e);const n=e.filters.concat([t]);return new al(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Id(e,t,n){return new al(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function rh(e,t){return vg(hi(e),hi(t))&&e.limitType===t.limitType}function TE(e){return`${yg(hi(e))}|lt:${e.limitType}`}function Td(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>AE(s)).join(", ")}]`),sh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>Fr(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>Fr(s)).join(",")),`Target(${i})`}(hi(e))}; limitType=${e.limitType})`}function oh(e,t){return t.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):Z.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(e,t)&&function(i,s){for(const r of vr(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(e,t)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(e,t)&&function(i,s){return!(i.startAt&&!function(o,a,l){const c=by(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,vr(i),s)||i.endAt&&!function(o,a,l){const c=by(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,vr(i),s))}(e,t)}function vO(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function xE(e){return(t,n)=>{let i=!1;for(const s of vr(e)){const r=bO(s,t,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function bO(e,t,n){const i=e.field.isKeyField()?Z.comparator(t.key,n.key):function(r,o,a){const l=o.data.field(r),c=a.data.field(r);return l!==null&&c!==null?Vr(l,c):ot()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return ot()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,t))return r}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],t))return void(s[r]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){to(this.inner,(n,i)=>{for(const[s,r]of i)t(s,r)})}isEmpty(){return pE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=new qt(Z.comparator);function fi(){return AO}const SE=new qt(Z.comparator);function xo(...e){let t=SE;for(const n of e)t=t.insert(n.key,n);return t}function kE(e){let t=SE;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function vs(){return qo()}function CE(){return qo()}function qo(){return new eo(e=>e.toString(),(e,t)=>e.isEqual(t))}const wO=new qt(Z.comparator),EO=new Oe(Z.comparator);function mt(...e){let t=EO;for(const n of e)t=t.add(n);return t}const IO=new Oe(Et);function TO(){return IO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jc(t)?"-0":t}}function RE(e){return{integerValue:""+e}}function xO(e,t){return sO(t)?RE(t):PE(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(){this._=void 0}}function SO(e,t,n){return e instanceof tu?function(s,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&gg(r)&&(r=mg(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(n,t):e instanceof Sa?OE(e,t):e instanceof ka?DE(e,t):function(s,r){const o=ME(s,r),a=Iy(o)+Iy(s.Te);return bd(o)&&bd(s.Te)?RE(a):PE(s.serializer,a)}(e,t)}function kO(e,t,n){return e instanceof Sa?OE(e,t):e instanceof ka?DE(e,t):n}function ME(e,t){return e instanceof eu?function(i){return bd(i)||function(r){return!!r&&"doubleValue"in r}(i)}(t)?t:{integerValue:0}:null}class tu extends ah{}class Sa extends ah{constructor(t){super(),this.elements=t}}function OE(e,t){const n=NE(t);for(const i of e.elements)n.some(s=>qn(s,i))||n.push(i);return{arrayValue:{values:n}}}class ka extends ah{constructor(t){super(),this.elements=t}}function DE(e,t){let n=NE(t);for(const i of e.elements)n=n.filter(s=>!qn(s,i));return{arrayValue:{values:n}}}class eu extends ah{constructor(t,n){super(),this.serializer=t,this.Te=n}}function Iy(e){return re(e.integerValue||e.doubleValue)}function NE(e){return _g(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function CO(e,t){return e.field.isEqual(t.field)&&function(i,s){return i instanceof Sa&&s instanceof Sa||i instanceof ka&&s instanceof ka?Lr(i.elements,s.elements,qn):i instanceof eu&&s instanceof eu?qn(i.Te,s.Te):i instanceof tu&&s instanceof tu}(e.transform,t.transform)}class PO{constructor(t,n){this.version=t,this.transformResults=n}}class Fn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Fn}static exists(t){return new Fn(void 0,t)}static updateTime(t){return new Fn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function gc(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class lh{}function LE(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new FE(e.key,Fn.none()):new ll(e.key,e.data,Fn.none());{const n=e.data,i=ln.empty();let s=new Oe(Ce.comparator);for(let r of t.fields)if(!s.has(r)){let o=n.field(r);o===null&&r.length>1&&(r=r.popLast(),o=n.field(r)),o===null?i.delete(r):i.set(r,o),s=s.add(r)}return new Js(e.key,i,new pn(s.toArray()),Fn.none())}}function RO(e,t,n){e instanceof ll?function(s,r,o){const a=s.value.clone(),l=xy(s.fieldTransforms,r,o.transformResults);a.setAll(l),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof Js?function(s,r,o){if(!gc(s.precondition,r))return void r.convertToUnknownDocument(o.version);const a=xy(s.fieldTransforms,r,o.transformResults),l=r.data;l.setAll(VE(s)),l.setAll(a),r.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(s,r,o){r.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function Ko(e,t,n,i){return e instanceof ll?function(r,o,a,l){if(!gc(r.precondition,o))return a;const c=r.value.clone(),u=Sy(r.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(e,t,n,i):e instanceof Js?function(r,o,a,l){if(!gc(r.precondition,o))return a;const c=Sy(r.fieldTransforms,l,o),u=o.data;return u.setAll(VE(r)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(h=>h.field))}(e,t,n,i):function(r,o,a){return gc(r.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function MO(e,t){let n=null;for(const i of e.fieldTransforms){const s=t.data.field(i.field),r=ME(i.transform,s||null);r!=null&&(n===null&&(n=ln.empty()),n.set(i.field,r))}return n||null}function Ty(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Lr(i,s,(r,o)=>CO(r,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ll extends lh{constructor(t,n,i,s=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Js extends lh{constructor(t,n,i,s,r=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function VE(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function xy(e,t,n){const i=new Map;Ht(e.length===n.length);for(let s=0;s<n.length;s++){const r=e[s],o=r.transform,a=t.data.field(r.field);i.set(r.field,kO(o,a,n[s]))}return i}function Sy(e,t,n){const i=new Map;for(const s of e){const r=s.transform,o=n.data.field(s.field);i.set(s.field,SO(r,o,t))}return i}class FE extends lh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OO extends lh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(t,n,i,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(t.key)&&RO(r,t,i[s])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=Ko(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=Ko(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=CE();return this.mutations.forEach(s=>{const r=t.get(s.key),o=r.overlayedDocument;let a=this.applyToLocalView(o,r.mutatedFields);a=n.has(s.key)?null:a;const l=LE(o,a);l!==null&&i.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ct.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),mt())}isEqual(t){return this.batchId===t.batchId&&Lr(this.mutations,t.mutations,(n,i)=>Ty(n,i))&&Lr(this.baseMutations,t.baseMutations,(n,i)=>Ty(n,i))}}class wg{constructor(t,n,i,s){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(t,n,i){Ht(t.mutations.length===i.length);let s=function(){return wO}();const r=t.mutations;for(let o=0;o<r.length;o++)s=s.insert(r[o].key,i[o].version);return new wg(t,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var se,yt;function VO(e){switch(e){default:return ot();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function BE(e){if(e===void 0)return ui("GRPC error has no .code"),R.UNKNOWN;switch(e){case se.OK:return R.OK;case se.CANCELLED:return R.CANCELLED;case se.UNKNOWN:return R.UNKNOWN;case se.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case se.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case se.INTERNAL:return R.INTERNAL;case se.UNAVAILABLE:return R.UNAVAILABLE;case se.UNAUTHENTICATED:return R.UNAUTHENTICATED;case se.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case se.NOT_FOUND:return R.NOT_FOUND;case se.ALREADY_EXISTS:return R.ALREADY_EXISTS;case se.PERMISSION_DENIED:return R.PERMISSION_DENIED;case se.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case se.ABORTED:return R.ABORTED;case se.OUT_OF_RANGE:return R.OUT_OF_RANGE;case se.UNIMPLEMENTED:return R.UNIMPLEMENTED;case se.DATA_LOSS:return R.DATA_LOSS;default:return ot()}}(yt=se||(se={}))[yt.OK=0]="OK",yt[yt.CANCELLED=1]="CANCELLED",yt[yt.UNKNOWN=2]="UNKNOWN",yt[yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yt[yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yt[yt.NOT_FOUND=5]="NOT_FOUND",yt[yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",yt[yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",yt[yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",yt[yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yt[yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yt[yt.ABORTED=10]="ABORTED",yt[yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",yt[yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",yt[yt.INTERNAL=13]="INTERNAL",yt[yt.UNAVAILABLE=14]="UNAVAILABLE",yt[yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Vl}static getOrCreateInstance(){return Vl===null&&(Vl=new Eg),Vl}onExistenceFilterMismatch(t){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,t),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(t))}}let Vl=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=new yr([4294967295,4294967295],0);function ky(e){const t=FO().encode(e),n=new $2;return n.update(t),new Uint8Array(n.digest())}function Cy(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),r=t.getUint32(12,!0);return[new yr([n,i],0),new yr([s,r],0)]}class Ig{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new So(`Invalid padding: ${n}`);if(i<0)throw new So(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new So(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new So(`Invalid padding when bitmap length is 0: ${n}`);this.de=8*t.length-n,this.Ae=yr.fromNumber(this.de)}Re(t,n,i){let s=t.add(n.multiply(yr.fromNumber(i)));return s.compare(BO)===1&&(s=new yr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ae).toNumber()}Ve(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.de===0)return!1;const n=ky(t),[i,s]=Cy(n);for(let r=0;r<this.hashCount;r++){const o=this.Re(i,s,r);if(!this.Ve(o))return!1}return!0}static create(t,n,i){const s=t%8==0?0:8-t%8,r=new Uint8Array(Math.ceil(t/8)),o=new Ig(r,s,n);return i.forEach(a=>o.insert(a)),o}insert(t){if(this.de===0)return;const n=ky(t),[i,s]=Cy(n);for(let r=0;r<this.hashCount;r++){const o=this.Re(i,s,r);this.me(o)}}me(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class So extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(t,n,i,s,r){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const s=new Map;return s.set(t,cl.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new ch(ct.min(),s,new qt(Et),fi(),mt())}}class cl{constructor(t,n,i,s,r){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new cl(i,n,mt(),mt(),mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(t,n,i,s){this.fe=t,this.removedTargetIds=n,this.key=i,this.ge=s}}class UE{constructor(t,n){this.targetId=t,this.pe=n}}class zE{constructor(t,n,i=Ne.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=s}}class Py{constructor(){this.ye=0,this.we=My(),this.Se=Ne.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}get current(){return this.be}get resumeToken(){return this.Se}get ve(){return this.ye!==0}get Ce(){return this.De}Fe(t){t.approximateByteSize()>0&&(this.De=!0,this.Se=t)}Me(){let t=mt(),n=mt(),i=mt();return this.we.forEach((s,r)=>{switch(r){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:ot()}}),new cl(this.Se,this.be,t,n,i)}xe(){this.De=!1,this.we=My()}Oe(t,n){this.De=!0,this.we=this.we.insert(t,n)}Ne(t){this.De=!0,this.we=this.we.remove(t)}Be(){this.ye+=1}Le(){this.ye-=1}ke(){this.De=!0,this.be=!0}}class UO{constructor(t){this.qe=t,this.Qe=new Map,this.Ke=fi(),this.$e=Ry(),this.Ue=new qt(Et)}We(t){for(const n of t.fe)t.ge&&t.ge.isFoundDocument()?this.Ge(n,t.ge):this.ze(n,t.key,t.ge);for(const n of t.removedTargetIds)this.ze(n,t.key,t.ge)}je(t){this.forEachTarget(t,n=>{const i=this.He(n);switch(t.state){case 0:this.Je(n)&&i.Fe(t.resumeToken);break;case 1:i.Le(),i.ve||i.xe(),i.Fe(t.resumeToken);break;case 2:i.Le(),i.ve||this.removeTarget(n);break;case 3:this.Je(n)&&(i.ke(),i.Fe(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Fe(t.resumeToken));break;default:ot()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Qe.forEach((i,s)=>{this.Je(s)&&n(s)})}Ze(t){var n,i;const s=t.targetId,r=t.pe.count,o=this.Xe(s);if(o){const a=o.target;if(wd(a))if(r===0){const l=new Z(a.path);this.ze(s,l,Se.newNoDocument(l,ct.min()))}else Ht(r===1);else{const l=this.et(s);if(l!==r){const c=this.tt(t,l);if(c.status!==0){this.Ye(s);const u=c.status===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(s,u)}(n=Eg.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(h,f,d,p){var g,m,_,y,w,A;const E={localCacheCount:d,existenceFilterCount:p.count},T=p.unchangedNames;return T&&(E.bloomFilter={applied:h===0,hashCount:(g=T==null?void 0:T.hashCount)!==null&&g!==void 0?g:0,bitmapLength:(y=(_=(m=T==null?void 0:T.bits)===null||m===void 0?void 0:m.bitmap)===null||_===void 0?void 0:_.length)!==null&&y!==void 0?y:0,padding:(A=(w=T==null?void 0:T.bits)===null||w===void 0?void 0:w.padding)!==null&&A!==void 0?A:0},f&&(E.bloomFilter.mightContain=f)),E}(c.status,(i=c.nt)!==null&&i!==void 0?i:null,l,t.pe))}}}}tt(t,n){const{unchangedNames:i,count:s}=t.pe;if(!i||!i.bits)return{status:1};const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=i;let l,c;try{l=Bs(r).toUint8Array()}catch(h){if(h instanceof gE)return Nr("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw h}try{c=new Ig(l,o,a)}catch(h){return Nr(h instanceof So?"BloomFilter error: ":"Applying bloom filter failed: ",h),{status:1}}const u=h=>{const f=this.qe.rt();return c.mightContain(`projects/${f.projectId}/databases/${f.database}/documents/${h}`)};return c.de===0?{status:1}:{status:s===n-this.it(t.targetId,u)?0:2,nt:u}}it(t,n){const i=this.qe.getRemoteKeysForTarget(t);let s=0;return i.forEach(r=>{n(r.path.canonicalString())||(this.ze(t,r,null),s++)}),s}st(t){const n=new Map;this.Qe.forEach((r,o)=>{const a=this.Xe(o);if(a){if(r.current&&wd(a.target)){const l=new Z(a.target.path);this.Ke.get(l)!==null||this.ot(o,l)||this.ze(o,l,Se.newNoDocument(l,t))}r.Ce&&(n.set(o,r.Me()),r.xe())}});let i=mt();this.$e.forEach((r,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Xe(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(r))}),this.Ke.forEach((r,o)=>o.setReadTime(t));const s=new ch(t,n,this.Ue,this.Ke,i);return this.Ke=fi(),this.$e=Ry(),this.Ue=new qt(Et),s}Ge(t,n){if(!this.Je(t))return;const i=this.ot(t,n.key)?2:0;this.He(t).Oe(n.key,i),this.Ke=this.Ke.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t))}ze(t,n,i){if(!this.Je(t))return;const s=this.He(t);this.ot(t,n)?s.Oe(n,1):s.Ne(n),this.$e=this.$e.insert(n,this._t(n).delete(t)),i&&(this.Ke=this.Ke.insert(n,i))}removeTarget(t){this.Qe.delete(t)}et(t){const n=this.He(t).Me();return this.qe.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Be(t){this.He(t).Be()}He(t){let n=this.Qe.get(t);return n||(n=new Py,this.Qe.set(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new Oe(Et),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.Qe.get(t);return n&&n.ve?null:this.qe.ut(t)}Ye(t){this.Qe.set(t,new Py),this.qe.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ot(t,n){return this.qe.getRemoteKeysForTarget(t).has(n)}}function Ry(){return new qt(Z.comparator)}function My(){return new qt(Z.comparator)}const zO=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),jO=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),$O=(()=>({and:"AND",or:"OR"}))();class HO{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function xd(e,t){return e.useProto3Json||sh(t)?t:{value:t}}function nu(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function jE(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function WO(e,t){return nu(e,t.toTimestamp())}function Bn(e){return Ht(!!e),ct.fromTimestamp(function(n){const i=Gi(n);return new ce(i.seconds,i.nanos)}(e))}function Tg(e,t){return function(i){return new Bt(["projects",i.projectId,"databases",i.database])}(e).child("documents").child(t).canonicalString()}function $E(e){const t=Bt.fromString(e);return Ht(KE(t)),t}function Sd(e,t){return Tg(e.databaseId,t.path)}function cf(e,t){const n=$E(t);if(n.get(1)!==e.databaseId.projectId)throw new q(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new q(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Z(HE(n))}function kd(e,t){return Tg(e.databaseId,t)}function qO(e){const t=$E(e);return t.length===4?Bt.emptyPath():HE(t)}function Cd(e){return new Bt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function HE(e){return Ht(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Oy(e,t,n){return{name:Sd(e,t),fields:n.value.mapValue.fields}}function KO(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ot()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],r=function(c,u){return c.useProto3Json?(Ht(u===void 0||typeof u=="string"),Ne.fromBase64String(u||"")):(Ht(u===void 0||u instanceof Uint8Array),Ne.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(c){const u=c.code===void 0?R.UNKNOWN:BE(c.code);return new q(u,c.message||"")}(o);n=new zE(i,s,r,a||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=cf(e,i.document.name),r=Bn(i.document.updateTime),o=i.document.createTime?Bn(i.document.createTime):ct.min(),a=new ln({mapValue:{fields:i.document.fields}}),l=Se.newFoundDocument(s,r,o,a),c=i.targetIds||[],u=i.removedTargetIds||[];n=new mc(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=cf(e,i.document),r=i.readTime?Bn(i.readTime):ct.min(),o=Se.newNoDocument(s,r),a=i.removedTargetIds||[];n=new mc([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=cf(e,i.document),r=i.removedTargetIds||[];n=new mc([],r,s,null)}else{if(!("filter"in t))return ot();{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,o=new LO(s,r),a=i.targetId;n=new UE(a,o)}}return n}function GO(e,t){let n;if(t instanceof ll)n={update:Oy(e,t.key,t.value)};else if(t instanceof FE)n={delete:Sd(e,t.key)};else if(t instanceof Js)n={update:Oy(e,t.key,t.data),updateMask:iD(t.fieldMask)};else{if(!(t instanceof OO))return ot();n={verify:Sd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const a=o.transform;if(a instanceof tu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Sa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ka)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof eu)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw ot()}(0,i))),t.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:WO(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:ot()}(e,t.precondition)),n}function QO(e,t){return e&&e.length>0?(Ht(t!==void 0),e.map(n=>function(s,r){let o=s.updateTime?Bn(s.updateTime):Bn(r);return o.isEqual(ct.min())&&(o=Bn(r)),new PO(o,s.transformResults||[])}(n,t))):[]}function YO(e,t){return{documents:[kd(e,t.path)]}}function XO(e,t){const n={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(n.parent=kd(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=kd(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const s=function(l){if(l.length!==0)return qE(In.create(l,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const r=function(l){if(l.length!==0)return l.map(c=>function(h){return{field:lr(h.field),direction:tD(h.dir)}}(c))}(t.orderBy);r&&(n.structuredQuery.orderBy=r);const o=xd(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function JO(e){let t=qO(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){Ht(i===1);const u=n.from[0];u.allDescendants?s=u.collectionId:t=t.child(u.collectionId)}let r=[];n.where&&(r=function(h){const f=WE(h);return f instanceof In&&vE(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(p){return new Wo(cr(p.field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,sh(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,d=h.values||[];return new Zc(d,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,d=h.values||[];return new Zc(d,f)}(n.endAt)),yO(t,s,o,r,a,"F",l,c)}function ZO(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ot()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function WE(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=cr(n.unaryFilter.field);return oe.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=cr(n.unaryFilter.field);return oe.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=cr(n.unaryFilter.field);return oe.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=cr(n.unaryFilter.field);return oe.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}(e):e.fieldFilter!==void 0?function(n){return oe.create(cr(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return In.create(n.compositeFilter.filters.map(i=>WE(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ot()}}(n.compositeFilter.op))}(e):ot()}function tD(e){return zO[e]}function eD(e){return jO[e]}function nD(e){return $O[e]}function lr(e){return{fieldPath:e.canonicalString()}}function cr(e){return Ce.fromServerFormat(e.fieldPath)}function qE(e){return e instanceof oe?function(n){if(n.op==="=="){if(vy(n.value))return{unaryFilter:{field:lr(n.field),op:"IS_NAN"}};if(yy(n.value))return{unaryFilter:{field:lr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(vy(n.value))return{unaryFilter:{field:lr(n.field),op:"IS_NOT_NAN"}};if(yy(n.value))return{unaryFilter:{field:lr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lr(n.field),op:eD(n.op),value:n.value}}}(e):e instanceof In?function(n){const i=n.getFilters().map(s=>qE(s));return i.length===1?i[0]:{compositeFilter:{op:nD(n.op),filters:i}}}(e):ot()}function iD(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function KE(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(t,n,i,s,r=ct.min(),o=ct.min(),a=Ne.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Ri(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(t){this.ct=t}}function rD(e){const t=JO({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Id(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(){this.sn=new aD}addToCollectionParentIndex(t,n){return this.sn.add(n),N.resolve()}getCollectionParents(t,n){return N.resolve(this.sn.getEntries(n))}addFieldIndex(t,n){return N.resolve()}deleteFieldIndex(t,n){return N.resolve()}getDocumentsMatchingTarget(t,n){return N.resolve(null)}getIndexType(t,n){return N.resolve(0)}getFieldIndexes(t,n){return N.resolve([])}getNextCollectionGroupToUpdate(t){return N.resolve(null)}getMinOffset(t,n){return N.resolve(Ki.min())}getMinOffsetFromCollectionGroup(t,n){return N.resolve(Ki.min())}updateCollectionGroup(t,n,i){return N.resolve()}updateIndexEntries(t,n){return N.resolve()}}class aD{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n]||new Oe(Bt.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(t){return(this.index[t]||new Oe(Bt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(t){this.Mn=t}next(){return this.Mn+=2,this.Mn}static xn(){return new Br(0)}static On(){return new Br(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(){this.changes=new eo(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Se.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?N.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(t,n,i,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(i!==null&&Ko(i.mutation,s,pn.empty(),ce.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,mt()).next(()=>i))}getLocalViewOfDocuments(t,n,i=mt()){const s=vs();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,i).next(r=>{let o=xo();return r.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const i=vs();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,mt()))}populateOverlays(t,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(t,s).next(r=>{r.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,i,s){let r=fi();const o=qo(),a=function(){return qo()}();return n.forEach((l,c)=>{const u=i.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof Js)?r=r.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Ko(u.mutation,c,u.mutation.getFieldMask(),ce.now())):o.set(c.key,pn.empty())}),this.recalculateAndSaveOverlays(t,r).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new cD(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const i=qo();let s=new qt((o,a)=>o-a),r=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=i.get(l)||pn.empty();u=a.applyToLocalView(c,u),i.set(l,u);const h=(s.get(a.batchId)||mt()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=CE();u.forEach(f=>{if(!r.has(f)){const d=LE(n.get(f),i.get(f));d!==null&&h.set(f,d),r=r.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,c,h))}return N.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i){return function(r){return Z.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):IE(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i):this.getDocumentsMatchingCollectionQuery(t,n,i)}getNextDocuments(t,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,s).next(r=>{const o=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,s-r.size):N.resolve(vs());let a=-1,l=r;return o.next(c=>N.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),r.get(u)?N.resolve():this.remoteDocumentCache.getEntry(t,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(t,c,r)).next(()=>this.computeViews(t,l,c,mt())).next(u=>({batchId:a,changes:kE(u)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Z(n)).next(i=>{let s=xo();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,i){const s=n.collectionGroup;let r=xo();return this.indexManager.getCollectionParents(t,s).next(o=>N.forEach(o,a=>{const l=function(u,h){return new al(h,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(t,l,i).next(c=>{c.forEach((u,h)=>{r=r.insert(u,h)})})}).next(()=>r))}getDocumentsMatchingCollectionQuery(t,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(r=>(s=r,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s))).next(r=>{s.forEach((a,l)=>{const c=l.getKey();r.get(c)===null&&(r=r.insert(c,Se.newInvalidDocument(c)))});let o=xo();return r.forEach((a,l)=>{const c=s.get(a);c!==void 0&&Ko(c.mutation,l,pn.empty(),ce.now()),oh(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(t){this.serializer=t,this.ar=new Map,this.ur=new Map}getBundleMetadata(t,n){return N.resolve(this.ar.get(n))}saveBundleMetadata(t,n){return this.ar.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Bn(s.createTime)}}(n)),N.resolve()}getNamedQuery(t,n){return N.resolve(this.ur.get(n))}saveNamedQuery(t,n){return this.ur.set(n.name,function(s){return{name:s.name,query:rD(s.bundledQuery),readTime:Bn(s.readTime)}}(n)),N.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(){this.overlays=new qt(Z.comparator),this.cr=new Map}getOverlay(t,n){return N.resolve(this.overlays.get(n))}getOverlays(t,n){const i=vs();return N.forEach(n,s=>this.getOverlay(t,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((s,r)=>{this.ht(t,n,r)}),N.resolve()}removeOverlaysForBatchId(t,n,i){const s=this.cr.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.cr.delete(i)),N.resolve()}getOverlaysForCollection(t,n,i){const s=vs(),r=n.length+1,o=new Z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===r&&l.largestBatchId>i&&s.set(l.getKey(),l)}return N.resolve(s)}getOverlaysForCollectionGroup(t,n,i,s){let r=new qt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let u=r.get(c.largestBatchId);u===null&&(u=vs(),r=r.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=vs(),l=r.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return N.resolve(a)}ht(t,n,i){const s=this.overlays.get(i.key);if(s!==null){const o=this.cr.get(s.largestBatchId).delete(i.key);this.cr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new NO(n,i));let r=this.cr.get(n);r===void 0&&(r=mt(),this.cr.set(n,r)),this.cr.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(){this.lr=new Oe(he.hr),this.Pr=new Oe(he.Ir)}isEmpty(){return this.lr.isEmpty()}addReference(t,n){const i=new he(t,n);this.lr=this.lr.add(i),this.Pr=this.Pr.add(i)}Tr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Er(new he(t,n))}dr(t,n){t.forEach(i=>this.removeReference(i,n))}Ar(t){const n=new Z(new Bt([])),i=new he(n,t),s=new he(n,t+1),r=[];return this.Pr.forEachInRange([i,s],o=>{this.Er(o),r.push(o.key)}),r}Rr(){this.lr.forEach(t=>this.Er(t))}Er(t){this.lr=this.lr.delete(t),this.Pr=this.Pr.delete(t)}Vr(t){const n=new Z(new Bt([])),i=new he(n,t),s=new he(n,t+1);let r=mt();return this.Pr.forEachInRange([i,s],o=>{r=r.add(o.key)}),r}containsKey(t){const n=new he(t,0),i=this.lr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class he{constructor(t,n){this.key=t,this.mr=n}static hr(t,n){return Z.comparator(t.key,n.key)||Et(t.mr,n.mr)}static Ir(t,n){return Et(t.mr,n.mr)||Z.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.gr=1,this.pr=new Oe(he.hr)}checkEmpty(t){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,s){const r=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new DO(r,n,i,s);this.mutationQueue.push(o);for(const a of s)this.pr=this.pr.add(new he(a.key,r)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return N.resolve(o)}lookupMutationBatch(t,n){return N.resolve(this.yr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,s=this.wr(i),r=s<0?0:s;return N.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.gr-1)}getAllMutationBatches(t){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new he(n,0),s=new he(n,Number.POSITIVE_INFINITY),r=[];return this.pr.forEachInRange([i,s],o=>{const a=this.yr(o.mr);r.push(a)}),N.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Oe(Et);return n.forEach(s=>{const r=new he(s,0),o=new he(s,Number.POSITIVE_INFINITY);this.pr.forEachInRange([r,o],a=>{i=i.add(a.mr)})}),N.resolve(this.Sr(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,s=i.length+1;let r=i;Z.isDocumentKey(r)||(r=r.child(""));const o=new he(new Z(r),0);let a=new Oe(Et);return this.pr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.mr)),!0)},o),N.resolve(this.Sr(a))}Sr(t){const n=[];return t.forEach(i=>{const s=this.yr(i);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){Ht(this.br(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.pr;return N.forEach(n.mutations,s=>{const r=new he(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.pr=i})}Cn(t){}containsKey(t,n){const i=new he(n,0),s=this.pr.firstAfterOrEqual(i);return N.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,N.resolve()}br(t,n){return this.wr(t)}wr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}yr(t){const n=this.wr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(t){this.Dr=t,this.docs=function(){return new qt(Z.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,o=this.Dr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return N.resolve(i?i.document.mutableCopy():Se.newInvalidDocument(n))}getEntries(t,n){let i=fi();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():Se.newInvalidDocument(s))}),N.resolve(i)}getDocumentsMatchingQuery(t,n,i,s){let r=fi();const o=n.path,a=new Z(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||eO(tO(u),i)<=0||(s.has(u.key)||oh(n,u))&&(r=r.insert(u.key,u.mutableCopy()))}return N.resolve(r)}getAllFromCollectionGroup(t,n,i,s){ot()}vr(t,n){return N.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new gD(this)}getSize(t){return N.resolve(this.size)}}class gD extends lD{constructor(t){super(),this.sr=t}applyChanges(t){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.sr.addEntry(t,s)):this.sr.removeEntry(i)}),N.waitFor(n)}getFromCache(t,n){return this.sr.getEntry(t,n)}getAllFromCache(t,n){return this.sr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(t){this.persistence=t,this.Cr=new eo(n=>yg(n),vg),this.lastRemoteSnapshotVersion=ct.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new xg,this.targetCount=0,this.Or=Br.xn()}forEachTarget(t,n){return this.Cr.forEach((i,s)=>n(s)),N.resolve()}getLastRemoteSnapshotVersion(t){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return N.resolve(this.Fr)}allocateTargetId(t){return this.highestTargetId=this.Or.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Fr&&(this.Fr=n),N.resolve()}Ln(t){this.Cr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Or=new Br(n),this.highestTargetId=n),t.sequenceNumber>this.Fr&&(this.Fr=t.sequenceNumber)}addTargetData(t,n){return this.Ln(n),this.targetCount+=1,N.resolve()}updateTargetData(t,n){return this.Ln(n),N.resolve()}removeTargetData(t,n){return this.Cr.delete(n.target),this.Mr.Ar(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(t,n,i){let s=0;const r=[];return this.Cr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Cr.delete(o),r.push(this.removeMatchingKeysForTargetId(t,a.targetId)),s++)}),N.waitFor(r).next(()=>s)}getTargetCount(t){return N.resolve(this.targetCount)}getTargetData(t,n){const i=this.Cr.get(n)||null;return N.resolve(i)}addMatchingKeys(t,n,i){return this.Mr.Tr(n,i),N.resolve()}removeMatchingKeys(t,n,i){this.Mr.dr(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(o=>{r.push(s.markPotentiallyOrphaned(t,o))}),N.waitFor(r)}removeMatchingKeysForTargetId(t,n){return this.Mr.Ar(n),N.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Mr.Vr(n);return N.resolve(i)}containsKey(t,n){return N.resolve(this.Mr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(t,n){this.Nr={},this.overlays={},this.Br=new pg(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=t(this),this.kr=new mD(this),this.indexManager=new oD,this.remoteDocumentCache=function(s){return new pD(s)}(i=>this.referenceDelegate.qr(i)),this.serializer=new sD(n),this.Qr=new hD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Lr=!1,Promise.resolve()}get started(){return this.Lr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new fD,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.Nr[t.toKey()];return i||(i=new dD(n,this.referenceDelegate),this.Nr[t.toKey()]=i),i}getTargetCache(){return this.kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Qr}runTransaction(t,n,i){Q("MemoryPersistence","Starting transaction:",t);const s=new yD(this.Br.next());return this.referenceDelegate.Kr(),i(s).next(r=>this.referenceDelegate.$r(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Ur(t,n){return N.or(Object.values(this.Nr).map(i=>()=>i.containsKey(t,n)))}}class yD extends iO{constructor(t){super(),this.currentSequenceNumber=t}}class Sg{constructor(t){this.persistence=t,this.Wr=new xg,this.Gr=null}static zr(t){return new Sg(t)}get jr(){if(this.Gr)return this.Gr;throw ot()}addReference(t,n,i){return this.Wr.addReference(i,n),this.jr.delete(i.toString()),N.resolve()}removeReference(t,n,i){return this.Wr.removeReference(i,n),this.jr.add(i.toString()),N.resolve()}markPotentiallyOrphaned(t,n){return this.jr.add(n.toString()),N.resolve()}removeTarget(t,n){this.Wr.Ar(n.targetId).forEach(s=>this.jr.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(r=>this.jr.add(r.toString()))}).next(()=>i.removeTargetData(t,n))}Kr(){this.Gr=new Set}$r(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.jr,i=>{const s=Z.fromPath(i);return this.Hr(t,s).next(r=>{r||n.removeEntry(s,ct.min())})}).next(()=>(this.Gr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Hr(t,n).next(i=>{i?this.jr.delete(n.toString()):this.jr.add(n.toString())})}qr(t){return 0}Hr(t,n){return N.or([()=>N.resolve(this.Wr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ur(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(t,n,i,s){this.targetId=t,this.fromCache=n,this.Li=i,this.ki=s}static qi(t,n){let i=mt(),s=mt();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new kg(t,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.Qi=!1}initialize(t,n){this.Ki=t,this.indexManager=n,this.Qi=!0}getDocumentsMatchingQuery(t,n,i,s){return this.$i(t,n).next(r=>r||this.Ui(t,n,s,i)).next(r=>r||this.Wi(t,n))}$i(t,n){if(Ey(n))return N.resolve(null);let i=hi(n);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Id(n,null,"F"),i=hi(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(r=>{const o=mt(...r);return this.Ki.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const c=this.Gi(n,a);return this.zi(n,c,o,l.readTime)?this.$i(t,Id(n,null,"F")):this.ji(t,c,n,l)}))})))}Ui(t,n,i,s){return Ey(n)||s.isEqual(ct.min())?this.Wi(t,n):this.Ki.getDocuments(t,i).next(r=>{const o=this.Gi(n,r);return this.zi(n,o,i,s)?this.Wi(t,n):(dy()<=wt.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Td(n)),this.ji(t,o,n,Z2(s,-1)))})}Gi(t,n){let i=new Oe(xE(t));return n.forEach((s,r)=>{oh(t,r)&&(i=i.add(r))}),i}zi(t,n,i,s){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const r=t.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}Wi(t,n){return dy()<=wt.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",Td(n)),this.Ki.getDocumentsMatchingQuery(t,n,Ki.min())}ji(t,n,i,s){return this.Ki.getDocumentsMatchingQuery(t,i,s).next(r=>(n.forEach(o=>{r=r.insert(o.key,o)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(t,n,i,s){this.persistence=t,this.Hi=n,this.serializer=s,this.Ji=new qt(Et),this.Yi=new eo(r=>yg(r),vg),this.Zi=new Map,this.Xi=t.getRemoteDocumentCache(),this.kr=t.getTargetCache(),this.Qr=t.getBundleCache(),this.es(i)}es(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new uD(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ji))}}function AD(e,t,n,i){return new bD(e,t,n,i)}async function GE(e,t){const n=ft(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.es(t),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const o=[],a=[];let l=mt();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of r){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(i,l).next(c=>({ts:c,removedBatchIds:o,addedBatchIds:a}))})})}function wD(e,t){const n=ft(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),r=n.Xi.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,f=h.keys();let d=N.resolve();return f.forEach(p=>{d=d.next(()=>u.getEntry(l,p)).next(g=>{const m=c.docVersions.get(p);Ht(m!==null),g.version.compareTo(m)<0&&(h.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),d.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,i,t,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=mt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>n.localDocuments.getDocuments(i,s))})}function QE(e){const t=ft(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.kr.getLastRemoteSnapshotVersion(n))}function ED(e,t){const n=ft(e),i=t.snapshotVersion;let s=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=n.Xi.newChangeBuffer({trackRemovals:!0});s=n.Ji;const a=[];t.targetChanges.forEach((u,h)=>{const f=s.get(h);if(!f)return;a.push(n.kr.removeMatchingKeys(r,u.removedDocuments,h).next(()=>n.kr.addMatchingKeys(r,u.addedDocuments,h)));let d=f.withSequenceNumber(r.currentSequenceNumber);t.targetMismatches.get(h)!==null?d=d.withResumeToken(Ne.EMPTY_BYTE_STRING,ct.min()).withLastLimboFreeSnapshotVersion(ct.min()):u.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(u.resumeToken,i)),s=s.insert(h,d),function(g,m,_){return g.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,d,u)&&a.push(n.kr.updateTargetData(r,d))});let l=fi(),c=mt();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(r,u))}),a.push(ID(r,o,t.documentUpdates).next(u=>{l=u.ns,c=u.rs})),!i.isEqual(ct.min())){const u=n.kr.getLastRemoteSnapshotVersion(r).next(h=>n.kr.setTargetsMetadata(r,r.currentSequenceNumber,i));a.push(u)}return N.waitFor(a).next(()=>o.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,l,c)).next(()=>l)}).then(r=>(n.Ji=s,r))}function ID(e,t,n){let i=mt(),s=mt();return n.forEach(r=>i=i.add(r)),t.getEntries(e,i).next(r=>{let o=fi();return n.forEach((a,l)=>{const c=r.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ct.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):Q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ns:o,rs:s}})}function TD(e,t){const n=ft(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function xD(e,t){const n=ft(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.kr.getTargetData(i,t).next(r=>r?(s=r,N.resolve(s)):n.kr.allocateTargetId(i).next(o=>(s=new Ri(t,o,"TargetPurposeListen",i.currentSequenceNumber),n.kr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.Ji.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(i.targetId,i),n.Yi.set(t,i.targetId)),i})}async function Pd(e,t,n){const i=ft(e),s=i.Ji.get(t),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,o=>i.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ol(o))throw o;Q("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}i.Ji=i.Ji.remove(t),i.Yi.delete(s.target)}function Dy(e,t,n){const i=ft(e);let s=ct.min(),r=mt();return i.persistence.runTransaction("Execute query","readonly",o=>function(l,c,u){const h=ft(l),f=h.Yi.get(u);return f!==void 0?N.resolve(h.Ji.get(f)):h.kr.getTargetData(c,u)}(i,o,hi(t)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,i.kr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{r=l})}).next(()=>i.Hi.getDocumentsMatchingQuery(o,t,n?s:ct.min(),n?r:mt())).next(a=>(SD(i,vO(t),a),{documents:a,ss:r})))}function SD(e,t,n){let i=e.Zi.get(t)||ct.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),e.Zi.set(t,i)}class Ny{constructor(){this.activeTargetIds=TO()}hs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ps(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ls(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class kD{constructor(){this.Hs=new Ny,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t){return this.Hs.hs(t),this.Js[t]||"not-current"}updateQueryState(t,n,i){this.Js[t]=n}removeLocalQueryTarget(t){this.Hs.Ps(t)}isLocalQueryTarget(t){return this.Hs.activeTargetIds.has(t)}clearQueryState(t){delete this.Js[t]}getAllActiveQueryTargets(){return this.Hs.activeTargetIds}isActiveQueryTarget(t){return this.Hs.activeTargetIds.has(t)}start(){return this.Hs=new Ny,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{Ys(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(){this.Zs=()=>this.Xs(),this.eo=()=>this.no(),this.ro=[],this.io()}Ys(t){this.ro.push(t)}shutdown(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}Xs(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ro)t(0)}no(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ro)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fl=null;function uf(){return Fl===null?Fl=function(){return 268435456+Math.round(2147483648*Math.random())}():Fl++,"0x"+Fl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(t){this.so=t.so,this.oo=t.oo}_o(t){this.ao=t}uo(t){this.co=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.so(t)}ho(){this.ao()}Po(t){this.co(t)}Io(t){this.lo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ee="WebChannelConnection";class MD extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.To=i+"://"+n.host,this.Eo=`projects/${s}/databases/${r}`,this.Ao=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${r}`}get Ro(){return!1}Vo(n,i,s,r,o){const a=uf(),l=this.mo(n,i);Q("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.Eo,"x-goog-request-params":this.Ao};return this.fo(c,r,o),this.po(n,l,c,s).then(u=>(Q("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Nr("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}yo(n,i,s,r,o,a){return this.Vo(n,i,s,r,o)}fo(n,i,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zr}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((r,o)=>n[o]=r),s&&s.headers.forEach((r,o)=>n[o]=r)}mo(n,i){const s=PD[n];return`${this.To}/v1/${i}:${s}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}po(t,n,i,s){const r=uf();return new Promise((o,a)=>{const l=new j2;l.setWithCredentials(!0),l.listenOnce(B2.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case lf.NO_ERROR:const u=l.getResponseJson();Q(Ee,`XHR for RPC '${t}' ${r} received:`,JSON.stringify(u)),o(u);break;case lf.TIMEOUT:Q(Ee,`RPC '${t}' ${r} timed out`),a(new q(R.DEADLINE_EXCEEDED,"Request time out"));break;case lf.HTTP_ERROR:const h=l.getStatus();if(Q(Ee,`RPC '${t}' ${r} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const d=f==null?void 0:f.error;if(d&&d.status&&d.message){const p=function(m){const _=m.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(_)>=0?_:R.UNKNOWN}(d.status);a(new q(p,d.message))}else a(new q(R.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new q(R.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{Q(Ee,`RPC '${t}' ${r} completed.`)}});const c=JSON.stringify(s);Q(Ee,`RPC '${t}' ${r} sending request:`,s),l.send(n,"POST",c,i,15)})}wo(t,n,i){const s=uf(),r=[this.To,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=V2(),a=F2(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new z2({})),this.fo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const u=r.join("");Q(Ee,`Creating RPC '${t}' stream ${s}: ${u}`,l);const h=o.createWebChannel(u,l);let f=!1,d=!1;const p=new RD({so:m=>{d?Q(Ee,`Not sending because RPC '${t}' stream ${s} is closed:`,m):(f||(Q(Ee,`Opening RPC '${t}' stream ${s} transport.`),h.open(),f=!0),Q(Ee,`RPC '${t}' stream ${s} sending:`,m),h.send(m))},oo:()=>h.close()}),g=(m,_,y)=>{m.listen(_,w=>{try{y(w)}catch(A){setTimeout(()=>{throw A},0)}})};return g(h,Dl.EventType.OPEN,()=>{d||Q(Ee,`RPC '${t}' stream ${s} transport opened.`)}),g(h,Dl.EventType.CLOSE,()=>{d||(d=!0,Q(Ee,`RPC '${t}' stream ${s} transport closed`),p.Po())}),g(h,Dl.EventType.ERROR,m=>{d||(d=!0,Nr(Ee,`RPC '${t}' stream ${s} transport errored:`,m),p.Po(new q(R.UNAVAILABLE,"The operation could not be completed")))}),g(h,Dl.EventType.MESSAGE,m=>{var _;if(!d){const y=m.data[0];Ht(!!y);const w=y,A=w.error||((_=w[0])===null||_===void 0?void 0:_.error);if(A){Q(Ee,`RPC '${t}' stream ${s} received error:`,A);const E=A.status;let T=function(M){const $=se[M];if($!==void 0)return BE($)}(E),k=A.message;T===void 0&&(T=R.INTERNAL,k="Unknown error status: "+E+" with message "+A.message),d=!0,p.Po(new q(T,k)),h.close()}else Q(Ee,`RPC '${t}' stream ${s} received:`,y),p.Io(y)}}),g(a,U2.STAT_EVENT,m=>{m.stat===hy.PROXY?Q(Ee,`RPC '${t}' stream ${s} detected buffering proxy`):m.stat===hy.NOPROXY&&Q(Ee,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{p.ho()},0),p}}function hf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(e){return new HO(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(t,n,i=1e3,s=1.5,r=6e4){this.ii=t,this.timerId=n,this.So=i,this.bo=s,this.Do=r,this.vo=0,this.Co=null,this.Fo=Date.now(),this.reset()}reset(){this.vo=0}Mo(){this.vo=this.Do}xo(t){this.cancel();const n=Math.floor(this.vo+this.Oo()),i=Math.max(0,Date.now()-this.Fo),s=Math.max(0,n-i);s>0&&Q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.vo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Co=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Fo=Date.now(),t())),this.vo*=this.bo,this.vo<this.So&&(this.vo=this.So),this.vo>this.Do&&(this.vo=this.Do)}No(){this.Co!==null&&(this.Co.skipDelay(),this.Co=null)}cancel(){this.Co!==null&&(this.Co.cancel(),this.Co=null)}Oo(){return(Math.random()-.5)*this.vo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(t,n,i,s,r,o,a,l){this.ii=t,this.Bo=i,this.Lo=s,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.ko=0,this.qo=null,this.Qo=null,this.stream=null,this.Ko=new YE(t,n)}$o(){return this.state===1||this.state===5||this.Uo()}Uo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Wo()}async stop(){this.$o()&&await this.close(0)}Go(){this.state=0,this.Ko.reset()}zo(){this.Uo()&&this.qo===null&&(this.qo=this.ii.enqueueAfterDelay(this.Bo,6e4,()=>this.jo()))}Ho(t){this.Jo(),this.stream.send(t)}async jo(){if(this.Uo())return this.close(0)}Jo(){this.qo&&(this.qo.cancel(),this.qo=null)}Yo(){this.Qo&&(this.Qo.cancel(),this.Qo=null)}async close(t,n){this.Jo(),this.Yo(),this.Ko.cancel(),this.ko++,t!==4?this.Ko.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(ui(n.toString()),ui("Using maximum backoff delay to prevent overloading the backend."),this.Ko.Mo()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Zo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.uo(n)}Zo(){}auth(){this.state=1;const t=this.Xo(this.ko),n=this.ko;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.ko===n&&this.e_(i,s)},i=>{t(()=>{const s=new q(R.UNKNOWN,"Fetching auth token failed: "+i.message);return this.t_(s)})})}e_(t,n){const i=this.Xo(this.ko);this.stream=this.n_(t,n),this.stream._o(()=>{i(()=>(this.state=2,this.Qo=this.ii.enqueueAfterDelay(this.Lo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener._o()))}),this.stream.uo(s=>{i(()=>this.t_(s))}),this.stream.onMessage(s=>{i(()=>this.onMessage(s))})}Wo(){this.state=5,this.Ko.xo(async()=>{this.state=0,this.start()})}t_(t){return Q("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return n=>{this.ii.enqueueAndForget(()=>this.ko===t?n():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OD extends XE{constructor(t,n,i,s,r,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,o),this.serializer=r}n_(t,n){return this.connection.wo("Listen",t,n)}onMessage(t){this.Ko.reset();const n=KO(this.serializer,t),i=function(r){if(!("targetChange"in r))return ct.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?ct.min():o.readTime?Bn(o.readTime):ct.min()}(t);return this.listener.r_(n,i)}i_(t){const n={};n.database=Cd(this.serializer),n.addTarget=function(r,o){let a;const l=o.target;if(a=wd(l)?{documents:YO(r,l)}:{query:XO(r,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=jE(r,o.resumeToken);const c=xd(r,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ct.min())>0){a.readTime=nu(r,o.snapshotVersion.toTimestamp());const c=xd(r,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,t);const i=ZO(this.serializer,t);i&&(n.labels=i),this.Ho(n)}s_(t){const n={};n.database=Cd(this.serializer),n.removeTarget=t,this.Ho(n)}}class DD extends XE{constructor(t,n,i,s,r,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,o),this.serializer=r,this.o_=!1}get __(){return this.o_}start(){this.o_=!1,this.lastStreamToken=void 0,super.start()}Zo(){this.o_&&this.a_([])}n_(t,n){return this.connection.wo("Write",t,n)}onMessage(t){if(Ht(!!t.streamToken),this.lastStreamToken=t.streamToken,this.o_){this.Ko.reset();const n=QO(t.writeResults,t.commitTime),i=Bn(t.commitTime);return this.listener.u_(i,n)}return Ht(!t.writeResults||t.writeResults.length===0),this.o_=!0,this.listener.c_()}l_(){const t={};t.database=Cd(this.serializer),this.Ho(t)}a_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>GO(this.serializer,i))};this.Ho(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND extends class{}{constructor(t,n,i,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.h_=!1}P_(){if(this.h_)throw new q(R.FAILED_PRECONDITION,"The client has already been terminated.")}Vo(t,n,i){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,r])=>this.connection.Vo(t,n,i,s,r)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(R.UNKNOWN,s.toString())})}yo(t,n,i,s){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.yo(t,n,i,r,o,s)).catch(r=>{throw r.name==="FirebaseError"?(r.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new q(R.UNKNOWN,r.toString())})}terminate(){this.h_=!0}}class LD{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.T_=0,this.E_=null,this.d_=!0}A_(){this.T_===0&&(this.R_("Unknown"),this.E_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.E_=null,this.V_("Backend didn't respond within 10 seconds."),this.R_("Offline"),Promise.resolve())))}m_(t){this.state==="Online"?this.R_("Unknown"):(this.T_++,this.T_>=1&&(this.f_(),this.V_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.R_("Offline")))}set(t){this.f_(),this.T_=0,t==="Online"&&(this.d_=!1),this.R_(t)}R_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}V_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.d_?(ui(n),this.d_=!1):Q("OnlineStateTracker",n)}f_(){this.E_!==null&&(this.E_.cancel(),this.E_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(t,n,i,s,r){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.g_=[],this.p_=new Map,this.y_=new Set,this.w_=[],this.S_=r,this.S_.Ys(o=>{i.enqueueAndForget(async()=>{Zs(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ft(l);c.y_.add(4),await ul(c),c.b_.set("Unknown"),c.y_.delete(4),await hh(c)}(this))})}),this.b_=new LD(i,s)}}async function hh(e){if(Zs(e))for(const t of e.w_)await t(!0)}async function ul(e){for(const t of e.w_)await t(!1)}function JE(e,t){const n=ft(e);n.p_.has(t.targetId)||(n.p_.set(t.targetId,t),Rg(n)?Pg(n):no(n).Uo()&&Cg(n,t))}function ZE(e,t){const n=ft(e),i=no(n);n.p_.delete(t),i.Uo()&&tI(n,t),n.p_.size===0&&(i.Uo()?i.zo():Zs(n)&&n.b_.set("Unknown"))}function Cg(e,t){if(e.D_.Be(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ct.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}no(e).i_(t)}function tI(e,t){e.D_.Be(t),no(e).s_(t)}function Pg(e){e.D_=new UO({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>e.p_.get(t)||null,rt:()=>e.datastore.serializer.databaseId}),no(e).start(),e.b_.A_()}function Rg(e){return Zs(e)&&!no(e).$o()&&e.p_.size>0}function Zs(e){return ft(e).y_.size===0}function eI(e){e.D_=void 0}async function FD(e){e.p_.forEach((t,n)=>{Cg(e,t)})}async function BD(e,t){eI(e),Rg(e)?(e.b_.m_(t),Pg(e)):e.b_.set("Unknown")}async function UD(e,t,n){if(e.b_.set("Online"),t instanceof zE&&t.state===2&&t.cause)try{await async function(s,r){const o=r.cause;for(const a of r.targetIds)s.p_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.p_.delete(a),s.D_.removeTarget(a))}(e,t)}catch(i){Q("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await iu(e,i)}else if(t instanceof mc?e.D_.We(t):t instanceof UE?e.D_.Ze(t):e.D_.je(t),!n.isEqual(ct.min()))try{const i=await QE(e.localStore);n.compareTo(i)>=0&&await function(r,o){const a=r.D_.st(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=r.p_.get(c);u&&r.p_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=r.p_.get(l);if(!u)return;r.p_.set(l,u.withResumeToken(Ne.EMPTY_BYTE_STRING,u.snapshotVersion)),tI(r,l);const h=new Ri(u.target,l,c,u.sequenceNumber);Cg(r,h)}),r.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(i){Q("RemoteStore","Failed to raise snapshot:",i),await iu(e,i)}}async function iu(e,t,n){if(!ol(t))throw t;e.y_.add(1),await ul(e),e.b_.set("Offline"),n||(n=()=>QE(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Q("RemoteStore","Retrying IndexedDB access"),await n(),e.y_.delete(1),await hh(e)})}function nI(e,t){return t().catch(n=>iu(e,n,t))}async function fh(e){const t=ft(e),n=Qi(t);let i=t.g_.length>0?t.g_[t.g_.length-1].batchId:-1;for(;zD(t);)try{const s=await TD(t.localStore,i);if(s===null){t.g_.length===0&&n.zo();break}i=s.batchId,jD(t,s)}catch(s){await iu(t,s)}iI(t)&&sI(t)}function zD(e){return Zs(e)&&e.g_.length<10}function jD(e,t){e.g_.push(t);const n=Qi(e);n.Uo()&&n.__&&n.a_(t.mutations)}function iI(e){return Zs(e)&&!Qi(e).$o()&&e.g_.length>0}function sI(e){Qi(e).start()}async function $D(e){Qi(e).l_()}async function HD(e){const t=Qi(e);for(const n of e.g_)t.a_(n.mutations)}async function WD(e,t,n){const i=e.g_.shift(),s=wg.from(i,t,n);await nI(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await fh(e)}async function qD(e,t){t&&Qi(e).__&&await async function(i,s){if(function(o){return VO(o)&&o!==R.ABORTED}(s.code)){const r=i.g_.shift();Qi(i).Go(),await nI(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await fh(i)}}(e,t),iI(e)&&sI(e)}async function Vy(e,t){const n=ft(e);n.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const i=Zs(n);n.y_.add(3),await ul(n),i&&n.b_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.y_.delete(3),await hh(n)}async function KD(e,t){const n=ft(e);t?(n.y_.delete(2),await hh(n)):t||(n.y_.add(2),await ul(n),n.b_.set("Unknown"))}function no(e){return e.v_||(e.v_=function(n,i,s){const r=ft(n);return r.P_(),new OD(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(e.datastore,e.asyncQueue,{_o:FD.bind(null,e),uo:BD.bind(null,e),r_:UD.bind(null,e)}),e.w_.push(async t=>{t?(e.v_.Go(),Rg(e)?Pg(e):e.b_.set("Unknown")):(await e.v_.stop(),eI(e))})),e.v_}function Qi(e){return e.C_||(e.C_=function(n,i,s){const r=ft(n);return r.P_(),new DD(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(e.datastore,e.asyncQueue,{_o:$D.bind(null,e),uo:qD.bind(null,e),c_:HD.bind(null,e),u_:WD.bind(null,e)}),e.w_.push(async t=>{t?(e.C_.Go(),await fh(e)):(await e.C_.stop(),e.g_.length>0&&(Q("RemoteStore",`Stopping write stream with ${e.g_.length} pending writes`),e.g_=[]))})),e.C_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(t,n,i,s,r){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new Ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,n,i,s,r){const o=Date.now()+i,a=new Mg(t,n,o,s,r);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(R.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Og(e,t){if(ui("AsyncQueue",`${t}: ${e}`),ol(e))return new q(R.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(t){this.comparator=t?(n,i)=>t(n,i)||Z.comparator(n.key,i.key):(n,i)=>Z.comparator(n.key,i.key),this.keyedMap=xo(),this.sortedSet=new qt(this.comparator)}static emptySet(t){return new br(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof br)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new br;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(){this.F_=new qt(Z.comparator)}track(t){const n=t.doc.key,i=this.F_.get(n);i?t.type!==0&&i.type===3?this.F_=this.F_.insert(n,t):t.type===3&&i.type!==1?this.F_=this.F_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.F_=this.F_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.F_=this.F_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.F_=this.F_.remove(n):t.type===1&&i.type===2?this.F_=this.F_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.F_=this.F_.insert(n,{type:2,doc:t.doc}):ot():this.F_=this.F_.insert(n,t)}M_(){const t=[];return this.F_.inorderTraversal((n,i)=>{t.push(i)}),t}}class Ur{constructor(t,n,i,s,r,o,a,l,c){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,n,i,s,r){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ur(t,n,br.emptySet(n),o,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&rh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(){this.x_=void 0,this.listeners=[]}}class QD{constructor(){this.queries=new eo(t=>TE(t),rh),this.onlineState="Unknown",this.O_=new Set}}async function YD(e,t){const n=ft(e),i=t.query;let s=!1,r=n.queries.get(i);if(r||(s=!0,r=new GD),s)try{r.x_=await n.onListen(i)}catch(o){const a=Og(o,`Initialization of query '${Td(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,r),r.listeners.push(t),t.N_(n.onlineState),r.x_&&t.B_(r.x_)&&Dg(n)}async function XD(e,t){const n=ft(e),i=t.query;let s=!1;const r=n.queries.get(i);if(r){const o=r.listeners.indexOf(t);o>=0&&(r.listeners.splice(o,1),s=r.listeners.length===0)}if(s)return n.queries.delete(i),n.onUnlisten(i)}function JD(e,t){const n=ft(e);let i=!1;for(const s of t){const r=s.query,o=n.queries.get(r);if(o){for(const a of o.listeners)a.B_(s)&&(i=!0);o.x_=s}}i&&Dg(n)}function ZD(e,t,n){const i=ft(e),s=i.queries.get(t);if(s)for(const r of s.listeners)r.onError(n);i.queries.delete(t)}function Dg(e){e.O_.forEach(t=>{t.next()})}class tN{constructor(t,n,i){this.query=t,this.L_=n,this.k_=!1,this.q_=null,this.onlineState="Unknown",this.options=i||{}}B_(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new Ur(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.k_?this.Q_(t)&&(this.L_.next(t),n=!0):this.K_(t,this.onlineState)&&(this.U_(t),n=!0),this.q_=t,n}onError(t){this.L_.error(t)}N_(t){this.onlineState=t;let n=!1;return this.q_&&!this.k_&&this.K_(this.q_,t)&&(this.U_(this.q_),n=!0),n}K_(t,n){if(!t.fromCache)return!0;const i=n!=="Offline";return(!this.options.W_||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Q_(t){if(t.docChanges.length>0)return!0;const n=this.q_&&this.q_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}U_(t){t=Ur.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.k_=!0,this.L_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(t){this.key=t}}class oI{constructor(t){this.key=t}}class eN{constructor(t,n){this.query=t,this.X_=n,this.ea=null,this.hasCachedResults=!1,this.current=!1,this.ta=mt(),this.mutatedKeys=mt(),this.na=xE(t),this.ra=new br(this.na)}get ia(){return this.X_}sa(t,n){const i=n?n.oa:new Fy,s=n?n.ra:this.ra;let r=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((u,h)=>{const f=s.get(u),d=oh(this.query,h)?h:null,p=!!f&&this.mutatedKeys.has(f.key),g=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let m=!1;f&&d?f.data.isEqual(d.data)?p!==g&&(i.track({type:3,doc:d}),m=!0):this._a(f,d)||(i.track({type:2,doc:d}),m=!0,(l&&this.na(d,l)>0||c&&this.na(d,c)<0)&&(a=!0)):!f&&d?(i.track({type:0,doc:d}),m=!0):f&&!d&&(i.track({type:1,doc:f}),m=!0,(l||c)&&(a=!0)),m&&(d?(o=o.add(d),r=g?r.add(u):r.delete(u)):(o=o.delete(u),r=r.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),r=r.delete(u.key),i.track({type:1,doc:u})}return{ra:o,oa:i,zi:a,mutatedKeys:r}}_a(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i){const s=this.ra;this.ra=t.ra,this.mutatedKeys=t.mutatedKeys;const r=t.oa.M_();r.sort((c,u)=>function(f,d){const p=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return p(f)-p(d)}(c.type,u.type)||this.na(c.doc,u.doc)),this.aa(i);const o=n?this.ua():[],a=this.ta.size===0&&this.current?1:0,l=a!==this.ea;return this.ea=a,r.length!==0||l?{snapshot:new Ur(this.query,t.ra,s,r,t.mutatedKeys,a===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),ca:o}:{ca:o}}N_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ra:this.ra,oa:new Fy,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ca:[]}}la(t){return!this.X_.has(t)&&!!this.ra.has(t)&&!this.ra.get(t).hasLocalMutations}aa(t){t&&(t.addedDocuments.forEach(n=>this.X_=this.X_.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.X_=this.X_.delete(n)),this.current=t.current)}ua(){if(!this.current)return[];const t=this.ta;this.ta=mt(),this.ra.forEach(i=>{this.la(i.key)&&(this.ta=this.ta.add(i.key))});const n=[];return t.forEach(i=>{this.ta.has(i)||n.push(new oI(i))}),this.ta.forEach(i=>{t.has(i)||n.push(new rI(i))}),n}ha(t){this.X_=t.ss,this.ta=mt();const n=this.sa(t.documents);return this.applyChanges(n,!0)}Pa(){return Ur.fromInitialDocuments(this.query,this.ra,this.mutatedKeys,this.ea===0,this.hasCachedResults)}}class nN{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class iN{constructor(t){this.key=t,this.Ia=!1}}class sN{constructor(t,n,i,s,r,o){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.Ta={},this.Ea=new eo(a=>TE(a),rh),this.da=new Map,this.Aa=new Set,this.Ra=new qt(Z.comparator),this.Va=new Map,this.ma=new xg,this.fa={},this.ga=new Map,this.pa=Br.On(),this.onlineState="Unknown",this.ya=void 0}get isPrimaryClient(){return this.ya===!0}}async function rN(e,t){const n=gN(e);let i,s;const r=n.Ea.get(t);if(r)i=r.targetId,n.sharedClientState.addLocalQueryTarget(i),s=r.view.Pa();else{const o=await xD(n.localStore,hi(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,s=await oN(n,t,i,a==="current",o.resumeToken),n.isPrimaryClient&&JE(n.remoteStore,o)}return s}async function oN(e,t,n,i,s){e.wa=(h,f,d)=>async function(g,m,_,y){let w=m.view.sa(_);w.zi&&(w=await Dy(g.localStore,m.query,!1).then(({documents:T})=>m.view.sa(T,w)));const A=y&&y.targetChanges.get(m.targetId),E=m.view.applyChanges(w,g.isPrimaryClient,A);return Uy(g,m.targetId,E.ca),E.snapshot}(e,h,f,d);const r=await Dy(e.localStore,t,!0),o=new eN(t,r.ss),a=o.sa(r.documents),l=cl.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",s),c=o.applyChanges(a,e.isPrimaryClient,l);Uy(e,n,c.ca);const u=new nN(t,n,o);return e.Ea.set(t,u),e.da.has(n)?e.da.get(n).push(t):e.da.set(n,[t]),c.snapshot}async function aN(e,t){const n=ft(e),i=n.Ea.get(t),s=n.da.get(i.targetId);if(s.length>1)return n.da.set(i.targetId,s.filter(r=>!rh(r,t))),void n.Ea.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Pd(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),ZE(n.remoteStore,i.targetId),Rd(n,i.targetId)}).catch(rl)):(Rd(n,i.targetId),await Pd(n.localStore,i.targetId,!0))}async function lN(e,t,n){const i=mN(e);try{const s=await function(o,a){const l=ft(o),c=ce.now(),u=a.reduce((d,p)=>d.add(p.key),mt());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",d=>{let p=fi(),g=mt();return l.Xi.getEntries(d,u).next(m=>{p=m,p.forEach((_,y)=>{y.isValidDocument()||(g=g.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(d,p)).next(m=>{h=m;const _=[];for(const y of a){const w=MO(y,h.get(y.key).overlayedDocument);w!=null&&_.push(new Js(y.key,w,mE(w.value.mapValue),Fn.exists(!0)))}return l.mutationQueue.addMutationBatch(d,c,_,a)}).next(m=>{f=m;const _=m.applyToLocalDocumentSet(h,g);return l.documentOverlayCache.saveOverlays(d,m.batchId,_)})}).then(()=>({batchId:f.batchId,changes:kE(h)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.fa[o.currentUser.toKey()];c||(c=new qt(Et)),c=c.insert(a,l),o.fa[o.currentUser.toKey()]=c}(i,s.batchId,n),await hl(i,s.changes),await fh(i.remoteStore)}catch(s){const r=Og(s,"Failed to persist write");n.reject(r)}}async function aI(e,t){const n=ft(e);try{const i=await ED(n.localStore,t);t.targetChanges.forEach((s,r)=>{const o=n.Va.get(r);o&&(Ht(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ia=!0:s.modifiedDocuments.size>0?Ht(o.Ia):s.removedDocuments.size>0&&(Ht(o.Ia),o.Ia=!1))}),await hl(n,i,t)}catch(i){await rl(i)}}function By(e,t,n){const i=ft(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Ea.forEach((r,o)=>{const a=o.view.N_(t);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ft(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const f of h.listeners)f.N_(a)&&(c=!0)}),c&&Dg(l)}(i.eventManager,t),s.length&&i.Ta.r_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function cN(e,t,n){const i=ft(e);i.sharedClientState.updateQueryState(t,"rejected",n);const s=i.Va.get(t),r=s&&s.key;if(r){let o=new qt(Z.comparator);o=o.insert(r,Se.newNoDocument(r,ct.min()));const a=mt().add(r),l=new ch(ct.min(),new Map,new qt(Et),o,a);await aI(i,l),i.Ra=i.Ra.remove(r),i.Va.delete(t),Ng(i)}else await Pd(i.localStore,t,!1).then(()=>Rd(i,t,n)).catch(rl)}async function uN(e,t){const n=ft(e),i=t.batch.batchId;try{const s=await wD(n.localStore,t);cI(n,i,null),lI(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await hl(n,s)}catch(s){await rl(s)}}async function hN(e,t,n){const i=ft(e);try{const s=await function(o,a){const l=ft(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Ht(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(i.localStore,t);cI(i,t,n),lI(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await hl(i,s)}catch(s){await rl(s)}}function lI(e,t){(e.ga.get(t)||[]).forEach(n=>{n.resolve()}),e.ga.delete(t)}function cI(e,t,n){const i=ft(e);let s=i.fa[i.currentUser.toKey()];if(s){const r=s.get(t);r&&(n?r.reject(n):r.resolve(),s=s.remove(t)),i.fa[i.currentUser.toKey()]=s}}function Rd(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.da.get(t))e.Ea.delete(i),n&&e.Ta.Sa(i,n);e.da.delete(t),e.isPrimaryClient&&e.ma.Ar(t).forEach(i=>{e.ma.containsKey(i)||uI(e,i)})}function uI(e,t){e.Aa.delete(t.path.canonicalString());const n=e.Ra.get(t);n!==null&&(ZE(e.remoteStore,n),e.Ra=e.Ra.remove(t),e.Va.delete(n),Ng(e))}function Uy(e,t,n){for(const i of n)i instanceof rI?(e.ma.addReference(i.key,t),fN(e,i)):i instanceof oI?(Q("SyncEngine","Document no longer in limbo: "+i.key),e.ma.removeReference(i.key,t),e.ma.containsKey(i.key)||uI(e,i.key)):ot()}function fN(e,t){const n=t.key,i=n.path.canonicalString();e.Ra.get(n)||e.Aa.has(i)||(Q("SyncEngine","New document in limbo: "+n),e.Aa.add(i),Ng(e))}function Ng(e){for(;e.Aa.size>0&&e.Ra.size<e.maxConcurrentLimboResolutions;){const t=e.Aa.values().next().value;e.Aa.delete(t);const n=new Z(Bt.fromString(t)),i=e.pa.next();e.Va.set(i,new iN(n)),e.Ra=e.Ra.insert(n,i),JE(e.remoteStore,new Ri(hi(bg(n.path)),i,"TargetPurposeLimboResolution",pg.ae))}}async function hl(e,t,n){const i=ft(e),s=[],r=[],o=[];i.Ea.isEmpty()||(i.Ea.forEach((a,l)=>{o.push(i.wa(l,t,n).then(c=>{if((c||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const u=kg.qi(l.targetId,c);r.push(u)}}))}),await Promise.all(o),i.Ta.r_(s),await async function(l,c){const u=ft(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>N.forEach(c,f=>N.forEach(f.Li,d=>u.persistence.referenceDelegate.addReference(h,f.targetId,d)).next(()=>N.forEach(f.ki,d=>u.persistence.referenceDelegate.removeReference(h,f.targetId,d)))))}catch(h){if(!ol(h))throw h;Q("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const d=u.Ji.get(f),p=d.snapshotVersion,g=d.withLastLimboFreeSnapshotVersion(p);u.Ji=u.Ji.insert(f,g)}}}(i.localStore,r))}async function dN(e,t){const n=ft(e);if(!n.currentUser.isEqual(t)){Q("SyncEngine","User change. New user:",t.toKey());const i=await GE(n.localStore,t);n.currentUser=t,function(r,o){r.ga.forEach(a=>{a.forEach(l=>{l.reject(new q(R.CANCELLED,o))})}),r.ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await hl(n,i.ts)}}function pN(e,t){const n=ft(e),i=n.Va.get(t);if(i&&i.Ia)return mt().add(i.key);{let s=mt();const r=n.da.get(t);if(!r)return s;for(const o of r){const a=n.Ea.get(o);s=s.unionWith(a.view.ia)}return s}}function gN(e){const t=ft(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=aI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=pN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=cN.bind(null,t),t.Ta.r_=JD.bind(null,t.eventManager),t.Ta.Sa=ZD.bind(null,t.eventManager),t}function mN(e){const t=ft(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=uN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=hN.bind(null,t),t}class zy{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=uh(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return AD(this.persistence,new vD,t.initialUser,this.serializer)}createPersistence(t){return new _D(Sg.zr,this.serializer)}createSharedClientState(t){return new kD}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class _N{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>By(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=dN.bind(null,this.syncEngine),await KD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new QD}()}createDatastore(t){const n=uh(t.databaseInfo.databaseId),i=function(r){return new MD(r)}(t.databaseInfo);return function(r,o,a,l){return new ND(r,o,a,l)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,s,r,o,a){return new VD(i,s,r,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>By(this.syncEngine,n,0),function(){return Ly.v()?new Ly:new CD}())}createSyncEngine(t,n){return function(s,r,o,a,l,c,u){const h=new sN(s,r,o,a,l,c);return u&&(h.ya=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const i=ft(n);Q("RemoteStore","RemoteStore shutting down."),i.y_.add(5),await ul(i),i.S_.shutdown(),i.b_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.va(this.observer.next,t)}error(t){this.observer.error?this.va(this.observer.error,t):ui("Uncaught Error in snapshot listener:",t.toString())}Ca(){this.muted=!0}va(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(t,n,i,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Te.UNAUTHENTICATED,this.clientId=dE.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async r=>{Q("FirestoreClient","Received user=",r.uid),await this.authCredentialListener(r),this.user=r}),this.appCheckCredentials.start(i,r=>(Q("FirestoreClient","Received new app check token=",r),this.appCheckCredentialListener(r,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new q(R.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Og(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function ff(e,t){e.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async s=>{i.isEqual(s)||(await GE(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function jy(e,t){e.asyncQueue.verifyOperationInProgress();const n=await AN(e);Q("FirestoreClient","Initializing OnlineComponentProvider");const i=await e.getConfiguration();await t.initialize(n,i),e.setCredentialChangeListener(s=>Vy(t.remoteStore,s)),e.setAppCheckTokenChangeListener((s,r)=>Vy(t.remoteStore,r)),e._onlineComponents=t}function bN(e){return e.name==="FirebaseError"?e.code===R.FAILED_PRECONDITION||e.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function AN(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{await ff(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!bN(n))throw n;Nr("Error using user provided cache. Falling back to memory cache: "+n),await ff(e,new zy)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),await ff(e,new zy);return e._offlineComponents}async function hI(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),await jy(e,e._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),await jy(e,new _N))),e._onlineComponents}function wN(e){return hI(e).then(t=>t.syncEngine)}async function $y(e){const t=await hI(e),n=t.eventManager;return n.onListen=rN.bind(null,t.syncEngine),n.onUnlisten=aN.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(e,t,n){if(!n)throw new q(R.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function EN(e,t,n,i){if(t===!0&&i===!0)throw new q(R.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Wy(e){if(!Z.isDocumentKey(e))throw new q(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function qy(e){if(Z.isDocumentKey(e))throw new q(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function dh(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":ot()}function ks(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new q(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dh(e);throw new q(R.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new q(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new q(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}EN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fI((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new q(R.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new q(R.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new q(R.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ph{constructor(t,n,i,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ky({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new q(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new q(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ky(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new H2;switch(i.type){case"firstParty":return new G2(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new q(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Hy.get(n);i&&(Q("ComponentProvider","Removing Datastore"),Hy.delete(n),i.terminate())}(this),Promise.resolve()}}function IN(e,t,n,i={}){var s;const r=(e=ks(e,ph))._getSettings(),o=`${t}:${n}`;if(r.host!=="firestore.googleapis.com"&&r.host!==o&&Nr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},r),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=Te.MOCK_USER;else{a=FC(i.mockUserToken,(s=e._app)===null||s===void 0?void 0:s.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new q(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Te(c)}e._authCredentials=new W2(new fE(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new io(this.firestore,t,this._query)}}class qe{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $i(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new qe(this.firestore,t,this._key)}}class $i extends io{constructor(t,n,i){super(t,n,bg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new qe(this.firestore,null,new Z(t))}withConverter(t){return new $i(this.firestore,t,this._path)}}function Lg(e,t,...n){if(e=_e(e),dI("collection","path",t),e instanceof ph){const i=Bt.fromString(t,...n);return qy(i),new $i(e,null,i)}{if(!(e instanceof qe||e instanceof $i))throw new q(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Bt.fromString(t,...n));return qy(i),new $i(e.firestore,null,i)}}function gh(e,t,...n){if(e=_e(e),arguments.length===1&&(t=dE.V()),dI("doc","path",t),e instanceof ph){const i=Bt.fromString(t,...n);return Wy(i),new qe(e,null,new Z(i))}{if(!(e instanceof qe||e instanceof $i))throw new q(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Bt.fromString(t,...n));return Wy(i),new qe(e.firestore,e instanceof $i?e.converter:null,new Z(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.Wa=Promise.resolve(),this.Ga=[],this.za=!1,this.ja=[],this.Ha=null,this.Ja=!1,this.Ya=!1,this.Za=[],this.Ko=new YE(this,"async_queue_retry"),this.Xa=()=>{const n=hf();n&&Q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ko.No()};const t=hf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Xa)}get isShuttingDown(){return this.za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.eu(),this.tu(t)}enterRestrictedMode(t){if(!this.za){this.za=!0,this.Ya=t||!1;const n=hf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xa)}}enqueue(t){if(this.eu(),this.za)return new Promise(()=>{});const n=new Ss;return this.tu(()=>this.za&&this.Ya?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ga.push(t),this.nu()))}async nu(){if(this.Ga.length!==0){try{await this.Ga[0](),this.Ga.shift(),this.Ko.reset()}catch(t){if(!ol(t))throw t;Q("AsyncQueue","Operation failed with retryable error: "+t)}this.Ga.length>0&&this.Ko.xo(()=>this.nu())}}tu(t){const n=this.Wa.then(()=>(this.Ja=!0,t().catch(i=>{this.Ha=i,this.Ja=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw ui("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.Ja=!1,i))));return this.Wa=n,n}enqueueAfterDelay(t,n,i){this.eu(),this.Za.indexOf(t)>-1&&(n=0);const s=Mg.createAndSchedule(this,t,n,i,r=>this.ru(r));return this.ja.push(s),s}eu(){this.Ha&&ot()}verifyOperationInProgress(){}async iu(){let t;do t=this.Wa,await t;while(t!==this.Wa)}su(t){for(const n of this.ja)if(n.timerId===t)return!0;return!1}ou(t){return this.iu().then(()=>{this.ja.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.ja)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.iu()})}_u(t){this.Za.push(t)}ru(t){const n=this.ja.indexOf(t);this.ja.splice(n,1)}}function Gy(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const r of i)if(r in s&&typeof s[r]=="function")return!0;return!1}(e,["next","error","complete"])}class Ca extends ph{constructor(t,n,i,s){super(t,n,i,s),this.type="firestore",this._queue=function(){return new TN}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||gI(this),this._firestoreClient.terminate()}}function xN(e,t){const n=typeof e=="object"?e:Fp(),i=typeof e=="string"?e:t||"(default)",s=Ys(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=LC("firestore");r&&IN(s,...r)}return s}function pI(e){return e._firestoreClient||gI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function gI(e){var t,n,i;const s=e._freezeSettings(),r=function(a,l,c,u){return new oO(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,fI(u.experimentalLongPollingOptions),u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,s);e._firestoreClient=new vN(e._authCredentials,e._appCheckCredentials,e._queue,r),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zr(Ne.fromBase64String(t))}catch(n){throw new q(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new zr(Ne.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new q(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ce(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new q(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new q(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Et(this._lat,t._lat)||Et(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=/^__.*__$/;class kN{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new Js(t,this.data,this.fieldMask,n,this.fieldTransforms):new ll(t,this.data,n,this.fieldTransforms)}}function _I(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class Bg{constructor(t,n,i,s,r,o){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.au(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get uu(){return this.settings.uu}cu(t){return new Bg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}lu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.cu({path:i,hu:!1});return s.Pu(t),s}Iu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.cu({path:i,hu:!1});return s.au(),s}Tu(t){return this.cu({path:void 0,hu:!0})}Eu(t){return su(t,this.settings.methodName,this.settings.du||!1,this.path,this.settings.Au)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}au(){if(this.path)for(let t=0;t<this.path.length;t++)this.Pu(this.path.get(t))}Pu(t){if(t.length===0)throw this.Eu("Document fields must not be empty");if(_I(this.uu)&&SN.test(t))throw this.Eu('Document fields cannot begin and end with "__"')}}class CN{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||uh(t)}Ru(t,n,i,s=!1){return new Bg({uu:t,methodName:n,Au:i,path:Ce.emptyPath(),hu:!1,du:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ug(e){const t=e._freezeSettings(),n=uh(e._databaseId);return new CN(e._databaseId,!!t.ignoreUndefinedProperties,n)}function yI(e,t,n,i,s,r={}){const o=e.Ru(r.merge||r.mergeFields?2:0,t,n,s);AI("Data must be an object, but it was:",o,i);const a=vI(i,o);let l,c;if(r.merge)l=new pn(o.fieldMask),c=o.fieldTransforms;else if(r.mergeFields){const u=[];for(const h of r.mergeFields){const f=RN(t,h,n);if(!o.contains(f))throw new q(R.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);ON(u,f)||u.push(f)}l=new pn(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new kN(new ln(a),l,c)}function PN(e,t,n,i=!1){return zg(n,e.Ru(i?4:3,t))}function zg(e,t){if(bI(e=_e(e)))return AI("Unsupported field value:",t,e),vI(e,t);if(e instanceof mI)return function(i,s){if(!_I(s.uu))throw s.Eu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Eu(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.hu&&t.uu!==4)throw t.Eu("Nested arrays are not supported");return function(i,s){const r=[];let o=0;for(const a of i){let l=zg(a,s.Tu(o));l==null&&(l={nullValue:"NULL_VALUE"}),r.push(l),o++}return{arrayValue:{values:r}}}(e,t)}return function(i,s){if((i=_e(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return xO(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=ce.fromDate(i);return{timestampValue:nu(s.serializer,r)}}if(i instanceof ce){const r=new ce(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:nu(s.serializer,r)}}if(i instanceof Fg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof zr)return{bytesValue:jE(s.serializer,i._byteString)};if(i instanceof qe){const r=s.databaseId,o=i.firestore._databaseId;if(!o.isEqual(r))throw s.Eu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Tg(i.firestore._databaseId||s.databaseId,i._key.path)}}throw s.Eu(`Unsupported field value: ${dh(i)}`)}(e,t)}function vI(e,t){const n={};return pE(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):to(e,(i,s)=>{const r=zg(s,t.lu(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function bI(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ce||e instanceof Fg||e instanceof zr||e instanceof qe||e instanceof mI)}function AI(e,t,n){if(!bI(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=dh(n);throw i==="an object"?t.Eu(e+" a custom object"):t.Eu(e+" "+i)}}function RN(e,t,n){if((t=_e(t))instanceof Vg)return t._internalPath;if(typeof t=="string")return wI(e,t);throw su("Field path arguments must be of type string or ",e,!1,void 0,n)}const MN=new RegExp("[~\\*/\\[\\]]");function wI(e,t,n){if(t.search(MN)>=0)throw su(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Vg(...t.split("."))._internalPath}catch{throw su(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function su(e,t,n,i,s){const r=i&&!i.isEmpty(),o=s!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(r||o)&&(l+=" (found",r&&(l+=` in field ${i}`),o&&(l+=` in document ${s}`),l+=")"),new q(R.INVALID_ARGUMENT,a+e+l)}function ON(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(t,n,i,s,r){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new qe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new DN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(jg("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class DN extends EI{data(){return super.data()}}function jg(e,t){return typeof t=="string"?wI(e,t):t instanceof Vg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new q(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $g{}class LN extends $g{}function II(e,t,...n){let i=[];t instanceof $g&&i.push(t),i=i.concat(n),function(r){const o=r.filter(l=>l instanceof Hg).length,a=r.filter(l=>l instanceof mh).length;if(o>1||o>0&&a>0)throw new q(R.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)e=s._apply(e);return e}class mh extends LN{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new mh(t,n,i)}_apply(t){const n=this._parse(t);return TI(t._query,n),new io(t.firestore,t.converter,Ed(t._query,n))}_parse(t){const n=Ug(t.firestore);return function(r,o,a,l,c,u,h){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new q(R.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){Yy(h,u);const d=[];for(const p of h)d.push(Qy(l,r,p));f={arrayValue:{values:d}}}else f=Qy(l,r,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||Yy(h,u),f=PN(a,o,h,u==="in"||u==="not-in");return oe.create(c,u,f)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function VN(e,t,n){const i=t,s=jg("where",e);return mh._create(s,i,n)}class Hg extends $g{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Hg(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:In.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(s,r){let o=s;const a=r.getFlattenedFilters();for(const l of a)TI(o,l),o=Ed(o,l)}(t._query,n),new io(t.firestore,t.converter,Ed(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Qy(e,t,n){if(typeof(n=_e(n))=="string"){if(n==="")throw new q(R.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!IE(t)&&n.indexOf("/")!==-1)throw new q(R.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(Bt.fromString(n));if(!Z.isDocumentKey(i))throw new q(R.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return _y(e,new Z(i))}if(n instanceof qe)return _y(e,n._key);throw new q(R.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dh(n)}.`)}function Yy(e,t){if(!Array.isArray(e)||e.length===0)throw new q(R.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function TI(e,t){if(t.isInequality()){const i=Ag(e),s=t.field;if(i!==null&&!i.isEqual(s))throw new q(R.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${s.toString()}'`);const r=EE(e);r!==null&&FN(e,s,r)}const n=function(s,r){for(const o of s)for(const a of o.getFlattenedFilters())if(r.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new q(R.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new q(R.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function FN(e,t,n){if(!n.isEqual(t))throw new q(R.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class BN{convertValue(t,n="none"){switch(Us(t)){case 0:return null;case 1:return t.booleanValue;case 2:return re(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Bs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw ot()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return to(t,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertGeoPoint(t){return new Fg(re(t.latitude),re(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=mg(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ia(t));default:return null}}convertTimestamp(t){const n=Gi(t);return new ce(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=Bt.fromString(t);Ht(KE(i));const s=new Ta(i.get(1),i.get(3)),r=new Z(i.popFirst(5));return s.isEqual(n)||ui(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class SI extends EI{constructor(t,n,i,s,r,o){super(t,n,i,s,o),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new _c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(jg("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class _c extends SI{data(t={}){return super.data(t)}}class UN{constructor(t,n,i,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new ko(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new _c(this._firestore,this._userDataWriter,i.key,i,new ko(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new _c(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ko(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>r||a.type!==3).map(a=>{const l=new _c(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ko(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:zN(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function zN(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}class kI extends BN{constructor(t){super(),this.firestore=t}convertBytes(t){return new zr(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new qe(this.firestore,null,n)}}function jN(e,t,n){e=ks(e,qe);const i=ks(e.firestore,Ca),s=xI(e.converter,t,n);return CI(i,[yI(Ug(i),"setDoc",e._key,s,e.converter!==null,n).toMutation(e._key,Fn.none())])}function $N(e,t){const n=ks(e.firestore,Ca),i=gh(e),s=xI(e.converter,t);return CI(n,[yI(Ug(e.firestore),"addDoc",i._key,s,e.converter!==null,{}).toMutation(i._key,Fn.exists(!1))]).then(()=>i)}function Wg(e,...t){var n,i,s;e=_e(e);let r={includeMetadataChanges:!1},o=0;typeof t[o]!="object"||Gy(t[o])||(r=t[o],o++);const a={includeMetadataChanges:r.includeMetadataChanges};if(Gy(t[o])){const h=t[o];t[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),t[o+1]=(i=h.error)===null||i===void 0?void 0:i.bind(h),t[o+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let l,c,u;if(e instanceof qe)c=ks(e.firestore,Ca),u=bg(e._key.path),l={next:h=>{t[o]&&t[o](HN(c,e,h))},error:t[o+1],complete:t[o+2]};else{const h=ks(e,io);c=ks(h.firestore,Ca),u=h._query;const f=new kI(c);l={next:d=>{t[o]&&t[o](new UN(c,f,h,d))},error:t[o+1],complete:t[o+2]},NN(e._query)}return function(f,d,p,g){const m=new yN(g),_=new tN(d,m,p);return f.asyncQueue.enqueueAndForget(async()=>YD(await $y(f),_)),()=>{m.Ca(),f.asyncQueue.enqueueAndForget(async()=>XD(await $y(f),_))}}(pI(c),u,a,l)}function CI(e,t){return function(i,s){const r=new Ss;return i.asyncQueue.enqueueAndForget(async()=>lN(await wN(i),s,r)),r.promise}(pI(e),t)}function HN(e,t,n){const i=n.docs.get(t._key),s=new kI(e);return new SI(e,s,t._key,i,new ko(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){(function(s){Zr=s})(Yr),Wn(new wn("firestore",(i,{instanceIdentifier:s,options:r})=>{const o=i.getProvider("app").getImmediate(),a=new Ca(new q2(i.getProvider("auth-internal")),new Y2(i.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new q(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ta(c.options.projectId,u)}(o,s),o);return r=Object.assign({useFetchStreams:n},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),un(fy,"4.1.0",t),un(fy,"4.1.0","esm2017")})();function qg(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n}function PI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WN=PI,RI=new Qs("auth","Firebase",PI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=new Uu("@firebase/auth");function qN(e,...t){ru.logLevel<=wt.WARN&&ru.warn(`Auth (${Yr}): ${e}`,...t)}function yc(e,...t){ru.logLevel<=wt.ERROR&&ru.error(`Auth (${Yr}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(e,...t){throw Kg(e,...t)}function Un(e,...t){return Kg(e,...t)}function KN(e,t,n){const i=Object.assign(Object.assign({},WN()),{[t]:n});return new Qs("auth","Firebase",i).create(t,{appName:e.name})}function Kg(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return RI.create(e,...t)}function rt(e,t,...n){if(!e)throw Kg(t,...n)}function ii(e){const t="INTERNAL ASSERTION FAILED: "+e;throw yc(t),new Error(t)}function di(e,t){e||ii(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function GN(){return Xy()==="http:"||Xy()==="https:"}function Xy(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GN()||MA()||"connection"in navigator)?navigator.onLine:!0}function YN(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(t,n){this.shortDelay=t,this.longDelay=n,di(n>t,"Short delay should be less than long delay!"),this.isMobile=BC()||UC()}get(){return QN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(e,t){di(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=new fl(3e4,6e4);function so(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function ro(e,t,n,i,s={}){return OI(e,s,async()=>{let r={},o={};i&&(t==="GET"?o=i:r={body:JSON.stringify(i)});const a=Qa(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),MI.fetch()(DI(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},r))})}async function OI(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},XN),t);try{const s=new ZN(e),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw Bl(e,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bl(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Bl(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw Bl(e,"user-disabled",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw KN(e,u,c);Tn(e,u)}}catch(s){if(s instanceof xn)throw s;Tn(e,"network-request-failed",{message:String(s)})}}async function dl(e,t,n,i,s={}){const r=await ro(e,t,n,i,s);return"mfaPendingCredential"in r&&Tn(e,"multi-factor-auth-required",{_serverResponse:r}),r}function DI(e,t,n,i){const s=`${t}${n}?${i}`;return e.config.emulator?Gg(e.config,s):`${e.config.apiScheme}://${s}`}class ZN{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Un(this.auth,"network-request-failed")),JN.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bl(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Un(e,t,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tL(e,t){return ro(e,"POST","/v1/accounts:delete",t)}async function eL(e,t){return ro(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function nL(e,t=!1){const n=_e(e),i=await n.getIdToken(t),s=Qg(i);rt(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:Go(df(s.auth_time)),issuedAtTime:Go(df(s.iat)),expirationTime:Go(df(s.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function df(e){return Number(e)*1e3}function Qg(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return yc("JWT malformed, contained fewer than 3 sections"),null;try{const s=kA(n);return s?JSON.parse(s):(yc("Failed to decode base64 JWT payload"),null)}catch(s){return yc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function iL(e){const t=Qg(e);return rt(t,"internal-error"),rt(typeof t.exp<"u","internal-error"),rt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pa(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof xn&&sL(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function sL({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Go(this.lastLoginAt),this.creationTime=Go(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(e){var t;const n=e.auth,i=await e.getIdToken(),s=await Pa(e,eL(n,{idToken:i}));rt(s==null?void 0:s.users.length,n,"internal-error");const r=s.users[0];e._notifyReloadListener(r);const o=!((t=r.providerUserInfo)===null||t===void 0)&&t.length?lL(r.providerUserInfo):[],a=aL(e.providerData,o),l=e.isAnonymous,c=!(e.email&&r.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new NI(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(e,h)}async function oL(e){const t=_e(e);await ou(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function aL(e,t){return[...e.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function lL(e){return e.map(t=>{var{providerId:n}=t,i=qg(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cL(e,t){const n=await OI(e,{},async()=>{const i=Qa({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:r}=e.config,o=DI(e,s,"/v1/token",`key=${r}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",MI.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){rt(t.idToken,"internal-error"),rt(typeof t.idToken<"u","internal-error"),rt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):iL(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return rt(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await cL(t,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,o=new Ra;return i&&(rt(typeof i=="string","internal-error",{appName:t}),o.refreshToken=i),s&&(rt(typeof s=="string","internal-error",{appName:t}),o.accessToken=s),r&&(rt(typeof r=="number","internal-error",{appName:t}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ra,this.toJSON())}_performRefresh(){return ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(e,t){rt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Cs{constructor(t){var{uid:n,auth:i,stsTokenManager:s}=t,r=qg(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new NI(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const n=await Pa(this,this.stsTokenManager.getToken(this.auth,t));return rt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return nL(this,t)}reload(){return oL(this)}_assign(t){this!==t&&(rt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Cs(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){rt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await ou(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await Pa(this,tL(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,s,r,o,a,l,c,u;const h=(i=n.displayName)!==null&&i!==void 0?i:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,d=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,m=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:w,emailVerified:A,isAnonymous:E,providerData:T,stsTokenManager:k}=n;rt(w&&k,t,"internal-error");const S=Ra.fromJSON(this.name,k);rt(typeof w=="string",t,"internal-error"),wi(h,t.name),wi(f,t.name),rt(typeof A=="boolean",t,"internal-error"),rt(typeof E=="boolean",t,"internal-error"),wi(d,t.name),wi(p,t.name),wi(g,t.name),wi(m,t.name),wi(_,t.name),wi(y,t.name);const M=new Cs({uid:w,auth:t,email:f,emailVerified:A,displayName:h,isAnonymous:E,photoURL:p,phoneNumber:d,tenantId:g,stsTokenManager:S,createdAt:_,lastLoginAt:y});return T&&Array.isArray(T)&&(M.providerData=T.map($=>Object.assign({},$))),m&&(M._redirectEventId=m),M}static async _fromIdTokenResponse(t,n,i=!1){const s=new Ra;s.updateFromServerResponse(n);const r=new Cs({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await ou(r),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy=new Map;function si(e){di(e instanceof Function,"Expected a class definition");let t=Jy.get(e);return t?(di(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Jy.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}LI.type="NONE";const Zy=LI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(e,t,n){return`firebase:${e}:${t}:${n}`}class Ar{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=vc(this.userKey,s.apiKey,r),this.fullPersistenceKey=vc("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Cs._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new Ar(si(Zy),t,i);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=s[0]||si(Zy);const o=vc(i,t.config.apiKey,t.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=Cs._fromJSON(t,u);c!==r&&(a=h),r=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new Ar(r,t,i):(r=l[0],a&&await r._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==r)try{await c._remove(o)}catch{}})),new Ar(r,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(BI(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(VI(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(zI(t))return"Blackberry";if(jI(t))return"Webos";if(Yg(t))return"Safari";if((t.includes("chrome/")||FI(t))&&!t.includes("edge/"))return"Chrome";if(UI(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function VI(e=De()){return/firefox\//i.test(e)}function Yg(e=De()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function FI(e=De()){return/crios\//i.test(e)}function BI(e=De()){return/iemobile/i.test(e)}function UI(e=De()){return/android/i.test(e)}function zI(e=De()){return/blackberry/i.test(e)}function jI(e=De()){return/webos/i.test(e)}function _h(e=De()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function uL(e=De()){var t;return _h(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function hL(){return zC()&&document.documentMode===10}function $I(e=De()){return _h(e)||UI(e)||jI(e)||zI(e)||/windows phone/i.test(e)||BI(e)}function fL(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(e,t=[]){let n;switch(e){case"Browser":n=tv(De());break;case"Worker":n=`${tv(De())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Yr}/${i}`}async function WI(e,t){return ro(e,"GET","/v2/recaptchaConfig",so(e,t))}function ev(e){return e!==void 0&&e.enterprise!==void 0}class qI{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function KI(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=s=>{const r=Un("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",dL().appendChild(i)})}function pL(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const gL="https://www.google.com/recaptcha/enterprise.js?render=",mL="recaptcha-enterprise",_L="NO_RECAPTCHA";class GI{constructor(t){this.type=mL,this.auth=oo(t)}async verify(t="verify",n=!1){async function i(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,a)=>{WI(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new qI(l);return r.tenantId==null?r._agentRecaptchaConfig=c:r._tenantRecaptchaConfigs[r.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(r,o,a){const l=window.grecaptcha;ev(l)?l.enterprise.ready(()=>{l.enterprise.execute(r,{action:t}).then(c=>{o(c)}).catch(()=>{o(_L)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((r,o)=>{i(this.auth).then(a=>{if(!n&&ev(window.grecaptcha))s(a,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}KI(gL+a).then(()=>{s(a,r,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function au(e,t,n,i=!1){const s=new GI(e);let r;try{r=await s.verify(n)}catch{r=await s.verify(n,!0)}const o=Object.assign({},t);return i?Object.assign(o,{captchaResp:r}):Object.assign(o,{captchaResponse:r}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=r=>new Promise((o,a)=>{try{const l=t(r);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(t,n,i,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nv(this),this.idTokenSubscription=new nv(this),this.beforeStateQueue=new yL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=si(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Ar.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return rt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await ou(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=YN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?_e(t):null;return n&&rt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&rt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(si(t))})}async initializeRecaptchaConfig(){const t=await WI(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new qI(t);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new GI(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Qs("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&si(t)||this._popupRedirectResolver;rt(n,this,"argument-error"),this.redirectPersistenceManager=await Ar.create(this,[si(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return rt(o,this,"internal-error"),o.then(()=>r(this.currentUser)),typeof n=="function"?t.addObserver(n,i,s):t.addObserver(n)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return rt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=HI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&qN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function oo(e){return _e(e)}class nv{constructor(t){this.auth=t,this.observer=null,this.addObserver=KC(n=>this.observer=n)}get next(){return rt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(e,t){const n=Ys(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(da(r,t??{}))return s;Tn(s,"already-initialized")}return n.initialize({options:t})}function AL(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(si);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function wL(e,t,n){const i=oo(e);rt(i._canInitEmulator,i,"emulator-config-failed"),rt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),r=QI(t),{host:o,port:a}=EL(t),l=a===null?"":`:${a}`;i.config.emulator={url:`${r}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||IL()}function QI(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function EL(e){const t=QI(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:iv(i.substr(r.length+1))}}else{const[r,o]=i.split(":");return{host:r,port:iv(o)}}}function iv(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function IL(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ii("not implemented")}_getIdTokenResponse(t){return ii("not implemented")}_linkToIdToken(t,n){return ii("not implemented")}_getReauthenticationResolver(t){return ii("not implemented")}}async function TL(e,t){return ro(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pf(e,t){return dl(e,"POST","/v1/accounts:signInWithPassword",so(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xL(e,t){return dl(e,"POST","/v1/accounts:signInWithEmailLink",so(e,t))}async function SL(e,t){return dl(e,"POST","/v1/accounts:signInWithEmailLink",so(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma extends Xg{constructor(t,n,i,s=null){super("password",i),this._email=t,this._password=n,this._tenantId=s}static _fromEmailAndPassword(t,n){return new Ma(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new Ma(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){var n;switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=t._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const s=await au(t,i,"signInWithPassword");return pf(t,s)}else return pf(t,i).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const r=await au(t,i,"signInWithPassword");return pf(t,r)}else return Promise.reject(s)});case"emailLink":return xL(t,{email:this._email,oobCode:this._password});default:Tn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":return TL(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return SL(t,{idToken:n,email:this._email,oobCode:this._password});default:Tn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wr(e,t){return dl(e,"POST","/v1/accounts:signInWithIdp",so(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL="http://localhost";class zs extends Xg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new zs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Tn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s}=n,r=qg(n,["providerId","signInMethod"]);if(!i||!s)return null;const o=new zs(i,s);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return wr(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,wr(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,wr(t,n)}buildRequest(){const t={requestUri:kL,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Qa(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function PL(e){const t=wo(Eo(e)).link,n=t?wo(Eo(t)).deep_link_id:null,i=wo(Eo(e)).deep_link_id;return(i?wo(Eo(i)).link:null)||i||n||t||e}class Jg{constructor(t){var n,i,s,r,o,a;const l=wo(Eo(t)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(i=l.oobCode)!==null&&i!==void 0?i:null,h=CL((s=l.mode)!==null&&s!==void 0?s:null);rt(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(r=l.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){const n=PL(t);try{return new Jg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){this.providerId=ao.PROVIDER_ID}static credential(t,n){return Ma._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=Jg.parseLink(n);return rt(i,"argument-error"),Ma._fromEmailAndCode(t,i.code,i.tenantId)}}ao.PROVIDER_ID="password";ao.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ao.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl extends YI{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends pl{constructor(){super("facebook.com")}static credential(t){return zs._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Si.credentialFromTaggedObject(t)}static credentialFromError(t){return Si.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Si.credential(t.oauthAccessToken)}catch{return null}}}Si.FACEBOOK_SIGN_IN_METHOD="facebook.com";Si.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends pl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return zs._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ki.credentialFromTaggedObject(t)}static credentialFromError(t){return ki.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return ki.credential(n,i)}catch{return null}}}ki.GOOGLE_SIGN_IN_METHOD="google.com";ki.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends pl{constructor(){super("github.com")}static credential(t){return zs._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ci.credentialFromTaggedObject(t)}static credentialFromError(t){return Ci.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ci.credential(t.oauthAccessToken)}catch{return null}}}Ci.GITHUB_SIGN_IN_METHOD="github.com";Ci.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends pl{constructor(){super("twitter.com")}static credential(t,n){return zs._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Pi.credentialFromTaggedObject(t)}static credentialFromError(t){return Pi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Pi.credential(n,i)}catch{return null}}}Pi.TWITTER_SIGN_IN_METHOD="twitter.com";Pi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gf(e,t){return dl(e,"POST","/v1/accounts:signUp",so(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,s=!1){const r=await Cs._fromIdTokenResponse(t,i,s),o=sv(i);return new js({user:r,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const s=sv(i);return new js({user:t,providerId:s,_tokenResponse:i,operationType:n})}}function sv(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends xn{constructor(t,n,i,s){var r;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,lu.prototype),this.customData={appName:t.name,tenantId:(r=t.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,s){return new lu(t,n,i,s)}}function XI(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?lu._fromErrorAndOperation(e,r,t,i):r})}async function RL(e,t,n=!1){const i=await Pa(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return js._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ML(e,t,n=!1){const{auth:i}=e,s="reauthenticate";try{const r=await Pa(e,XI(i,s,t,e),n);rt(r.idToken,i,"internal-error");const o=Qg(r.idToken);rt(o,i,"internal-error");const{sub:a}=o;return rt(e.uid===a,i,"user-mismatch"),js._forOperation(e,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&Tn(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JI(e,t,n=!1){const i="signIn",s=await XI(e,i,t),r=await js._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(r.user),r}async function OL(e,t){return JI(oo(e),t)}async function DL(e,t,n){var i;const s=oo(e),r={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((i=s._getRecaptchaConfig())===null||i===void 0)&&i.emailPasswordEnabled){const c=await au(s,r,"signUpPassword");o=gf(s,c)}else o=gf(s,r).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const u=await au(s,r,"signUpPassword");return gf(s,u)}else return Promise.reject(c)});const a=await o.catch(c=>Promise.reject(c)),l=await js._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(l.user),l}function NL(e,t,n){return OL(_e(e),ao.credential(t,n))}function LL(e,t,n,i){return _e(e).onIdTokenChanged(t,n,i)}function VL(e,t,n){return _e(e).beforeAuthStateChanged(t,n)}function FL(e,t,n,i){return _e(e).onAuthStateChanged(t,n,i)}function BL(e){return _e(e).signOut()}const cu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(cu,"1"),this.storage.removeItem(cu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(){const e=De();return Yg(e)||_h(e)}const zL=1e3,jL=10;class tT extends ZI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=UL()&&fL(),this.fallbackToPolling=$I(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&t(n,s,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(i);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},r=this.storage.getItem(i);hL()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,jL):s()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},zL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}tT.type="LOCAL";const $L=tT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT extends ZI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}eT.type="SESSION";const nT=eT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HL(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const i=new yh(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:s,data:r}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,r)),l=await HL(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,o;return new Promise((a,l)=>{const c=Zg("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(f.data.response);break;default:clearTimeout(u),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(){return window}function qL(e){zn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(){return typeof zn().WorkerGlobalScope<"u"&&typeof zn().importScripts=="function"}async function KL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GL(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function QL(){return iT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="firebaseLocalStorageDb",YL=1,uu="firebaseLocalStorage",rT="fbase_key";class gl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vh(e,t){return e.transaction([uu],t?"readwrite":"readonly").objectStore(uu)}function XL(){const e=indexedDB.deleteDatabase(sT);return new gl(e).toPromise()}function Od(){const e=indexedDB.open(sT,YL);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(uu,{keyPath:rT})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(uu)?t(i):(i.close(),await XL(),t(await Od()))})})}async function rv(e,t,n){const i=vh(e,!0).put({[rT]:t,value:n});return new gl(i).toPromise()}async function JL(e,t){const n=vh(e,!1).get(t),i=await new gl(n).toPromise();return i===void 0?null:i.value}function ov(e,t){const n=vh(e,!0).delete(t);return new gl(n).toPromise()}const ZL=800,tV=3;class oT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Od(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>tV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yh._getInstance(QL()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await KL(),!this.activeServiceWorker)return;this.sender=new WL(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||GL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Od();return await rv(t,cu,"1"),await ov(t,cu),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>rv(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>JL(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>ov(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const r=vh(s,!1).getAll();return new gl(r).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:s,value:r}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oT.type="LOCAL";const eV=oT;new fl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(e,t){return t?si(t):(rt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm extends Xg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return wr(t,this._buildIdpRequest())}_linkToIdToken(t,n){return wr(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return wr(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function iV(e){return JI(e.auth,new tm(e),e.bypassAuthState)}function sV(e){const{auth:t,user:n}=e;return rt(n,t,"internal-error"),ML(n,new tm(e),e.bypassAuthState)}async function rV(e){const{auth:t,user:n}=e;return rt(n,t,"internal-error"),RL(n,new tm(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(t,n,i,s,r=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return iV;case"linkViaPopup":case"linkViaRedirect":return rV;case"reauthViaPopup":case"reauthViaRedirect":return sV;default:Tn(this.auth,"internal-error")}}resolve(t){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV=new fl(2e3,1e4);class hr extends aT{constructor(t,n,i,s,r){super(t,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,hr.currentPopupAction&&hr.currentPopupAction.cancel(),hr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return rt(t,this.auth,"internal-error"),t}async onExecution(){di(this.filter.length===1,"Popup operations only handle one event");const t=Zg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Un(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Un(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hr.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Un(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,oV.get())};t()}}hr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV="pendingRedirect",bc=new Map;class lV extends aT{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=bc.get(this.auth._key());if(!t){try{const i=await cV(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}bc.set(this.auth._key(),t)}return this.bypassAuthState||bc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cV(e,t){const n=fV(t),i=hV(e);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function uV(e,t){bc.set(e._key(),t)}function hV(e){return si(e._redirectPersistence)}function fV(e){return vc(aV,e.config.apiKey,e.name)}async function dV(e,t,n=!1){const i=oo(e),s=nV(i,t),o=await new lV(i,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV=10*60*1e3;class gV{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!mV(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!lT(t)){const s=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Un(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=pV&&this.cachedEventUids.clear(),this.cachedEventUids.has(av(t))}saveEventToCache(t){this.cachedEventUids.add(av(t)),this.lastProcessedEventTime=Date.now()}}function av(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function lT({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function mV(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lT(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _V(e,t={}){return ro(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vV=/^https?/;async function bV(e){if(e.config.emulator)return;const{authorizedDomains:t}=await _V(e);for(const n of t)try{if(AV(n))return}catch{}Tn(e,"unauthorized-domain")}function AV(e){const t=Md(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!vV.test(n))return!1;if(yV.test(e))return i===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV=new fl(3e4,6e4);function lv(){const e=zn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function EV(e){return new Promise((t,n)=>{var i,s,r;function o(){lv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{lv(),n(Un(e,"network-request-failed"))},timeout:wV.get()})}if(!((s=(i=zn().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((r=zn().gapi)===null||r===void 0)&&r.load)o();else{const a=pL("iframefcb");return zn()[a]=()=>{gapi.load?o():n(Un(e,"network-request-failed"))},KI(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw Ac=null,t})}let Ac=null;function IV(e){return Ac=Ac||EV(e),Ac}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=new fl(5e3,15e3),xV="__/auth/iframe",SV="emulator/auth/iframe",kV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PV(e){const t=e.config;rt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Gg(t,SV):`https://${e.config.authDomain}/${xV}`,i={apiKey:t.apiKey,appName:e.name,v:Yr},s=CV.get(e.config.apiHost);s&&(i.eid=s);const r=e._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${Qa(i).slice(1)}`}async function RV(e){const t=await IV(e),n=zn().gapi;return rt(n,e,"internal-error"),t.open({where:document.body,url:PV(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kV,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const o=Un(e,"network-request-failed"),a=zn().setTimeout(()=>{r(o)},TV.get());function l(){zn().clearTimeout(a),s(i)}i.ping(l).then(l,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},OV=500,DV=600,NV="_blank",LV="http://localhost";class cv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VV(e,t,n,i=OV,s=DV){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},MV),{width:i.toString(),height:s.toString(),top:r,left:o}),c=De().toLowerCase();n&&(a=FI(c)?NV:n),VI(c)&&(t=t||LV,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[d,p])=>`${f}${d}=${p},`,"");if(uL(c)&&a!=="_self")return FV(t||"",a),new cv(null);const h=window.open(t||"",a,u);rt(h,e,"popup-blocked");try{h.focus()}catch{}return new cv(h)}function FV(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV="__/auth/handler",UV="emulator/auth/handler",zV=encodeURIComponent("fac");async function uv(e,t,n,i,s,r){rt(e.config.authDomain,e,"auth-domain-config-required"),rt(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Yr,eventId:s};if(t instanceof YI){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",qC(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,h]of Object.entries(r||{}))o[u]=h}if(t instanceof pl){const u=t.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await e._getAppCheckToken(),c=l?`#${zV}=${encodeURIComponent(l)}`:"";return`${jV(e)}?${Qa(a).slice(1)}${c}`}function jV({config:e}){return e.emulator?Gg(e,UV):`https://${e.authDomain}/${BV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf="webStorageSupport";class $V{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nT,this._completeRedirectFn=dV,this._overrideRedirectResult=uV}async _openPopup(t,n,i,s){var r;di((r=this.eventManagers[t._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await uv(t,n,i,Md(),s);return VV(t,o,Zg())}async _openRedirect(t,n,i,s){await this._originValidation(t);const r=await uv(t,n,i,Md(),s);return qL(r),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(di(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await RV(t),i=new gV(t);return n.register("authEvent",s=>(rt(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(mf,{type:mf},s=>{var r;const o=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[mf];o!==void 0&&n(!!o),Tn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bV(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return $I()||Yg()||_h()}}const HV=$V;var hv="@firebase/auth",fv="1.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){rt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function KV(e){Wn(new wn("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),r=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;rt(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HI(e)},c=new vL(i,s,r,l);return AL(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Wn(new wn("auth-internal",t=>{const n=oo(t.getProvider("auth").getImmediate());return(i=>new WV(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),un(hv,fv,qV(e)),un(hv,fv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV=5*60,QV=RA("authIdTokenMaxAge")||GV;let dv=null;const YV=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>QV)return;const s=n==null?void 0:n.token;dv!==s&&(dv=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function XV(e=Fp()){const t=Ys(e,"auth");if(t.isInitialized())return t.getImmediate();const n=bL(e,{popupRedirectResolver:HV,persistence:[eV,$L,nT]}),i=RA("authTokenSyncURL");if(i){const r=YV(i);VL(n,r,()=>r(n.currentUser)),LL(n,o=>r(o))}const s=CA("auth");return s&&wL(n,`http://${s}`),n}KV("Browser");const JV={apiKey:"AIzaSyDPHqqYyhuEJ7fIpRksToVYC5zbM1onZ3w",authDomain:"flex-fa8c8.firebaseapp.com",projectId:"flex-fa8c8",storageBucket:"flex-fa8c8.appspot.com",messagingSenderId:"824163771541",appId:"1:824163771541:web:83622e1bb9f3aada3f679c",measurementId:"G-SY23L7GKQC"},ZV=VA(JV),ml=xN();OM(ZV);const jn=XV(),tF=(e,t)=>jN(gh(Lg(ml,"users"),e),t),eF=(e,t)=>Wg(II(gh(ml,"users",e)),t),nF=e=>$N(Lg(ml,"routines"),e),iF=(e,t)=>Wg(II(Lg(ml,"routines"),VN("uid","==",e)),t),sF=(e,t)=>Wg(gh(ml,"exercises",e),t),bh=vk("user",()=>{const e=Qt("");return{username:e,logout:()=>{e.value=null},showUser:()=>{console.log({username:e.value})}}});const rF={class:"view"},oF={key:1,class:"footer"},aF={__name:"App",setup(e){const t=TA(),n=Np(),i=bh(),s=["workouts","stats","user"],r=Qt(!1);return Mu(()=>{FL(jn,o=>{o?(r.value=!0,eF(jn.currentUser.uid,a=>{i.username=a.data().username,i.showUser()}),n.push({path:"/workouts"})):(r.value=!1,n.push({path:"/"}))})}),(o,a)=>(Ct(),Ut(xe,null,[s.includes(ge(t).name)?(Ct(),Bc(kC,{key:0,title:ge(t).name},null,8,["title"])):ua("",!0),L("div",rF,[xt(ge(IA),null,{default:Os(({Component:l,route:c})=>[(Ct(),Bc(aS(l)))]),_:1})]),r.value?(Ct(),Ut("div",oF,[xt(IC)])):ua("",!0)],64))}},lF=en(aF,[["__scopeId","data-v-9bf89500"]]);const em=e=>(Ks("data-v-d0fad676"),e=e(),Gs(),e),cF={class:"page"},uF=em(()=>L("header",{class:"center"},[L("h1",null,[Sr("F"),L("span",{class:"text-orange"},"L"),Sr("E"),L("span",{class:"text-orange"},"X")]),L("h3",null,"Sculpt Your Success")],-1)),hF=em(()=>L("hr",null,null,-1)),fF=em(()=>L("button",{class:"google"},[L("p",null,"continue with Google"),L("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/706px-Google_%22G%22_Logo.svg.png",className:"w-8"})],-1)),dF={__name:"Home",setup(e){return(t,n)=>(Ct(),Ut("div",cF,[uF,xt(ge(Or),{class:"button signup",to:"/signup"},{default:Os(()=>[Sr(" Sign-Up ")]),_:1}),xt(ge(Or),{class:"button login",to:"/login"},{default:Os(()=>[Sr(" Log-in ")]),_:1}),hF,fF]))}},pF=en(dF,[["__scopeId","data-v-d0fad676"]]);const Ah=e=>(Ks("data-v-3cb7f347"),e=e(),Gs(),e),gF={class:"page"},mF=Ah(()=>L("header",{class:"center"},[L("h1",null,"Welcome!"),L("h3",null,"SignUp to create an account")],-1)),_F={class:"field"},yF={class:"field"},vF={class:"field"},bF=["type"],AF={class:"field"},wF=["type"],EF=Ah(()=>L("hr",null,null,-1)),IF={key:0},TF=Ah(()=>L("button",{class:"google"},[L("p",null,"continue with Google"),L("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/706px-Google_%22G%22_Logo.svg.png",className:"w-8"})],-1)),xF=Ah(()=>L("p",null,"back",-1)),SF={__name:"Signup",setup(e){const t=Np(),n=bh(),i=Qt(""),s=Qt(""),r=Qt(""),o=Qt(!1),a=Qt(!1),l=()=>{DL(jn,s.value,r.value).then(c=>{console.log(jn.currentUser.uid),tF(jn.currentUser.uid,{username:i.value}),n.username.value=i.value,n.showUser(),t.push({path:"/workouts"})}).catch(c=>{a.value=!0})};return(c,u)=>{const h=Ou("font-awesome-icon");return Ct(),Ut("div",gF,[mF,L("div",_F,[Is(L("input",{placeholder:"username",type:"username","onUpdate:modelValue":u[0]||(u[0]=f=>i.value=f)},null,512),[[Cr,i.value]])]),L("div",yF,[Is(L("input",{placeholder:"email",type:"email","onUpdate:modelValue":u[1]||(u[1]=f=>s.value=f)},null,512),[[Cr,s.value]])]),L("div",vF,[Is(L("input",{placeholder:"password",type:o.value?"text":"password","onUpdate:modelValue":u[2]||(u[2]=f=>r.value=f)},null,8,bF),[[cA,r.value]]),xt(h,{class:"eye",icon:o.value?"eye-slash":"eye",onClick:u[3]||(u[3]=f=>o.value=!o.value),alt:"eyePassword"},null,8,["icon"])]),L("div",AF,[L("input",{placeholder:"confirm password",type:o.value?"text":"password"},null,8,wF)]),L("button",{class:"login",onClick:u[4]||(u[4]=f=>l())},"SignUp"),EF,a.value?(Ct(),Ut("h3",IF,"Vaya, ha ocurrido un error...")):ua("",!0),TF,xt(ge(Or),{to:"/"},{default:Os(()=>[xF]),_:1})])}}},kF=en(SF,[["__scopeId","data-v-3cb7f347"]]);const wh=e=>(Ks("data-v-3da94699"),e=e(),Gs(),e),CF={class:"page"},PF=wh(()=>L("header",{class:"center"},[L("h1",null,"Welcome!"),L("h3",null,"Login to start using Flex")],-1)),RF={class:"field"},MF={class:"field"},OF=["type"],DF=wh(()=>L("hr",null,null,-1)),NF={key:0},LF=wh(()=>L("button",{class:"google"},[L("p",null,"continue with Google"),L("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/706px-Google_%22G%22_Logo.svg.png",className:"w-8"})],-1)),VF=wh(()=>L("p",null,"back",-1)),FF={__name:"Login",setup(e){Np();const t=Qt(""),n=Qt(""),i=Qt(!1),s=Qt(!1),r=()=>{NL(jn,t.value,n.value).then(o=>{}).catch(o=>{s.value=!0})};return(o,a)=>{const l=Ou("font-awesome-icon");return Ct(),Ut("div",CF,[PF,L("div",RF,[Is(L("input",{placeholder:"email",type:"text","onUpdate:modelValue":a[0]||(a[0]=c=>t.value=c)},null,512),[[Cr,t.value]])]),L("div",MF,[Is(L("input",{placeholder:"password",type:i.value?"text":"password","onUpdate:modelValue":a[1]||(a[1]=c=>n.value=c)},null,8,OF),[[cA,n.value]]),xt(l,{class:"eye",icon:i.value?"eye-slash":"eye",onClick:a[2]||(a[2]=c=>i.value=!i.value),alt:"eyePassword"},null,8,["icon"])]),L("button",{class:"login",onClick:a[3]||(a[3]=c=>r())},"LogIn"),DF,s.value?(Ct(),Ut("h3",NF,"Vaya, ha ocurrido un error...")):ua("",!0),LF,xt(ge(Or),{to:"/"},{default:Os(()=>[VF]),_:1})])}}},BF=en(FF,[["__scopeId","data-v-3da94699"]]),UF="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAA2eSURBVHhe7d3bjttGFgXQli+JE8Tzu/Yn2N8bZJyLnZ5SRCB2j9ySKF7q1F4LMEg9BAjI6jq7TpHSAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAOg7TEbr2+OHhcTqF7h3em1vpn0HKrhR2kgkK7MngYxMKPVxPMGALBhmrUPBhOQIBazCoWISCD9sRCFiCQcQsCj70QyBgDoOGqyn60D9hgGsZKFyk8EM9ggCXGCCcpejDOIQBzjEo+IbCD+MSBPiawcDRi1b4v0znQABhAAMgmNU+IAjkcuMDKfzAU4JAHjc8iMIPXCII5HgxHRnbcY9f8QcumuYKtSGApDc4hR+YSzdgbG7uoBR+YCmCwJi0ecbzWvEHljTNKa9OnxiFVDcQhR9Ym27AONzIASj8wNYEgfrcwOIUf2AvQkBtngGo66XiD+xpmoNenj5RjfRWkMIP9EY3oB43rBjFH+iVEFCLLYA6tPyBrtkSqEVaK0DhB6rRDeifG9Q5xR+oSgjom5vTMcUfqE4I6Jcb0ynFHxiFENAnDwH256D4AyOZ5jT1pjNuSF+OP+Tz93QOMIw2t31pBz8o1BEBoB8/tD+QP6dzgOG0Oe6vdnhz+sTeBIA+/Nz+MP6YzgGG1ea6T+3wy+kTexIA9ve2/UH8Np0DDK/Neb+2w9vTJ/biycx9HVf+ij8Q6fD+n06AOXAnAsB+jnv+2v5AtBYCjs8EmAt3IADs4/i9/p+nc4BoLQS8bgdz4sYEgO29aMX/+DoMAJMWAo4/IuQ16A0JABtrxd+X/ACc4RsDt+Vib0jxB3ieELAdF3ojij/AdYSAbbjIG1D8AW4jBKzPBV6Z4g8wjxCwLt8EuC7XF2C+45sBrES6WpHVP8B9dAHW48KuRPEHWIYQsA4XdQWKP8CyhIDl2aNenmsKsDzPAyxMolqY1T/AOnQBluViLkjxB1iXELAc7eqFKP4Am/hpOnInAQCAMtpi67/TKXfSSlmA1T/AtmwF3E8H4H6vpiMA2zH33kmCupPVP8A+dAHu4+LdQfEH2JcQMJ8tAAAIJDnNZPUP0AddgHl0AOZx3QD6IQDM4KLNYPUP0BddgNu5YDdS/AH6JATcRisbAAJJSzew+gfomy7A9XQAACCQpHQlq3+AGnQBrqMDAACBBIDrSJMAdahtV1DYrqD9D1CLbYDLpCQACCQhXWD1D1CTLsDzdAAAIJB09Ayrf4DadAG+TwcAAAIJAAAQSGvkO7T/AcZgG+A8HQAACCQAnGH1D8DoBAAAhmZRd54AAACBPBjxhKQIMCYPA35LBwAAAgkAABBIAACAQPZDvmL/H2BsngP4lw4AAAQSAAAgkAAAAIHshUzs/wNk8BzAiQ4AAAQSAAAgkAAAAIHsgzT2/wGyeA5ABwAAIgkAABBIAACAQAIAAAQSAAAgUPxTkN4AAMiU/iaADgAABBIAACCQAAAAgQQAAAgkAABAIAEAAAIJAJDo3eO3/4A4vgfA9wCQ4NYi/9EPhTI+3wMAjGvuCl9nAIYXHQCs/hnaEgVcCIBhRbc/BACGtFbRti3AgJK3AWwBwEjWXLHrBsBQBAAYxRYFWgiAYQgAABBIAIARbLky1wWAIQgAUN0eBVkIgPIEAAAIJABAZXuuxHUBoDQBAAACCQAAEEgAAIBAAgBU1cMevOcAoCwBAAACCQAAEEgAAIBAAgAABBIAACCQAAAAgQQAAAgkAABAIAEAAAIJAAAQSAAAgEACAAAEEgAAIJAAAACBBAAACCQAAEAgAQAAAgkAABBIAACAQAIAAAQSAAAgkAAAAIEEAAAIJAAAQCABAAACCQAAEEgAAIBAAgAABBIAACCQAAAAgQQAAAgkAABAIAEAAAIJAAAQSAAAgEACAAAEEgAAIJAAAACBBAAACCQAAEAgAQAAAgkAABBIAACAQAIAAAQSAAAgkAAAAIEEAAAIJAAAQCABAAACCQAAEEgAAIBAAgAABBIAACCQAAAAgQQAAAgkAABAoMN0jPT44eFxOmU079xaFvQxeqoc2uF9bh0UABiDgs+WBIJhJAcAWwDUdiz8ij9bM+4YgABAXSZg9mYMUpgAQD1WX/TEeKQoAYBaTLT0ytikGAGAOkyw9M4YpRABAAACCQDUYGVFFcYqRQgA9M+ESjXGLAUIAAAQSACgb1ZSVGXs0jkBAAACCQAAEEgAAIBAAgD9sodKdcYwHRMAACCQAAAAgQQAAAgkANCvj4fpBIoyhumYAAAAgQQAAAgkAABAIAGAvtlDpSpjl84JAAAQSACgf1ZSVGPMUoAAQA0mVKowVilCAACAQAIAdVhZ0TtjlEIEAGoxwdIrY5NiBADqOU60Jlt6YTxSlABAXSZd9mYMUpgAQG1WX+zBuGMA0SP48cPD43TKaN65tSxIsR/W4X1uHRQAoKpeQo7iSGHJAcAWAAAEEgAAIJAAAACBBAAACCQAAEAgAQAAAgkAABBIAACAQAIAAAQSAAAgkAAAAIEEAAAIJAAAQCABAAACCQAAEEgAAIBAAgAABBIAACCQAAAAgQQAAAgkAABAIAEAAAIJAAAQSAAAgEACAAAEEgAAIJAAAACBBAAACCQAAEAgAQAAAgkAABBIAACAQAIAAAQSAAAgkAAAAIEEAAAIJAAAQCABAAACCQAAEEgAAIBAAgAABBIAACCQAAAAgQQAAAgkAABAIAEAAAIJAAAQSAAAgEACAAAEEgAAIJAAAACBBAAACCQAAEAgAQAAAgkAABBIAACAQAIAVPXxMJ3sqIf/B2AWAQAAAgkAABBIAACAQAIAVLbnHrz9fyhNAACAQAIAVLfHStzqH8oTAGAEWxZkxR+GIAAAQCABAEaxxcrc6h+GIQDASNYs0Io/DCX6L/rxw8PjdArjebfQ8Fb4GdThfXYNjO4ApN98BrdE4Vb8YVi2AGBkxwI+p4jP/e+AMuL/wm0DEOnp9oBiT6D0LrAAIAAARPIMAAAQRwAAgEACAAAEEgAAIJAAAACBBAAACOTl38argABZfBOsDgAARBIAACCQAAAAgQQAAAgkAABAIG8BTLwJAJDBGwAnOgAAEEgAAIBAAgAABLIP8hXPAQCMzf7/v3QAACCQAAAAgQQAAAhkL+QJzwEAjMn+/7d0AAAgkAAAAIEEAAAIZD/kDM8BAIzF/v//0wEAgEACAABDs/o/TwA4w2ABYHQCAAAEstJ9hocBAWrT0f0+HQAACCQAAEAgrZELbAMA1KT9/zwdAAAIJB1dQRcAoBar/8t0AAAgkABwhZYkXSeAIszZ13GRrmMLAKAOc/YVBAAACOQhiRt4GBCgbx7+u54OAAAEkpRupAsA0Cer/9voAABAIGlpBl0AgL5Y/d9OB2AG75gC9MOcPI+LNo8OAEA/zMkzaJncwVYAwL60/ufTAQCAQJLTnXQBAPZh9X8fHYA7tQH4ejoFYCNt7n01nTKTAHC/z9MRgO18mY7MpH2yEFsBANvQ+l+GDgAAZbTi/9N0yp0EgIVIpACb+H06cidFa2G2AgDWYaG1LB2AhbUB+nI6BWAhbW711P/CBIDl/T0dAViOp/4Xpp2yElsBAMvQ+l+Hi7oiIQDgPor/emwBrMjzAADz2fdflwCwLs8DAMxn339FWisbsBUAcBut//W5wBsRAgCuo/hvw0XekBAA8DzFfzsu9MaEAIDzFP9teQhwY22AezMA4Ik2N6pHG3PBt/d3G+hebQGYtDnxdTvojm5MANjHlzbgf5zOAWK1ufBNO3w+fWJLAsB+/mwD/+fpHCBOmwN/aYc/Tp/YmgCwr0/tD+A/0zlAjDb3vW2H306f2IMnLvvw4+OHh9+nc4ChTd3PT6dP7EUA6McPLQRohQFDa8X/uOdvruuAANCXVy0E/DWdAwylFf/jG1C+378TAkB/Di0E+BEhYCit+B+/A8Xc1hEBoFO+MRAYRSv+ak2H3JSOCQFAdYp/v9yYzgkBQFWKf9/cnAKEAKAaxb9/blAdHg4EuudhvzoEgGJ0A4BeWfXX4mYVJAQAvVH863HD6rIlAOxOy78uAaA43QBgL1b9tbl5Y3jTgoAf1gA20Qr/8Wd8/ZJfcQLAQHQDgLVZ9Y/DjRzPyxYEPk/nAItohd8P+QxGABiUbgCwFKv+MbmpgxMEgLkU/rG5uRm8MghcrRX+F+1g8TA4ASCIbgBwiVV/Djc6kCAAPKXw53HDgwkCgMKfy43nH8IAZFH4MQD4hiAA41L0+ZrBwFmCAIxD4eccg4KLhAGoR9HnEgOEmwgD0C9Fn1sYLMwiCEA/FH7mMGhYhEAA21HwWYJBxCoEAliOgs8aDCo2IRDA9RR8tmCQsSvBgGQKPXsy+ChBUKAShR0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgFgPD/8DZqUz3JyENfkAAAAASUVORK5CYII=";const nm=e=>(Ks("data-v-e5194349"),e=e(),Gs(),e),zF={class:"center exeCard"},jF={class:"text-xl self-start"},$F={class:"props"},HF={class:"prop-cont"},WF=nm(()=>L("p",null,"Series",-1)),qF={class:"prop-cont"},KF=nm(()=>L("p",null,"Reps",-1)),GF=nm(()=>L("div",{class:"prop-cont"},[L("p",null,"Type"),L("p",null,"Power")],-1)),QF={__name:"ExeCard",props:{name:"Exercise",series:0,reps:"0"},setup(e){const t=e;return(n,i)=>(Ct(),Ut("div",zF,[L("h3",jF,yn(t.name),1),L("div",$F,[L("div",HF,[WF,L("p",null,yn(t.series),1)]),L("div",qF,[KF,L("p",null,yn(t.reps),1)]),GF])]))}},YF=en(QF,[["__scopeId","data-v-e5194349"]]),XF="/Flex/assets/addExe-bbc541e7.png";const Eh=e=>(Ks("data-v-e54652b0"),e=e(),Gs(),e),JF={class:"modal"},ZF=Eh(()=>L("header",{class:"center"},[L("img",{src:XF,alt:"addWorkout"})],-1)),t4={class:"card"},e4=Eh(()=>L("h1",{class:"title"},"Create a new workout",-1)),n4=Eh(()=>L("label",{for:"name"},"Name:",-1)),i4={class:"frequency"},s4=Eh(()=>L("h1",null,"Frequency:",-1)),r4={class:"days"},o4=["onClick"],a4={__name:"ModalRoutine",props:{onCancel:"closeModal",onAccept:"accept"},setup(e){const t=e;let n=Qt("");const i=Qt([{name:"M",isSelected:!1},{name:"TU",isSelected:!1},{name:"W",isSelected:!1},{name:"TH",isSelected:!1},{name:"F",isSelected:!1},{name:"SA",isSelected:!1},{name:"SU",isSelected:!1}]),s=()=>{t.onCancel(),n.value=""},r=()=>{const o=i.value.filter(a=>a.isSelected).map(a=>a.name);t.onAccept(n.value,o)};return(o,a)=>(Ct(),Ut("div",JF,[ZF,L("div",t4,[e4,L("section",null,[n4,Is(L("input",{id:"name",class:"name",type:"text",placeholder:"Ex: Push B","onUpdate:modelValue":a[0]||(a[0]=l=>Yt(n)?n.value=l:n=l)},null,512),[[Cr,ge(n)]])]),L("section",i4,[s4,L("div",r4,[(Ct(!0),Ut(xe,null,aa(i.value,l=>(Ct(),Ut("button",{class:Ka(["day",l.isSelected?"bg-orange":"bg-salmon"]),onClick:c=>l.isSelected=!l.isSelected},yn(l.name),11,o4))),256))])]),L("section",{class:"buttons center"},[L("button",{onClick:r},"ACCEPT"),L("button",{onClick:s},"CANCEL")])])]))}},l4=en(a4,[["__scopeId","data-v-e54652b0"]]);function c4(e){return gp()?(v0(e),!0):!1}function cT(e){return typeof e=="function"?e():ge(e)}const uT=typeof window<"u",Dd=()=>{},u4=h4();function h4(){var e;return uT&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent)}function Co(e){var t;const n=cT(e);return(t=n==null?void 0:n.$el)!=null?t:n}const hT=uT?window:void 0;function _f(...e){let t,n,i,s;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,i,s]=e,t=hT):[t,n,i,s]=e,!t)return Dd;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const r=[],o=()=>{r.forEach(u=>u()),r.length=0},a=(u,h,f,d)=>(u.addEventListener(h,f,d),()=>u.removeEventListener(h,f,d)),l=Bi(()=>[Co(t),cT(s)],([u,h])=>{o(),u&&r.push(...n.flatMap(f=>i.map(d=>a(u,f,d,h))))},{immediate:!0,flush:"post"}),c=()=>{l(),o()};return c4(c),c}let pv=!1;function f4(e,t,n={}){const{window:i=hT,ignore:s=[],capture:r=!0,detectIframe:o=!1}=n;if(!i)return;u4&&!pv&&(pv=!0,Array.from(i.document.body.children).forEach(f=>f.addEventListener("click",Dd)),i.document.documentElement.addEventListener("click",Dd));let a=!0;const l=f=>s.some(d=>{if(typeof d=="string")return Array.from(i.document.querySelectorAll(d)).some(p=>p===f.target||f.composedPath().includes(p));{const p=Co(d);return p&&(f.target===p||f.composedPath().includes(p))}}),u=[_f(i,"click",f=>{const d=Co(e);if(!(!d||d===f.target||f.composedPath().includes(d))){if(f.detail===0&&(a=!l(f)),!a){a=!0;return}t(f)}},{passive:!0,capture:r}),_f(i,"pointerdown",f=>{const d=Co(e);d&&(a=!f.composedPath().includes(d)&&!l(f))},{passive:!0}),o&&_f(i,"blur",f=>{setTimeout(()=>{var d;const p=Co(e);((d=i.document.activeElement)==null?void 0:d.tagName)==="IFRAME"&&!(p!=null&&p.contains(i.document.activeElement))&&t(f)},0)})].filter(Boolean);return()=>u.forEach(f=>f())}const d4=e=>(Ks("data-v-523440c5"),e=e(),Gs(),e),p4={class:"page"},g4={class:"selector-container"},m4=["value"],_4={class:"exercises-container"},y4={class:"add center"},v4=d4(()=>L("p",null,[Sr("Add a "),L("strong",null,"New Exercise")],-1)),b4={key:0,class:"modal-bg center"},A4={__name:"Workouts",setup(e){bh();const t=Qt([]),n=Qt({}),i=Qt([]),s=Qt(!1),r=Qt(null);f4(r,()=>s.value=!1);const o=()=>{iF(jn.currentUser.uid,u=>{u.forEach(h=>{t.value.push({id:h.id,...h.data()})}),t.value[0]&&(n.value=t.value[0])})},a=()=>{i.value=[],n.value[["exercises"]].forEach(u=>{sF(u,h=>{i.value.push({id:h.id,...h.data()})})})};Bi(n,u=>a()),Mu(()=>o());const l=()=>{s.value=!1},c=(u,h)=>{if(u=="")console.log("No ha rellenado el campo");else try{nF({name:u,exercises:[],frequency:h,uid:jn.currentUser.uid}),t.value=[],s.value=!1}catch(f){console.log("Error al aadir: ",f)}};return(u,h)=>{const f=Ou("font-awesome-icon");return Ct(),Ut(xe,null,[L("div",p4,[L("div",g4,[Is(L("select",{class:"selector","onUpdate:modelValue":h[0]||(h[0]=d=>n.value=d)},[(Ct(!0),Ut(xe,null,aa(t.value,d=>(Ct(),Ut("option",{value:d},yn(d.name),9,m4))),256))],512),[[aA,n.value]]),L("img",{class:"h-9 w-9",src:UF,alt:"add",onClick:h[1]||(h[1]=d=>s.value=!0)})]),L("div",_4,[(Ct(!0),Ut(xe,null,aa(i.value,d=>(Ct(),Bc(YF,{name:d.name,series:d.series,reps:d.reps},null,8,["name","series","reps"]))),256)),L("div",y4,[v4,xt(f,{icon:"circle-plus"})])])]),s.value?(Ct(),Ut("div",b4,[xt(l4,{ref_key:"modal",ref:r,onCancel:l,onAccept:c},null,512)])):ua("",!0)],64)}}},w4=en(A4,[["__scopeId","data-v-523440c5"]]);/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function _l(e){return e+.5|0}const Mi=(e,t,n)=>Math.max(Math.min(e,n),t);function Po(e){return Mi(_l(e*2.55),0,255)}function Hi(e){return Mi(_l(e*255),0,255)}function Jn(e){return Mi(_l(e/2.55)/100,0,1)}function gv(e){return Mi(_l(e*100),0,100)}const on={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Nd=[..."0123456789ABCDEF"],E4=e=>Nd[e&15],I4=e=>Nd[(e&240)>>4]+Nd[e&15],Ul=e=>(e&240)>>4===(e&15),T4=e=>Ul(e.r)&&Ul(e.g)&&Ul(e.b)&&Ul(e.a);function x4(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&on[e[1]]*17,g:255&on[e[2]]*17,b:255&on[e[3]]*17,a:t===5?on[e[4]]*17:255}:(t===7||t===9)&&(n={r:on[e[1]]<<4|on[e[2]],g:on[e[3]]<<4|on[e[4]],b:on[e[5]]<<4|on[e[6]],a:t===9?on[e[7]]<<4|on[e[8]]:255})),n}const S4=(e,t)=>e<255?t(e):"";function k4(e){var t=T4(e)?E4:I4;return e?"#"+t(e.r)+t(e.g)+t(e.b)+S4(e.a,t):void 0}const C4=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function fT(e,t,n){const i=t*Math.min(n,1-n),s=(r,o=(r+e/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function P4(e,t,n){const i=(s,r=(s+e/60)%6)=>n-n*t*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function R4(e,t,n){const i=fT(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)i[s]*=1-t-n,i[s]+=t;return i}function M4(e,t,n,i,s){return e===s?(t-n)/i+(t<n?6:0):t===s?(n-e)/i+2:(e-t)/i+4}function im(e){const n=e.r/255,i=e.g/255,s=e.b/255,r=Math.max(n,i,s),o=Math.min(n,i,s),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=M4(n,i,s,u,r),l=l*60+.5),[l|0,c||0,a]}function sm(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(Hi)}function rm(e,t,n){return sm(fT,e,t,n)}function O4(e,t,n){return sm(R4,e,t,n)}function D4(e,t,n){return sm(P4,e,t,n)}function dT(e){return(e%360+360)%360}function N4(e){const t=C4.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?Po(+t[5]):Hi(+t[5]));const s=dT(+t[2]),r=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?i=O4(s,r,o):t[1]==="hsv"?i=D4(s,r,o):i=rm(s,r,o),{r:i[0],g:i[1],b:i[2],a:n}}function L4(e,t){var n=im(e);n[0]=dT(n[0]+t),n=rm(n),e.r=n[0],e.g=n[1],e.b=n[2]}function V4(e){if(!e)return;const t=im(e),n=t[0],i=gv(t[1]),s=gv(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${s}%, ${Jn(e.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const mv={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},_v={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function F4(){const e={},t=Object.keys(_v),n=Object.keys(mv);let i,s,r,o,a;for(i=0;i<t.length;i++){for(o=a=t[i],s=0;s<n.length;s++)r=n[s],a=a.replace(r,mv[r]);r=parseInt(_v[o],16),e[a]=[r>>16&255,r>>8&255,r&255]}return e}let zl;function B4(e){zl||(zl=F4(),zl.transparent=[0,0,0,0]);const t=zl[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const U4=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function z4(e){const t=U4.exec(e);let n=255,i,s,r;if(t){if(t[7]!==i){const o=+t[7];n=t[8]?Po(o):Mi(o*255,0,255)}return i=+t[1],s=+t[3],r=+t[5],i=255&(t[2]?Po(i):Mi(i,0,255)),s=255&(t[4]?Po(s):Mi(s,0,255)),r=255&(t[6]?Po(r):Mi(r,0,255)),{r:i,g:s,b:r,a:n}}}function j4(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${Jn(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const yf=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,rr=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function $4(e,t,n){const i=rr(Jn(e.r)),s=rr(Jn(e.g)),r=rr(Jn(e.b));return{r:Hi(yf(i+n*(rr(Jn(t.r))-i))),g:Hi(yf(s+n*(rr(Jn(t.g))-s))),b:Hi(yf(r+n*(rr(Jn(t.b))-r))),a:e.a+n*(t.a-e.a)}}function jl(e,t,n){if(e){let i=im(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=rm(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function pT(e,t){return e&&Object.assign(t||{},e)}function yv(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Hi(e[3]))):(t=pT(e,{r:0,g:0,b:0,a:1}),t.a=Hi(t.a)),t}function H4(e){return e.charAt(0)==="r"?z4(e):N4(e)}class Oa{constructor(t){if(t instanceof Oa)return t;const n=typeof t;let i;n==="object"?i=yv(t):n==="string"&&(i=x4(t)||B4(t)||H4(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=pT(this._rgb);return t&&(t.a=Jn(t.a)),t}set rgb(t){this._rgb=yv(t)}rgbString(){return this._valid?j4(this._rgb):void 0}hexString(){return this._valid?k4(this._rgb):void 0}hslString(){return this._valid?V4(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,s=t.rgb;let r;const o=n===r?.5:n,a=2*o-1,l=i.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,i.r=255&c*i.r+r*s.r+.5,i.g=255&c*i.g+r*s.g+.5,i.b=255&c*i.b+r*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=$4(this._rgb,t._rgb,n)),this}clone(){return new Oa(this.rgb)}alpha(t){return this._rgb.a=Hi(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=_l(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return jl(this._rgb,2,t),this}darken(t){return jl(this._rgb,2,-t),this}saturate(t){return jl(this._rgb,1,t),this}desaturate(t){return jl(this._rgb,1,-t),this}rotate(t){return L4(this._rgb,t),this}}/*!
 * Chart.js v4.3.3
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function Gn(){}const W4=(()=>{let e=0;return()=>e++})();function bt(e){return e===null||typeof e>"u"}function zt(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function _t(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Xt(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Qe(e,t){return Xt(e)?e:t}function ht(e,t){return typeof e>"u"?t:e}const q4=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,gT=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Dt(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function kt(e,t,n,i){let s,r,o;if(zt(e))if(r=e.length,i)for(s=r-1;s>=0;s--)t.call(n,e[s],s);else for(s=0;s<r;s++)t.call(n,e[s],s);else if(_t(e))for(o=Object.keys(e),r=o.length,s=0;s<r;s++)t.call(n,e[o[s]],o[s])}function hu(e,t){let n,i,s,r;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(s=e[n],r=t[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function fu(e){if(zt(e))return e.map(fu);if(_t(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let s=0;for(;s<i;++s)t[n[s]]=fu(e[n[s]]);return t}return e}function mT(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function K4(e,t,n,i){if(!mT(e))return;const s=t[e],r=n[e];_t(s)&&_t(r)?Da(s,r,i):t[e]=fu(r)}function Da(e,t,n){const i=zt(t)?t:[t],s=i.length;if(!_t(e))return e;n=n||{};const r=n.merger||K4;let o;for(let a=0;a<s;++a){if(o=i[a],!_t(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],e,o,n)}return e}function Qo(e,t){return Da(e,t,{merger:G4})}function G4(e,t,n){if(!mT(e))return;const i=t[e],s=n[e];_t(i)&&_t(s)?Qo(i,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=fu(s))}const vv={"":e=>e,x:e=>e.x,y:e=>e.y};function Q4(e){const t=e.split("."),n=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function Y4(e){const t=Q4(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function Yi(e,t){return(vv[t]||(vv[t]=Y4(t)))(e)}function om(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Na=e=>typeof e<"u",Xi=e=>typeof e=="function",bv=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function X4(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Wt=Math.PI,jt=2*Wt,J4=jt+Wt,du=Number.POSITIVE_INFINITY,Z4=Wt/180,Jt=Wt/2,os=Wt/4,Av=Wt*2/3,Oi=Math.log10,$n=Math.sign;function Yo(e,t,n){return Math.abs(e-t)<n}function wv(e){const t=Math.round(e);e=Yo(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Oi(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function tB(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((s,r)=>s-r).pop(),t}function jr(e){return!isNaN(parseFloat(e))&&isFinite(e)}function eB(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function _T(e,t,n){let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i][n],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function gn(e){return e*(Wt/180)}function am(e){return e*(180/Wt)}function Ev(e){if(!Xt(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function yT(e,t){const n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*Wt&&(r+=jt),{angle:r,distance:s}}function Ld(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function nB(e,t){return(e-t+J4)%jt-Wt}function Xe(e){return(e%jt+jt)%jt}function La(e,t,n,i){const s=Xe(e),r=Xe(t),o=Xe(n),a=Xe(r-s),l=Xe(o-s),c=Xe(s-r),u=Xe(s-o);return s===r||s===o||i&&r===o||a>l&&c<u}function pe(e,t,n){return Math.max(t,Math.min(n,e))}function iB(e){return pe(e,-32768,32767)}function ri(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function lm(e,t,n){n=n||(o=>e[o]<t);let i=e.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const oi=(e,t,n,i)=>lm(e,n,i?s=>{const r=e[s][t];return r<n||r===n&&e[s+1][t]===n}:s=>e[s][t]<n),sB=(e,t,n)=>lm(e,n,i=>e[i][t]>=n);function rB(e,t,n){let i=0,s=e.length;for(;i<s&&e[i]<t;)i++;for(;s>i&&e[s-1]>n;)s--;return i>0||s<e.length?e.slice(i,s):e}const vT=["push","pop","shift","splice","unshift"];function oB(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),vT.forEach(n=>{const i="_onData"+om(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...r){const o=s.apply(this,r);return e._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...r)}),o}})})}function Iv(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(vT.forEach(r=>{delete e[r]}),delete e._chartjs)}function bT(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const AT=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function wT(e,t){let n=[],i=!1;return function(...s){n=s,i||(i=!0,AT.call(window,()=>{i=!1,e.apply(t,n)}))}}function aB(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const cm=e=>e==="start"?"left":e==="end"?"right":"center",Ie=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,lB=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t;function ET(e,t,n){const i=t.length;let s=0,r=i;if(e._sorted){const{iScale:o,_parsed:a}=e,l=o.axis,{min:c,max:u,minDefined:h,maxDefined:f}=o.getUserBounds();h&&(s=pe(Math.min(oi(a,l,c).lo,n?i:oi(t,l,o.getPixelForValue(c)).lo),0,i-1)),f?r=pe(Math.max(oi(a,o.axis,u,!0).hi+1,n?0:oi(t,l,o.getPixelForValue(u),!0).hi+1),s,i)-s:r=i-s}return{start:s,count:r}}function IT(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,s={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=s,!0;const r=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),r}const $l=e=>e===0||e===1,Tv=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*jt/n)),xv=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*jt/n)+1,Xo={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Jt)+1,easeOutSine:e=>Math.sin(e*Jt),easeInOutSine:e=>-.5*(Math.cos(Wt*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>$l(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>$l(e)?e:Tv(e,.075,.3),easeOutElastic:e=>$l(e)?e:xv(e,.075,.3),easeInOutElastic(e){return $l(e)?e:e<.5?.5*Tv(e*2,.1125,.45):.5+.5*xv(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Xo.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Xo.easeInBounce(e*2)*.5:Xo.easeOutBounce(e*2-1)*.5+.5};function um(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Sv(e){return um(e)?e:new Oa(e)}function vf(e){return um(e)?e:new Oa(e).saturate(.5).darken(.1).hexString()}const cB=["x","y","borderWidth","radius","tension"],uB=["color","borderColor","backgroundColor"];function hB(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:uB},numbers:{type:"number",properties:cB}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function fB(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const kv=new Map;function dB(e,t){t=t||{};const n=e+JSON.stringify(t);let i=kv.get(n);return i||(i=new Intl.NumberFormat(e,t),kv.set(n,i)),i}function yl(e,t,n){return dB(t,n).format(e)}const TT={values(e){return zt(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let s,r=e;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),r=pB(e,n)}const o=Oi(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),yl(e,i,l)},logarithmic(e,t,n){if(e===0)return"0";const i=n[t].significand||e/Math.pow(10,Math.floor(Oi(e)));return[1,2,3,5,10,15].includes(i)||t>.8*n.length?TT.numeric.call(this,e,t,n):""}};function pB(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Ih={formatters:TT};function gB(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ih.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const $s=Object.create(null),Vd=Object.create(null);function Jo(e,t){if(!t)return e;const n=t.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];e=e[r]||(e[r]=Object.create(null))}return e}function bf(e,t,n){return typeof t=="string"?Da(Jo(e,t),n):Da(Jo(e,""),t)}class mB{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>vf(s.backgroundColor),this.hoverBorderColor=(i,s)=>vf(s.borderColor),this.hoverColor=(i,s)=>vf(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return bf(this,t,n)}get(t){return Jo(this,t)}describe(t,n){return bf(Vd,t,n)}override(t,n){return bf($s,t,n)}route(t,n,i,s){const r=Jo(this,t),o=Jo(this,i),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[s];return _t(l)?Object.assign({},c,l):ht(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(n=>n(this))}}var Zt=new mB({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[hB,fB,gB]);function _B(e){return!e||bt(e.size)||bt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function pu(e,t,n,i,s){let r=t[s];return r||(r=t[s]=e.measureText(s).width,n.push(s)),r>i&&(i=r),i}function yB(e,t,n,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(s=i.data={},r=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let o=0;const a=n.length;let l,c,u,h,f;for(l=0;l<a;l++)if(h=n[l],h!=null&&!zt(h))o=pu(e,s,r,o,h);else if(zt(h))for(c=0,u=h.length;c<u;c++)f=h[c],f!=null&&!zt(f)&&(o=pu(e,s,r,o,f));e.restore();const d=r.length/2;if(d>n.length){for(l=0;l<d;l++)delete s[r[l]];r.splice(0,d)}return o}function as(e,t,n){const i=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*i)/i+s}function Cv(e,t){t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function Fd(e,t,n,i){xT(e,t,n,i,null)}function xT(e,t,n,i,s){let r,o,a,l,c,u,h,f;const d=t.pointStyle,p=t.rotation,g=t.radius;let m=(p||0)*Z4;if(d&&typeof d=="object"&&(r=d.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(m),e.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),d){default:s?e.ellipse(n,i,s/2,g,0,0,jt):e.arc(n,i,g,0,jt),e.closePath();break;case"triangle":u=s?s/2:g,e.moveTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=Av,e.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=Av,e.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),e.closePath();break;case"rectRounded":c=g*.516,l=g-c,o=Math.cos(m+os)*l,h=Math.cos(m+os)*(s?s/2-c:l),a=Math.sin(m+os)*l,f=Math.sin(m+os)*(s?s/2-c:l),e.arc(n-h,i-a,c,m-Wt,m-Jt),e.arc(n+f,i-o,c,m-Jt,m),e.arc(n+h,i+a,c,m,m+Jt),e.arc(n-f,i+o,c,m+Jt,m+Wt),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=s?s/2:l,e.rect(n-u,i-l,2*u,2*l);break}m+=os;case"rectRot":h=Math.cos(m)*(s?s/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(s?s/2:g),e.moveTo(n-h,i-a),e.lineTo(n+f,i-o),e.lineTo(n+h,i+a),e.lineTo(n-f,i+o),e.closePath();break;case"crossRot":m+=os;case"cross":h=Math.cos(m)*(s?s/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(s?s/2:g),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+f,i-o),e.lineTo(n-f,i+o);break;case"star":h=Math.cos(m)*(s?s/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(s?s/2:g),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+f,i-o),e.lineTo(n-f,i+o),m+=os,h=Math.cos(m)*(s?s/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(s?s/2:g),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+f,i-o),e.lineTo(n-f,i+o);break;case"line":o=s?s/2:Math.cos(m)*g,a=Math.sin(m)*g,e.moveTo(n-o,i-a),e.lineTo(n+o,i+a);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(m)*(s?s/2:g),i+Math.sin(m)*g);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function ai(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Th(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function xh(e){e.restore()}function vB(e,t,n,i,s){if(!t)return e.lineTo(n.x,n.y);if(s==="middle"){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else s==="after"!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function bB(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function AB(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),bt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function wB(e,t,n,i,s){if(s.strikethrough||s.underline){const r=e.measureText(i),o=t-r.actualBoundingBoxLeft,a=t+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(o,u),e.lineTo(a,u),e.stroke()}}function EB(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Hs(e,t,n,i,s,r={}){const o=zt(t)?t:[t],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(e.save(),e.font=s.string,AB(e,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&EB(e,r.backdrop),a&&(r.strokeColor&&(e.strokeStyle=r.strokeColor),bt(r.strokeWidth)||(e.lineWidth=r.strokeWidth),e.strokeText(c,n,i,r.maxWidth)),e.fillText(c,n,i,r.maxWidth),wB(e,n,i,c,r),i+=Number(s.lineHeight);e.restore()}function Va(e,t){const{x:n,y:i,w:s,h:r,radius:o}=t;e.arc(n+o.topLeft,i+o.topLeft,o.topLeft,-Jt,Wt,!0),e.lineTo(n,i+r-o.bottomLeft),e.arc(n+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,Wt,Jt,!0),e.lineTo(n+s-o.bottomRight,i+r),e.arc(n+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,Jt,0,!0),e.lineTo(n+s,i+o.topRight),e.arc(n+s-o.topRight,i+o.topRight,o.topRight,0,-Jt,!0),e.lineTo(n+o.topLeft,i)}const IB=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,TB=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function xB(e,t){const n=(""+e).match(IB);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const SB=e=>+e||0;function hm(e,t){const n={},i=_t(t),s=i?Object.keys(t):t,r=_t(e)?i?o=>ht(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of s)n[o]=SB(r(o));return n}function ST(e){return hm(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Ps(e){return hm(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Le(e){const t=ST(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function le(e,t){e=e||{},t=t||Zt.font;let n=ht(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=ht(e.style,t.style);i&&!(""+i).match(TB)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:ht(e.family,t.family),lineHeight:xB(ht(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:ht(e.weight,t.weight),string:""};return s.string=_B(s),s}function Ro(e,t,n,i){let s=!0,r,o,a;for(r=0,o=e.length;r<o;++r)if(a=e[r],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),s=!1),n!==void 0&&zt(a)&&(a=a[n%a.length],s=!1),a!==void 0))return i&&!s&&(i.cacheable=!1),a}function kB(e,t,n){const{min:i,max:s}=e,r=gT(t,(s-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(r)),max:o(s,r)}}function is(e,t){return Object.assign(Object.create(e),t)}function fm(e,t=[""],n,i,s=()=>e[0]){const r=n||e;typeof i>"u"&&(i=RT("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:i,_getTarget:s,override:a=>fm([a,...e],t,r,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return CT(a,l,()=>LB(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return Rv(a).includes(l)},ownKeys(a){return Rv(a)},set(a,l,c){const u=a._storage||(a._storage=s());return a[l]=u[l]=c,delete a._keys,!0}})}function $r(e,t,n,i){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:kT(e,i),setContext:r=>$r(e,r,n,i),override:r=>$r(e.override(r),t,n,i)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete e[o],!0},get(r,o,a){return CT(r,o,()=>PB(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(r,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(r,o,a){return e[o]=a,delete r[o],!0}})}function kT(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:i,isScriptable:Xi(n)?n:()=>n,isIndexable:Xi(i)?i:()=>i}}const CB=(e,t)=>e?e+om(t):t,dm=(e,t)=>_t(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function CT(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const i=n();return e[t]=i,i}function PB(e,t,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=e;let a=i[t];return Xi(a)&&o.isScriptable(t)&&(a=RB(t,a,e,n)),zt(a)&&a.length&&(a=MB(t,a,e,o.isIndexable)),dm(t,a)&&(a=$r(a,s,r&&r[t],o)),a}function RB(e,t,n,i){const{_proxy:s,_context:r,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(r,o||i);return a.delete(e),dm(e,l)&&(l=pm(s._scopes,s,e,l)),l}function MB(e,t,n,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&i(e))return t[r.index%t.length];if(_t(t[0])){const l=t,c=s._scopes.filter(u=>u!==l);t=[];for(const u of l){const h=pm(c,s,e,u);t.push($r(h,r,o&&o[e],a))}}return t}function PT(e,t,n){return Xi(e)?e(t,n):e}const OB=(e,t)=>e===!0?t:typeof e=="string"?Yi(t,e):void 0;function DB(e,t,n,i,s){for(const r of t){const o=OB(n,r);if(o){e.add(o);const a=PT(o._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function pm(e,t,n,i){const s=t._rootScopes,r=PT(t._fallback,n,i),o=[...e,...s],a=new Set;a.add(i);let l=Pv(a,o,n,r||n,i);return l===null||typeof r<"u"&&r!==n&&(l=Pv(a,o,r,l,i),l===null)?!1:fm(Array.from(a),[""],s,r,()=>NB(t,n,i))}function Pv(e,t,n,i,s){for(;n;)n=DB(e,t,n,i,s);return n}function NB(e,t,n){const i=e._getTarget();t in i||(i[t]={});const s=i[t];return zt(s)&&_t(n)?n:s||{}}function LB(e,t,n,i){let s;for(const r of t)if(s=RT(CB(r,e),n),typeof s<"u")return dm(e,s)?pm(n,i,e,s):s}function RT(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function Rv(e){let t=e._keys;return t||(t=e._keys=VB(e._scopes)),t}function VB(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}function MT(e,t,n,i){const{iScale:s}=e,{key:r="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=t[c],o[a]={r:s.parse(Yi(u,r),c)};return o}const FB=Number.EPSILON||1e-14,Hr=(e,t)=>t<e.length&&!e[t].skip&&e[t],OT=e=>e==="x"?"y":"x";function BB(e,t,n,i){const s=e.skip?t:e,r=t,o=n.skip?t:n,a=Ld(r,s),l=Ld(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,f=i*u;return{previous:{x:r.x-h*(o.x-s.x),y:r.y-h*(o.y-s.y)},next:{x:r.x+f*(o.x-s.x),y:r.y+f*(o.y-s.y)}}}function UB(e,t,n){const i=e.length;let s,r,o,a,l,c=Hr(e,0);for(let u=0;u<i-1;++u)if(l=c,c=Hr(e,u+1),!(!l||!c)){if(Yo(t[u],0,FB)){n[u]=n[u+1]=0;continue}s=n[u]/t[u],r=n[u+1]/t[u],a=Math.pow(s,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=s*o*t[u],n[u+1]=r*o*t[u])}}function zB(e,t,n="x"){const i=OT(n),s=e.length;let r,o,a,l=Hr(e,0);for(let c=0;c<s;++c){if(o=a,a=l,l=Hr(e,c+1),!a)continue;const u=a[n],h=a[i];o&&(r=(u-o[n])/3,a[`cp1${n}`]=u-r,a[`cp1${i}`]=h-r*t[c]),l&&(r=(l[n]-u)/3,a[`cp2${n}`]=u+r,a[`cp2${i}`]=h+r*t[c])}}function jB(e,t="x"){const n=OT(t),i=e.length,s=Array(i).fill(0),r=Array(i);let o,a,l,c=Hr(e,0);for(o=0;o<i;++o)if(a=l,l=c,c=Hr(e,o+1),!!l){if(c){const u=c[t]-l[t];s[o]=u!==0?(c[n]-l[n])/u:0}r[o]=a?c?$n(s[o-1])!==$n(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}UB(e,s,r),zB(e,r,t)}function Hl(e,t,n){return Math.max(Math.min(e,n),t)}function $B(e,t){let n,i,s,r,o,a=ai(e[0],t);for(n=0,i=e.length;n<i;++n)o=r,r=a,a=n<i-1&&ai(e[n+1],t),r&&(s=e[n],o&&(s.cp1x=Hl(s.cp1x,t.left,t.right),s.cp1y=Hl(s.cp1y,t.top,t.bottom)),a&&(s.cp2x=Hl(s.cp2x,t.left,t.right),s.cp2y=Hl(s.cp2y,t.top,t.bottom)))}function HB(e,t,n,i,s){let r,o,a,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")jB(e,s);else{let c=i?e[e.length-1]:e[0];for(r=0,o=e.length;r<o;++r)a=e[r],l=BB(c,a,e[Math.min(r+1,o-(i?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&$B(e,n)}function DT(){return typeof window<"u"&&typeof document<"u"}function gm(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function gu(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const Sh=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function WB(e,t){return Sh(e).getPropertyValue(t)}const qB=["top","right","bottom","left"];function Rs(e,t,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=qB[s];i[r]=parseFloat(e[t+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const KB=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function GB(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:s,offsetY:r}=i;let o=!1,a,l;if(KB(s,r,e.target))a=s,l=r;else{const c=t.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function hs(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,s=Sh(n),r=s.boxSizing==="border-box",o=Rs(s,"padding"),a=Rs(s,"border","width"),{x:l,y:c,box:u}=GB(e,n),h=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:d,height:p}=t;return r&&(d-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-h)/d*n.width/i),y:Math.round((c-f)/p*n.height/i)}}function QB(e,t,n){let i,s;if(t===void 0||n===void 0){const r=gm(e);if(!r)t=e.clientWidth,n=e.clientHeight;else{const o=r.getBoundingClientRect(),a=Sh(r),l=Rs(a,"border","width"),c=Rs(a,"padding");t=o.width-c.width-l.width,n=o.height-c.height-l.height,i=gu(a.maxWidth,r,"clientWidth"),s=gu(a.maxHeight,r,"clientHeight")}}return{width:t,height:n,maxWidth:i||du,maxHeight:s||du}}const Wl=e=>Math.round(e*10)/10;function YB(e,t,n,i){const s=Sh(e),r=Rs(s,"margin"),o=gu(s.maxWidth,e,"clientWidth")||du,a=gu(s.maxHeight,e,"clientHeight")||du,l=QB(e,t,n);let{width:c,height:u}=l;if(s.boxSizing==="content-box"){const f=Rs(s,"border","width"),d=Rs(s,"padding");c-=d.width+f.width,u-=d.height+f.height}return c=Math.max(0,c-r.width),u=Math.max(0,i?c/i:u-r.height),c=Wl(Math.min(c,o,l.maxWidth)),u=Wl(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Wl(c/2)),(t!==void 0||n!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=Wl(Math.floor(u*i))),{width:c,height:u}}function Mv(e,t,n){const i=t||1,s=Math.floor(e.height*i),r=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||o.height!==s||o.width!==r?(e.currentDevicePixelRatio=i,o.height=s,o.width=r,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const XB=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return e}();function Ov(e,t){const n=WB(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function fs(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function JB(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:i==="middle"?n<.5?e.y:t.y:i==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function ZB(e,t,n,i){const s={x:e.cp2x,y:e.cp2y},r={x:t.cp1x,y:t.cp1y},o=fs(e,s,n),a=fs(s,r,n),l=fs(r,t,n),c=fs(o,a,n),u=fs(a,l,n);return fs(c,u,n)}const t5=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},e5=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Er(e,t,n){return e?t5(t,n):e5()}function NT(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function LT(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function VT(e){return e==="angle"?{between:La,compare:nB,normalize:Xe}:{between:ri,compare:(t,n)=>t-n,normalize:t=>t}}function Dv({start:e,end:t,count:n,loop:i,style:s}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n===0,style:s}}function n5(e,t,n){const{property:i,start:s,end:r}=n,{between:o,normalize:a}=VT(i),l=t.length;let{start:c,end:u,loop:h}=e,f,d;if(h){for(c+=l,u+=l,f=0,d=l;f<d&&o(a(t[c%l][i]),s,r);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:e.style}}function FT(e,t,n){if(!n)return[e];const{property:i,start:s,end:r}=n,o=t.length,{compare:a,between:l,normalize:c}=VT(i),{start:u,end:h,loop:f,style:d}=n5(e,t,n),p=[];let g=!1,m=null,_,y,w;const A=()=>l(s,w,_)&&a(s,w)!==0,E=()=>a(r,_)===0||l(r,w,_),T=()=>g||A(),k=()=>!g||E();for(let S=u,M=u;S<=h;++S)y=t[S%o],!y.skip&&(_=c(y[i]),_!==w&&(g=l(_,s,r),m===null&&T()&&(m=a(_,s)===0?S:M),m!==null&&k()&&(p.push(Dv({start:m,end:S,loop:f,count:o,style:d})),m=null),M=S,w=_));return m!==null&&p.push(Dv({start:m,end:h,loop:f,count:o,style:d})),p}function BT(e,t){const n=[],i=e.segments;for(let s=0;s<i.length;s++){const r=FT(i[s],e.points,t);r.length&&n.push(...r)}return n}function i5(e,t,n,i){let s=0,r=t-1;if(n&&!i)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,n&&(r+=s);r>s&&e[r%t].skip;)r--;return r%=t,{start:s,end:r}}function s5(e,t,n,i){const s=e.length,r=[];let o=t,a=e[t],l;for(l=t+1;l<=n;++l){const c=e[l%s];c.skip||c.stop?a.skip||(i=!1,r.push({start:t%s,end:(l-1)%s,loop:i}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&r.push({start:t%s,end:o%s,loop:i}),r}function r5(e,t){const n=e.points,i=e.options.spanGaps,s=n.length;if(!s)return[];const r=!!e._loop,{start:o,end:a}=i5(n,s,r,i);if(i===!0)return Nv(e,[{start:o,end:a,loop:r}],n,t);const l=a<o?a+s:a,c=!!e._fullLoop&&o===0&&a===s-1;return Nv(e,s5(n,o,l,c),n,t)}function Nv(e,t,n,i){return!i||!i.setContext||!n?t:o5(e,t,n,i)}function o5(e,t,n,i){const s=e._chart.getContext(),r=Lv(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=n.length,c=[];let u=r,h=t[0].start,f=h;function d(p,g,m,_){const y=a?-1:1;if(p!==g){for(p+=l;n[p%l].skip;)p-=y;for(;n[g%l].skip;)g+=y;p%l!==g%l&&(c.push({start:p%l,end:g%l,loop:m,style:_}),u=_,h=g%l)}}for(const p of t){h=a?h:p.start;let g=n[h%l],m;for(f=h+1;f<=p.end;f++){const _=n[f%l];m=Lv(i.setContext(is(s,{type:"segment",p0:g,p1:_,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),a5(m,u)&&d(h,f-1,p.loop,u),g=_,u=m}h<f-1&&d(h,f-1,p.loop,u)}return c}function Lv(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function a5(e,t){if(!t)return!1;const n=[],i=function(s,r){return um(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(e,i)!==JSON.stringify(t,i)}/*!
 * Chart.js v4.3.3
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class l5{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,s){const r=n.listeners[s],o=n.duration;r.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=AT.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(s.draw(),this._notify(s,i,t,"progress")),r.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),n+=r.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Qn=new l5;const Vv="transparent",c5={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=Sv(e||Vv),s=i.valid&&Sv(t||Vv);return s&&s.valid?s.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class u5{constructor(t,n,i,s){const r=n[i];s=Ro([t.to,s,r,t.from]);const o=Ro([t.from,r,s]);this._active=!0,this._fn=t.fn||c5[t.type||typeof o],this._easing=Xo[t.easing]||Xo.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Ro([t.to,n,s,t.from]),this._from=Ro([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,s=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||n<i),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=r;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(r,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class UT{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!_t(t))return;const n=Object.keys(Zt.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const r=t[s];if(!_t(r))return;const o={};for(const a of n)o[a]=r[a];(zt(r.properties)&&r.properties||[s]).forEach(a=>{(a===s||!i.has(a))&&i.set(a,o)})})}_animateOptions(t,n){const i=n.options,s=f5(t,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&h5(t.options.$animations,i).then(()=>{t.options=i},()=>{}),r}_createAnimations(t,n){const i=this._properties,s=[],r=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(t,n));continue}const u=n[c];let h=r[c];const f=i.get(c);if(h)if(f&&h.active()){h.update(f,u,a);continue}else h.cancel();if(!f||!f.duration){t[c]=u;continue}r[c]=h=new u5(f,t,c,u),s.push(h)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return Qn.add(this._chart,i),!0}}function h5(e,t){const n=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const r=e[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function f5(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Fv(e,t){const n=e&&e.options||{},i=n.reverse,s=n.min===void 0?t:0,r=n.max===void 0?t:0;return{start:i?r:s,end:i?s:r}}function d5(e,t,n){if(n===!1)return!1;const i=Fv(e,n),s=Fv(t,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function p5(e){let t,n,i,s;return _t(e)?(t=e.top,n=e.right,i=e.bottom,s=e.left):t=n=i=s=e,{top:t,right:n,bottom:i,left:s,disabled:e===!1}}function zT(e,t){const n=[],i=e._getSortedDatasetMetas(t);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function Bv(e,t,n,i={}){const s=e.keys,r=i.mode==="single";let o,a,l,c;if(t!==null){for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(i.all)continue;break}c=e.values[l],Xt(c)&&(r||t===0||$n(t)===$n(c))&&(t+=c)}return t}}function g5(e){const t=Object.keys(e),n=new Array(t.length);let i,s,r;for(i=0,s=t.length;i<s;++i)r=t[i],n[i]={x:r,y:e[r]};return n}function Uv(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function m5(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function _5(e){const{min:t,max:n,minDefined:i,maxDefined:s}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function y5(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function zv(e,t,n,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const r=e[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function jv(e,t){const{chart:n,_cachedMeta:i}=e,s=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=i,l=r.axis,c=o.axis,u=m5(r,o,i),h=t.length;let f;for(let d=0;d<h;++d){const p=t[d],{[l]:g,[c]:m}=p,_=p._stacks||(p._stacks={});f=_[c]=y5(s,u,g),f[a]=m,f._top=zv(f,o,!0,i.type),f._bottom=zv(f,o,!1,i.type);const y=f._visualValues||(f._visualValues={});y[a]=m}}function Af(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function v5(e,t){return is(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function b5(e,t,n){return is(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function go(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const s of t){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const wf=e=>e==="reset"||e==="none",$v=(e,t)=>t?e:Object.assign({},e),A5=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:zT(n,!0),values:null};class bn{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Uv(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&go(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(h,f,d,p)=>h==="x"?f:h==="r"?p:d,r=n.xAxisID=ht(i.xAxisID,Af(t,"x")),o=n.yAxisID=ht(i.yAxisID,Af(t,"y")),a=n.rAxisID=ht(i.rAxisID,Af(t,"r")),l=n.indexAxis,c=n.iAxisID=s(l,r,o,a),u=n.vAxisID=s(l,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Iv(this._data,this),t._stacked&&go(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(_t(n))this._data=g5(n);else if(i!==n){if(i){Iv(i,this);const s=this._cachedMeta;go(s),s._parsed=[]}n&&Object.isExtensible(n)&&oB(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=Uv(n.vScale,n),n.stack!==i.stack&&(s=!0,go(n),n.stack=i.stack),this._resyncElements(t),(s||r!==n._stacked)&&jv(this,n._parsed)}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:o}=i,a=r.axis;let l=t===0&&n===s.length?!0:i._sorted,c=t>0&&i._parsed[t-1],u,h,f;if(this._parsing===!1)i._parsed=s,i._sorted=!0,f=s;else{zt(s[t])?f=this.parseArrayData(i,s,t,n):_t(s[t])?f=this.parseObjectData(i,s,t,n):f=this.parsePrimitiveData(i,s,t,n);const d=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<n;++u)i._parsed[u+t]=h=f[u],l&&(d()&&(l=!1),c=h);i._sorted=l}o&&jv(this,f)}parsePrimitiveData(t,n,i,s){const{iScale:r,vScale:o}=t,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,h=new Array(s);let f,d,p;for(f=0,d=s;f<d;++f)p=f+i,h[f]={[a]:u||r.parse(c[p],p),[l]:o.parse(n[p],p)};return h}parseArrayData(t,n,i,s){const{xScale:r,yScale:o}=t,a=new Array(s);let l,c,u,h;for(l=0,c=s;l<c;++l)u=l+i,h=n[u],a[l]={x:r.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(t,n,i,s){const{xScale:r,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let u,h,f,d;for(u=0,h=s;u<h;++u)f=u+i,d=n[f],c[u]={x:r.parse(Yi(d,a),f),y:o.parse(Yi(d,l),f)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const s=this.chart,r=this._cachedMeta,o=n[t.axis],a={keys:zT(s,!0),values:n._stacks[t.axis]._visualValues};return Bv(a,o,r.index,{mode:i})}updateRangeFromParsed(t,n,i,s){const r=i[n.axis];let o=r===null?NaN:r;const a=s&&i._stacks[n.axis];s&&a&&(s.values=a,o=Bv(s,r,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&t===i.iScale,o=s.length,a=this._getOtherScale(t),l=A5(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=_5(a);let f,d;function p(){d=s[f];const g=d[a.axis];return!Xt(d[t.axis])||u>g||h<g}for(f=0;f<o&&!(!p()&&(this.updateRangeFromParsed(c,t,d,l),r));++f);if(r){for(f=o-1;f>=0;--f)if(!p()){this.updateRangeFromParsed(c,t,d,l);break}}return c}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let s,r,o;for(s=0,r=n.length;s<r;++s)o=n[s][t.axis],Xt(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(t);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=p5(ht(this.options.clip,d5(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(t,r,a,l),u=a;u<a+l;++u){const h=s[u];h.hidden||(h.active&&c?o.push(h):h.draw(t,r))}for(u=0;u<o.length;++u)o[u].draw(t,r)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const s=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];r=o.$context||(o.$context=b5(this.getContext(),t,o)),r.parsed=this.getParsed(t),r.raw=s.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=v5(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const s=n==="active",r=this._cachedDataOpts,o=t+"-"+n,a=r[o],l=this.enableOptionSharing&&Na(i);if(a)return $v(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),h=s?[`${t}Hover`,"hover",t,""]:[t,""],f=c.getOptionScopes(this.getDataset(),u),d=Object.keys(Zt.elements[t]),p=()=>this.getContext(i,s,n),g=c.resolveNamedOptions(f,d,p,h);return g.$shared&&(g.$shared=l,r[o]=Object.freeze($v(g,l))),g}_resolveAnimations(t,n,i){const s=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let l;if(s.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(f,this.getContext(t,i,n))}const c=new UT(s,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||wf(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),s=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:o}}updateElement(t,n,i,s){wf(s)?Object.assign(t,i):this._resolveAnimations(n,s).update(t,i)}updateSharedOptions(t,n,i){t&&!wf(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,s){t.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(t,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const s=i.length,r=n.length,o=Math.min(r,s);o&&this.parse(0,o),r>s?this._insertElements(s,r-s,t):r<s&&this._removeElements(r,s-r)}_insertElements(t,n,i=!0){const s=this._cachedMeta,r=s.data,o=t+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(r),a=t;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(t,n),i&&this.updateElements(r,t,n,"reset")}updateElements(t,n,i,s){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,n);i._stacked&&go(i,s)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,s]=t;this[n](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}F(bn,"defaults",{}),F(bn,"datasetElementType",null),F(bn,"dataElementType",null);function w5(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let s=0,r=n.length;s<r;s++)i=i.concat(n[s].controller.getAllParsedValues(e));e._cache.$bar=bT(i.sort((s,r)=>s-r))}return e._cache.$bar}function E5(e){const t=e.iScale,n=w5(t,e.type);let i=t._length,s,r,o,a;const l=()=>{o===32767||o===-32768||(Na(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(s=0,r=n.length;s<r;++s)o=t.getPixelForValue(n[s]),l();for(a=void 0,s=0,r=t.ticks.length;s<r;++s)o=t.getPixelForTick(s),l();return i}function I5(e,t,n,i){const s=n.barThickness;let r,o;return bt(s)?(r=t.min*n.categoryPercentage,o=n.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:t.pixels[e]-r/2}}function T5(e,t,n,i){const s=t.pixels,r=s[e];let o=e>0?s[e-1]:null,a=e<s.length-1?s[e+1]:null;const l=n.categoryPercentage;o===null&&(o=r-(a===null?t.end-t.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}function x5(e,t,n,i){const s=n.parse(e[0],i),r=n.parse(e[1],i),o=Math.min(s,r),a=Math.max(s,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:s,end:r,min:o,max:a}}function jT(e,t,n,i){return zt(e)?x5(e,t,n,i):t[n.axis]=n.parse(e,i),t}function Hv(e,t,n,i){const s=e.iScale,r=e.vScale,o=s.getLabels(),a=s===r,l=[];let c,u,h,f;for(c=n,u=n+i;c<u;++c)f=t[c],h={},h[s.axis]=a||s.parse(o[c],c),l.push(jT(f,h,r,c));return l}function Ef(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function S5(e,t,n){return e!==0?$n(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function k5(e){let t,n,i,s,r;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(s="end",r="start"):(s="start",r="end"),{start:n,end:i,reverse:t,top:s,bottom:r}}function C5(e,t,n,i){let s=t.borderSkipped;const r={};if(!s){e.borderSkipped=r;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=k5(e);s==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?s=c:(n._bottom||0)===i?s=u:(r[Wv(u,o,a,l)]=!0,s=c)),r[Wv(s,o,a,l)]=!0,e.borderSkipped=r}function Wv(e,t,n,i){return i?(e=P5(e,t,n),e=qv(e,n,t)):e=qv(e,t,n),e}function P5(e,t,n){return e===t?n:e===n?t:e}function qv(e,t,n){return e==="start"?t:e==="end"?n:e}function R5(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class wc extends bn{parsePrimitiveData(t,n,i,s){return Hv(t,n,i,s)}parseArrayData(t,n,i,s){return Hv(t,n,i,s)}parseObjectData(t,n,i,s){const{iScale:r,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let f,d,p,g;for(f=i,d=i+s;f<d;++f)g=n[f],p={},p[r.axis]=r.parse(Yi(g,c),f),h.push(jT(Yi(g,u),p,o,f));return h}updateRangeFromParsed(t,n,i,s){super.updateRangeFromParsed(t,n,i,s);const r=i._custom;r&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:s}=n,r=this.getParsed(t),o=r._custom,a=Ef(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,s){const r=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,s);for(let d=n;d<n+i;d++){const p=this.getParsed(d),g=r||bt(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(d),m=this._calculateBarIndexPixels(d,u),_=(p._stacks||{})[a.axis],y={horizontal:c,base:g.base,enableBorderRadius:!_||Ef(p._custom)||o===_._top||o===_._bottom,x:c?g.head:m.center,y:c?m.center:g.head,height:c?m.size:Math.abs(g.size),width:c?Math.abs(g.size):m.size};f&&(y.options=h||this.resolveDataElementOptions(d,t[d].active?"active":s));const w=y.options||t[d].options;C5(y,w,_,o),R5(y,w,u.ratio),this.updateElement(t[d],d,y,s)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),r=i.options.stacked,o=[],a=l=>{const c=l.controller.getParsed(n),u=c&&c[l.vScale.axis];if(bt(u)||isNaN(u))return!0};for(const l of s)if(!(n!==void 0&&a(l))&&((r===!1||o.indexOf(l.stack)===-1||r===void 0&&l.stack===void 0)&&o.push(l.stack),l.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,i){const s=this._getStacks(t,i),r=n!==void 0?s.indexOf(n):-1;return r===-1?s.length-1:r}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,s=[];let r,o;for(r=0,o=n.data.length;r<o;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const a=t.barThickness;return{min:a||E5(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(t),c=l._custom,u=Ef(c);let h=l[n.axis],f=0,d=i?this.applyStack(n,l,i):h,p,g;d!==h&&(f=d-h,d=h),u&&(h=c.barStart,d=c.barEnd-c.barStart,h!==0&&$n(h)!==$n(c.barEnd)&&(f=0),f+=h);const m=!bt(r)&&!u?r:f;let _=n.getPixelForValue(m);if(this.chart.getDataVisibility(t)?p=n.getPixelForValue(f+d):p=_,g=p-_,Math.abs(g)<o){g=S5(g,n,a)*o,h===a&&(_-=g/2);const y=n.getPixelForDecimal(0),w=n.getPixelForDecimal(1),A=Math.min(y,w),E=Math.max(y,w);_=Math.max(Math.min(_,E),A),p=_+g,i&&!u&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(p)-n.getValueForPixel(_))}if(_===n.getPixelForValue(a)){const y=$n(g)*n.getLineWidthForValue(a)/2;_+=y,g-=y}return{size:g,base:_,head:p,center:p+g/2}}_calculateBarIndexPixels(t,n){const i=n.scale,s=this.options,r=s.skipNull,o=ht(s.maxBarThickness,1/0);let a,l;if(n.grouped){const c=r?this._getStackCount(t):n.stackCount,u=s.barThickness==="flex"?T5(t,n,s,c):I5(t,n,s,c),h=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);a=u.start+u.chunk*h+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=i.getPixelForValue(this.getParsed(t)[i.axis],t),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[n.axis]!==null&&i[r].draw(this._ctx)}}F(wc,"id","bar"),F(wc,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),F(wc,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Ec extends bn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,i,s){const r=super.parsePrimitiveData(t,n,i,s);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+i).radius;return r}parseArrayData(t,n,i,s){const r=super.parseArrayData(t,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=ht(a[2],this.resolveDataElementOptions(o+i).radius)}return r}parseObjectData(t,n,i,s){const r=super.parseObjectData(t,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=ht(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let i=t.length-1;i>=0;--i)n=Math.max(n,t[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,o=this.getParsed(t),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y),c=o._custom;return{label:i[t]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,i,s){const r=s==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,s),u=o.axis,h=a.axis;for(let f=n;f<n+i;f++){const d=t[f],p=!r&&this.getParsed(f),g={},m=g[u]=r?o.getPixelForDecimal(.5):o.getPixelForValue(p[u]),_=g[h]=r?a.getBasePixel():a.getPixelForValue(p[h]);g.skip=isNaN(m)||isNaN(_),c&&(g.options=l||this.resolveDataElementOptions(f,d.active?"active":s),r&&(g.options.radius=0)),this.updateElement(d,f,g,s)}}resolveDataElementOptions(t,n){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const r=s.radius;return n!=="active"&&(s.radius=0),s.radius+=ht(i&&i._custom,r),s}}F(Ec,"id","bubble"),F(Ec,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),F(Ec,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function M5(e,t,n){let i=1,s=1,r=0,o=0;if(t<jt){const a=e,l=a+t,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),f=Math.sin(l),d=(w,A,E)=>La(w,a,l,!0)?1:Math.max(A,A*n,E,E*n),p=(w,A,E)=>La(w,a,l,!0)?-1:Math.min(A,A*n,E,E*n),g=d(0,c,h),m=d(Jt,u,f),_=p(Wt,c,h),y=p(Wt+Jt,u,f);i=(g-_)/2,s=(m-y)/2,r=-(g+_)/2,o=-(m+y)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:o}}class bs extends bn{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let r=l=>+i[l];if(_t(i[t])){const{key:l="value"}=this._parsing;r=c=>+Yi(i[c],l)}let o,a;for(o=t,a=t+n;o<a;++o)s._parsed[o]=r(o)}}_getRotation(){return gn(this.options.rotation-90)}_getCircumference(){return gn(this.options.circumference)}_getRotationExtents(){let t=jt,n=-jt;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,r=s._getRotation(),o=s._getCircumference();t=Math.min(t,r),n=Math.max(n,r+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:i}=n,s=this._cachedMeta,r=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(q4(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:d,offsetX:p,offsetY:g}=M5(h,u,l),m=(i.width-o)/f,_=(i.height-o)/d,y=Math.max(Math.min(m,_)/2,0),w=gT(this.options.radius,y),A=Math.max(w*l,0),E=(w-A)/this._getVisibleDatasetWeightTotal();this.offsetX=p*w,this.offsetY=g*w,s.total=this.calculateTotal(),this.outerRadius=w-E*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-E*c,0),this.updateElements(r,0,r.length,t)}_circumference(t,n){const i=this.options,s=this._cachedMeta,r=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*r/jt)}updateElements(t,n,i,s){const r=s==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,f=r&&c.animateScale,d=f?0:this.innerRadius,p=f?0:this.outerRadius,{sharedOptions:g,includeOptions:m}=this._getSharedOptions(n,s);let _=this._getRotation(),y;for(y=0;y<n;++y)_+=this._circumference(y,r);for(y=n;y<n+i;++y){const w=this._circumference(y,r),A=t[y],E={x:u+this.offsetX,y:h+this.offsetY,startAngle:_,endAngle:_+w,circumference:w,outerRadius:p,innerRadius:d};m&&(E.options=g||this.resolveDataElementOptions(y,A.active?"active":s)),_+=w,this.updateElement(A,y,E,s)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let i=0,s;for(s=0;s<n.length;s++){const r=t._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?jt*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=yl(n._parsed[t],i.options.locale);return{label:s[t]||"",value:r}}getMaxBorderWidth(t){let n=0;const i=this.chart;let s,r,o,a,l;if(!t){for(s=0,r=i.data.datasets.length;s<r;++s)if(i.isDatasetVisible(s)){o=i.getDatasetMeta(s),t=o.data,a=o.controller;break}}if(!t)return 0;for(s=0,r=t.length;s<r;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let i=0,s=t.length;i<s;++i){const r=this.resolveDataElementOptions(i);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(t){return Math.max(ht(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}F(bs,"id","doughnut"),F(bs,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),F(bs,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),F(bs,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return n.labels.map((r,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class Ic extends bn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=ET(n,s,o);this._drawStart=a,this._drawCount=l,IT(n)&&(a=0,l=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},t),this.updateElements(s,a,l,t)}updateElements(t,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,s),f=o.axis,d=a.axis,{spanGaps:p,segment:g}=this.options,m=jr(p)?p:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||r||s==="none",y=n+i,w=t.length;let A=n>0&&this.getParsed(n-1);for(let E=0;E<w;++E){const T=t[E],k=_?T:{};if(E<n||E>=y){k.skip=!0;continue}const S=this.getParsed(E),M=bt(S[d]),$=k[f]=o.getPixelForValue(S[f],E),Y=k[d]=r||M?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,S,l):S[d],E);k.skip=isNaN($)||isNaN(Y)||M,k.stop=E>0&&Math.abs(S[f]-A[f])>m,g&&(k.parsed=S,k.raw=c.data[E]),h&&(k.options=u||this.resolveDataElementOptions(E,T.active?"active":s)),_||this.updateElement(T,E,k,s),A=S}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}F(Ic,"id","line"),F(Ic,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),F(Ic,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Zo extends bn{constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=yl(n._parsed[t].r,i.options.locale);return{label:s[t]||"",value:r}}parseObjectData(t,n,i,s){return MT.bind(this)(t,n,i,s)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,s)=>{const r=this.getParsed(s).r;!isNaN(r)&&this.chart.getDataVisibility(s)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,i=t.options,s=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(s/2,0),o=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),a=(r-o)/t.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,n,i,s){const r=s==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,h=c.yCenter,f=c.getIndexAngle(0)-.5*Wt;let d=f,p;const g=360/this.countVisibleElements();for(p=0;p<n;++p)d+=this._computeAngle(p,s,g);for(p=n;p<n+i;p++){const m=t[p];let _=d,y=d+this._computeAngle(p,s,g),w=o.getDataVisibility(p)?c.getDistanceFromCenterForValue(this.getParsed(p).r):0;d=y,r&&(l.animateScale&&(w=0),l.animateRotate&&(_=y=f));const A={x:u,y:h,innerRadius:0,outerRadius:w,startAngle:_,endAngle:y,options:this.resolveDataElementOptions(p,m.active?"active":s)};this.updateElement(m,p,A,s)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(t,n,i){return this.chart.getDataVisibility(t)?gn(this.resolveDataElementOptions(t,n).angle||i):0}}F(Zo,"id","polarArea"),F(Zo,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),F(Zo,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return n.labels.map((r,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Bd extends bs{}F(Bd,"id","pie"),F(Bd,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Tc extends bn{getLabelAndValue(t){const n=this._cachedMeta.vScale,i=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(t,n,i,s){return MT.bind(this)(t,n,i,s)}update(t){const n=this._cachedMeta,i=n.dataset,s=n.data||[],r=n.iScale.getLabels();if(i.points=s,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===s.length,options:o};this.updateElement(i,void 0,a,t)}this.updateElements(s,0,s.length,t)}updateElements(t,n,i,s){const r=this._cachedMeta.rScale,o=s==="reset";for(let a=n;a<n+i;a++){const l=t[a],c=this.resolveDataElementOptions(a,l.active?"active":s),u=r.getPointPositionForValue(a,this.getParsed(a).r),h=o?r.xCenter:u.x,f=o?r.yCenter:u.y,d={x:h,y:f,angle:u.angle,skip:isNaN(h)||isNaN(f),options:c};this.updateElement(l,a,d,s)}}}F(Tc,"id","radar"),F(Tc,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),F(Tc,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class xc extends bn{getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,o=this.getParsed(t),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y);return{label:i[t]||"",value:"("+a+", "+l+")"}}update(t){const n=this._cachedMeta,{data:i=[]}=n,s=this.chart._animationsDisabled;let{start:r,count:o}=ET(n,i,s);if(this._drawStart=r,this._drawCount=o,IT(n)&&(r=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!s,options:c},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,r,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,s),h=this.getSharedOptions(u),f=this.includeOptions(s,h),d=o.axis,p=a.axis,{spanGaps:g,segment:m}=this.options,_=jr(g)?g:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||r||s==="none";let w=n>0&&this.getParsed(n-1);for(let A=n;A<n+i;++A){const E=t[A],T=this.getParsed(A),k=y?E:{},S=bt(T[p]),M=k[d]=o.getPixelForValue(T[d],A),$=k[p]=r||S?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,T,l):T[p],A);k.skip=isNaN(M)||isNaN($)||S,k.stop=A>0&&Math.abs(T[d]-w[d])>_,m&&(k.parsed=T,k.raw=c.data[A]),f&&(k.options=h||this.resolveDataElementOptions(A,E.active?"active":s)),y||this.updateElement(E,A,k,s),w=T}this.updateSharedOptions(h,s,u)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=t.dataset,s=i.options&&i.options.borderWidth||0;if(!n.length)return s;const r=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,r,o)/2}}F(xc,"id","scatter"),F(xc,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),F(xc,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var O5=Object.freeze({__proto__:null,BarController:wc,BubbleController:Ec,DoughnutController:bs,LineController:Ic,PieController:Bd,PolarAreaController:Zo,RadarController:Tc,ScatterController:xc});function ls(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class mm{constructor(t){F(this,"options");this.options=t||{}}static override(t){Object.assign(mm.prototype,t)}init(){}formats(){return ls()}parse(){return ls()}format(){return ls()}add(){return ls()}diff(){return ls()}startOf(){return ls()}endOf(){return ls()}}var D5={_date:mm};function N5(e,t,n,i){const{controller:s,data:r,_sorted:o}=e,a=s._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&o&&r.length){const l=a._reversePixels?sB:oi;if(i){if(s._sharedOptions){const c=r[0],u=typeof c.getRange=="function"&&c.getRange(t);if(u){const h=l(r,t,n-u),f=l(r,t,n+u);return{lo:h.lo,hi:f.hi}}}}else return l(r,t,n)}return{lo:0,hi:r.length-1}}function vl(e,t,n,i,s){const r=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:h,hi:f}=N5(r[a],t,o,s);for(let d=h;d<=f;++d){const p=u[d];p.skip||i(p,c,d)}}}function L5(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,s){const r=t?Math.abs(i.x-s.x):0,o=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function If(e,t,n,i,s){const r=[];return!s&&!e.isPointInArea(t)||vl(e,n,t,function(a,l,c){!s&&!ai(a,e.chartArea,0)||a.inRange(t.x,t.y,i)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function V5(e,t,n,i){let s=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:h}=yT(o,{x:t.x,y:t.y});La(h,c,u)&&s.push({element:o,datasetIndex:a,index:l})}return vl(e,n,t,r),s}function F5(e,t,n,i,s,r){let o=[];const a=L5(n);let l=Number.POSITIVE_INFINITY;function c(u,h,f){const d=u.inRange(t.x,t.y,s);if(i&&!d)return;const p=u.getCenterPoint(s);if(!(!!r||e.isPointInArea(p))&&!d)return;const m=a(t,p);m<l?(o=[{element:u,datasetIndex:h,index:f}],l=m):m===l&&o.push({element:u,datasetIndex:h,index:f})}return vl(e,n,t,c),o}function Tf(e,t,n,i,s,r){return!r&&!e.isPointInArea(t)?[]:n==="r"&&!i?V5(e,t,n,s):F5(e,t,n,i,s,r)}function Kv(e,t,n,i,s){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return vl(e,n,t,(l,c,u)=>{l[o](t[n],s)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(t.x,t.y,s))}),i&&!a?[]:r}var B5={evaluateInteractionItems:vl,modes:{index(e,t,n,i){const s=hs(t,e),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?If(e,s,r,i,o):Tf(e,s,r,!1,i,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(e,t,n,i){const s=hs(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?If(e,s,r,i,o):Tf(e,s,r,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(e,t,n,i){const s=hs(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;return If(e,s,r,i,o)},nearest(e,t,n,i){const s=hs(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;return Tf(e,s,r,n.intersect,i,o)},x(e,t,n,i){const s=hs(t,e);return Kv(e,s,"x",n.intersect,i)},y(e,t,n,i){const s=hs(t,e);return Kv(e,s,"y",n.intersect,i)}}};const $T=["left","top","right","bottom"];function mo(e,t){return e.filter(n=>n.pos===t)}function Gv(e,t){return e.filter(n=>$T.indexOf(n.pos)===-1&&n.box.axis===t)}function _o(e,t){return e.sort((n,i)=>{const s=t?i:n,r=t?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function U5(e){const t=[];let n,i,s,r,o,a;for(n=0,i=(e||[]).length;n<i;++n)s=e[n],{position:r,options:{stack:o,stackWeight:a=1}}=s,t.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:a});return t}function z5(e){const t={};for(const n of e){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!$T.includes(s))continue;const o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}function j5(e,t){const n=z5(e),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let r,o,a;for(r=0,o=e.length;r<o;++r){a=e[r];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&t.availableWidth,a.height=s):(a.width=i,a.height=u?u*s:l&&t.availableHeight)}return n}function $5(e){const t=U5(e),n=_o(t.filter(c=>c.box.fullSize),!0),i=_o(mo(t,"left"),!0),s=_o(mo(t,"right")),r=_o(mo(t,"top"),!0),o=_o(mo(t,"bottom")),a=Gv(t,"x"),l=Gv(t,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:mo(t,"chartArea"),vertical:i.concat(s).concat(l),horizontal:r.concat(o).concat(a)}}function Qv(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function HT(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function H5(e,t,n,i){const{pos:s,box:r}=n,o=e.maxPadding;if(!_t(s)){n.size&&(e[s]-=n.size);const h=i[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?r.height:r.width),n.size=h.size/h.count,e[s]+=n.size}r.getPadding&&HT(o,r.getPadding());const a=Math.max(0,t.outerWidth-Qv(o,e,"left","right")),l=Math.max(0,t.outerHeight-Qv(o,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function W5(e){const t=e.maxPadding;function n(i){const s=Math.max(t[i]-e[i],0);return e[i]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function q5(e,t){const n=t.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(t[o],n[o])}),r}return i(e?["left","right"]:["top","bottom"])}function Mo(e,t,n,i){const s=[];let r,o,a,l,c,u;for(r=0,o=e.length,c=0;r<o;++r){a=e[r],l=a.box,l.update(a.width||t.w,a.height||t.h,q5(a.horizontal,t));const{same:h,other:f}=H5(t,n,a,i);c|=h&&s.length,u=u||f,l.fullSize||s.push(a)}return c&&Mo(s,t,n,i)||u}function ql(e,t,n,i,s){e.top=n,e.left=t,e.right=t+i,e.bottom=n+s,e.width=i,e.height=s}function Yv(e,t,n,i){const s=n.padding;let{x:r,y:o}=t;for(const a of e){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=t.w*u,f=c.size||l.height;Na(c.start)&&(o=c.start),l.fullSize?ql(l,s.left,o,n.outerWidth-s.right-s.left,f):ql(l,t.left+c.placed,o,h,f),c.start=o,c.placed+=h,o=l.bottom}else{const h=t.h*u,f=c.size||l.width;Na(c.start)&&(r=c.start),l.fullSize?ql(l,r,s.top,f,n.outerHeight-s.bottom-s.top):ql(l,r,t.top+c.placed,f,h),c.start=r,c.placed+=h,r=l.right}}t.x=r,t.y=o}var Pe={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const s=Le(e.options.layout.padding),r=Math.max(t-s.width,0),o=Math.max(n-s.height,0),a=$5(e.boxes),l=a.vertical,c=a.horizontal;kt(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,m)=>m.box.options&&m.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},s);HT(f,Le(i));const d=Object.assign({maxPadding:f,w:r,h:o,x:s.left,y:s.top},s),p=j5(l.concat(c),h);Mo(a.fullSize,d,h,p),Mo(l,d,h,p),Mo(c,d,h,p)&&Mo(l,d,h,p),W5(d),Yv(a.leftAndTop,d,h,p),d.x+=d.w,d.y+=d.h,Yv(a.rightAndBottom,d,h,p),e.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},kt(a.chartArea,g=>{const m=g.box;Object.assign(m,e.chartArea),m.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})})}};class WT{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,s){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(t){return!0}updateConfig(t){}}class K5 extends WT{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Sc="$chartjs",G5={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Xv=e=>e===null||e==="";function Q5(e,t){const n=e.style,i=e.getAttribute("height"),s=e.getAttribute("width");if(e[Sc]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",Xv(s)){const r=Ov(e,"width");r!==void 0&&(e.width=r)}if(Xv(i))if(e.style.height==="")e.height=e.width/(t||2);else{const r=Ov(e,"height");r!==void 0&&(e.height=r)}return e}const qT=XB?{passive:!0}:!1;function Y5(e,t,n){e.addEventListener(t,n,qT)}function X5(e,t,n){e.canvas.removeEventListener(t,n,qT)}function J5(e,t){const n=G5[e.type]||e.type,{x:i,y:s}=hs(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:s!==void 0?s:null}}function mu(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function Z5(e,t,n){const i=e.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||mu(a.addedNodes,i),o=o&&!mu(a.removedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function t9(e,t,n){const i=e.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||mu(a.removedNodes,i),o=o&&!mu(a.addedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Fa=new Map;let Jv=0;function KT(){const e=window.devicePixelRatio;e!==Jv&&(Jv=e,Fa.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function e9(e,t){Fa.size||window.addEventListener("resize",KT),Fa.set(e,t)}function n9(e){Fa.delete(e),Fa.size||window.removeEventListener("resize",KT)}function i9(e,t,n){const i=e.canvas,s=i&&gm(i);if(!s)return;const r=wT((a,l)=>{const c=s.clientWidth;n(a,l),c<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(s),e9(e,r),o}function xf(e,t,n){n&&n.disconnect(),t==="resize"&&n9(e)}function s9(e,t,n){const i=e.canvas,s=wT(r=>{e.ctx!==null&&n(J5(r,e))},e);return Y5(i,t,s),s}class r9 extends WT{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(Q5(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[Sc])return!1;const i=n[Sc].initial;["height","width"].forEach(r=>{const o=i[r];bt(o)?n.removeAttribute(r):n.setAttribute(r,o)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[Sc],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),o={attach:Z5,detach:t9,resize:i9}[n]||s9;s[n]=o(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),s=i[n];if(!s)return;({attach:xf,detach:xf,resize:xf}[n]||X5)(t,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,s){return YB(t,n,i,s)}isAttached(t){const n=gm(t);return!!(n&&n.isConnected)}}function o9(e){return!DT()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?K5:r9}var lc;let yi=(lc=class{constructor(){F(this,"x");F(this,"y");F(this,"active",!1);F(this,"options");F(this,"$animations")}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return jr(this.x)&&jr(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const s={};return t.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}},F(lc,"defaults",{}),F(lc,"defaultRoutes"),lc);function a9(e,t){const n=e.options.ticks,i=l9(e),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?u9(t):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>s)return h9(t,c,r,o/s),c;const u=c9(r,t,s);if(o>0){let h,f;const d=o>1?Math.round((l-a)/(o-1)):null;for(Kl(t,c,u,bt(d)?0:a-d,a),h=0,f=o-1;h<f;h++)Kl(t,c,u,r[h],r[h+1]);return Kl(t,c,u,l,bt(d)?t.length:l+d),c}return Kl(t,c,u),c}function l9(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(i,s))}function c9(e,t,n){const i=f9(e),s=t.length/n;if(!i)return Math.max(s,1);const r=tB(i);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>s)return l}return Math.max(s,1)}function u9(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function h9(e,t,n,i){let s=0,r=n[0],o;for(i=Math.ceil(i),o=0;o<e.length;o++)o===r&&(t.push(e[o]),s++,r=n[s*i])}function Kl(e,t,n,i,s){const r=ht(i,0),o=Math.min(ht(s,e.length),e.length);let a=0,l,c,u;for(n=Math.ceil(n),s&&(l=s-i,n=l/Math.floor(l/n)),u=r;u<0;)a++,u=Math.round(r+a*n);for(c=Math.max(r,0);c<o;c++)c===u&&(t.push(e[c]),a++,u=Math.round(r+a*n))}function f9(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const d9=e=>e==="left"?"right":e==="right"?"left":e,Zv=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,tb=(e,t)=>Math.min(t||e,e);function eb(e,t){const n=[],i=e.length/t,s=e.length;let r=0;for(;r<s;r+=i)n.push(e[Math.floor(r)]);return n}function p9(e,t,n){const i=e.ticks.length,s=Math.min(t,i-1),r=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(s),c;if(!(n&&(i===1?c=Math.max(l-r,o-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(s-1))/2,l+=s<t?c:-c,l<r-a||l>o+a)))return l}function g9(e,t){kt(e,n=>{const i=n.gc,s=i.length/2;let r;if(s>t){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function yo(e){return e.drawTicks?e.tickLength:0}function nb(e,t){if(!e.display)return 0;const n=le(e.font,t),i=Le(e.padding);return(zt(e.text)?e.text.length:1)*n.lineHeight+i.height}function m9(e,t){return is(e,{scale:t,type:"scale"})}function _9(e,t,n){return is(e,{tick:n,index:t,type:"tick"})}function y9(e,t,n){let i=cm(e);return(n&&t!=="right"||!n&&t==="right")&&(i=d9(i)),i}function v9(e,t,n,i){const{top:s,left:r,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:u}=l;let h=0,f,d,p;const g=o-s,m=a-r;if(e.isHorizontal()){if(d=Ie(i,r,a),_t(n)){const _=Object.keys(n)[0],y=n[_];p=u[_].getPixelForValue(y)+g-t}else n==="center"?p=(c.bottom+c.top)/2+g-t:p=Zv(e,n,t);f=a-r}else{if(_t(n)){const _=Object.keys(n)[0],y=n[_];d=u[_].getPixelForValue(y)-m+t}else n==="center"?d=(c.left+c.right)/2-m+t:d=Zv(e,n,t);p=Ie(i,o,s),h=n==="left"?-Jt:Jt}return{titleX:d,titleY:p,maxWidth:f,rotation:h}}class tr extends yi{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return t=Qe(t,Number.POSITIVE_INFINITY),n=Qe(n,Number.NEGATIVE_INFINITY),i=Qe(i,Number.POSITIVE_INFINITY),s=Qe(s,Number.NEGATIVE_INFINITY),{min:Qe(t,i),max:Qe(n,s),minDefined:Xt(t),maxDefined:Xt(n)}}getMinMax(t){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),s||(n=Math.min(n,o.min)),r||(i=Math.max(i,o.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:Qe(n,Qe(i,n)),max:Qe(i,Qe(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Dt(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:s,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=kB(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?eb(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=a9(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Dt(this.options.afterUpdate,[this])}beforeSetDimensions(){Dt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Dt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Dt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Dt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i],r.label=Dt(n.callback,[r.value,i,t],this)}afterTickToLabelConversion(){Dt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Dt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=tb(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,r=n.maxRotation;let o=s,a,l,c;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,d=pe(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/i:d/(i-1),h+6>a&&(a=d/(i-(t.offset?.5:1)),l=this.maxHeight-yo(t.grid)-n.padding-nb(t.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),o=am(Math.min(Math.asin(pe((u.highest.height+6)/a,-1,1)),Math.asin(pe(l/c,-1,1))-Math.asin(pe(f/c,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){Dt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Dt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=nb(s,n.options.font);if(a?(t.width=this.maxWidth,t.height=yo(r)+l):(t.height=this.maxHeight,t.width=yo(r)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:f}=this._getLabelSizes(),d=i.padding*2,p=gn(this.labelRotation),g=Math.cos(p),m=Math.sin(p);if(a){const _=i.mirror?0:m*h.width+g*f.height;t.height=Math.min(this.maxHeight,t.height+_+d)}else{const _=i.mirror?0:g*h.width+m*f.height;t.width=Math.min(this.maxWidth,t.width+_+d)}this._calculatePadding(c,u,m,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,s){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,d=0;l?c?(f=s*t.width,d=i*n.height):(f=i*t.height,d=s*n.width):r==="start"?d=n.width:r==="end"?f=t.width:r!=="inner"&&(f=t.width/2,d=n.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((d-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=t.height/2;r==="start"?(u=0,h=t.height):r==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Dt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)bt(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=eb(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:s,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(n/tb(n,i));let c=0,u=0,h,f,d,p,g,m,_,y,w,A,E;for(h=0;h<n;h+=l){if(p=t[h].label,g=this._resolveTickFontOptions(h),s.font=m=g.string,_=r[m]=r[m]||{data:{},gc:[]},y=g.lineHeight,w=A=0,!bt(p)&&!zt(p))w=pu(s,_.data,_.gc,w,p),A=y;else if(zt(p))for(f=0,d=p.length;f<d;++f)E=p[f],!bt(E)&&!zt(E)&&(w=pu(s,_.data,_.gc,w,E),A+=y);o.push(w),a.push(A),c=Math.max(w,c),u=Math.max(A,u)}g9(r,n);const T=o.indexOf(c),k=a.indexOf(u),S=M=>({width:o[M]||0,height:a[M]||0});return{first:S(0),last:S(n-1),widest:S(T),highest:S(k),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return iB(this._alignToPixels?as(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=_9(this.getContext(),t,i))}return this.$context||(this.$context=m9(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=gn(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*i>a*s?a/i:l/s:l*s<a*i?l/i:a/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:o,border:a}=s,l=r.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=yo(r),d=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,m=g/2,_=function(X){return as(i,X,g)};let y,w,A,E,T,k,S,M,$,Y,st,It;if(o==="top")y=_(this.bottom),k=this.bottom-f,M=y-m,Y=_(t.top)+m,It=t.bottom;else if(o==="bottom")y=_(this.top),Y=t.top,It=_(t.bottom)-m,k=y+m,M=this.top+f;else if(o==="left")y=_(this.right),T=this.right-f,S=y-m,$=_(t.left)+m,st=t.right;else if(o==="right")y=_(this.left),$=t.left,st=_(t.right)-m,T=y+m,S=this.left+f;else if(n==="x"){if(o==="center")y=_((t.top+t.bottom)/2+.5);else if(_t(o)){const X=Object.keys(o)[0],it=o[X];y=_(this.chart.scales[X].getPixelForValue(it))}Y=t.top,It=t.bottom,k=y+m,M=k+f}else if(n==="y"){if(o==="center")y=_((t.left+t.right)/2);else if(_t(o)){const X=Object.keys(o)[0],it=o[X];y=_(this.chart.scales[X].getPixelForValue(it))}T=y-m,S=T-f,$=t.left,st=t.right}const ee=ht(s.ticks.maxTicksLimit,h),dt=Math.max(1,Math.ceil(h/ee));for(w=0;w<h;w+=dt){const X=this.getContext(w),it=r.setContext(X),ut=a.setContext(X),Mt=it.lineWidth,Ve=it.color,Fe=ut.dash||[],ne=ut.dashOffset,sn=it.tickWidth,rn=it.tickColor,Sn=it.tickBorderDash||[],Kt=it.tickBorderDashOffset;A=p9(this,w,l),A!==void 0&&(E=as(i,A,Mt),c?T=S=$=st=E:k=M=Y=It=E,d.push({tx1:T,ty1:k,tx2:S,ty2:M,x1:$,y1:Y,x2:st,y2:It,width:Mt,color:Ve,borderDash:Fe,borderDashOffset:ne,tickWidth:sn,tickColor:rn,tickBorderDash:Sn,tickBorderDashOffset:Kt}))}return this._ticksLength=h,this._borderValue=y,d}_computeLabelItems(t){const n=this.axis,i=this.options,{position:s,ticks:r}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=r,f=yo(i.grid),d=f+u,p=h?-u:d,g=-gn(this.labelRotation),m=[];let _,y,w,A,E,T,k,S,M,$,Y,st,It="middle";if(s==="top")T=this.bottom-p,k=this._getXAxisLabelAlignment();else if(s==="bottom")T=this.top+p,k=this._getXAxisLabelAlignment();else if(s==="left"){const dt=this._getYAxisLabelAlignment(f);k=dt.textAlign,E=dt.x}else if(s==="right"){const dt=this._getYAxisLabelAlignment(f);k=dt.textAlign,E=dt.x}else if(n==="x"){if(s==="center")T=(t.top+t.bottom)/2+d;else if(_t(s)){const dt=Object.keys(s)[0],X=s[dt];T=this.chart.scales[dt].getPixelForValue(X)+d}k=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")E=(t.left+t.right)/2-d;else if(_t(s)){const dt=Object.keys(s)[0],X=s[dt];E=this.chart.scales[dt].getPixelForValue(X)}k=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?It="top":l==="end"&&(It="bottom"));const ee=this._getLabelSizes();for(_=0,y=a.length;_<y;++_){w=a[_],A=w.label;const dt=r.setContext(this.getContext(_));S=this.getPixelForTick(_)+r.labelOffset,M=this._resolveTickFontOptions(_),$=M.lineHeight,Y=zt(A)?A.length:1;const X=Y/2,it=dt.color,ut=dt.textStrokeColor,Mt=dt.textStrokeWidth;let Ve=k;o?(E=S,k==="inner"&&(_===y-1?Ve=this.options.reverse?"left":"right":_===0?Ve=this.options.reverse?"right":"left":Ve="center"),s==="top"?c==="near"||g!==0?st=-Y*$+$/2:c==="center"?st=-ee.highest.height/2-X*$+$:st=-ee.highest.height+$/2:c==="near"||g!==0?st=$/2:c==="center"?st=ee.highest.height/2-X*$:st=ee.highest.height-Y*$,h&&(st*=-1),g!==0&&!dt.showLabelBackdrop&&(E+=$/2*Math.sin(g))):(T=S,st=(1-Y)*$/2);let Fe;if(dt.showLabelBackdrop){const ne=Le(dt.backdropPadding),sn=ee.heights[_],rn=ee.widths[_];let Sn=st-ne.top,Kt=0-ne.left;switch(It){case"middle":Sn-=sn/2;break;case"bottom":Sn-=sn;break}switch(k){case"center":Kt-=rn/2;break;case"right":Kt-=rn;break}Fe={left:Kt,top:Sn,width:rn+ne.width,height:sn+ne.height,color:dt.backdropColor}}m.push({label:A,font:M,textOffset:st,options:{rotation:g,color:it,strokeColor:ut,strokeWidth:Mt,textAlign:Ve,textBaseline:It,translation:[E,T],backdrop:Fe}})}return m}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-gn(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),a=t+r,l=o.widest.width;let c,u;return n==="left"?s?(u=this.right+r,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?s?(u=this.left+r,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:s,width:r,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,s,r,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(r=0,o=s.length;r<o;++r){const l=s[r];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,f;this.isHorizontal()?(c=as(t,this.left,o)-o/2,u=as(t,this.right,a)+a/2,h=f=l):(h=as(t,this.top,o)-o/2,f=as(t,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(c,h),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Th(i,s);const r=this.getLabelItems(t);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Hs(i,c,0,u,l,a)}s&&xh(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=le(i.font),o=Le(i.padding),a=i.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||_t(n)?(l+=o.bottom,zt(i.text)&&(l+=r.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:f}=v9(this,l,n,a);Hs(t,i.text,0,0,r,{color:i.color,maxWidth:h,rotation:f,textAlign:y9(a,n,s),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=ht(t.grid&&t.grid.z,-1),s=ht(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==tr.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[i]===this.id&&(!t||a.type===t)&&s.push(a)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return le(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Gl{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;w9(n)&&(i=this.register(n));const s=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in s||(s[r]=t,b9(t,o,i),this.override&&Zt.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,s=this.scope;i in n&&delete n[i],s&&i in Zt[s]&&(delete Zt[s][i],this.override&&delete $s[i])}}function b9(e,t,n){const i=Da(Object.create(null),[n?Zt.get(n):{},Zt.get(t),e.defaults]);Zt.set(t,i),e.defaultRoutes&&A9(t,e.defaultRoutes),e.descriptors&&Zt.describe(t,e.descriptors)}function A9(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),s=i.pop(),r=[e].concat(i).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");Zt.route(r,s,l,a)})}function w9(e){return"id"in e&&"defaults"in e}class E9{constructor(){this.controllers=new Gl(bn,"datasets",!0),this.elements=new Gl(yi,"elements"),this.plugins=new Gl(Object,"plugins"),this.scales=new Gl(tr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(t,r,s):kt(s,o=>{const a=i||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,i){const s=om(t);Dt(i["before"+s],[],i),n[t](i),Dt(i["after"+s],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var Rn=new E9;class I9{constructor(){this._init=[]}notify(t,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=s?this._descriptors(t).filter(s):this._descriptors(t),o=this._notify(r,t,n,i);return n==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,i,s){s=s||{};for(const r of t){const o=r.plugin,a=o[i],l=[n,s,r.options];if(Dt(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){bt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,s=ht(i.options&&i.options.plugins,{}),r=T9(i);return s===!1&&!n?[]:S9(t,r,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,s=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,i),t,"stop"),this._notify(s(i,n),t,"start")}}function T9(e){const t={},n=[],i=Object.keys(Rn.plugins.items);for(let r=0;r<i.length;r++)n.push(Rn.getPlugin(i[r]));const s=e.plugins||[];for(let r=0;r<s.length;r++){const o=s[r];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function x9(e,t){return!t&&e===!1?null:e===!0?{}:e}function S9(e,{plugins:t,localIds:n},i,s){const r=[],o=e.getContext();for(const a of t){const l=a.id,c=x9(i[l],s);c!==null&&r.push({plugin:a,options:k9(e.config,{plugin:a,local:n[l]},c,o)})}return r}function k9(e,{plugin:t,local:n},i,s){const r=e.pluginScopeKeys(t),o=e.getOptionScopes(i,r);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ud(e,t){const n=Zt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function C9(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function P9(e,t){return e===t?"_index_":"_value_"}function ib(e){if(e==="x"||e==="y"||e==="r")return e}function R9(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function zd(e,...t){if(ib(e))return e;for(const n of t){const i=n.axis||R9(n.position)||e.length>1&&ib(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function sb(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function M9(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return sb(e,"x",n[0])||sb(e,"y",n[0])}return{}}function O9(e,t){const n=$s[e.type]||{scales:{}},i=t.scales||{},s=Ud(e.type,t),r=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!_t(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=zd(o,a,M9(o,e),Zt.scales[a.type]),c=P9(l,s),u=n.scales||{};r[o]=Qo(Object.create(null),[{axis:l},a,u[l],u[c]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||Ud(a,t),u=($s[a]||{}).scales||{};Object.keys(u).forEach(h=>{const f=C9(h,l),d=o[f+"AxisID"]||f;r[d]=r[d]||Object.create(null),Qo(r[d],[{axis:f},i[d],u[h]])})}),Object.keys(r).forEach(o=>{const a=r[o];Qo(a,[Zt.scales[a.type],Zt.scale])}),r}function GT(e){const t=e.options||(e.options={});t.plugins=ht(t.plugins,{}),t.scales=O9(e,t)}function QT(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function D9(e){return e=e||{},e.data=QT(e.data),GT(e),e}const rb=new Map,YT=new Set;function Ql(e,t){let n=rb.get(e);return n||(n=t(),rb.set(e,n),YT.add(n)),n}const vo=(e,t,n)=>{const i=Yi(t,n);i!==void 0&&e.add(i)};class N9{constructor(t){this._config=D9(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=QT(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),GT(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Ql(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Ql(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Ql(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return Ql(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let s=i.get(t);return(!s||n)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,n,i){const{options:s,type:r}=this,o=this._cachedScopes(t,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{t&&(l.add(t),u.forEach(h=>vo(l,t,h))),u.forEach(h=>vo(l,s,h)),u.forEach(h=>vo(l,$s[r]||{},h)),u.forEach(h=>vo(l,Zt,h)),u.forEach(h=>vo(l,Vd,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),YT.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:t,type:n}=this;return[t,$s[n]||{},Zt.datasets[n]||{},{type:n},Zt,Vd]}resolveNamedOptions(t,n,i,s=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=ob(this._resolverCache,t,s);let l=o;if(V9(o,n)){r.$shared=!1,i=Xi(i)?i():i;const c=this.createResolver(t,i,a);l=$r(o,i,c)}for(const c of n)r[c]=l[c];return r}createResolver(t,n,i=[""],s){const{resolver:r}=ob(this._resolverCache,t,i);return _t(n)?$r(r,n,void 0,s):r}}function ob(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const s=n.join();let r=i.get(s);return r||(r={resolver:fm(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(s,r)),r}const L9=e=>_t(e)&&Object.getOwnPropertyNames(e).reduce((t,n)=>t||Xi(e[n]),!1);function V9(e,t){const{isScriptable:n,isIndexable:i}=kT(e);for(const s of t){const r=n(s),o=i(s),a=(o||r)&&e[s];if(r&&(Xi(a)||L9(a))||o&&zt(a))return!0}return!1}var F9="4.3.3";const B9=["top","bottom","left","right","chartArea"];function ab(e,t){return e==="top"||e==="bottom"||B9.indexOf(e)===-1&&t==="x"}function lb(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function cb(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Dt(n&&n.onComplete,[e],t)}function U9(e){const t=e.chart,n=t.options.animation;Dt(n&&n.onProgress,[e],t)}function XT(e){return DT()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const kc={},ub=e=>{const t=XT(e);return Object.values(kc).filter(n=>n.canvas===t).pop()};function z9(e,t,n){const i=Object.keys(e);for(const s of i){const r=+s;if(r>=t){const o=e[s];delete e[s],(n>0||r>t)&&(e[r+n]=o)}}}function j9(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}function $9(e){const{xScale:t,yScale:n}=e;if(t&&n)return{left:t.left,right:t.right,top:n.top,bottom:n.bottom}}class Zn{static register(...t){Rn.add(...t),hb()}static unregister(...t){Rn.remove(...t),hb()}constructor(t,n){const i=this.config=new N9(n),s=XT(t),r=ub(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||o9(s)),this.platform.updateConfig(i);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=W4(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new I9,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=aB(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],kc[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Qn.listen(this,"complete",cb),Qn.listen(this,"progress",U9),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return bt(t)?n&&r?r:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Rn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Mv(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Cv(this.canvas,this.ctx),this}stop(){return Qn.stop(this),this}resize(t,n){Qn.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,t,n,r),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Mv(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Dt(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};kt(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,s=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],l=zd(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),kt(r,o=>{const a=o.options,l=a.id,c=zd(l,a),u=ht(a.type,o.dtype);(a.position===void 0||ab(a.position,c)!==ab(o.dposition))&&(a.position=o.dposition),s[l]=!0;let h=null;if(l in i&&i[l].type===u)h=i[l];else{const f=Rn.getScale(u);h=new f({id:l,type:u,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(a,t)}),kt(s,(o,a)=>{o||delete i[a]}),kt(i,o=>{Pe.configure(this,o,o.options),Pe.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(lb("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let o=this.getDatasetMeta(i);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=r.indexAxis||Ud(a,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Rn.getController(a),{datasetElementType:c,dataElementType:u}=Zt.datasets[a];Object.assign(l,{dataElementType:Rn.getElement(u),datasetElementType:c&&Rn.getElement(c)}),o.controller=new l(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){kt(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),f=!s&&r.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||kt(r,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(lb("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){kt(this.scales,t=>{Pe.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!bv(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const o=i==="_removeElements"?-r:r;z9(t,s,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(t.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!bv(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Pe.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],kt(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Xi(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Qn.has(this)?this.attached&&!Qn.running(this)&&Qn.start(this):(this.draw(),cb({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resize(i,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const o=n[s];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i=t._clip,s=!i.disabled,r=$9(t)||this.chartArea,o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(s&&Th(n,{left:i.left===!1?0:r.left-i.left,right:i.right===!1?this.width:r.right+i.right,top:i.top===!1?0:r.top-i.top,bottom:i.bottom===!1?this.height:r.bottom+i.bottom}),t.controller.draw(),s&&xh(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return ai(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,s){const r=B5.modes[n];return typeof r=="function"?r(this,t,i,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=is(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,s);Na(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(r,{visible:i}),this.update(a=>a.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Qn.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Cv(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete kc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(r,o)=>{n.addEventListener(this,r,o),t[r]=o},s=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};kt(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),t[l]=c},s=(l,c)=>{t[l]&&(n.removeEventListener(this,l,c),delete t[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){kt(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},kt(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const s=i?"set":"remove";let r,o,a,l;for(n==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!hu(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const s=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=r(n,t),a=i?t:r(t,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:s=[],options:r}=this,o=n,a=this._getActiveElements(t,s,i,o),l=X4(t),c=j9(t,this._lastEvent,i,l);i&&(this._lastEvent=null,Dt(r.onHover,[t,a,this],this),l&&Dt(r.onClick,[t,a,this],this));const u=!hu(a,s);return(u||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=c,u}_getActiveElements(t,n,i,s){if(t.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,s)}}F(Zn,"defaults",Zt),F(Zn,"instances",kc),F(Zn,"overrides",$s),F(Zn,"registry",Rn),F(Zn,"version",F9),F(Zn,"getChart",ub);function hb(){return kt(Zn.instances,e=>e._plugins.invalidate())}function H9(e,t,n){const{startAngle:i,pixelMargin:s,x:r,y:o,outerRadius:a,innerRadius:l}=t;let c=s/a;e.beginPath(),e.arc(r,o,a,i-c,n+c),l>s?(c=s/l,e.arc(r,o,l,n+c,i-c,!0)):e.arc(r,o,s,n+Jt,i-Jt),e.closePath(),e.clip()}function W9(e){return hm(e,["outerStart","outerEnd","innerStart","innerEnd"])}function q9(e,t,n,i){const s=W9(e.options.borderRadius),r=(n-t)/2,o=Math.min(r,i*t/2),a=l=>{const c=(n-Math.min(r,l))*i/2;return pe(l,0,Math.min(r,c))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:pe(s.innerStart,0,o),innerEnd:pe(s.innerEnd,0,o)}}function or(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function _u(e,t,n,i,s,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=t,h=Math.max(t.outerRadius+i+n-c,0),f=u>0?u+i+n+c:0;let d=0;const p=s-l;if(i){const dt=u>0?u-i:0,X=h>0?h-i:0,it=(dt+X)/2,ut=it!==0?p*it/(it+i):p;d=(p-ut)/2}const g=Math.max(.001,p*h-n/Wt)/h,m=(p-g)/2,_=l+m+d,y=s-m-d,{outerStart:w,outerEnd:A,innerStart:E,innerEnd:T}=q9(t,f,h,y-_),k=h-w,S=h-A,M=_+w/k,$=y-A/S,Y=f+E,st=f+T,It=_+E/Y,ee=y-T/st;if(e.beginPath(),r){const dt=(M+$)/2;if(e.arc(o,a,h,M,dt),e.arc(o,a,h,dt,$),A>0){const Mt=or(S,$,o,a);e.arc(Mt.x,Mt.y,A,$,y+Jt)}const X=or(st,y,o,a);if(e.lineTo(X.x,X.y),T>0){const Mt=or(st,ee,o,a);e.arc(Mt.x,Mt.y,T,y+Jt,ee+Math.PI)}const it=(y-T/f+(_+E/f))/2;if(e.arc(o,a,f,y-T/f,it,!0),e.arc(o,a,f,it,_+E/f,!0),E>0){const Mt=or(Y,It,o,a);e.arc(Mt.x,Mt.y,E,It+Math.PI,_-Jt)}const ut=or(k,_,o,a);if(e.lineTo(ut.x,ut.y),w>0){const Mt=or(k,M,o,a);e.arc(Mt.x,Mt.y,w,_-Jt,M)}}else{e.moveTo(o,a);const dt=Math.cos(M)*h+o,X=Math.sin(M)*h+a;e.lineTo(dt,X);const it=Math.cos($)*h+o,ut=Math.sin($)*h+a;e.lineTo(it,ut)}e.closePath()}function K9(e,t,n,i,s){const{fullCircles:r,startAngle:o,circumference:a}=t;let l=t.endAngle;if(r){_u(e,t,n,i,l,s);for(let c=0;c<r;++c)e.fill();isNaN(a)||(l=o+(a%jt||jt))}return _u(e,t,n,i,l,s),e.fill(),l}function G9(e,t,n,i,s){const{fullCircles:r,startAngle:o,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:f}=l,d=l.borderAlign==="inner";if(!c)return;e.setLineDash(h||[]),e.lineDashOffset=f,d?(e.lineWidth=c*2,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let p=t.endAngle;if(r){_u(e,t,n,i,p,s);for(let g=0;g<r;++g)e.stroke();isNaN(a)||(p=o+(a%jt||jt))}d&&H9(e,t,p),r||(_u(e,t,n,i,p,s),e.stroke())}class Oo extends yi{constructor(n){super();F(this,"circumference");F(this,"endAngle");F(this,"fullCircles");F(this,"innerRadius");F(this,"outerRadius");F(this,"pixelMargin");F(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.getProps(["x","y"],s),{angle:o,distance:a}=yT(r,{x:n,y:i}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),d=(this.options.spacing+this.options.borderWidth)/2,g=ht(f,c-l)>=jt||La(o,l,c),m=ri(a,u+d,h+d);return g&&m}getCenterPoint(n){const{x:i,y:s,startAngle:r,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,h=(r+o)/2,f=(a+l+u+c)/2;return{x:i+Math.cos(h)*f,y:s+Math.sin(h)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:s}=this,r=(i.offset||0)/4,o=(i.spacing||0)/2,a=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>jt?Math.floor(s/jt):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*r,Math.sin(l)*r);const c=1-Math.sin(Math.min(Wt,s||0)),u=r*c;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,K9(n,this,u,o,a),G9(n,this,u,o,a),n.restore()}}F(Oo,"id","arc"),F(Oo,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),F(Oo,"defaultRoutes",{backgroundColor:"backgroundColor"}),F(Oo,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function JT(e,t,n=t){e.lineCap=ht(n.borderCapStyle,t.borderCapStyle),e.setLineDash(ht(n.borderDash,t.borderDash)),e.lineDashOffset=ht(n.borderDashOffset,t.borderDashOffset),e.lineJoin=ht(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=ht(n.borderWidth,t.borderWidth),e.strokeStyle=ht(n.borderColor,t.borderColor)}function Q9(e,t,n){e.lineTo(n.x,n.y)}function Y9(e){return e.stepped?vB:e.tension||e.cubicInterpolationMode==="monotone"?bB:Q9}function ZT(e,t,n={}){const i=e.length,{start:s=0,end:r=i-1}=n,{start:o,end:a}=t,l=Math.max(s,o),c=Math.min(r,a),u=s<o&&r<o||s>a&&r>a;return{count:i,start:l,loop:t.loop,ilen:c<l&&!u?i+c-l:c-l}}function X9(e,t,n,i){const{points:s,options:r}=t,{count:o,start:a,loop:l,ilen:c}=ZT(s,n,i),u=Y9(r);let{move:h=!0,reverse:f}=i||{},d,p,g;for(d=0;d<=c;++d)p=s[(a+(f?c-d:d))%o],!p.skip&&(h?(e.moveTo(p.x,p.y),h=!1):u(e,g,p,f,r.stepped),g=p);return l&&(p=s[(a+(f?c:0))%o],u(e,g,p,f,r.stepped)),!!l}function J9(e,t,n,i){const s=t.points,{count:r,start:o,ilen:a}=ZT(s,n,i),{move:l=!0,reverse:c}=i||{};let u=0,h=0,f,d,p,g,m,_;const y=A=>(o+(c?a-A:A))%r,w=()=>{g!==m&&(e.lineTo(u,m),e.lineTo(u,g),e.lineTo(u,_))};for(l&&(d=s[y(0)],e.moveTo(d.x,d.y)),f=0;f<=a;++f){if(d=s[y(f)],d.skip)continue;const A=d.x,E=d.y,T=A|0;T===p?(E<g?g=E:E>m&&(m=E),u=(h*u+A)/++h):(w(),e.lineTo(A,E),p=T,h=0,g=m=E),_=E}w()}function jd(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?J9:X9}function Z9(e){return e.stepped?JB:e.tension||e.cubicInterpolationMode==="monotone"?ZB:fs}function t3(e,t,n,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,n,i)&&s.closePath()),JT(e,t.options),e.stroke(s)}function e3(e,t,n,i){const{segments:s,options:r}=t,o=jd(t);for(const a of s)JT(e,r,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}const n3=typeof Path2D=="function";function i3(e,t,n,i){n3&&!t.options.segment?t3(e,t,n,i):e3(e,t,n,i)}class Di extends yi{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;HB(this._points,i,t,s,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=r5(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){const i=this.options,s=t[n],r=this.points,o=BT(this,{property:n,start:s,end:s});if(!o.length)return;const a=[],l=Z9(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:f}=o[c],d=r[h],p=r[f];if(d===p){a.push(d);continue}const g=Math.abs((s-d[n])/(p[n]-d[n])),m=l(d,p,g,i.stepped);m[n]=t[n],a.push(m)}return a.length===1?a[0]:a}pathSegment(t,n,i){return jd(this)(t,this,n,i)}path(t,n,i){const s=this.segments,r=jd(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of s)o&=r(t,this,a,{start:n,end:n+i-1});return!!o}draw(t,n,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),i3(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}F(Di,"id","line"),F(Di,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),F(Di,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),F(Di,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function fb(e,t,n,i){const s=e.options,{[n]:r}=e.getProps([n],i);return Math.abs(t-r)<s.radius+s.hitRadius}class Cc extends yi{constructor(n){super();F(this,"parsed");F(this,"skip");F(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(n-o,2)+Math.pow(i-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(n,i){return fb(this,n,"x",i)}inYRange(n,i){return fb(this,n,"y",i)}getCenterPoint(n){const{x:i,y:s}=this.getProps(["x","y"],n);return{x:i,y:s}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const s=i&&n.borderWidth||0;return(i+s)*2}draw(n,i){const s=this.options;this.skip||s.radius<.1||!ai(this,i,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,Fd(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}F(Cc,"id","point"),F(Cc,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),F(Cc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function t1(e,t){const{x:n,y:i,base:s,width:r,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,c,u,h;return e.horizontal?(h=o/2,a=Math.min(n,s),l=Math.max(n,s),c=i-h,u=i+h):(h=r/2,a=n-h,l=n+h,c=Math.min(i,s),u=Math.max(i,s)),{left:a,top:c,right:l,bottom:u}}function Ni(e,t,n,i){return e?0:pe(t,n,i)}function s3(e,t,n){const i=e.options.borderWidth,s=e.borderSkipped,r=ST(i);return{t:Ni(s.top,r.top,0,n),r:Ni(s.right,r.right,0,t),b:Ni(s.bottom,r.bottom,0,n),l:Ni(s.left,r.left,0,t)}}function r3(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,r=Ps(s),o=Math.min(t,n),a=e.borderSkipped,l=i||_t(s);return{topLeft:Ni(!l||a.top||a.left,r.topLeft,0,o),topRight:Ni(!l||a.top||a.right,r.topRight,0,o),bottomLeft:Ni(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:Ni(!l||a.bottom||a.right,r.bottomRight,0,o)}}function o3(e){const t=t1(e),n=t.right-t.left,i=t.bottom-t.top,s=s3(e,n/2,i/2),r=r3(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:r},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function Sf(e,t,n,i){const s=t===null,r=n===null,a=e&&!(s&&r)&&t1(e,i);return a&&(s||ri(t,a.left,a.right))&&(r||ri(n,a.top,a.bottom))}function a3(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function l3(e,t){e.rect(t.x,t.y,t.w,t.h)}function kf(e,t,n={}){const i=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,r=(e.x+e.w!==n.x+n.w?t:0)-i,o=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+i,y:e.y+s,w:e.w+r,h:e.h+o,radius:e.radius}}class Pc extends yi{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:o}=o3(this),a=a3(o.radius)?Va:l3;t.save(),(o.w!==r.w||o.h!==r.h)&&(t.beginPath(),a(t,kf(o,n,r)),t.clip(),a(t,kf(r,-n,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,kf(r,n)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,n,i){return Sf(this,t,n,i)}inXRange(t,n){return Sf(this,t,null,n)}inYRange(t,n){return Sf(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(n+s)/2:n,y:r?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}F(Pc,"id","bar"),F(Pc,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),F(Pc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var c3=Object.freeze({__proto__:null,ArcElement:Oo,BarElement:Pc,LineElement:Di,PointElement:Cc});const $d=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],db=$d.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function e1(e){return $d[e%$d.length]}function n1(e){return db[e%db.length]}function u3(e,t){return e.borderColor=e1(t),e.backgroundColor=n1(t),++t}function h3(e,t){return e.backgroundColor=e.data.map(()=>e1(t++)),t}function f3(e,t){return e.backgroundColor=e.data.map(()=>n1(t++)),t}function d3(e){let t=0;return(n,i)=>{const s=e.getDatasetMeta(i).controller;s instanceof bs?t=h3(n,t):s instanceof Zo?t=f3(n,t):s&&(t=u3(n,t))}}function pb(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function p3(e){return e&&(e.borderColor||e.backgroundColor)}var g3={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:i},options:s}=e.config,{elements:r}=s;if(!n.forceOverride&&(pb(i)||p3(s)||r&&pb(r)))return;const o=d3(e);i.forEach(o)}};function m3(e,t,n,i,s){const r=s.samples||i;if(r>=n)return e.slice(t,t+n);const o=[],a=(n-2)/(r-2);let l=0;const c=t+n-1;let u=t,h,f,d,p,g;for(o[l++]=e[u],h=0;h<r-2;h++){let m=0,_=0,y;const w=Math.floor((h+1)*a)+1+t,A=Math.min(Math.floor((h+2)*a)+1,n)+t,E=A-w;for(y=w;y<A;y++)m+=e[y].x,_+=e[y].y;m/=E,_/=E;const T=Math.floor(h*a)+1+t,k=Math.min(Math.floor((h+1)*a)+1,n)+t,{x:S,y:M}=e[u];for(d=p=-1,y=T;y<k;y++)p=.5*Math.abs((S-m)*(e[y].y-M)-(S-e[y].x)*(_-M)),p>d&&(d=p,f=e[y],g=y);o[l++]=f,u=g}return o[l++]=e[c],o}function _3(e,t,n,i){let s=0,r=0,o,a,l,c,u,h,f,d,p,g;const m=[],_=t+n-1,y=e[t].x,A=e[_].x-y;for(o=t;o<t+n;++o){a=e[o],l=(a.x-y)/A*i,c=a.y;const E=l|0;if(E===u)c<p?(p=c,h=o):c>g&&(g=c,f=o),s=(r*s+a.x)/++r;else{const T=o-1;if(!bt(h)&&!bt(f)){const k=Math.min(h,f),S=Math.max(h,f);k!==d&&k!==T&&m.push({...e[k],x:s}),S!==d&&S!==T&&m.push({...e[S],x:s})}o>0&&T!==d&&m.push(e[T]),m.push(a),u=E,r=0,p=g=c,h=f=d=o}}return m}function i1(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function gb(e){e.data.datasets.forEach(t=>{i1(t)})}function y3(e,t){const n=t.length;let i=0,s;const{iScale:r}=e,{min:o,max:a,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(i=pe(oi(t,r.axis,o).lo,0,n-1)),c?s=pe(oi(t,r.axis,a).hi+1,i,n)-i:s=n-i,{start:i,count:s}}var v3={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){gb(e);return}const i=e.width;e.data.datasets.forEach((s,r)=>{const{_data:o,indexAxis:a}=s,l=e.getDatasetMeta(r),c=o||s.data;if(Ro([a,e.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=e.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||e.options.parsing)return;let{start:h,count:f}=y3(l,c);const d=n.threshold||4*i;if(f<=d){i1(s);return}bt(o)&&(s._data=c,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let p;switch(n.algorithm){case"lttb":p=m3(c,h,f,i,n);break;case"min-max":p=_3(c,h,f,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=p})},destroy(e){gb(e)}};function b3(e,t,n){const i=e.segments,s=e.points,r=t.points,o=[];for(const a of i){let{start:l,end:c}=a;c=_m(l,c,s);const u=Hd(n,s[l],s[c],a.loop);if(!t.segments){o.push({source:a,target:u,start:s[l],end:s[c]});continue}const h=BT(t,u);for(const f of h){const d=Hd(n,r[f.start],r[f.end],f.loop),p=FT(a,s,d);for(const g of p)o.push({source:g,target:f,start:{[n]:mb(u,d,"start",Math.max)},end:{[n]:mb(u,d,"end",Math.min)}})}}return o}function Hd(e,t,n,i){if(i)return;let s=t[e],r=n[e];return e==="angle"&&(s=Xe(s),r=Xe(r)),{property:e,start:s,end:r}}function A3(e,t){const{x:n=null,y:i=null}=e||{},s=t.points,r=[];return t.segments.forEach(({start:o,end:a})=>{a=_m(o,a,s);const l=s[o],c=s[a];i!==null?(r.push({x:l.x,y:i}),r.push({x:c.x,y:i})):n!==null&&(r.push({x:n,y:l.y}),r.push({x:n,y:c.y}))}),r}function _m(e,t,n){for(;t>e;t--){const i=n[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function mb(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function s1(e,t){let n=[],i=!1;return zt(e)?(i=!0,n=e):n=A3(e,t),n.length?new Di({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function _b(e){return e&&e.fill!==!1}function w3(e,t,n){let s=e[t].fill;const r=[t];let o;if(!n)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!Xt(s))return s;if(o=e[s],!o)return!1;if(o.visible)return s;r.push(s),s=o.fill}return!1}function E3(e,t,n){const i=S3(e);if(_t(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return Xt(s)&&Math.floor(s)===s?I3(i[0],t,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function I3(e,t,n,i){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=i?!1:n}function T3(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:_t(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function x3(e,t,n){let i;return e==="start"?i=n:e==="end"?i=t.options.reverse?t.min:t.max:_t(e)?i=e.value:i=t.getBaseValue(),i}function S3(e){const t=e.options,n=t.fill;let i=ht(n&&n.target,n);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function k3(e){const{scale:t,index:n,line:i}=e,s=[],r=i.segments,o=i.points,a=C3(t,n);a.push(s1({x:null,y:t.bottom},i));for(let l=0;l<r.length;l++){const c=r[l];for(let u=c.start;u<=c.end;u++)P3(s,o[u],a)}return new Di({points:s,options:{}})}function C3(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const r=i[s];if(r.index===t)break;r.hidden||n.unshift(r.dataset)}return n}function P3(e,t,n){const i=[];for(let s=0;s<n.length;s++){const r=n[s],{first:o,last:a,point:l}=R3(r,t,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(e.push(l),!a)break}}e.push(...i)}function R3(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const s=i[n],r=e.segments,o=e.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const u=r[c],h=o[u.start][n],f=o[u.end][n];if(ri(s,h,f)){a=s===h,l=s===f;break}}return{first:a,last:l,point:i}}class r1{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,i){const{x:s,y:r,radius:o}=this;return n=n||{start:0,end:jt},t.arc(s,r,o,n.end,n.start,!0),!i.bounds}interpolate(t){const{x:n,y:i,radius:s}=this,r=t.angle;return{x:n+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}}function M3(e){const{chart:t,fill:n,line:i}=e;if(Xt(n))return O3(t,n);if(n==="stack")return k3(e);if(n==="shape")return!0;const s=D3(e);return s instanceof r1?s:s1(s,i)}function O3(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function D3(e){return(e.scale||{}).getPointPositionForValue?L3(e):N3(e)}function N3(e){const{scale:t={},fill:n}=e,i=T3(n,t);if(Xt(i)){const s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function L3(e){const{scale:t,fill:n}=e,i=t.options,s=t.getLabels().length,r=i.reverse?t.max:t.min,o=x3(n,t,r),a=[];if(i.grid.circular){const l=t.getPointPositionForValue(0,r);return new r1({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<s;++l)a.push(t.getPointPositionForValue(l,o));return a}function Cf(e,t,n){const i=M3(t),{line:s,scale:r,axis:o}=t,a=s.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:h=c}=l||{};i&&s.points.length&&(Th(e,n),V3(e,{line:s,target:i,above:u,below:h,area:n,scale:r,axis:o}),xh(e))}function V3(e,t){const{line:n,target:i,above:s,below:r,area:o,scale:a}=t,l=n._loop?"angle":t.axis;e.save(),l==="x"&&r!==s&&(yb(e,i,o.top),vb(e,{line:n,target:i,color:s,scale:a,property:l}),e.restore(),e.save(),yb(e,i,o.bottom)),vb(e,{line:n,target:i,color:r,scale:a,property:l}),e.restore()}function yb(e,t,n){const{segments:i,points:s}=t;let r=!0,o=!1;e.beginPath();for(const a of i){const{start:l,end:c}=a,u=s[l],h=s[_m(l,c,s)];r?(e.moveTo(u.x,u.y),r=!1):(e.lineTo(u.x,n),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(h.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function vb(e,t){const{line:n,target:i,property:s,color:r,scale:o}=t,a=b3(n,i,s);for(const{source:l,target:c,start:u,end:h}of a){const{style:{backgroundColor:f=r}={}}=l,d=i!==!0;e.save(),e.fillStyle=f,F3(e,o,d&&Hd(s,u,h)),e.beginPath();const p=!!n.pathSegment(e,l);let g;if(d){p?e.closePath():bb(e,i,h,s);const m=!!i.pathSegment(e,c,{move:p,reverse:!0});g=p&&m,g||bb(e,i,u,s)}e.closePath(),e.fill(g?"evenodd":"nonzero"),e.restore()}}function F3(e,t,n){const{top:i,bottom:s}=t.chart.chartArea,{property:r,start:o,end:a}=n||{};r==="x"&&(e.beginPath(),e.rect(o,i,a-o,s-i),e.clip())}function bb(e,t,n,i){const s=t.interpolate(n,i);s&&e.lineTo(s.x,s.y)}var B3={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,s=[];let r,o,a,l;for(o=0;o<i;++o)r=e.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof Di&&(l={visible:e.isDatasetVisible(o),index:o,fill:E3(a,o,i),chart:e,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,s.push(l);for(o=0;o<i;++o)l=s[o],!(!l||l.fill===!1)&&(l.fill=w3(s,o,n.propagate))},beforeDraw(e,t,n){const i=n.drawTime==="beforeDraw",s=e.getSortedVisibleDatasetMetas(),r=e.chartArea;for(let o=s.length-1;o>=0;--o){const a=s[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),i&&a.fill&&Cf(e.ctx,a,r))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=e.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const r=i[s].$filler;_b(r)&&Cf(e.ctx,r,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;!_b(i)||n.drawTime!=="beforeDatasetDraw"||Cf(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Ab=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},U3=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class wb extends yi{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Dt(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=le(i.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Ab(i,r);let c,u;n.font=s.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,s,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,s){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=s+a;let h=t;r.textAlign="left",r.textBaseline="middle";let f=-1,d=-u;return this.legendItems.forEach((p,g)=>{const m=i+n/2+r.measureText(p.text).width;(g===0||c[c.length-1]+m+2*a>o)&&(h+=u,c[c.length-(g>0?0:1)]=0,d+=u,f++),l[g]={left:0,top:d,row:f,width:m,height:s},c[c.length-1]+=m+a}),h}_fitCols(t,n,i,s){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-t;let h=a,f=0,d=0,p=0,g=0;return this.legendItems.forEach((m,_)=>{const{itemWidth:y,itemHeight:w}=z3(i,n,r,m,s);_>0&&d+w+2*a>u&&(h+=f+a,c.push({width:f,height:d}),p+=f+a,g++,f=d=0),l[_]={left:p,top:d,col:g,width:y,height:w},f=Math.max(f,y),d+=w+a}),h+=f,c.push({width:f,height:d}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,o=Er(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=Ie(i,this.left+s,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Ie(i,this.left+s,this.right-this.lineWidths[a])),c.top+=this.top+t+s,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+s}else{let a=0,l=Ie(i,this.top+t+s,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Ie(i,this.top+t+s,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+s,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Th(t,this),this._draw(),xh(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:o}=t,a=Zt.color,l=Er(t.rtl,this.left,this.width),c=le(o.font),{padding:u}=o,h=c.size,f=h/2;let d;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:p,boxHeight:g,itemHeight:m}=Ab(o,h),_=function(T,k,S){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;s.save();const M=ht(S.lineWidth,1);if(s.fillStyle=ht(S.fillStyle,a),s.lineCap=ht(S.lineCap,"butt"),s.lineDashOffset=ht(S.lineDashOffset,0),s.lineJoin=ht(S.lineJoin,"miter"),s.lineWidth=M,s.strokeStyle=ht(S.strokeStyle,a),s.setLineDash(ht(S.lineDash,[])),o.usePointStyle){const $={radius:g*Math.SQRT2/2,pointStyle:S.pointStyle,rotation:S.rotation,borderWidth:M},Y=l.xPlus(T,p/2),st=k+f;xT(s,$,Y,st,o.pointStyleWidth&&p)}else{const $=k+Math.max((h-g)/2,0),Y=l.leftForLtr(T,p),st=Ps(S.borderRadius);s.beginPath(),Object.values(st).some(It=>It!==0)?Va(s,{x:Y,y:$,w:p,h:g,radius:st}):s.rect(Y,$,p,g),s.fill(),M!==0&&s.stroke()}s.restore()},y=function(T,k,S){Hs(s,S.text,T,k+m/2,c,{strikethrough:S.hidden,textAlign:l.textAlign(S.textAlign)})},w=this.isHorizontal(),A=this._computeTitleHeight();w?d={x:Ie(r,this.left+u,this.right-i[0]),y:this.top+u+A,line:0}:d={x:this.left+u,y:Ie(r,this.top+A+u,this.bottom-n[0].height),line:0},NT(this.ctx,t.textDirection);const E=m+u;this.legendItems.forEach((T,k)=>{s.strokeStyle=T.fontColor,s.fillStyle=T.fontColor;const S=s.measureText(T.text).width,M=l.textAlign(T.textAlign||(T.textAlign=o.textAlign)),$=p+f+S;let Y=d.x,st=d.y;l.setWidth(this.width),w?k>0&&Y+$+u>this.right&&(st=d.y+=E,d.line++,Y=d.x=Ie(r,this.left+u,this.right-i[d.line])):k>0&&st+E>this.bottom&&(Y=d.x=Y+n[d.line].width+u,d.line++,st=d.y=Ie(r,this.top+A+u,this.bottom-n[d.line].height));const It=l.x(Y);if(_(It,st,T),Y=lB(M,Y+p+f,w?Y+$:this.right,t.rtl),y(l.x(Y),st,T),w)d.x+=$+u;else if(typeof T.text!="string"){const ee=c.lineHeight;d.y+=o1(T,ee)+u}else d.y+=E}),LT(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=le(n.font),s=Le(n.padding);if(!n.display)return;const r=Er(t.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,c=s.top+l;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,h=Ie(t.align,h,this.right-f);else{const p=this.columnSizes.reduce((g,m)=>Math.max(g,m.height),0);u=c+Ie(t.align,this.top,this.bottom-p-t.labels.padding-this._computeTitleHeight())}const d=Ie(a,h,h+f);o.textAlign=r.textAlign(cm(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,Hs(o,n.text,d,u,i)}_computeTitleHeight(){const t=this.options.title,n=le(t.font),i=Le(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,s,r;if(ri(t,this.left,this.right)&&ri(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],ri(t,s.left,s.left+s.width)&&ri(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!H3(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,r=U3(s,i);s&&!r&&Dt(n.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!r&&Dt(n.onHover,[t,i,this],this)}else i&&Dt(n.onClick,[t,i,this],this)}}function z3(e,t,n,i,s){const r=j3(i,e,t,n),o=$3(s,i,t.lineHeight);return{itemWidth:r,itemHeight:o}}function j3(e,t,n,i){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((r,o)=>r.length>o.length?r:o)),t+n.size/2+i.measureText(s).width}function $3(e,t,n){let i=e;return typeof t.text!="string"&&(i=o1(t,n)),i}function o1(e,t){const n=e.text?e.text.length:0;return t*n}function H3(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var W3={id:"legend",_element:wb,start(e,t,n){const i=e.legend=new wb({ctx:e.ctx,options:n,chart:e});Pe.configure(e,i,n),Pe.addBox(e,i)},stop(e){Pe.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;Pe.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=Le(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class ym extends yi{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const s=zt(i.text)?i.text.length:1;this._padding=Le(i.padding);const r=s*le(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:s,right:r,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=Ie(a,i,r),h=n+t,c=r-i):(o.position==="left"?(u=i+t,h=Ie(a,s,n),l=Wt*-.5):(u=r-t,h=Ie(a,n,s),l=Wt*.5),c=s-n),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=le(n.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);Hs(t,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:cm(n.align),textBaseline:"middle",translation:[o,a]})}}function q3(e,t){const n=new ym({ctx:e.ctx,options:t,chart:e});Pe.configure(e,n,t),Pe.addBox(e,n),e.titleBlock=n}var K3={id:"title",_element:ym,start(e,t,n){q3(e,n)},stop(e){const t=e.titleBlock;Pe.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;Pe.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Yl=new WeakMap;var G3={id:"subtitle",start(e,t,n){const i=new ym({ctx:e.ctx,options:n,chart:e});Pe.configure(e,i,n),Pe.addBox(e,i),Yl.set(e,i)},stop(e){Pe.removeBox(e,Yl.get(e)),Yl.delete(e)},beforeUpdate(e,t,n){const i=Yl.get(e);Pe.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Do={average(e){if(!e.length)return!1;let t,n,i=0,s=0,r=0;for(t=0,n=e.length;t<n;++t){const o=e[t].element;if(o&&o.hasValue()){const a=o.tooltipPosition();i+=a.x,s+=a.y,++r}}return{x:i/r,y:s/r}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,s=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=e.length;r<o;++r){const l=e[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Ld(t,c);u<s&&(s=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function Pn(e,t){return t&&(zt(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Yn(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function Q3(e,t){const{element:n,datasetIndex:i,index:s}=t,r=e.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(s);return{chart:e,label:o,parsed:r.getParsed(s),raw:e.data.datasets[i].data[s],formattedValue:a,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function Eb(e,t){const n=e.chart.ctx,{body:i,footer:s,title:r}=e,{boxWidth:o,boxHeight:a}=t,l=le(t.bodyFont),c=le(t.titleFont),u=le(t.footerFont),h=r.length,f=s.length,d=i.length,p=Le(t.padding);let g=p.height,m=0,_=i.reduce((A,E)=>A+E.before.length+E.lines.length+E.after.length,0);if(_+=e.beforeBody.length+e.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),_){const A=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=d*A+(_-d)*l.lineHeight+(_-1)*t.bodySpacing}f&&(g+=t.footerMarginTop+f*u.lineHeight+(f-1)*t.footerSpacing);let y=0;const w=function(A){m=Math.max(m,n.measureText(A).width+y)};return n.save(),n.font=c.string,kt(e.title,w),n.font=l.string,kt(e.beforeBody.concat(e.afterBody),w),y=t.displayColors?o+2+t.boxPadding:0,kt(i,A=>{kt(A.before,w),kt(A.lines,w),kt(A.after,w)}),y=0,n.font=u.string,kt(e.footer,w),n.restore(),m+=p.width,{width:m,height:g}}function Y3(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function X3(e,t,n,i){const{x:s,width:r}=i,o=n.caretSize+n.caretPadding;if(e==="left"&&s+r+o>t.width||e==="right"&&s-r-o<0)return!0}function J3(e,t,n,i){const{x:s,width:r}=n,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return i==="center"?c=s<=(a+l)/2?"left":"right":s<=r/2?c="left":s>=o-r/2&&(c="right"),X3(c,e,t,n)&&(c="center"),c}function Ib(e,t,n){const i=n.yAlign||t.yAlign||Y3(e,n);return{xAlign:n.xAlign||t.xAlign||J3(e,t,n,i),yAlign:i}}function Z3(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function tU(e,t,n){let{y:i,height:s}=e;return t==="top"?i+=n:t==="bottom"?i-=s+n:i-=s/2,i}function Tb(e,t,n,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,c=s+r,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:d}=Ps(o);let p=Z3(t,a);const g=tU(t,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,f)+s:a==="right"&&(p+=Math.max(h,d)+s),{x:pe(p,0,i.width-t.width),y:pe(g,0,i.height-t.height)}}function Xl(e,t,n){const i=Le(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function xb(e){return Pn([],Yn(e))}function eU(e,t,n){return is(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function Sb(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const a1={beforeTitle:Gn,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:Gn,beforeBody:Gn,beforeLabel:Gn,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return bt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Gn,afterBody:Gn,beforeFooter:Gn,footer:Gn,afterFooter:Gn};function ze(e,t,n,i){const s=e[t].call(n,i);return typeof s>"u"?a1[t].call(n,i):s}class Wd extends yi{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new UT(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=eU(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,s=ze(i,"beforeTitle",this,t),r=ze(i,"title",this,t),o=ze(i,"afterTitle",this,t);let a=[];return a=Pn(a,Yn(s)),a=Pn(a,Yn(r)),a=Pn(a,Yn(o)),a}getBeforeBody(t,n){return xb(ze(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,s=[];return kt(t,r=>{const o={before:[],lines:[],after:[]},a=Sb(i,r);Pn(o.before,Yn(ze(a,"beforeLabel",this,r))),Pn(o.lines,ze(a,"label",this,r)),Pn(o.after,Yn(ze(a,"afterLabel",this,r))),s.push(o)}),s}getAfterBody(t,n){return xb(ze(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,s=ze(i,"beforeFooter",this,t),r=ze(i,"footer",this,t),o=ze(i,"afterFooter",this,t);let a=[];return a=Pn(a,Yn(s)),a=Pn(a,Yn(r)),a=Pn(a,Yn(o)),a}_createItems(t){const n=this._active,i=this.chart.data,s=[],r=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(Q3(this.chart,n[l]));return t.filter&&(a=a.filter((u,h,f)=>t.filter(u,h,f,i))),t.itemSort&&(a=a.sort((u,h)=>t.itemSort(u,h,i))),kt(a,u=>{const h=Sb(t.callbacks,u);s.push(ze(h,"labelColor",this,u)),r.push(ze(h,"labelPointStyle",this,u)),o.push(ze(h,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,o=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const a=Do[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=Eb(this,i),c=Object.assign({},a,l),u=Ib(this.chart,i,c),h=Tb(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,s){const r=this.getCaretPosition(t,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(t,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=Ps(a),{x:f,y:d}=t,{width:p,height:g}=n;let m,_,y,w,A,E;return r==="center"?(A=d+g/2,s==="left"?(m=f,_=m-o,w=A+o,E=A-o):(m=f+p,_=m+o,w=A-o,E=A+o),y=m):(s==="left"?_=f+Math.max(l,u)+o:s==="right"?_=f+p-Math.max(c,h)-o:_=this.caretX,r==="top"?(w=d,A=w-o,m=_-o,y=_+o):(w=d+g,A=w+o,m=_+o,y=_-o),E=w),{x1:m,x2:_,x3:y,y1:w,y2:A,y3:E}}drawTitle(t,n,i){const s=this.title,r=s.length;let o,a,l;if(r){const c=Er(i.rtl,this.x,this.width);for(t.x=Xl(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=le(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<r;++l)n.fillText(s[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===r&&(t.y+=i.titleMarginBottom-a)}}_drawColorBox(t,n,i,s,r){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=r,u=le(r.bodyFont),h=Xl(this,"left",r),f=s.x(h),d=l<u.lineHeight?(u.lineHeight-l)/2:0,p=n.y+d;if(r.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},m=s.leftForLtr(f,c)+c/2,_=p+l/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,Fd(t,g,m,_),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Fd(t,g,m,_)}else{t.lineWidth=_t(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const g=s.leftForLtr(f,c),m=s.leftForLtr(s.xPlus(f,1),c-2),_=Ps(o.borderRadius);Object.values(_).some(y=>y!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,Va(t,{x:g,y:p,w:c,h:l,radius:_}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Va(t,{x:m,y:p+1,w:c-2,h:l-2,radius:_}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(g,p,c,l),t.strokeRect(g,p,c,l),t.fillStyle=o.backgroundColor,t.fillRect(m,p+1,c-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,h=le(i.bodyFont);let f=h.lineHeight,d=0;const p=Er(i.rtl,this.x,this.width),g=function(S){n.fillText(S,p.x(t.x+d),t.y+f/2),t.y+=f+r},m=p.textAlign(o);let _,y,w,A,E,T,k;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,t.x=Xl(this,m,i),n.fillStyle=i.bodyColor,kt(this.beforeBody,g),d=a&&m!=="right"?o==="center"?c/2+u:c+2+u:0,A=0,T=s.length;A<T;++A){for(_=s[A],y=this.labelTextColors[A],n.fillStyle=y,kt(_.before,g),w=_.lines,a&&w.length&&(this._drawColorBox(n,t,A,p,i),f=Math.max(h.lineHeight,l)),E=0,k=w.length;E<k;++E)g(w[E]),f=h.lineHeight;kt(_.after,g)}d=0,f=h.lineHeight,kt(this.afterBody,g),t.y-=r}drawFooter(t,n,i){const s=this.footer,r=s.length;let o,a;if(r){const l=Er(i.rtl,this.x,this.width);for(t.x=Xl(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=le(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(s[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,n,i,s){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:u}=i,{topLeft:h,topRight:f,bottomLeft:d,bottomRight:p}=Ps(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(t,n,i,s),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&r==="right"&&this.drawCaret(t,n,i,s),n.lineTo(a+c,l+u-p),n.quadraticCurveTo(a+c,l+u,a+c-p,l+u),o==="bottom"&&this.drawCaret(t,n,i,s),n.lineTo(a+d,l+u),n.quadraticCurveTo(a,l+u,a,l+u-d),o==="center"&&r==="left"&&this.drawCaret(t,n,i,s),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const o=Do[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Eb(this,t),l=Object.assign({},o,this._size),c=Ib(n,t,l),u=Tb(t,l,c,n);(s._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Le(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=i,this.drawBackground(r,t,s,n),NT(t,n.textDirection),r.y+=o.top,this.drawTitle(r,t,n),this.drawBody(r,t,n),this.drawFooter(r,t,n),LT(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,s=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!hu(i,s),o=this._positionChanged(s,n);(r||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],o=this._getActiveElements(t,r,n,i),a=this._positionChanged(o,t),l=n||!hu(o,r)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,i,s){const r=this.options;if(t.type==="mouseout")return[];if(!s)return n;const o=this.chart.getElementsAtEventForMode(t,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:i,caretY:s,options:r}=this,o=Do[r.position].call(this,t,n);return o!==!1&&(i!==o.x||s!==o.y)}}F(Wd,"positioners",Do);var nU={id:"tooltip",_element:Wd,positioners:Do,afterInit(e,t,n){n&&(e.tooltip=new Wd({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:a1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},iU=Object.freeze({__proto__:null,Colors:g3,Decimation:v3,Filler:B3,Legend:W3,SubTitle:G3,Title:K3,Tooltip:nU});const sU=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function rU(e,t,n,i){const s=e.indexOf(t);if(s===-1)return sU(e,t,n,i);const r=e.lastIndexOf(t);return s!==r?n:s}const oU=(e,t)=>e===null?null:pe(Math.round(e),0,t);function kb(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class qd extends tr{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(bt(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:rU(i,t,ht(n,t),this._addedLabels),oU(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=t===0&&n===r.length-1?r:r.slice(t,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=n;o++)s.push({value:o});return s}getLabelForValue(t){return kb.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}F(qd,"id","category"),F(qd,"defaults",{ticks:{callback:kb}});function aU(e,t){const n=[],{bounds:s,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:f}=e,d=r||1,p=u-1,{min:g,max:m}=t,_=!bt(o),y=!bt(a),w=!bt(c),A=(m-g)/(h+1);let E=wv((m-g)/p/d)*d,T,k,S,M;if(E<1e-14&&!_&&!y)return[{value:g},{value:m}];M=Math.ceil(m/E)-Math.floor(g/E),M>p&&(E=wv(M*E/p/d)*d),bt(l)||(T=Math.pow(10,l),E=Math.ceil(E*T)/T),s==="ticks"?(k=Math.floor(g/E)*E,S=Math.ceil(m/E)*E):(k=g,S=m),_&&y&&r&&eB((a-o)/r,E/1e3)?(M=Math.round(Math.min((a-o)/E,u)),E=(a-o)/M,k=o,S=a):w?(k=_?o:k,S=y?a:S,M=c-1,E=(S-k)/M):(M=(S-k)/E,Yo(M,Math.round(M),E/1e3)?M=Math.round(M):M=Math.ceil(M));const $=Math.max(Ev(E),Ev(k));T=Math.pow(10,bt(l)?$:l),k=Math.round(k*T)/T,S=Math.round(S*T)/T;let Y=0;for(_&&(f&&k!==o?(n.push({value:o}),k<o&&Y++,Yo(Math.round((k+Y*E)*T)/T,o,Cb(o,A,e))&&Y++):k<o&&Y++);Y<M;++Y){const st=Math.round((k+Y*E)*T)/T;if(y&&st>a)break;n.push({value:st})}return y&&f&&S!==a?n.length&&Yo(n[n.length-1].value,a,Cb(a,A,e))?n[n.length-1].value=a:n.push({value:a}):(!y||S===a)&&n.push({value:S}),n}function Cb(e,t,{horizontal:n,minRotation:i}){const s=gn(i),r=(n?Math.sin(s):Math.cos(s))||.001,o=.75*t*(""+e).length;return Math.min(t/r,o)}class yu extends tr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return bt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const o=l=>s=n?s:l,a=l=>r=i?r:l;if(t){const l=$n(s),c=$n(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(s===r){let l=r===0?1:Math.abs(r*.05);a(r+l),t||o(s-l)}this.min=s,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=aU(s,r);return t.bounds==="ticks"&&_T(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-n)/Math.max(t.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return yl(t,this.chart.options.locale,this.options.ticks.format)}}class Kd extends yu{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Xt(t)?t:0,this.max=Xt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=gn(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}F(Kd,"id","linear"),F(Kd,"defaults",{ticks:{callback:Ih.formatters.numeric}});const Ba=e=>Math.floor(Oi(e)),cs=(e,t)=>Math.pow(10,Ba(e)+t);function Pb(e){return e/Math.pow(10,Ba(e))===1}function Rb(e,t,n){const i=Math.pow(10,n),s=Math.floor(e/i);return Math.ceil(t/i)-s}function lU(e,t){const n=t-e;let i=Ba(n);for(;Rb(e,t,i)>10;)i++;for(;Rb(e,t,i)<10;)i--;return Math.min(i,Ba(e))}function cU(e,{min:t,max:n}){t=Qe(e.min,t);const i=[],s=Ba(t);let r=lU(t,n),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=s>r?Math.pow(10,s):0,c=Math.round((t-l)*o)/o,u=Math.floor((t-l)/a/10)*a*10;let h=Math.floor((c-u)/Math.pow(10,r)),f=Qe(e.min,Math.round((l+u+h*Math.pow(10,r))*o)/o);for(;f<n;)i.push({value:f,major:Pb(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(r++,h=2,o=r>=0?1:o),f=Math.round((l+u+h*Math.pow(10,r))*o)/o;const d=Qe(e.max,f);return i.push({value:d,major:Pb(d),significand:h}),i}class Gd extends tr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const i=yu.prototype.parse.apply(this,[t,n]);if(i===0){this._zero=!0;return}return Xt(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Xt(t)?Math.max(0,t):null,this.max=Xt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Xt(this._userMin)&&(this.min=t===cs(this.min,0)?cs(this.min,-1):cs(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let i=this.min,s=this.max;const r=a=>i=t?i:a,o=a=>s=n?s:a;i===s&&(i<=0?(r(1),o(10)):(r(cs(i,-1)),o(cs(s,1)))),i<=0&&r(cs(s,-1)),s<=0&&o(cs(i,1)),this.min=i,this.max=s}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},i=cU(n,this);return t.bounds==="ticks"&&_T(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":yl(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Oi(t),this._valueRange=Oi(this.max)-Oi(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Oi(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}F(Gd,"id","logarithmic"),F(Gd,"defaults",{ticks:{callback:Ih.formatters.logarithmic,major:{enabled:!0}}});function Qd(e){const t=e.ticks;if(t.display&&e.display){const n=Le(t.backdropPadding);return ht(t.font&&t.font.size,Zt.font.size)+n.height}return 0}function uU(e,t,n){return n=zt(n)?n:[n],{w:yB(e,t.string,n),h:n.length*t.lineHeight}}function Mb(e,t,n,i,s){return e===i||e===s?{start:t-n/2,end:t+n/2}:e<i||e>s?{start:t-n,end:t}:{start:t,end:t+n}}function hU(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],s=[],r=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?Wt/r:0;for(let l=0;l<r;l++){const c=o.setContext(e.getPointLabelContext(l));s[l]=c.padding;const u=e.getPointPosition(l,e.drawingArea+s[l],a),h=le(c.font),f=uU(e.ctx,h,e._pointLabels[l]);i[l]=f;const d=Xe(e.getIndexAngle(l)+a),p=Math.round(am(d)),g=Mb(p,u.x,f.w,0,180),m=Mb(p,u.y,f.h,90,270);fU(n,t,d,g,m)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=gU(e,i,s)}function fU(e,t,n,i,s){const r=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<t.l?(a=(t.l-i.start)/r,e.l=Math.min(e.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/r,e.r=Math.max(e.r,t.r+a)),s.start<t.t?(l=(t.t-s.start)/o,e.t=Math.min(e.t,t.t-l)):s.end>t.b&&(l=(s.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function dU(e,t,n){const i=e.drawingArea,{extra:s,additionalAngle:r,padding:o,size:a}=n,l=e.getPointPosition(t,i+s+o,r),c=Math.round(am(Xe(l.angle+Jt))),u=yU(l.y,a.h,c),h=mU(c),f=_U(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:f,top:u,right:f+a.w,bottom:u+a.h}}function pU(e,t){if(!t)return!0;const{left:n,top:i,right:s,bottom:r}=e;return!(ai({x:n,y:i},t)||ai({x:n,y:r},t)||ai({x:s,y:i},t)||ai({x:s,y:r},t))}function gU(e,t,n){const i=[],s=e._pointLabels.length,r=e.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:Qd(r)/2,additionalAngle:o?Wt/s:0};let c;for(let u=0;u<s;u++){l.padding=n[u],l.size=t[u];const h=dU(e,u,l);i.push(h),a==="auto"&&(h.visible=pU(h,c),h.visible&&(c=h))}return i}function mU(e){return e===0||e===180?"center":e<180?"left":"right"}function _U(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function yU(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function vU(e,t,n){const{left:i,top:s,right:r,bottom:o}=n,{backdropColor:a}=t;if(!bt(a)){const l=Ps(t.borderRadius),c=Le(t.backdropPadding);e.fillStyle=a;const u=i-c.left,h=s-c.top,f=r-i+c.width,d=o-s+c.height;Object.values(l).some(p=>p!==0)?(e.beginPath(),Va(e,{x:u,y:h,w:f,h:d,radius:l}),e.fill()):e.fillRect(u,h,f,d)}}function bU(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let s=t-1;s>=0;s--){const r=e._pointLabelItems[s];if(!r.visible)continue;const o=i.setContext(e.getPointLabelContext(s));vU(n,o,r);const a=le(o.font),{x:l,y:c,textAlign:u}=r;Hs(n,e._pointLabels[s],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function l1(e,t,n,i){const{ctx:s}=e;if(n)s.arc(e.xCenter,e.yCenter,t,0,jt);else{let r=e.getPointPosition(0,t);s.moveTo(r.x,r.y);for(let o=1;o<i;o++)r=e.getPointPosition(o,t),s.lineTo(r.x,r.y)}}function AU(e,t,n,i,s){const r=e.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!i||!a||!l||n<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(s.dash),r.lineDashOffset=s.dashOffset,r.beginPath(),l1(e,n,o,i),r.closePath(),r.stroke(),r.restore())}function wU(e,t,n){return is(e,{label:n,index:t,type:"pointLabel"})}class No extends yu{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Le(Qd(this.options)/2),n=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=Xt(t)&&!isNaN(t)?t:0,this.max=Xt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Qd(this.options))}generateTickLabels(t){yu.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,i)=>{const s=Dt(this.options.pointLabels.callback,[n,i],this);return s||s===0?s:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?hU(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,i,s){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,i,s))}getIndexAngle(t){const n=jt/(this._pointLabels.length||1),i=this.options.startAngle||0;return Xe(t*n+gn(i))}getDistanceFromCenterForValue(t){if(bt(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(bt(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const i=n[t];return wU(this.getContext(),t,i)}}getPointPosition(t,n,i=0){const s=this.getIndexAngle(t)-Jt+i;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:i,right:s,bottom:r}=this._pointLabelItems[t];return{left:n,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),l1(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:i,grid:s,border:r}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&bU(this,o),s.display&&this.ticks.forEach((u,h)=>{if(h!==0){l=this.getDistanceFromCenterForValue(u.value);const f=this.getContext(h),d=s.setContext(f),p=r.setContext(f);AU(this,d,l,o,p)}}),i.display){for(t.save(),a=o-1;a>=0;a--){const u=i.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:f}=u;!f||!h||(t.lineWidth=f,t.strokeStyle=h,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&!n.reverse)return;const c=i.setContext(this.getContext(l)),u=le(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=u.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const h=Le(c.backdropPadding);t.fillRect(-o/2-h.left,-r-u.size/2-h.top,o+h.width,u.size+h.height)}Hs(t,a.label,0,-r,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}F(No,"id","radialLinear"),F(No,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Ih.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),F(No,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),F(No,"descriptors",{angleLines:{_fallback:"grid"}});const kh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},He=Object.keys(kh);function Ob(e,t){return e-t}function Db(e,t){if(bt(t))return null;const n=e._adapter,{parser:i,round:s,isoWeekday:r}=e._parseOpts;let o=t;return typeof i=="function"&&(o=i(o)),Xt(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(jr(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,s)),+o)}function Nb(e,t,n,i){const s=He.length;for(let r=He.indexOf(e);r<s-1;++r){const o=kh[He[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=i)return He[r]}return He[s-1]}function EU(e,t,n,i,s){for(let r=He.length-1;r>=He.indexOf(n);r--){const o=He[r];if(kh[o].common&&e._adapter.diff(s,i,o)>=t-1)return o}return He[n?He.indexOf(n):0]}function IU(e){for(let t=He.indexOf(e)+1,n=He.length;t<n;++t)if(kh[He[t]].common)return He[t]}function Lb(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:s}=lm(n,t),r=n[i]>=t?n[i]:n[s];e[r]=!0}}function TU(e,t,n,i){const s=e._adapter,r=+s.startOf(t[0].value,i),o=t[t.length-1].value;let a,l;for(a=r;a<=o;a=+s.add(a,1,i))l=n[a],l>=0&&(t[l].major=!0);return t}function Vb(e,t,n){const i=[],s={},r=t.length;let o,a;for(o=0;o<r;++o)a=t[o],s[a]=o,i.push({value:a,major:!1});return r===0||!n?i:TU(e,i,s,n)}class Ua extends tr{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),s=this._adapter=new D5._date(t.adapters.date);s.init(n),Qo(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:Db(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:s,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=Xt(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=Xt(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,o=this.max,a=rB(s,r,o);return this._unit=n.unit||(i.autoSkip?Nb(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):EU(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:IU(this._unit),this.initOffsets(s),t.reverse&&a.reverse(),Vb(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,s,r;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?i=r:i=(r-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=pe(n,0,o),i=pe(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,o=r.unit||Nb(r.minUnit,n,i,this._getLabelCapacity(n)),a=ht(s.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=jr(l)||l===!0,u={};let h=n,f,d;if(c&&(h=+t.startOf(h,"isoWeek",l)),h=+t.startOf(h,c?"day":o),t.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const p=s.ticks.source==="data"&&this.getDataTimestamps();for(f=h,d=0;f<i;f=+t.add(f,a,o),d++)Lb(u,f,p);return(f===i||s.bounds==="ticks"||d===1)&&Lb(u,f,p),Object.keys(u).sort(Ob).map(g=>+g)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,r=this._unit,o=n||s[r];return this._adapter.format(t,o)}_tickFormatFunction(t,n,i,s){const r=this.options,o=r.ticks.callback;if(o)return Dt(o,[t,n,i],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],f=i[n],d=c&&h&&f&&f.major;return this._adapter.format(t,s||(d?h:u))}generateTickLabels(t){let n,i,s;for(n=0,i=t.length;n<i;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,s=gn(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:i*r+a*o,h:i*o+a*r}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(t,0,Vb(this,[t],this._majorUnit),s),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)t.push(Db(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return bT(t.sort(Ob))}}F(Ua,"id","time"),F(Ua,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Jl(e,t,n){let i=0,s=e.length-1,r,o,a,l;n?(t>=e[i].pos&&t<=e[s].pos&&({lo:i,hi:s}=oi(e,"pos",t)),{pos:r,time:a}=e[i],{pos:o,time:l}=e[s]):(t>=e[i].time&&t<=e[s].time&&({lo:i,hi:s}=oi(e,"time",t)),{time:r,pos:a}=e[i],{time:o,pos:l}=e[s]);const c=o-r;return c?a+(l-a)*(t-r)/c:a}class Yd extends Ua{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Jl(n,this.min),this._tableRange=Jl(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,s=[],r=[];let o,a,l,c,u;for(o=0,a=t.length;o<a;++o)c=t[o],c>=n&&c<=i&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=s.length;o<a;++o)u=s[o+1],l=s[o-1],c=s[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Jl(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return Jl(this._table,i*this._tableRange+this._minPos,!0)}}F(Yd,"id","timeseries"),F(Yd,"defaults",Ua.defaults);var xU=Object.freeze({__proto__:null,CategoryScale:qd,LinearScale:Kd,LogarithmicScale:Gd,RadialLinearScale:No,TimeScale:Ua,TimeSeriesScale:Yd});const SU=[O5,c3,iU,xU];Zn.register(...SU);const kU={class:"container center"},CU={class:"title"},PU={class:"bar-chart center"},RU={__name:"ChartCard",props:{title:"title",type:"bar",data:{type:Array,required:!0},values:{type:Array,equired:!0}},setup(e){const t=e,n=Qt(null);return Mu(()=>{if(n.value){const i=n.value.getContext("2d");new Zn(i,{type:t.type,data:{labels:t.data,datasets:[{data:t.values,borderWidth:1,borderColor:"black",pointBackgroundColor:"orange"}]},options:{scales:{x:{ticks:{font:{size:18},color:"black"}},y:{beginAtZero:!1,ticks:{font:{size:18},color:"black"}}},plugins:{legend:{display:!1}}}})}}),(i,s)=>(Ct(),Ut("div",kU,[L("h1",CU,yn(t.title),1),L("div",PU,[L("canvas",{ref_key:"chartCanvas",ref:n},null,512)])]))}},Pf=en(RU,[["__scopeId","data-v-29ebf924"]]);const MU={class:"page"},OU={class:"charts"},DU={__name:"Stats",setup(e){const t={title:"Bench Press",data:["Jan","Mar","Apr","May","Jun","Jul"],values:[100,115,120,125,130,145]},n={title:"Deadlift",data:["Jan","Mar","Apr","May","Jun","Jul"],values:[120,140,170,180,190,170]},i={title:"Squat",data:["Jan","Mar","Apr","May","Jun","Jul"],values:[120,130,140,150,160,150]};return(s,r)=>(Ct(),Ut("div",MU,[L("div",OU,[xt(Pf,{type:"line",title:t.title,data:t.data,values:t.values},null,8,["title","data","values"]),xt(Pf,{type:"bar",title:n.title,data:n.data,values:n.values},null,8,["title","data","values"]),xt(Pf,{type:"line",title:i.title,data:i.data,values:i.values},null,8,["title","data","values"])])]))}},NU=en(DU,[["__scopeId","data-v-320a3b2c"]]);const LU={class:"component"},VU={class:"title"},FU={class:"card"},BU={class:"row"},UU={__name:"TableData",props:{title:"",data:{type:Array,required:!0}},setup(e){const t=e;return(n,i)=>(Ct(),Ut("div",LU,[L("h1",VU,yn(t.title),1),L("div",FU,[(Ct(!0),Ut(xe,null,aa(t.data,s=>(Ct(),Ut("div",BU,[L("h1",null,yn(s.key),1),L("h1",null,yn(s.value),1)]))),256))])]))}},Fb=en(UU,[["__scopeId","data-v-bb1f6a56"]]);const zU=e=>(Ks("data-v-bc3a08ce"),e=e(),Gs(),e),jU={class:"page"},$U=zU(()=>L("h3",null,"You will achive your goals",-1)),HU={class:"data"},WU={__name:"User",setup(e){const t=bh(),n=[{key:"Height",value:"178"},{key:"Weight",value:"88"},{key:"IMC",value:"28.1"}],i=[{key:"Height",value:"178"},{key:"Weight",value:"95"},{key:"IMC",value:"30"}],s=()=>{BL(jn),t.logout()};return(r,o)=>(Ct(),Ut("div",jU,[L("header",null,[L("h1",null,"Hi, "+yn(ge(t).username),1),$U]),L("div",HU,[xt(Fb,{data:n,title:"Current Data"}),xt(Fb,{data:i,title:"Objectives"})]),L("div",{class:"logout center"},[L("button",{onClick:s},"logout")])]))}},qU=en(WU,[["__scopeId","data-v-bc3a08ce"]]),c1=vC({history:Vk("/Flex/"),routes:[{path:"/",name:"home",component:pF,meta:{requiresAuth:!1}},{path:"/signup",name:"signup",component:kF,meta:{requiresAuth:!1}},{path:"/login",name:"login",component:BF,meta:{requiresAuth:!1}},{path:"/workouts",name:"workouts",component:w4,meta:{requiresAuth:!0}},{path:"/stats",name:"stats",component:NU,meta:{requiresAuth:!0}},{path:"/user",name:"user",component:qU,meta:{requiresAuth:!0}}]});c1.beforeEach((e,t,n)=>{e.matched.some(i=>i.meta.requiresAuth)?jn.currentUser?n():(console.log("forbidden"),n("/")):n()});function Bb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bb(Object(n),!0).forEach(function(i){ue(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bb(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function vu(e){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vu(e)}function KU(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ub(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function GU(e,t,n){return t&&Ub(e.prototype,t),n&&Ub(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vm(e,t){return YU(e)||JU(e,t)||u1(e,t)||t6()}function bl(e){return QU(e)||XU(e)||u1(e)||ZU()}function QU(e){if(Array.isArray(e))return Xd(e)}function YU(e){if(Array.isArray(e))return e}function XU(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function JU(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],s=!0,r=!1,o,a;try{for(n=n.call(e);!(s=(o=n.next()).done)&&(i.push(o.value),!(t&&i.length===t));s=!0);}catch(l){r=!0,a=l}finally{try{!s&&n.return!=null&&n.return()}finally{if(r)throw a}}return i}}function u1(e,t){if(e){if(typeof e=="string")return Xd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xd(e,t)}}function Xd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ZU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var zb=function(){},bm={},h1={},f1=null,d1={mark:zb,measure:zb};try{typeof window<"u"&&(bm=window),typeof document<"u"&&(h1=document),typeof MutationObserver<"u"&&(f1=MutationObserver),typeof performance<"u"&&(d1=performance)}catch{}var e6=bm.navigator||{},jb=e6.userAgent,$b=jb===void 0?"":jb,Ji=bm,$t=h1,Hb=f1,Zl=d1;Ji.document;var vi=!!$t.documentElement&&!!$t.head&&typeof $t.addEventListener=="function"&&typeof $t.createElement=="function",p1=~$b.indexOf("MSIE")||~$b.indexOf("Trident/"),tc,ec,nc,ic,sc,pi="___FONT_AWESOME___",Jd=16,g1="fa",m1="svg-inline--fa",Ws="data-fa-i2svg",Zd="data-fa-pseudo-element",n6="data-fa-pseudo-element-pending",Am="data-prefix",wm="data-icon",Wb="fontawesome-i2svg",i6="async",s6=["HTML","HEAD","STYLE","SCRIPT"],_1=function(){try{return!0}catch{return!1}}(),Vt="classic",Gt="sharp",Em=[Vt,Gt];function Al(e){return new Proxy(e,{get:function(n,i){return i in n?n[i]:n[Vt]}})}var za=Al((tc={},ue(tc,Vt,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),ue(tc,Gt,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),tc)),ja=Al((ec={},ue(ec,Vt,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),ue(ec,Gt,{solid:"fass",regular:"fasr",light:"fasl"}),ec)),$a=Al((nc={},ue(nc,Vt,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),ue(nc,Gt,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),nc)),r6=Al((ic={},ue(ic,Vt,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),ue(ic,Gt,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),ic)),o6=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,y1="fa-layers-text",a6=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,l6=Al((sc={},ue(sc,Vt,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),ue(sc,Gt,{900:"fass",400:"fasr",300:"fasl"}),sc)),v1=[1,2,3,4,5,6,7,8,9,10],c6=v1.concat([11,12,13,14,15,16,17,18,19,20]),u6=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],As={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Ha=new Set;Object.keys(ja[Vt]).map(Ha.add.bind(Ha));Object.keys(ja[Gt]).map(Ha.add.bind(Ha));var h6=[].concat(Em,bl(Ha),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",As.GROUP,As.SWAP_OPACITY,As.PRIMARY,As.SECONDARY]).concat(v1.map(function(e){return"".concat(e,"x")})).concat(c6.map(function(e){return"w-".concat(e)})),ta=Ji.FontAwesomeConfig||{};function f6(e){var t=$t.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}function d6(e){return e===""?!0:e==="false"?!1:e==="true"?!0:e}if($t&&typeof $t.querySelector=="function"){var p6=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];p6.forEach(function(e){var t=vm(e,2),n=t[0],i=t[1],s=d6(f6(n));s!=null&&(ta[i]=s)})}var b1={styleDefault:"solid",familyDefault:"classic",cssPrefix:g1,replacementClass:m1,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};ta.familyPrefix&&(ta.cssPrefix=ta.familyPrefix);var Wr=H(H({},b1),ta);Wr.autoReplaceSvg||(Wr.observeMutations=!1);var G={};Object.keys(b1).forEach(function(e){Object.defineProperty(G,e,{enumerable:!0,set:function(n){Wr[e]=n,ea.forEach(function(i){return i(G)})},get:function(){return Wr[e]}})});Object.defineProperty(G,"familyPrefix",{enumerable:!0,set:function(t){Wr.cssPrefix=t,ea.forEach(function(n){return n(G)})},get:function(){return Wr.cssPrefix}});Ji.FontAwesomeConfig=G;var ea=[];function g6(e){return ea.push(e),function(){ea.splice(ea.indexOf(e),1)}}var Ei=Jd,Vn={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function m6(e){if(!(!e||!vi)){var t=$t.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=$t.head.childNodes,i=null,s=n.length-1;s>-1;s--){var r=n[s],o=(r.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(i=r)}return $t.head.insertBefore(t,i),e}}var _6="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Wa(){for(var e=12,t="";e-- >0;)t+=_6[Math.random()*62|0];return t}function lo(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function Im(e){return e.classList?lo(e.classList):(e.getAttribute("class")||"").split(" ").filter(function(t){return t})}function A1(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function y6(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,'="').concat(A1(e[n]),'" ')},"").trim()}function Ch(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")},"")}function Tm(e){return e.size!==Vn.size||e.x!==Vn.x||e.y!==Vn.y||e.rotate!==Vn.rotate||e.flipX||e.flipY}function v6(e){var t=e.transform,n=e.containerWidth,i=e.iconWidth,s={transform:"translate(".concat(n/2," 256)")},r="translate(".concat(t.x*32,", ").concat(t.y*32,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),a="rotate(".concat(t.rotate," 0 0)"),l={transform:"".concat(r," ").concat(o," ").concat(a)},c={transform:"translate(".concat(i/2*-1," -256)")};return{outer:s,inner:l,path:c}}function b6(e){var t=e.transform,n=e.width,i=n===void 0?Jd:n,s=e.height,r=s===void 0?Jd:s,o=e.startCentered,a=o===void 0?!1:o,l="";return a&&p1?l+="translate(".concat(t.x/Ei-i/2,"em, ").concat(t.y/Ei-r/2,"em) "):a?l+="translate(calc(-50% + ".concat(t.x/Ei,"em), calc(-50% + ").concat(t.y/Ei,"em)) "):l+="translate(".concat(t.x/Ei,"em, ").concat(t.y/Ei,"em) "),l+="scale(".concat(t.size/Ei*(t.flipX?-1:1),", ").concat(t.size/Ei*(t.flipY?-1:1),") "),l+="rotate(".concat(t.rotate,"deg) "),l}var A6=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function w1(){var e=g1,t=m1,n=G.cssPrefix,i=G.replacementClass,s=A6;if(n!==e||i!==t){var r=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),a=new RegExp("\\.".concat(t),"g");s=s.replace(r,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(i))}return s}var qb=!1;function Rf(){G.autoAddCss&&!qb&&(m6(w1()),qb=!0)}var w6={mixout:function(){return{dom:{css:w1,insertCss:Rf}}},hooks:function(){return{beforeDOMElementCreation:function(){Rf()},beforeI2svg:function(){Rf()}}}},gi=Ji||{};gi[pi]||(gi[pi]={});gi[pi].styles||(gi[pi].styles={});gi[pi].hooks||(gi[pi].hooks={});gi[pi].shims||(gi[pi].shims=[]);var mn=gi[pi],E1=[],E6=function e(){$t.removeEventListener("DOMContentLoaded",e),bu=1,E1.map(function(t){return t()})},bu=!1;vi&&(bu=($t.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test($t.readyState),bu||$t.addEventListener("DOMContentLoaded",E6));function I6(e){vi&&(bu?setTimeout(e,0):E1.push(e))}function wl(e){var t=e.tag,n=e.attributes,i=n===void 0?{}:n,s=e.children,r=s===void 0?[]:s;return typeof e=="string"?A1(e):"<".concat(t," ").concat(y6(i),">").concat(r.map(wl).join(""),"</").concat(t,">")}function Kb(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}var T6=function(t,n){return function(i,s,r,o){return t.call(n,i,s,r,o)}},Mf=function(t,n,i,s){var r=Object.keys(t),o=r.length,a=s!==void 0?T6(n,s):n,l,c,u;for(i===void 0?(l=1,u=t[r[0]]):(l=0,u=i);l<o;l++)c=r[l],u=a(u,t[c],c,t);return u};function x6(e){for(var t=[],n=0,i=e.length;n<i;){var s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<i){var r=e.charCodeAt(n++);(r&64512)==56320?t.push(((s&1023)<<10)+(r&1023)+65536):(t.push(s),n--)}else t.push(s)}return t}function tp(e){var t=x6(e);return t.length===1?t[0].toString(16):null}function S6(e,t){var n=e.length,i=e.charCodeAt(t),s;return i>=55296&&i<=56319&&n>t+1&&(s=e.charCodeAt(t+1),s>=56320&&s<=57343)?(i-55296)*1024+s-56320+65536:i}function Gb(e){return Object.keys(e).reduce(function(t,n){var i=e[n],s=!!i.icon;return s?t[i.iconName]=i.icon:t[n]=i,t},{})}function ep(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.skipHooks,s=i===void 0?!1:i,r=Gb(t);typeof mn.hooks.addPack=="function"&&!s?mn.hooks.addPack(e,Gb(t)):mn.styles[e]=H(H({},mn.styles[e]||{}),r),e==="fas"&&ep("fa",t)}var rc,oc,ac,fr=mn.styles,k6=mn.shims,C6=(rc={},ue(rc,Vt,Object.values($a[Vt])),ue(rc,Gt,Object.values($a[Gt])),rc),xm=null,I1={},T1={},x1={},S1={},k1={},P6=(oc={},ue(oc,Vt,Object.keys(za[Vt])),ue(oc,Gt,Object.keys(za[Gt])),oc);function R6(e){return~h6.indexOf(e)}function M6(e,t){var n=t.split("-"),i=n[0],s=n.slice(1).join("-");return i===e&&s!==""&&!R6(s)?s:null}var C1=function(){var t=function(r){return Mf(fr,function(o,a,l){return o[l]=Mf(a,r,{}),o},{})};I1=t(function(s,r,o){if(r[3]&&(s[r[3]]=o),r[2]){var a=r[2].filter(function(l){return typeof l=="number"});a.forEach(function(l){s[l.toString(16)]=o})}return s}),T1=t(function(s,r,o){if(s[o]=o,r[2]){var a=r[2].filter(function(l){return typeof l=="string"});a.forEach(function(l){s[l]=o})}return s}),k1=t(function(s,r,o){var a=r[2];return s[o]=o,a.forEach(function(l){s[l]=o}),s});var n="far"in fr||G.autoFetchSvg,i=Mf(k6,function(s,r){var o=r[0],a=r[1],l=r[2];return a==="far"&&!n&&(a="fas"),typeof o=="string"&&(s.names[o]={prefix:a,iconName:l}),typeof o=="number"&&(s.unicodes[o.toString(16)]={prefix:a,iconName:l}),s},{names:{},unicodes:{}});x1=i.names,S1=i.unicodes,xm=Ph(G.styleDefault,{family:G.familyDefault})};g6(function(e){xm=Ph(e.styleDefault,{family:G.familyDefault})});C1();function Sm(e,t){return(I1[e]||{})[t]}function O6(e,t){return(T1[e]||{})[t]}function ws(e,t){return(k1[e]||{})[t]}function P1(e){return x1[e]||{prefix:null,iconName:null}}function D6(e){var t=S1[e],n=Sm("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function Zi(){return xm}var km=function(){return{prefix:null,iconName:null,rest:[]}};function Ph(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.family,i=n===void 0?Vt:n,s=za[i][e],r=ja[i][e]||ja[i][s],o=e in mn.styles?e:null;return r||o||null}var Qb=(ac={},ue(ac,Vt,Object.keys($a[Vt])),ue(ac,Gt,Object.keys($a[Gt])),ac);function Rh(e){var t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.skipLookups,s=i===void 0?!1:i,r=(t={},ue(t,Vt,"".concat(G.cssPrefix,"-").concat(Vt)),ue(t,Gt,"".concat(G.cssPrefix,"-").concat(Gt)),t),o=null,a=Vt;(e.includes(r[Vt])||e.some(function(c){return Qb[Vt].includes(c)}))&&(a=Vt),(e.includes(r[Gt])||e.some(function(c){return Qb[Gt].includes(c)}))&&(a=Gt);var l=e.reduce(function(c,u){var h=M6(G.cssPrefix,u);if(fr[u]?(u=C6[a].includes(u)?r6[a][u]:u,o=u,c.prefix=u):P6[a].indexOf(u)>-1?(o=u,c.prefix=Ph(u,{family:a})):h?c.iconName=h:u!==G.replacementClass&&u!==r[Vt]&&u!==r[Gt]&&c.rest.push(u),!s&&c.prefix&&c.iconName){var f=o==="fa"?P1(c.iconName):{},d=ws(c.prefix,c.iconName);f.prefix&&(o=null),c.iconName=f.iconName||d||c.iconName,c.prefix=f.prefix||c.prefix,c.prefix==="far"&&!fr.far&&fr.fas&&!G.autoFetchSvg&&(c.prefix="fas")}return c},km());return(e.includes("fa-brands")||e.includes("fab"))&&(l.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(l.prefix="fad"),!l.prefix&&a===Gt&&(fr.fass||G.autoFetchSvg)&&(l.prefix="fass",l.iconName=ws(l.prefix,l.iconName)||l.iconName),(l.prefix==="fa"||o==="fa")&&(l.prefix=Zi()||"fas"),l}var N6=function(){function e(){KU(this,e),this.definitions={}}return GU(e,[{key:"add",value:function(){for(var n=this,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];var o=s.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=H(H({},n.definitions[a]||{}),o[a]),ep(a,o[a]);var l=$a[Vt][a];l&&ep(l,o[a]),C1()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,i){var s=i.prefix&&i.iconName&&i.icon?{0:i}:i;return Object.keys(s).map(function(r){var o=s[r],a=o.prefix,l=o.iconName,c=o.icon,u=c[2];n[a]||(n[a]={}),u.length>0&&u.forEach(function(h){typeof h=="string"&&(n[a][h]=c)}),n[a][l]=c}),n}}]),e}(),Yb=[],dr={},Ir={},L6=Object.keys(Ir);function V6(e,t){var n=t.mixoutsTo;return Yb=e,dr={},Object.keys(Ir).forEach(function(i){L6.indexOf(i)===-1&&delete Ir[i]}),Yb.forEach(function(i){var s=i.mixout?i.mixout():{};if(Object.keys(s).forEach(function(o){typeof s[o]=="function"&&(n[o]=s[o]),vu(s[o])==="object"&&Object.keys(s[o]).forEach(function(a){n[o]||(n[o]={}),n[o][a]=s[o][a]})}),i.hooks){var r=i.hooks();Object.keys(r).forEach(function(o){dr[o]||(dr[o]=[]),dr[o].push(r[o])})}i.provides&&i.provides(Ir)}),n}function np(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];var r=dr[e]||[];return r.forEach(function(o){t=o.apply(null,[t].concat(i))}),t}function qs(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var s=dr[e]||[];s.forEach(function(r){r.apply(null,n)})}function mi(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Ir[e]?Ir[e].apply(null,t):void 0}function ip(e){e.prefix==="fa"&&(e.prefix="fas");var t=e.iconName,n=e.prefix||Zi();if(t)return t=ws(n,t)||t,Kb(R1.definitions,n,t)||Kb(mn.styles,n,t)}var R1=new N6,F6=function(){G.autoReplaceSvg=!1,G.observeMutations=!1,qs("noAuto")},B6={i2svg:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return vi?(qs("beforeI2svg",t),mi("pseudoElements2svg",t),mi("i2svg",t)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.autoReplaceSvgRoot;G.autoReplaceSvg===!1&&(G.autoReplaceSvg=!0),G.observeMutations=!0,I6(function(){z6({autoReplaceSvgRoot:n}),qs("watch",t)})}},U6={icon:function(t){if(t===null)return null;if(vu(t)==="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:ws(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){var n=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],i=Ph(t[0]);return{prefix:i,iconName:ws(i,n)||n}}if(typeof t=="string"&&(t.indexOf("".concat(G.cssPrefix,"-"))>-1||t.match(o6))){var s=Rh(t.split(" "),{skipLookups:!0});return{prefix:s.prefix||Zi(),iconName:ws(s.prefix,s.iconName)||s.iconName}}if(typeof t=="string"){var r=Zi();return{prefix:r,iconName:ws(r,t)||t}}}},nn={noAuto:F6,config:G,dom:B6,parse:U6,library:R1,findIconDefinition:ip,toHtml:wl},z6=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.autoReplaceSvgRoot,i=n===void 0?$t:n;(Object.keys(mn.styles).length>0||G.autoFetchSvg)&&vi&&G.autoReplaceSvg&&nn.dom.i2svg({node:i})};function Mh(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(function(i){return wl(i)})}}),Object.defineProperty(e,"node",{get:function(){if(vi){var i=$t.createElement("div");return i.innerHTML=e.html,i.children}}}),e}function j6(e){var t=e.children,n=e.main,i=e.mask,s=e.attributes,r=e.styles,o=e.transform;if(Tm(o)&&n.found&&!i.found){var a=n.width,l=n.height,c={x:a/l/2,y:.5};s.style=Ch(H(H({},r),{},{"transform-origin":"".concat(c.x+o.x/16,"em ").concat(c.y+o.y/16,"em")}))}return[{tag:"svg",attributes:s,children:t}]}function $6(e){var t=e.prefix,n=e.iconName,i=e.children,s=e.attributes,r=e.symbol,o=r===!0?"".concat(t,"-").concat(G.cssPrefix,"-").concat(n):r;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:H(H({},s),{},{id:o}),children:i}]}]}function Cm(e){var t=e.icons,n=t.main,i=t.mask,s=e.prefix,r=e.iconName,o=e.transform,a=e.symbol,l=e.title,c=e.maskId,u=e.titleId,h=e.extra,f=e.watchable,d=f===void 0?!1:f,p=i.found?i:n,g=p.width,m=p.height,_=s==="fak",y=[G.replacementClass,r?"".concat(G.cssPrefix,"-").concat(r):""].filter(function(M){return h.classes.indexOf(M)===-1}).filter(function(M){return M!==""||!!M}).concat(h.classes).join(" "),w={children:[],attributes:H(H({},h.attributes),{},{"data-prefix":s,"data-icon":r,class:y,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(m)})},A=_&&!~h.classes.indexOf("fa-fw")?{width:"".concat(g/m*16*.0625,"em")}:{};d&&(w.attributes[Ws]=""),l&&(w.children.push({tag:"title",attributes:{id:w.attributes["aria-labelledby"]||"title-".concat(u||Wa())},children:[l]}),delete w.attributes.title);var E=H(H({},w),{},{prefix:s,iconName:r,main:n,mask:i,maskId:c,transform:o,symbol:a,styles:H(H({},A),h.styles)}),T=i.found&&n.found?mi("generateAbstractMask",E)||{children:[],attributes:{}}:mi("generateAbstractIcon",E)||{children:[],attributes:{}},k=T.children,S=T.attributes;return E.children=k,E.attributes=S,a?$6(E):j6(E)}function Xb(e){var t=e.content,n=e.width,i=e.height,s=e.transform,r=e.title,o=e.extra,a=e.watchable,l=a===void 0?!1:a,c=H(H(H({},o.attributes),r?{title:r}:{}),{},{class:o.classes.join(" ")});l&&(c[Ws]="");var u=H({},o.styles);Tm(s)&&(u.transform=b6({transform:s,startCentered:!0,width:n,height:i}),u["-webkit-transform"]=u.transform);var h=Ch(u);h.length>0&&(c.style=h);var f=[];return f.push({tag:"span",attributes:c,children:[t]}),r&&f.push({tag:"span",attributes:{class:"sr-only"},children:[r]}),f}function H6(e){var t=e.content,n=e.title,i=e.extra,s=H(H(H({},i.attributes),n?{title:n}:{}),{},{class:i.classes.join(" ")}),r=Ch(i.styles);r.length>0&&(s.style=r);var o=[];return o.push({tag:"span",attributes:s,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var Of=mn.styles;function sp(e){var t=e[0],n=e[1],i=e.slice(4),s=vm(i,1),r=s[0],o=null;return Array.isArray(r)?o={tag:"g",attributes:{class:"".concat(G.cssPrefix,"-").concat(As.GROUP)},children:[{tag:"path",attributes:{class:"".concat(G.cssPrefix,"-").concat(As.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(G.cssPrefix,"-").concat(As.PRIMARY),fill:"currentColor",d:r[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:t,height:n,icon:o}}var W6={found:!1,width:512,height:512};function q6(e,t){!_1&&!G.showMissingIcons&&e&&console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}function rp(e,t){var n=t;return t==="fa"&&G.styleDefault!==null&&(t=Zi()),new Promise(function(i,s){if(mi("missingIconAbstract"),n==="fa"){var r=P1(e)||{};e=r.iconName||e,t=r.prefix||t}if(e&&t&&Of[t]&&Of[t][e]){var o=Of[t][e];return i(sp(o))}q6(e,t),i(H(H({},W6),{},{icon:G.showMissingIcons&&e?mi("missingIconAbstract")||{}:{}}))})}var Jb=function(){},op=G.measurePerformance&&Zl&&Zl.mark&&Zl.measure?Zl:{mark:Jb,measure:Jb},Lo='FA "6.4.2"',K6=function(t){return op.mark("".concat(Lo," ").concat(t," begins")),function(){return M1(t)}},M1=function(t){op.mark("".concat(Lo," ").concat(t," ends")),op.measure("".concat(Lo," ").concat(t),"".concat(Lo," ").concat(t," begins"),"".concat(Lo," ").concat(t," ends"))},Pm={begin:K6,end:M1},Rc=function(){};function Zb(e){var t=e.getAttribute?e.getAttribute(Ws):null;return typeof t=="string"}function G6(e){var t=e.getAttribute?e.getAttribute(Am):null,n=e.getAttribute?e.getAttribute(wm):null;return t&&n}function Q6(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(G.replacementClass)}function Y6(){if(G.autoReplaceSvg===!0)return Mc.replace;var e=Mc[G.autoReplaceSvg];return e||Mc.replace}function X6(e){return $t.createElementNS("http://www.w3.org/2000/svg",e)}function J6(e){return $t.createElement(e)}function O1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.ceFn,i=n===void 0?e.tag==="svg"?X6:J6:n;if(typeof e=="string")return $t.createTextNode(e);var s=i(e.tag);Object.keys(e.attributes||[]).forEach(function(o){s.setAttribute(o,e.attributes[o])});var r=e.children||[];return r.forEach(function(o){s.appendChild(O1(o,{ceFn:i}))}),s}function Z6(e){var t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}var Mc={replace:function(t){var n=t[0];if(n.parentNode)if(t[1].forEach(function(s){n.parentNode.insertBefore(O1(s),n)}),n.getAttribute(Ws)===null&&G.keepOriginalSource){var i=$t.createComment(Z6(n));n.parentNode.replaceChild(i,n)}else n.remove()},nest:function(t){var n=t[0],i=t[1];if(~Im(n).indexOf(G.replacementClass))return Mc.replace(t);var s=new RegExp("".concat(G.cssPrefix,"-.*"));if(delete i[0].attributes.id,i[0].attributes.class){var r=i[0].attributes.class.split(" ").reduce(function(a,l){return l===G.replacementClass||l.match(s)?a.toSvg.push(l):a.toNode.push(l),a},{toNode:[],toSvg:[]});i[0].attributes.class=r.toSvg.join(" "),r.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",r.toNode.join(" "))}var o=i.map(function(a){return wl(a)}).join(`
`);n.setAttribute(Ws,""),n.innerHTML=o}};function t0(e){e()}function D1(e,t){var n=typeof t=="function"?t:Rc;if(e.length===0)n();else{var i=t0;G.mutateApproach===i6&&(i=Ji.requestAnimationFrame||t0),i(function(){var s=Y6(),r=Pm.begin("mutate");e.map(s),r(),n()})}}var Rm=!1;function N1(){Rm=!0}function ap(){Rm=!1}var Au=null;function e0(e){if(Hb&&G.observeMutations){var t=e.treeCallback,n=t===void 0?Rc:t,i=e.nodeCallback,s=i===void 0?Rc:i,r=e.pseudoElementsCallback,o=r===void 0?Rc:r,a=e.observeMutationsRoot,l=a===void 0?$t:a;Au=new Hb(function(c){if(!Rm){var u=Zi();lo(c).forEach(function(h){if(h.type==="childList"&&h.addedNodes.length>0&&!Zb(h.addedNodes[0])&&(G.searchPseudoElements&&o(h.target),n(h.target)),h.type==="attributes"&&h.target.parentNode&&G.searchPseudoElements&&o(h.target.parentNode),h.type==="attributes"&&Zb(h.target)&&~u6.indexOf(h.attributeName))if(h.attributeName==="class"&&G6(h.target)){var f=Rh(Im(h.target)),d=f.prefix,p=f.iconName;h.target.setAttribute(Am,d||u),p&&h.target.setAttribute(wm,p)}else Q6(h.target)&&s(h.target)})}}),vi&&Au.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function tz(){Au&&Au.disconnect()}function ez(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce(function(i,s){var r=s.split(":"),o=r[0],a=r.slice(1);return o&&a.length>0&&(i[o]=a.join(":").trim()),i},{})),n}function nz(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),i=e.innerText!==void 0?e.innerText.trim():"",s=Rh(Im(e));return s.prefix||(s.prefix=Zi()),t&&n&&(s.prefix=t,s.iconName=n),s.iconName&&s.prefix||(s.prefix&&i.length>0&&(s.iconName=O6(s.prefix,e.innerText)||Sm(s.prefix,tp(e.innerText))),!s.iconName&&G.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=e.firstChild.data)),s}function iz(e){var t=lo(e.attributes).reduce(function(s,r){return s.name!=="class"&&s.name!=="style"&&(s[r.name]=r.value),s},{}),n=e.getAttribute("title"),i=e.getAttribute("data-fa-title-id");return G.autoA11y&&(n?t["aria-labelledby"]="".concat(G.replacementClass,"-title-").concat(i||Wa()):(t["aria-hidden"]="true",t.focusable="false")),t}function sz(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Vn,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function n0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=nz(e),i=n.iconName,s=n.prefix,r=n.rest,o=iz(e),a=np("parseNodeAttributes",{},e),l=t.styleParser?ez(e):[];return H({iconName:i,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:s,transform:Vn,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:r,styles:l,attributes:o}},a)}var rz=mn.styles;function L1(e){var t=G.autoReplaceSvg==="nest"?n0(e,{styleParser:!1}):n0(e);return~t.extra.classes.indexOf(y1)?mi("generateLayersText",e,t):mi("generateSvgReplacementMutation",e,t)}var ts=new Set;Em.map(function(e){ts.add("fa-".concat(e))});Object.keys(za[Vt]).map(ts.add.bind(ts));Object.keys(za[Gt]).map(ts.add.bind(ts));ts=bl(ts);function i0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!vi)return Promise.resolve();var n=$t.documentElement.classList,i=function(h){return n.add("".concat(Wb,"-").concat(h))},s=function(h){return n.remove("".concat(Wb,"-").concat(h))},r=G.autoFetchSvg?ts:Em.map(function(u){return"fa-".concat(u)}).concat(Object.keys(rz));r.includes("fa")||r.push("fa");var o=[".".concat(y1,":not([").concat(Ws,"])")].concat(r.map(function(u){return".".concat(u,":not([").concat(Ws,"])")})).join(", ");if(o.length===0)return Promise.resolve();var a=[];try{a=lo(e.querySelectorAll(o))}catch{}if(a.length>0)i("pending"),s("complete");else return Promise.resolve();var l=Pm.begin("onTree"),c=a.reduce(function(u,h){try{var f=L1(h);f&&u.push(f)}catch(d){_1||d.name==="MissingIcon"&&console.error(d)}return u},[]);return new Promise(function(u,h){Promise.all(c).then(function(f){D1(f,function(){i("active"),i("complete"),s("pending"),typeof t=="function"&&t(),l(),u()})}).catch(function(f){l(),h(f)})})}function oz(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;L1(e).then(function(n){n&&D1([n],t)})}function az(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=(t||{}).icon?t:ip(t||{}),s=n.mask;return s&&(s=(s||{}).icon?s:ip(s||{})),e(i,H(H({},n),{},{mask:s}))}}var lz=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.transform,s=i===void 0?Vn:i,r=n.symbol,o=r===void 0?!1:r,a=n.mask,l=a===void 0?null:a,c=n.maskId,u=c===void 0?null:c,h=n.title,f=h===void 0?null:h,d=n.titleId,p=d===void 0?null:d,g=n.classes,m=g===void 0?[]:g,_=n.attributes,y=_===void 0?{}:_,w=n.styles,A=w===void 0?{}:w;if(t){var E=t.prefix,T=t.iconName,k=t.icon;return Mh(H({type:"icon"},t),function(){return qs("beforeDOMElementCreation",{iconDefinition:t,params:n}),G.autoA11y&&(f?y["aria-labelledby"]="".concat(G.replacementClass,"-title-").concat(p||Wa()):(y["aria-hidden"]="true",y.focusable="false")),Cm({icons:{main:sp(k),mask:l?sp(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:E,iconName:T,transform:H(H({},Vn),s),symbol:o,title:f,maskId:u,titleId:p,extra:{attributes:y,styles:A,classes:m}})})}},cz={mixout:function(){return{icon:az(lz)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=i0,n.nodeCallback=oz,n}}},provides:function(t){t.i2svg=function(n){var i=n.node,s=i===void 0?$t:i,r=n.callback,o=r===void 0?function(){}:r;return i0(s,o)},t.generateSvgReplacementMutation=function(n,i){var s=i.iconName,r=i.title,o=i.titleId,a=i.prefix,l=i.transform,c=i.symbol,u=i.mask,h=i.maskId,f=i.extra;return new Promise(function(d,p){Promise.all([rp(s,a),u.iconName?rp(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var m=vm(g,2),_=m[0],y=m[1];d([n,Cm({icons:{main:_,mask:y},prefix:a,iconName:s,transform:l,symbol:c,maskId:h,title:r,titleId:o,extra:f,watchable:!0})])}).catch(p)})},t.generateAbstractIcon=function(n){var i=n.children,s=n.attributes,r=n.main,o=n.transform,a=n.styles,l=Ch(a);l.length>0&&(s.style=l);var c;return Tm(o)&&(c=mi("generateAbstractTransformGrouping",{main:r,transform:o,containerWidth:r.width,iconWidth:r.width})),i.push(c||r.icon),{children:i,attributes:s}}}},uz={mixout:function(){return{layer:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.classes,r=s===void 0?[]:s;return Mh({type:"layer"},function(){qs("beforeDOMElementCreation",{assembler:n,params:i});var o=[];return n(function(a){Array.isArray(a)?a.map(function(l){o=o.concat(l.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(G.cssPrefix,"-layers")].concat(bl(r)).join(" ")},children:o}]})}}}},hz={mixout:function(){return{counter:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.title,r=s===void 0?null:s,o=i.classes,a=o===void 0?[]:o,l=i.attributes,c=l===void 0?{}:l,u=i.styles,h=u===void 0?{}:u;return Mh({type:"counter",content:n},function(){return qs("beforeDOMElementCreation",{content:n,params:i}),H6({content:n.toString(),title:r,extra:{attributes:c,styles:h,classes:["".concat(G.cssPrefix,"-layers-counter")].concat(bl(a))}})})}}}},fz={mixout:function(){return{text:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.transform,r=s===void 0?Vn:s,o=i.title,a=o===void 0?null:o,l=i.classes,c=l===void 0?[]:l,u=i.attributes,h=u===void 0?{}:u,f=i.styles,d=f===void 0?{}:f;return Mh({type:"text",content:n},function(){return qs("beforeDOMElementCreation",{content:n,params:i}),Xb({content:n,transform:H(H({},Vn),r),title:a,extra:{attributes:h,styles:d,classes:["".concat(G.cssPrefix,"-layers-text")].concat(bl(c))}})})}}},provides:function(t){t.generateLayersText=function(n,i){var s=i.title,r=i.transform,o=i.extra,a=null,l=null;if(p1){var c=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();a=u.width/c,l=u.height/c}return G.autoA11y&&!s&&(o.attributes["aria-hidden"]="true"),Promise.resolve([n,Xb({content:n.innerHTML,width:a,height:l,transform:r,title:s,extra:o,watchable:!0})])}}},dz=new RegExp('"',"ug"),s0=[1105920,1112319];function pz(e){var t=e.replace(dz,""),n=S6(t,0),i=n>=s0[0]&&n<=s0[1],s=t.length===2?t[0]===t[1]:!1;return{value:tp(s?t[0]:t),isSecondary:i||s}}function r0(e,t){var n="".concat(n6).concat(t.replace(":","-"));return new Promise(function(i,s){if(e.getAttribute(n)!==null)return i();var r=lo(e.children),o=r.filter(function(k){return k.getAttribute(Zd)===t})[0],a=Ji.getComputedStyle(e,t),l=a.getPropertyValue("font-family").match(a6),c=a.getPropertyValue("font-weight"),u=a.getPropertyValue("content");if(o&&!l)return e.removeChild(o),i();if(l&&u!=="none"&&u!==""){var h=a.getPropertyValue("content"),f=~["Sharp"].indexOf(l[2])?Gt:Vt,d=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(l[2])?ja[f][l[2].toLowerCase()]:l6[f][c],p=pz(h),g=p.value,m=p.isSecondary,_=l[0].startsWith("FontAwesome"),y=Sm(d,g),w=y;if(_){var A=D6(g);A.iconName&&A.prefix&&(y=A.iconName,d=A.prefix)}if(y&&!m&&(!o||o.getAttribute(Am)!==d||o.getAttribute(wm)!==w)){e.setAttribute(n,w),o&&e.removeChild(o);var E=sz(),T=E.extra;T.attributes[Zd]=t,rp(y,d).then(function(k){var S=Cm(H(H({},E),{},{icons:{main:k,mask:km()},prefix:d,iconName:w,extra:T,watchable:!0})),M=$t.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?e.insertBefore(M,e.firstChild):e.appendChild(M),M.outerHTML=S.map(function($){return wl($)}).join(`
`),e.removeAttribute(n),i()}).catch(s)}else i()}else i()})}function gz(e){return Promise.all([r0(e,"::before"),r0(e,"::after")])}function mz(e){return e.parentNode!==document.head&&!~s6.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(Zd)&&(!e.parentNode||e.parentNode.tagName!=="svg")}function o0(e){if(vi)return new Promise(function(t,n){var i=lo(e.querySelectorAll("*")).filter(mz).map(gz),s=Pm.begin("searchPseudoElements");N1(),Promise.all(i).then(function(){s(),ap(),t()}).catch(function(){s(),ap(),n()})})}var _z={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=o0,n}}},provides:function(t){t.pseudoElements2svg=function(n){var i=n.node,s=i===void 0?$t:i;G.searchPseudoElements&&o0(s)}}},a0=!1,yz={mixout:function(){return{dom:{unwatch:function(){N1(),a0=!0}}}},hooks:function(){return{bootstrap:function(){e0(np("mutationObserverCallbacks",{}))},noAuto:function(){tz()},watch:function(n){var i=n.observeMutationsRoot;a0?ap():e0(np("mutationObserverCallbacks",{observeMutationsRoot:i}))}}}},l0=function(t){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce(function(i,s){var r=s.toLowerCase().split("-"),o=r[0],a=r.slice(1).join("-");if(o&&a==="h")return i.flipX=!0,i;if(o&&a==="v")return i.flipY=!0,i;if(a=parseFloat(a),isNaN(a))return i;switch(o){case"grow":i.size=i.size+a;break;case"shrink":i.size=i.size-a;break;case"left":i.x=i.x-a;break;case"right":i.x=i.x+a;break;case"up":i.y=i.y-a;break;case"down":i.y=i.y+a;break;case"rotate":i.rotate=i.rotate+a;break}return i},n)},vz={mixout:function(){return{parse:{transform:function(n){return l0(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,i){var s=i.getAttribute("data-fa-transform");return s&&(n.transform=l0(s)),n}}},provides:function(t){t.generateAbstractTransformGrouping=function(n){var i=n.main,s=n.transform,r=n.containerWidth,o=n.iconWidth,a={transform:"translate(".concat(r/2," 256)")},l="translate(".concat(s.x*32,", ").concat(s.y*32,") "),c="scale(".concat(s.size/16*(s.flipX?-1:1),", ").concat(s.size/16*(s.flipY?-1:1),") "),u="rotate(".concat(s.rotate," 0 0)"),h={transform:"".concat(l," ").concat(c," ").concat(u)},f={transform:"translate(".concat(o/2*-1," -256)")},d={outer:a,inner:h,path:f};return{tag:"g",attributes:H({},d.outer),children:[{tag:"g",attributes:H({},d.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:H(H({},i.icon.attributes),d.path)}]}]}}}},Df={x:0,y:0,width:"100%",height:"100%"};function c0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function bz(e){return e.tag==="g"?e.children:[e]}var Az={hooks:function(){return{parseNodeAttributes:function(n,i){var s=i.getAttribute("data-fa-mask"),r=s?Rh(s.split(" ").map(function(o){return o.trim()})):km();return r.prefix||(r.prefix=Zi()),n.mask=r,n.maskId=i.getAttribute("data-fa-mask-id"),n}}},provides:function(t){t.generateAbstractMask=function(n){var i=n.children,s=n.attributes,r=n.main,o=n.mask,a=n.maskId,l=n.transform,c=r.width,u=r.icon,h=o.width,f=o.icon,d=v6({transform:l,containerWidth:h,iconWidth:c}),p={tag:"rect",attributes:H(H({},Df),{},{fill:"white"})},g=u.children?{children:u.children.map(c0)}:{},m={tag:"g",attributes:H({},d.inner),children:[c0(H({tag:u.tag,attributes:H(H({},u.attributes),d.path)},g))]},_={tag:"g",attributes:H({},d.outer),children:[m]},y="mask-".concat(a||Wa()),w="clip-".concat(a||Wa()),A={tag:"mask",attributes:H(H({},Df),{},{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,_]},E={tag:"defs",children:[{tag:"clipPath",attributes:{id:w},children:bz(f)},A]};return i.push(E,{tag:"rect",attributes:H({fill:"currentColor","clip-path":"url(#".concat(w,")"),mask:"url(#".concat(y,")")},Df)}),{children:i,attributes:s}}}},wz={provides:function(t){var n=!1;Ji.matchMedia&&(n=Ji.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){var i=[],s={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};i.push({tag:"path",attributes:H(H({},s),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=H(H({},r),{},{attributeName:"opacity"}),a={tag:"circle",attributes:H(H({},s),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:H(H({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:H(H({},o),{},{values:"1;0;1;1;0;1;"})}),i.push(a),i.push({tag:"path",attributes:H(H({},s),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:H(H({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||i.push({tag:"path",attributes:H(H({},s),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:H(H({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:i}}}},Ez={hooks:function(){return{parseNodeAttributes:function(n,i){var s=i.getAttribute("data-fa-symbol"),r=s===null?!1:s===""?!0:s;return n.symbol=r,n}}}},Iz=[w6,cz,uz,hz,fz,_z,yz,vz,Az,wz,Ez];V6(Iz,{mixoutsTo:nn});nn.noAuto;nn.config;var Tz=nn.library;nn.dom;var lp=nn.parse;nn.findIconDefinition;nn.toHtml;var xz=nn.icon;nn.layer;nn.text;nn.counter;function u0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function ei(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u0(Object(n),!0).forEach(function(i){je(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u0(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function wu(e){"@babel/helpers - typeof";return wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(e)}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sz(e,t){if(e==null)return{};var n={},i=Object.keys(e),s,r;for(r=0;r<i.length;r++)s=i[r],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function kz(e,t){if(e==null)return{};var n=Sz(e,t),i,s;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}var Cz=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},V1={exports:{}};(function(e){(function(t){var n=function(_,y,w){if(!c(y)||h(y)||f(y)||d(y)||l(y))return y;var A,E=0,T=0;if(u(y))for(A=[],T=y.length;E<T;E++)A.push(n(_,y[E],w));else{A={};for(var k in y)Object.prototype.hasOwnProperty.call(y,k)&&(A[_(k,w)]=n(_,y[k],w))}return A},i=function(_,y){y=y||{};var w=y.separator||"_",A=y.split||/(?=[A-Z])/;return _.split(A).join(w)},s=function(_){return p(_)?_:(_=_.replace(/[\-_\s]+(.)?/g,function(y,w){return w?w.toUpperCase():""}),_.substr(0,1).toLowerCase()+_.substr(1))},r=function(_){var y=s(_);return y.substr(0,1).toUpperCase()+y.substr(1)},o=function(_,y){return i(_,y).toLowerCase()},a=Object.prototype.toString,l=function(_){return typeof _=="function"},c=function(_){return _===Object(_)},u=function(_){return a.call(_)=="[object Array]"},h=function(_){return a.call(_)=="[object Date]"},f=function(_){return a.call(_)=="[object RegExp]"},d=function(_){return a.call(_)=="[object Boolean]"},p=function(_){return _=_-0,_===_},g=function(_,y){var w=y&&"process"in y?y.process:y;return typeof w!="function"?_:function(A,E){return w(A,_,E)}},m={camelize:s,decamelize:o,pascalize:r,depascalize:o,camelizeKeys:function(_,y){return n(g(s,y),_)},decamelizeKeys:function(_,y){return n(g(o,y),_,y)},pascalizeKeys:function(_,y){return n(g(r,y),_)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};e.exports?e.exports=m:t.humps=m})(Cz)})(V1);var Pz=V1.exports,Rz=["class","style"];function Mz(e){return e.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,n){var i=n.indexOf(":"),s=Pz.camelize(n.slice(0,i)),r=n.slice(i+1).trim();return t[s]=r,t},{})}function Oz(e){return e.split(/\s+/).reduce(function(t,n){return t[n]=!0,t},{})}function F1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var i=(e.children||[]).map(function(l){return F1(l)}),s=Object.keys(e.attributes||{}).reduce(function(l,c){var u=e.attributes[c];switch(c){case"class":l.class=Oz(u);break;case"style":l.style=Mz(u);break;default:l.attrs[c]=u}return l},{attrs:{},class:{},style:{}});n.class;var r=n.style,o=r===void 0?{}:r,a=kz(n,Rz);return Mp(e.tag,ei(ei(ei({},t),{},{class:s.class,style:ei(ei({},s.style),o)},s.attrs),a),i)}var B1=!1;try{B1=!0}catch{}function Dz(){if(!B1&&console&&typeof console.error=="function"){var e;(e=console).error.apply(e,arguments)}}function Nf(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?je({},e,t):{}}function Nz(e){var t,n=(t={"fa-spin":e.spin,"fa-pulse":e.pulse,"fa-fw":e.fixedWidth,"fa-border":e.border,"fa-li":e.listItem,"fa-inverse":e.inverse,"fa-flip":e.flip===!0,"fa-flip-horizontal":e.flip==="horizontal"||e.flip==="both","fa-flip-vertical":e.flip==="vertical"||e.flip==="both"},je(t,"fa-".concat(e.size),e.size!==null),je(t,"fa-rotate-".concat(e.rotation),e.rotation!==null),je(t,"fa-pull-".concat(e.pull),e.pull!==null),je(t,"fa-swap-opacity",e.swapOpacity),je(t,"fa-bounce",e.bounce),je(t,"fa-shake",e.shake),je(t,"fa-beat",e.beat),je(t,"fa-fade",e.fade),je(t,"fa-beat-fade",e.beatFade),je(t,"fa-flash",e.flash),je(t,"fa-spin-pulse",e.spinPulse),je(t,"fa-spin-reverse",e.spinReverse),t);return Object.keys(n).map(function(i){return n[i]?i:null}).filter(function(i){return i})}function h0(e){if(e&&wu(e)==="object"&&e.prefix&&e.iconName&&e.icon)return e;if(lp.icon)return lp.icon(e);if(e===null)return null;if(wu(e)==="object"&&e.prefix&&e.iconName)return e;if(Array.isArray(e)&&e.length===2)return{prefix:e[0],iconName:e[1]};if(typeof e=="string")return{prefix:"fas",iconName:e}}var Lz=xp({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:[Boolean,String],default:!1,validator:function(t){return[!0,!1,"horizontal","vertical","both"].indexOf(t)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(t){return["right","left"].indexOf(t)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(t){return[90,180,270].indexOf(Number.parseInt(t,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(t){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(t)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},inverse:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},shake:{type:Boolean,default:!1},beat:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},beatFade:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1}},setup:function(t,n){var i=n.attrs,s=fe(function(){return h0(t.icon)}),r=fe(function(){return Nf("classes",Nz(t))}),o=fe(function(){return Nf("transform",typeof t.transform=="string"?lp.transform(t.transform):t.transform)}),a=fe(function(){return Nf("mask",h0(t.mask))}),l=fe(function(){return xz(s.value,ei(ei(ei(ei({},r.value),o.value),a.value),{},{symbol:t.symbol,title:t.title}))});Bi(l,function(u){if(!u)return Dz("Could not find one or more icon(s)",s.value,a.value)},{immediate:!0});var c=fe(function(){return l.value?F1(l.value.abstract[0],{},i):null});return function(){return c.value}}}),Vz={prefix:"fas",iconName:"eye-slash",icon:[640,512,[],"f070","M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z"]},Fz={prefix:"fas",iconName:"chart-simple",icon:[448,512,[],"e473","M160 80c0-26.5 21.5-48 48-48h32c26.5 0 48 21.5 48 48V432c0 26.5-21.5 48-48 48H208c-26.5 0-48-21.5-48-48V80zM0 272c0-26.5 21.5-48 48-48H80c26.5 0 48 21.5 48 48V432c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V272zM368 96h32c26.5 0 48 21.5 48 48V432c0 26.5-21.5 48-48 48H368c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48z"]},Bz={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"]},Uz={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},zz={prefix:"fas",iconName:"dumbbell",icon:[640,512,[],"f44b","M96 64c0-17.7 14.3-32 32-32h32c17.7 0 32 14.3 32 32V224v64V448c0 17.7-14.3 32-32 32H128c-17.7 0-32-14.3-32-32V384H64c-17.7 0-32-14.3-32-32V288c-17.7 0-32-14.3-32-32s14.3-32 32-32V160c0-17.7 14.3-32 32-32H96V64zm448 0v64h32c17.7 0 32 14.3 32 32v64c17.7 0 32 14.3 32 32s-14.3 32-32 32v64c0 17.7-14.3 32-32 32H544v64c0 17.7-14.3 32-32 32H480c-17.7 0-32-14.3-32-32V288 224 64c0-17.7 14.3-32 32-32h32c17.7 0 32 14.3 32 32zM416 224v64H224V224H416z"]},jz={prefix:"fas",iconName:"circle-plus",icon:[512,512,["plus-circle"],"f055","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344V280H168c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V168c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H280v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]};Tz.add(Bz,zz,Fz,jz,Uz,Vz);const Oh=uk(lF);Oh.component("font-awesome-icon",Lz);Oh.use(dk());Oh.use(c1);Oh.mount("#app");
