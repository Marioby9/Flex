var ix=Object.defineProperty;var sx=(e,t,n)=>t in e?ix(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var F=(e,t,n)=>(sx(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function bp(e,t){const n=Object.create(null),i=e.split(",");for(let s=0;s<i.length;s++)n[i[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const Vt={},vr=[],An=()=>{},rx=()=>!1,ox=/^on[^a-z]/,Pu=e=>ox.test(e),Ap=e=>e.startsWith("onUpdate:"),_e=Object.assign,wp=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},ax=Object.prototype.hasOwnProperty,vt=(e,t)=>ax.call(e,t),nt=Array.isArray,br=e=>Ya(e)==="[object Map]",Zr=e=>Ya(e)==="[object Set]",qm=e=>Ya(e)==="[object Date]",pt=e=>typeof e=="function",ie=e=>typeof e=="string",ua=e=>typeof e=="symbol",Lt=e=>e!==null&&typeof e=="object",S0=e=>Lt(e)&&pt(e.then)&&pt(e.catch),k0=Object.prototype.toString,Ya=e=>k0.call(e),lx=e=>Ya(e).slice(8,-1),P0=e=>Ya(e)==="[object Object]",Ep=e=>ie(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,mc=bp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Cu=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},cx=/-(\w)/g,Kn=Cu(e=>e.replace(cx,(t,n)=>n?n.toUpperCase():"")),ux=/\B([A-Z])/g,to=Cu(e=>e.replace(ux,"-$1").toLowerCase()),Ru=Cu(e=>e.charAt(0).toUpperCase()+e.slice(1)),zh=Cu(e=>e?`on${Ru(e)}`:""),ha=(e,t)=>!Object.is(e,t),_c=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Uc=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},zc=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Km;const $f=()=>Km||(Km=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Ip(e){if(nt(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],s=ie(i)?px(i):Ip(i);if(s)for(const r in s)t[r]=s[r]}return t}else{if(ie(e))return e;if(Lt(e))return e}}const hx=/;(?![^(]*\))/g,fx=/:([^]+)/,dx=/\/\*[^]*?\*\//g;function px(e){const t={};return e.replace(dx,"").split(hx).forEach(n=>{if(n){const i=n.split(fx);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Xa(e){let t="";if(ie(e))t=e;else if(nt(e))for(let n=0;n<e.length;n++){const i=Xa(e[n]);i&&(t+=i+" ")}else if(Lt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const gx="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",mx=bp(gx);function C0(e){return!!e||e===""}function _x(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=Ls(e[i],t[i]);return n}function Ls(e,t){if(e===t)return!0;let n=qm(e),i=qm(t);if(n||i)return n&&i?e.getTime()===t.getTime():!1;if(n=ua(e),i=ua(t),n||i)return e===t;if(n=nt(e),i=nt(t),n||i)return n&&i?_x(e,t):!1;if(n=Lt(e),i=Lt(t),n||i){if(!n||!i)return!1;const s=Object.keys(e).length,r=Object.keys(t).length;if(s!==r)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!Ls(e[o],t[o]))return!1}}return String(e)===String(t)}function Tp(e,t){return e.findIndex(n=>Ls(n,t))}const _n=e=>ie(e)?e:e==null?"":nt(e)||Lt(e)&&(e.toString===k0||!pt(e.toString))?JSON.stringify(e,R0,2):String(e),R0=(e,t)=>t&&t.__v_isRef?R0(e,t.value):br(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,s])=>(n[`${i} =>`]=s,n),{})}:Zr(t)?{[`Set(${t.size})`]:[...t.values()]}:Lt(t)&&!nt(t)&&!P0(t)?String(t):t;let Je;class M0{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Je,!t&&Je&&(this.index=(Je.scopes||(Je.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Je;try{return Je=this,t()}finally{Je=n}}}on(){Je=this}off(){Je=this.parent}stop(t){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function O0(e){return new M0(e)}function yx(e,t=Je){t&&t.active&&t.effects.push(e)}function xp(){return Je}function D0(e){Je&&Je.cleanups.push(e)}const Sp=e=>{const t=new Set(e);return t.w=0,t.n=0,t},N0=e=>(e.w&Gi)>0,L0=e=>(e.n&Gi)>0,vx=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Gi},bx=e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const s=t[i];N0(s)&&!L0(s)?s.delete(e):t[n++]=s,s.w&=~Gi,s.n&=~Gi}t.length=n}},jc=new WeakMap;let xo=0,Gi=1;const Hf=30;let mn;const Ps=Symbol(""),Wf=Symbol("");class kp{constructor(t,n=null,i){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,yx(this,i)}run(){if(!this.active)return this.fn();let t=mn,n=Bi;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=mn,mn=this,Bi=!0,Gi=1<<++xo,xo<=Hf?vx(this):Gm(this),this.fn()}finally{xo<=Hf&&bx(this),Gi=1<<--xo,mn=this.parent,Bi=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){mn===this?this.deferStop=!0:this.active&&(Gm(this),this.onStop&&this.onStop(),this.active=!1)}}function Gm(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Bi=!0;const V0=[];function eo(){V0.push(Bi),Bi=!1}function no(){const e=V0.pop();Bi=e===void 0?!0:e}function Qe(e,t,n){if(Bi&&mn){let i=jc.get(e);i||jc.set(e,i=new Map);let s=i.get(n);s||i.set(n,s=Sp()),F0(s)}}function F0(e,t){let n=!1;xo<=Hf?L0(e)||(e.n|=Gi,n=!N0(e)):n=!e.has(mn),n&&(e.add(mn),mn.deps.push(e))}function fi(e,t,n,i,s,r){const o=jc.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&nt(e)){const l=Number(i);o.forEach((c,u)=>{(u==="length"||u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),t){case"add":nt(e)?Ep(n)&&a.push(o.get("length")):(a.push(o.get(Ps)),br(e)&&a.push(o.get(Wf)));break;case"delete":nt(e)||(a.push(o.get(Ps)),br(e)&&a.push(o.get(Wf)));break;case"set":br(e)&&a.push(o.get(Ps));break}if(a.length===1)a[0]&&qf(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);qf(Sp(l))}}function qf(e,t){const n=nt(e)?e:[...e];for(const i of n)i.computed&&Qm(i);for(const i of n)i.computed||Qm(i)}function Qm(e,t){(e!==mn||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function Ax(e,t){var n;return(n=jc.get(e))==null?void 0:n.get(t)}const wx=bp("__proto__,__v_isRef,__isVue"),B0=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ua)),Ex=Pp(),Ix=Pp(!1,!0),Tx=Pp(!0),Ym=xx();function xx(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=At(this);for(let r=0,o=this.length;r<o;r++)Qe(i,"get",r+"");const s=i[t](...n);return s===-1||s===!1?i[t](...n.map(At)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){eo();const i=At(this)[t].apply(this,n);return no(),i}}),e}function Sx(e){const t=At(this);return Qe(t,"has",e),t.hasOwnProperty(e)}function Pp(e=!1,t=!1){return function(i,s,r){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&r===(e?t?$x:H0:t?$0:j0).get(i))return i;const o=nt(i);if(!e){if(o&&vt(Ym,s))return Reflect.get(Ym,s,r);if(s==="hasOwnProperty")return Sx}const a=Reflect.get(i,s,r);return(ua(s)?B0.has(s):wx(s))||(e||Qe(i,"get",s),t)?a:ne(a)?o&&Ep(s)?a:a.value:Lt(a)?e?q0(a):Ja(a):a}}const kx=U0(),Px=U0(!0);function U0(e=!1){return function(n,i,s,r){let o=n[i];if(Rr(o)&&ne(o)&&!ne(s))return!1;if(!e&&(!$c(s)&&!Rr(s)&&(o=At(o),s=At(s)),!nt(n)&&ne(o)&&!ne(s)))return o.value=s,!0;const a=nt(n)&&Ep(i)?Number(i)<n.length:vt(n,i),l=Reflect.set(n,i,s,r);return n===At(r)&&(a?ha(s,o)&&fi(n,"set",i,s):fi(n,"add",i,s)),l}}function Cx(e,t){const n=vt(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&fi(e,"delete",t,void 0),i}function Rx(e,t){const n=Reflect.has(e,t);return(!ua(t)||!B0.has(t))&&Qe(e,"has",t),n}function Mx(e){return Qe(e,"iterate",nt(e)?"length":Ps),Reflect.ownKeys(e)}const z0={get:Ex,set:kx,deleteProperty:Cx,has:Rx,ownKeys:Mx},Ox={get:Tx,set(e,t){return!0},deleteProperty(e,t){return!0}},Dx=_e({},z0,{get:Ix,set:Px}),Cp=e=>e,Mu=e=>Reflect.getPrototypeOf(e);function Pl(e,t,n=!1,i=!1){e=e.__v_raw;const s=At(e),r=At(t);n||(t!==r&&Qe(s,"get",t),Qe(s,"get",r));const{has:o}=Mu(s),a=i?Cp:n?Op:fa;if(o.call(s,t))return a(e.get(t));if(o.call(s,r))return a(e.get(r));e!==s&&e.get(t)}function Cl(e,t=!1){const n=this.__v_raw,i=At(n),s=At(e);return t||(e!==s&&Qe(i,"has",e),Qe(i,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function Rl(e,t=!1){return e=e.__v_raw,!t&&Qe(At(e),"iterate",Ps),Reflect.get(e,"size",e)}function Xm(e){e=At(e);const t=At(this);return Mu(t).has.call(t,e)||(t.add(e),fi(t,"add",e,e)),this}function Jm(e,t){t=At(t);const n=At(this),{has:i,get:s}=Mu(n);let r=i.call(n,e);r||(e=At(e),r=i.call(n,e));const o=s.call(n,e);return n.set(e,t),r?ha(t,o)&&fi(n,"set",e,t):fi(n,"add",e,t),this}function Zm(e){const t=At(this),{has:n,get:i}=Mu(t);let s=n.call(t,e);s||(e=At(e),s=n.call(t,e)),i&&i.call(t,e);const r=t.delete(e);return s&&fi(t,"delete",e,void 0),r}function t_(){const e=At(this),t=e.size!==0,n=e.clear();return t&&fi(e,"clear",void 0,void 0),n}function Ml(e,t){return function(i,s){const r=this,o=r.__v_raw,a=At(o),l=t?Cp:e?Op:fa;return!e&&Qe(a,"iterate",Ps),o.forEach((c,u)=>i.call(s,l(c),l(u),r))}}function Ol(e,t,n){return function(...i){const s=this.__v_raw,r=At(s),o=br(r),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=s[e](...i),u=n?Cp:t?Op:fa;return!t&&Qe(r,"iterate",l?Wf:Ps),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function Ii(e){return function(...t){return e==="delete"?!1:this}}function Nx(){const e={get(r){return Pl(this,r)},get size(){return Rl(this)},has:Cl,add:Xm,set:Jm,delete:Zm,clear:t_,forEach:Ml(!1,!1)},t={get(r){return Pl(this,r,!1,!0)},get size(){return Rl(this)},has:Cl,add:Xm,set:Jm,delete:Zm,clear:t_,forEach:Ml(!1,!0)},n={get(r){return Pl(this,r,!0)},get size(){return Rl(this,!0)},has(r){return Cl.call(this,r,!0)},add:Ii("add"),set:Ii("set"),delete:Ii("delete"),clear:Ii("clear"),forEach:Ml(!0,!1)},i={get(r){return Pl(this,r,!0,!0)},get size(){return Rl(this,!0)},has(r){return Cl.call(this,r,!0)},add:Ii("add"),set:Ii("set"),delete:Ii("delete"),clear:Ii("clear"),forEach:Ml(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=Ol(r,!1,!1),n[r]=Ol(r,!0,!1),t[r]=Ol(r,!1,!0),i[r]=Ol(r,!0,!0)}),[e,n,t,i]}const[Lx,Vx,Fx,Bx]=Nx();function Rp(e,t){const n=t?e?Bx:Fx:e?Vx:Lx;return(i,s,r)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?i:Reflect.get(vt(n,s)&&s in i?n:i,s,r)}const Ux={get:Rp(!1,!1)},zx={get:Rp(!1,!0)},jx={get:Rp(!0,!1)},j0=new WeakMap,$0=new WeakMap,H0=new WeakMap,$x=new WeakMap;function Hx(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Wx(e){return e.__v_skip||!Object.isExtensible(e)?0:Hx(lx(e))}function Ja(e){return Rr(e)?e:Mp(e,!1,z0,Ux,j0)}function W0(e){return Mp(e,!1,Dx,zx,$0)}function q0(e){return Mp(e,!0,Ox,jx,H0)}function Mp(e,t,n,i,s){if(!Lt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=s.get(e);if(r)return r;const o=Wx(e);if(o===0)return e;const a=new Proxy(e,o===2?i:n);return s.set(e,a),a}function Ui(e){return Rr(e)?Ui(e.__v_raw):!!(e&&e.__v_isReactive)}function Rr(e){return!!(e&&e.__v_isReadonly)}function $c(e){return!!(e&&e.__v_isShallow)}function K0(e){return Ui(e)||Rr(e)}function At(e){const t=e&&e.__v_raw;return t?At(t):e}function Ou(e){return Uc(e,"__v_skip",!0),e}const fa=e=>Lt(e)?Ja(e):e,Op=e=>Lt(e)?q0(e):e;function G0(e){Bi&&mn&&(e=At(e),F0(e.dep||(e.dep=Sp())))}function Q0(e,t){e=At(e);const n=e.dep;n&&qf(n)}function ne(e){return!!(e&&e.__v_isRef===!0)}function kt(e){return Y0(e,!1)}function qx(e){return Y0(e,!0)}function Y0(e,t){return ne(e)?e:new Kx(e,t)}class Kx{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:At(t),this._value=n?t:fa(t)}get value(){return G0(this),this._value}set value(t){const n=this.__v_isShallow||$c(t)||Rr(t);t=n?t:At(t),ha(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:fa(t),Q0(this))}}function ce(e){return ne(e)?e.value:e}const Gx={get:(e,t,n)=>ce(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const s=e[t];return ne(s)&&!ne(n)?(s.value=n,!0):Reflect.set(e,t,n,i)}};function X0(e){return Ui(e)?e:new Proxy(e,Gx)}function Qx(e){const t=nt(e)?new Array(e.length):{};for(const n in e)t[n]=Xx(e,n);return t}class Yx{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Ax(At(this._object),this._key)}}function Xx(e,t,n){const i=e[t];return ne(i)?i:new Yx(e,t,n)}class Jx{constructor(t,n,i,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new kp(t,()=>{this._dirty||(this._dirty=!0,Q0(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const t=At(this);return G0(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function Zx(e,t,n=!1){let i,s;const r=pt(e);return r?(i=e,s=An):(i=e.get,s=e.set),new Jx(i,s,r||!s,n)}function zi(e,t,n,i){let s;try{s=i?e(...i):e()}catch(r){Du(r,t,n)}return s}function wn(e,t,n,i){if(pt(e)){const r=zi(e,t,n,i);return r&&S0(r)&&r.catch(o=>{Du(o,t,n)}),r}const s=[];for(let r=0;r<e.length;r++)s.push(wn(e[r],t,n,i));return s}function Du(e,t,n,i=!0){const s=t?t.vnode:null;if(t){let r=t.parent;const o=t.proxy,a=n;for(;r;){const c=r.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,o,a)===!1)return}r=r.parent}const l=t.appContext.config.errorHandler;if(l){zi(l,null,10,[e,o,a]);return}}tS(e,n,s,i)}function tS(e,t,n,i=!0){console.error(e)}let da=!1,Kf=!1;const ke=[];let Ln=0;const Ar=[];let ti=null,ys=0;const J0=Promise.resolve();let Dp=null;function Np(e){const t=Dp||J0;return e?t.then(this?e.bind(this):e):t}function eS(e){let t=Ln+1,n=ke.length;for(;t<n;){const i=t+n>>>1;pa(ke[i])<e?t=i+1:n=i}return t}function Lp(e){(!ke.length||!ke.includes(e,da&&e.allowRecurse?Ln+1:Ln))&&(e.id==null?ke.push(e):ke.splice(eS(e.id),0,e),Z0())}function Z0(){!da&&!Kf&&(Kf=!0,Dp=J0.then(eA))}function nS(e){const t=ke.indexOf(e);t>Ln&&ke.splice(t,1)}function iS(e){nt(e)?Ar.push(...e):(!ti||!ti.includes(e,e.allowRecurse?ys+1:ys))&&Ar.push(e),Z0()}function e_(e,t=da?Ln+1:0){for(;t<ke.length;t++){const n=ke[t];n&&n.pre&&(ke.splice(t,1),t--,n())}}function tA(e){if(Ar.length){const t=[...new Set(Ar)];if(Ar.length=0,ti){ti.push(...t);return}for(ti=t,ti.sort((n,i)=>pa(n)-pa(i)),ys=0;ys<ti.length;ys++)ti[ys]();ti=null,ys=0}}const pa=e=>e.id==null?1/0:e.id,sS=(e,t)=>{const n=pa(e)-pa(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function eA(e){Kf=!1,da=!0,ke.sort(sS);const t=An;try{for(Ln=0;Ln<ke.length;Ln++){const n=ke[Ln];n&&n.active!==!1&&zi(n,null,14)}}finally{Ln=0,ke.length=0,tA(),da=!1,Dp=null,(ke.length||Ar.length)&&eA()}}function rS(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||Vt;let s=n;const r=t.startsWith("update:"),o=r&&t.slice(7);if(o&&o in i){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=i[u]||Vt;f&&(s=n.map(d=>ie(d)?d.trim():d)),h&&(s=n.map(zc))}let a,l=i[a=zh(t)]||i[a=zh(Kn(t))];!l&&r&&(l=i[a=zh(to(t))]),l&&wn(l,e,6,s);const c=i[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,wn(c,e,6,s)}}function nA(e,t,n=!1){const i=t.emitsCache,s=i.get(e);if(s!==void 0)return s;const r=e.emits;let o={},a=!1;if(!pt(e)){const l=c=>{const u=nA(c,t,!0);u&&(a=!0,_e(o,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!r&&!a?(Lt(e)&&i.set(e,null),null):(nt(r)?r.forEach(l=>o[l]=null):_e(o,r),Lt(e)&&i.set(e,o),o)}function Nu(e,t){return!e||!Pu(t)?!1:(t=t.slice(2).replace(/Once$/,""),vt(e,t[0].toLowerCase()+t.slice(1))||vt(e,to(t))||vt(e,t))}let tn=null,Lu=null;function Hc(e){const t=tn;return tn=e,Lu=e&&e.type.__scopeId||null,t}function Js(e){Lu=e}function Zs(){Lu=null}function Vs(e,t=tn,n){if(!t||e._n)return e;const i=(...s)=>{i._d&&p_(-1);const r=Hc(t);let o;try{o=e(...s)}finally{Hc(r),i._d&&p_(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function jh(e){const{type:t,vnode:n,proxy:i,withProxy:s,props:r,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:h,data:f,setupState:d,ctx:p,inheritAttrs:g}=e;let m,_;const y=Hc(e);try{if(n.shapeFlag&4){const A=s||i;m=Nn(u.call(A,A,h,r,d,f,p)),_=l}else{const A=t;m=Nn(A.length>1?A(r,{attrs:l,slots:a,emit:c}):A(r,null)),_=t.props?l:oS(l)}}catch(A){qo.length=0,Du(A,e,1),m=Mt(Fs)}let E=m;if(_&&g!==!1){const A=Object.keys(_),{shapeFlag:w}=E;A.length&&w&7&&(o&&A.some(Ap)&&(_=aS(_,o)),E=Mr(E,_))}return n.dirs&&(E=Mr(E),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&(E.transition=n.transition),m=E,Hc(y),m}const oS=e=>{let t;for(const n in e)(n==="class"||n==="style"||Pu(n))&&((t||(t={}))[n]=e[n]);return t},aS=(e,t)=>{const n={};for(const i in e)(!Ap(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function lS(e,t,n){const{props:i,children:s,component:r}=e,{props:o,children:a,patchFlag:l}=t,c=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?n_(i,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==i[f]&&!Nu(c,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?n_(i,o,c):!0:!!o;return!1}function n_(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(t[r]!==e[r]&&!Nu(n,r))return!0}return!1}function cS({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const uS=e=>e.__isSuspense;function hS(e,t){t&&t.pendingBranch?nt(e)?t.effects.push(...e):t.effects.push(e):iS(e)}const Dl={};function ji(e,t,n){return iA(e,t,n)}function iA(e,t,{immediate:n,deep:i,flush:s,onTrack:r,onTrigger:o}=Vt){var a;const l=xp()===((a=ge)==null?void 0:a.scope)?ge:null;let c,u=!1,h=!1;if(ne(e)?(c=()=>e.value,u=$c(e)):Ui(e)?(c=()=>e,i=!0):nt(e)?(h=!0,u=e.some(A=>Ui(A)||$c(A)),c=()=>e.map(A=>{if(ne(A))return A.value;if(Ui(A))return bs(A);if(pt(A))return zi(A,l,2)})):pt(e)?t?c=()=>zi(e,l,2):c=()=>{if(!(l&&l.isUnmounted))return f&&f(),wn(e,l,3,[d])}:c=An,t&&i){const A=c;c=()=>bs(A())}let f,d=A=>{f=y.onStop=()=>{zi(A,l,4)}},p;if(_a)if(d=An,t?n&&wn(t,l,3,[c(),h?[]:void 0,d]):c(),s==="sync"){const A=rk();p=A.__watcherHandles||(A.__watcherHandles=[])}else return An;let g=h?new Array(e.length).fill(Dl):Dl;const m=()=>{if(y.active)if(t){const A=y.run();(i||u||(h?A.some((w,T)=>ha(w,g[T])):ha(A,g)))&&(f&&f(),wn(t,l,3,[A,g===Dl?void 0:h&&g[0]===Dl?[]:g,d]),g=A)}else y.run()};m.allowRecurse=!!t;let _;s==="sync"?_=m:s==="post"?_=()=>We(m,l&&l.suspense):(m.pre=!0,l&&(m.id=l.uid),_=()=>Lp(m));const y=new kp(c,_);t?n?m():g=y.run():s==="post"?We(y.run.bind(y),l&&l.suspense):y.run();const E=()=>{y.stop(),l&&l.scope&&wp(l.scope.effects,y)};return p&&p.push(E),E}function fS(e,t,n){const i=this.proxy,s=ie(e)?e.includes(".")?sA(i,e):()=>i[e]:e.bind(i,i);let r;pt(t)?r=t:(r=t.handler,n=t);const o=ge;Dr(this);const a=iA(s,r.bind(i),n);return o?Dr(o):Cs(),a}function sA(e,t){const n=t.split(".");return()=>{let i=e;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}function bs(e,t){if(!Lt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),ne(e))bs(e.value,t);else if(nt(e))for(let n=0;n<e.length;n++)bs(e[n],t);else if(Zr(e)||br(e))e.forEach(n=>{bs(n,t)});else if(P0(e))for(const n in e)bs(e[n],t);return e}function cn(e,t){const n=tn;if(n===null)return e;const i=zu(n)||n.proxy,s=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,a,l,c=Vt]=t[r];o&&(pt(o)&&(o={mounted:o,updated:o}),o.deep&&bs(a),s.push({dir:o,instance:i,value:a,oldValue:void 0,arg:l,modifiers:c}))}return e}function cs(e,t,n,i){const s=e.dirs,r=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];r&&(a.oldValue=r[o].value);let l=a.dir[i];l&&(eo(),wn(l,n,8,[e.el,a,e,t]),no())}}function Vp(e,t){return pt(e)?(()=>_e({name:e.name},t,{setup:e}))():e}const yc=e=>!!e.type.__asyncLoader,rA=e=>e.type.__isKeepAlive;function dS(e,t){oA(e,"a",t)}function pS(e,t){oA(e,"da",t)}function oA(e,t,n=ge){const i=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Vu(t,i,n),n){let s=n.parent;for(;s&&s.parent;)rA(s.parent.vnode)&&gS(i,t,n,s),s=s.parent}}function gS(e,t,n,i){const s=Vu(t,e,i,!0);aA(()=>{wp(i[t],s)},n)}function Vu(e,t,n=ge,i=!1){if(n){const s=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;eo(),Dr(n);const a=wn(t,n,e,o);return Cs(),no(),a});return i?s.unshift(r):s.push(r),r}}const Ai=e=>(t,n=ge)=>(!_a||e==="sp")&&Vu(e,(...i)=>t(...i),n),mS=Ai("bm"),Fu=Ai("m"),_S=Ai("bu"),yS=Ai("u"),vS=Ai("bum"),aA=Ai("um"),bS=Ai("sp"),AS=Ai("rtg"),wS=Ai("rtc");function ES(e,t=ge){Vu("ec",e,t)}const Fp="components";function Bp(e,t){return cA(Fp,e,!0,t)||e}const lA=Symbol.for("v-ndc");function IS(e){return ie(e)?cA(Fp,e,!1)||e:e||lA}function cA(e,t,n=!0,i=!1){const s=tn||ge;if(s){const r=s.type;if(e===Fp){const a=nk(r,!1);if(a&&(a===t||a===Kn(t)||a===Ru(Kn(t))))return r}const o=i_(s[e]||r[e],t)||i_(s.appContext[e],t);return!o&&i?r:o}}function i_(e,t){return e&&(e[t]||e[Kn(t)]||e[Ru(Kn(t))])}function $o(e,t,n,i){let s;const r=n&&n[i];if(nt(e)||ie(e)){s=new Array(e.length);for(let o=0,a=e.length;o<a;o++)s[o]=t(e[o],o,void 0,r&&r[o])}else if(typeof e=="number"){s=new Array(e);for(let o=0;o<e;o++)s[o]=t(o+1,o,void 0,r&&r[o])}else if(Lt(e))if(e[Symbol.iterator])s=Array.from(e,(o,a)=>t(o,a,void 0,r&&r[a]));else{const o=Object.keys(e);s=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];s[a]=t(e[c],c,a,r&&r[a])}}else s=[];return n&&(n[i]=s),s}const Gf=e=>e?bA(e)?zu(e)||e.proxy:Gf(e.parent):null,Ho=_e(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Gf(e.parent),$root:e=>Gf(e.root),$emit:e=>e.emit,$options:e=>Up(e),$forceUpdate:e=>e.f||(e.f=()=>Lp(e.update)),$nextTick:e=>e.n||(e.n=Np.bind(e.proxy)),$watch:e=>fS.bind(e)}),$h=(e,t)=>e!==Vt&&!e.__isScriptSetup&&vt(e,t),TS={get({_:e},t){const{ctx:n,setupState:i,data:s,props:r,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const d=o[t];if(d!==void 0)switch(d){case 1:return i[t];case 2:return s[t];case 4:return n[t];case 3:return r[t]}else{if($h(i,t))return o[t]=1,i[t];if(s!==Vt&&vt(s,t))return o[t]=2,s[t];if((c=e.propsOptions[0])&&vt(c,t))return o[t]=3,r[t];if(n!==Vt&&vt(n,t))return o[t]=4,n[t];Qf&&(o[t]=0)}}const u=Ho[t];let h,f;if(u)return t==="$attrs"&&Qe(e,"get",t),u(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(n!==Vt&&vt(n,t))return o[t]=4,n[t];if(f=l.config.globalProperties,vt(f,t))return f[t]},set({_:e},t,n){const{data:i,setupState:s,ctx:r}=e;return $h(s,t)?(s[t]=n,!0):i!==Vt&&vt(i,t)?(i[t]=n,!0):vt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:s,propsOptions:r}},o){let a;return!!n[o]||e!==Vt&&vt(e,o)||$h(t,o)||(a=r[0])&&vt(a,o)||vt(i,o)||vt(Ho,o)||vt(s.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:vt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function s_(e){return nt(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Qf=!0;function xS(e){const t=Up(e),n=e.proxy,i=e.ctx;Qf=!1,t.beforeCreate&&r_(t.beforeCreate,e,"bc");const{data:s,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:d,updated:p,activated:g,deactivated:m,beforeDestroy:_,beforeUnmount:y,destroyed:E,unmounted:A,render:w,renderTracked:T,renderTriggered:S,errorCaptured:x,serverPrefetch:C,expose:j,inheritAttrs:K,components:st,directives:Tt,filters:te}=t;if(c&&SS(c,i,null),o)for(const it in o){const ut=o[it];pt(ut)&&(i[it]=ut.bind(n))}if(s){const it=s.call(n,n);Lt(it)&&(e.data=Ja(it))}if(Qf=!0,r)for(const it in r){const ut=r[it],Ot=pt(ut)?ut.bind(n,n):pt(ut.get)?ut.get.bind(n,n):An,Ve=!pt(ut)&&pt(ut.set)?ut.set.bind(n):An,Fe=pe({get:Ot,set:Ve});Object.defineProperty(i,it,{enumerable:!0,configurable:!0,get:()=>Fe.value,set:ee=>Fe.value=ee})}if(a)for(const it in a)uA(a[it],i,n,it);if(l){const it=pt(l)?l.call(n):l;Reflect.ownKeys(it).forEach(ut=>{vc(ut,it[ut])})}u&&r_(u,e,"c");function X(it,ut){nt(ut)?ut.forEach(Ot=>it(Ot.bind(n))):ut&&it(ut.bind(n))}if(X(mS,h),X(Fu,f),X(_S,d),X(yS,p),X(dS,g),X(pS,m),X(ES,x),X(wS,T),X(AS,S),X(vS,y),X(aA,A),X(bS,C),nt(j))if(j.length){const it=e.exposed||(e.exposed={});j.forEach(ut=>{Object.defineProperty(it,ut,{get:()=>n[ut],set:Ot=>n[ut]=Ot})})}else e.exposed||(e.exposed={});w&&e.render===An&&(e.render=w),K!=null&&(e.inheritAttrs=K),st&&(e.components=st),Tt&&(e.directives=Tt)}function SS(e,t,n=An){nt(e)&&(e=Yf(e));for(const i in e){const s=e[i];let r;Lt(s)?"default"in s?r=hn(s.from||i,s.default,!0):r=hn(s.from||i):r=hn(s),ne(r)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[i]=r}}function r_(e,t,n){wn(nt(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function uA(e,t,n,i){const s=i.includes(".")?sA(n,i):()=>n[i];if(ie(e)){const r=t[e];pt(r)&&ji(s,r)}else if(pt(e))ji(s,e.bind(n));else if(Lt(e))if(nt(e))e.forEach(r=>uA(r,t,n,i));else{const r=pt(e.handler)?e.handler.bind(n):t[e.handler];pt(r)&&ji(s,r,e)}}function Up(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,a=r.get(t);let l;return a?l=a:!s.length&&!n&&!i?l=t:(l={},s.length&&s.forEach(c=>Wc(l,c,o,!0)),Wc(l,t,o)),Lt(t)&&r.set(t,l),l}function Wc(e,t,n,i=!1){const{mixins:s,extends:r}=t;r&&Wc(e,r,n,!0),s&&s.forEach(o=>Wc(e,o,n,!0));for(const o in t)if(!(i&&o==="expose")){const a=kS[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const kS={data:o_,props:a_,emits:a_,methods:So,computed:So,beforeCreate:Be,created:Be,beforeMount:Be,mounted:Be,beforeUpdate:Be,updated:Be,beforeDestroy:Be,beforeUnmount:Be,destroyed:Be,unmounted:Be,activated:Be,deactivated:Be,errorCaptured:Be,serverPrefetch:Be,components:So,directives:So,watch:CS,provide:o_,inject:PS};function o_(e,t){return t?e?function(){return _e(pt(e)?e.call(this,this):e,pt(t)?t.call(this,this):t)}:t:e}function PS(e,t){return So(Yf(e),Yf(t))}function Yf(e){if(nt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Be(e,t){return e?[...new Set([].concat(e,t))]:t}function So(e,t){return e?_e(Object.create(null),e,t):t}function a_(e,t){return e?nt(e)&&nt(t)?[...new Set([...e,...t])]:_e(Object.create(null),s_(e),s_(t??{})):t}function CS(e,t){if(!e)return t;if(!t)return e;const n=_e(Object.create(null),e);for(const i in t)n[i]=Be(e[i],t[i]);return n}function hA(){return{app:null,config:{isNativeTag:rx,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let RS=0;function MS(e,t){return function(i,s=null){pt(i)||(i=_e({},i)),s!=null&&!Lt(s)&&(s=null);const r=hA(),o=new Set;let a=!1;const l=r.app={_uid:RS++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:ok,get config(){return r.config},set config(c){},use(c,...u){return o.has(c)||(c&&pt(c.install)?(o.add(c),c.install(l,...u)):pt(c)&&(o.add(c),c(l,...u))),l},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),l},component(c,u){return u?(r.components[c]=u,l):r.components[c]},directive(c,u){return u?(r.directives[c]=u,l):r.directives[c]},mount(c,u,h){if(!a){const f=Mt(i,s);return f.appContext=r,u&&t?t(f,c):e(f,c,h),a=!0,l._container=c,c.__vue_app__=l,zu(f.component)||f.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(c,u){return r.provides[c]=u,l},runWithContext(c){ga=l;try{return c()}finally{ga=null}}};return l}}let ga=null;function vc(e,t){if(ge){let n=ge.provides;const i=ge.parent&&ge.parent.provides;i===n&&(n=ge.provides=Object.create(i)),n[e]=t}}function hn(e,t,n=!1){const i=ge||tn;if(i||ga){const s=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:ga._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&pt(t)?t.call(i&&i.proxy):t}}function OS(){return!!(ge||tn||ga)}function DS(e,t,n,i=!1){const s={},r={};Uc(r,Uu,1),e.propsDefaults=Object.create(null),fA(e,t,s,r);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=i?s:W0(s):e.type.props?e.props=s:e.props=r,e.attrs=r}function NS(e,t,n,i){const{props:s,attrs:r,vnode:{patchFlag:o}}=e,a=At(s),[l]=e.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(Nu(e.emitsOptions,f))continue;const d=t[f];if(l)if(vt(r,f))d!==r[f]&&(r[f]=d,c=!0);else{const p=Kn(f);s[p]=Xf(l,a,p,d,e,!1)}else d!==r[f]&&(r[f]=d,c=!0)}}}else{fA(e,t,s,r)&&(c=!0);let u;for(const h in a)(!t||!vt(t,h)&&((u=to(h))===h||!vt(t,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(s[h]=Xf(l,a,h,void 0,e,!0)):delete s[h]);if(r!==a)for(const h in r)(!t||!vt(t,h))&&(delete r[h],c=!0)}c&&fi(e,"set","$attrs")}function fA(e,t,n,i){const[s,r]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(mc(l))continue;const c=t[l];let u;s&&vt(s,u=Kn(l))?!r||!r.includes(u)?n[u]=c:(a||(a={}))[u]=c:Nu(e.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(r){const l=At(n),c=a||Vt;for(let u=0;u<r.length;u++){const h=r[u];n[h]=Xf(s,l,h,c[h],e,!vt(c,h))}}return o}function Xf(e,t,n,i,s,r){const o=e[n];if(o!=null){const a=vt(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&pt(l)){const{propsDefaults:c}=s;n in c?i=c[n]:(Dr(s),i=c[n]=l.call(null,t),Cs())}else i=l}o[0]&&(r&&!a?i=!1:o[1]&&(i===""||i===to(n))&&(i=!0))}return i}function dA(e,t,n=!1){const i=t.propsCache,s=i.get(e);if(s)return s;const r=e.props,o={},a=[];let l=!1;if(!pt(e)){const u=h=>{l=!0;const[f,d]=dA(h,t,!0);_e(o,f),d&&a.push(...d)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!r&&!l)return Lt(e)&&i.set(e,vr),vr;if(nt(r))for(let u=0;u<r.length;u++){const h=Kn(r[u]);l_(h)&&(o[h]=Vt)}else if(r)for(const u in r){const h=Kn(u);if(l_(h)){const f=r[u],d=o[h]=nt(f)||pt(f)?{type:f}:_e({},f);if(d){const p=h_(Boolean,d.type),g=h_(String,d.type);d[0]=p>-1,d[1]=g<0||p<g,(p>-1||vt(d,"default"))&&a.push(h)}}}const c=[o,a];return Lt(e)&&i.set(e,c),c}function l_(e){return e[0]!=="$"}function c_(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function u_(e,t){return c_(e)===c_(t)}function h_(e,t){return nt(t)?t.findIndex(n=>u_(n,e)):pt(t)&&u_(t,e)?0:-1}const pA=e=>e[0]==="_"||e==="$stable",zp=e=>nt(e)?e.map(Nn):[Nn(e)],LS=(e,t,n)=>{if(t._n)return t;const i=Vs((...s)=>zp(t(...s)),n);return i._c=!1,i},gA=(e,t,n)=>{const i=e._ctx;for(const s in e){if(pA(s))continue;const r=e[s];if(pt(r))t[s]=LS(s,r,i);else if(r!=null){const o=zp(r);t[s]=()=>o}}},mA=(e,t)=>{const n=zp(t);e.slots.default=()=>n},VS=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=At(t),Uc(t,"_",n)):gA(t,e.slots={})}else e.slots={},t&&mA(e,t);Uc(e.slots,Uu,1)},FS=(e,t,n)=>{const{vnode:i,slots:s}=e;let r=!0,o=Vt;if(i.shapeFlag&32){const a=t._;a?n&&a===1?r=!1:(_e(s,t),!n&&a===1&&delete s._):(r=!t.$stable,gA(t,s)),o=t}else t&&(mA(e,t),o={default:1});if(r)for(const a in s)!pA(a)&&!(a in o)&&delete s[a]};function Jf(e,t,n,i,s=!1){if(nt(e)){e.forEach((f,d)=>Jf(f,t&&(nt(t)?t[d]:t),n,i,s));return}if(yc(i)&&!s)return;const r=i.shapeFlag&4?zu(i.component)||i.component.proxy:i.el,o=s?null:r,{i:a,r:l}=e,c=t&&t.r,u=a.refs===Vt?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==l&&(ie(c)?(u[c]=null,vt(h,c)&&(h[c]=null)):ne(c)&&(c.value=null)),pt(l))zi(l,a,12,[o,u]);else{const f=ie(l),d=ne(l);if(f||d){const p=()=>{if(e.f){const g=f?vt(h,l)?h[l]:u[l]:l.value;s?nt(g)&&wp(g,r):nt(g)?g.includes(r)||g.push(r):f?(u[l]=[r],vt(h,l)&&(h[l]=u[l])):(l.value=[r],e.k&&(u[e.k]=l.value))}else f?(u[l]=o,vt(h,l)&&(h[l]=o)):d&&(l.value=o,e.k&&(u[e.k]=o))};o?(p.id=-1,We(p,n)):p()}}}const We=hS;function BS(e){return US(e)}function US(e,t){const n=$f();n.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:d=An,insertStaticContent:p}=e,g=(v,b,I,k=null,R=null,D=null,$=!1,V=null,B=!!b.dynamicChildren)=>{if(v===b)return;v&&!_o(v,b)&&(k=P(v),ee(v,R,D,!0),v=null),b.patchFlag===-2&&(B=!1,b.dynamicChildren=null);const{type:N,ref:tt,shapeFlag:G}=b;switch(N){case Bu:m(v,b,I,k);break;case Fs:_(v,b,I,k);break;case Hh:v==null&&y(b,I,k,$);break;case xe:st(v,b,I,k,R,D,$,V,B);break;default:G&1?w(v,b,I,k,R,D,$,V,B):G&6?Tt(v,b,I,k,R,D,$,V,B):(G&64||G&128)&&N.process(v,b,I,k,R,D,$,V,B,U)}tt!=null&&R&&Jf(tt,v&&v.ref,D,b||v,!b)},m=(v,b,I,k)=>{if(v==null)i(b.el=a(b.children),I,k);else{const R=b.el=v.el;b.children!==v.children&&c(R,b.children)}},_=(v,b,I,k)=>{v==null?i(b.el=l(b.children||""),I,k):b.el=v.el},y=(v,b,I,k)=>{[v.el,v.anchor]=p(v.children,b,I,k,v.el,v.anchor)},E=({el:v,anchor:b},I,k)=>{let R;for(;v&&v!==b;)R=f(v),i(v,I,k),v=R;i(b,I,k)},A=({el:v,anchor:b})=>{let I;for(;v&&v!==b;)I=f(v),s(v),v=I;s(b)},w=(v,b,I,k,R,D,$,V,B)=>{$=$||b.type==="svg",v==null?T(b,I,k,R,D,$,V,B):C(v,b,R,D,$,V,B)},T=(v,b,I,k,R,D,$,V)=>{let B,N;const{type:tt,props:G,shapeFlag:et,transition:lt,dirs:gt}=v;if(B=v.el=o(v.type,D,G&&G.is,G),et&8?u(B,v.children):et&16&&x(v.children,B,null,k,R,D&&tt!=="foreignObject",$,V),gt&&cs(v,null,k,"created"),S(B,v,v.scopeId,$,k),G){for(const Rt in G)Rt!=="value"&&!mc(Rt)&&r(B,Rt,null,G[Rt],D,v.children,k,R,Gt);"value"in G&&r(B,"value",null,G.value),(N=G.onVnodeBeforeMount)&&Mn(N,k,v)}gt&&cs(v,null,k,"beforeMount");const Dt=(!R||R&&!R.pendingBranch)&&lt&&!lt.persisted;Dt&&lt.beforeEnter(B),i(B,b,I),((N=G&&G.onVnodeMounted)||Dt||gt)&&We(()=>{N&&Mn(N,k,v),Dt&&lt.enter(B),gt&&cs(v,null,k,"mounted")},R)},S=(v,b,I,k,R)=>{if(I&&d(v,I),k)for(let D=0;D<k.length;D++)d(v,k[D]);if(R){let D=R.subTree;if(b===D){const $=R.vnode;S(v,$,$.scopeId,$.slotScopeIds,R.parent)}}},x=(v,b,I,k,R,D,$,V,B=0)=>{for(let N=B;N<v.length;N++){const tt=v[N]=V?Pi(v[N]):Nn(v[N]);g(null,tt,b,I,k,R,D,$,V)}},C=(v,b,I,k,R,D,$)=>{const V=b.el=v.el;let{patchFlag:B,dynamicChildren:N,dirs:tt}=b;B|=v.patchFlag&16;const G=v.props||Vt,et=b.props||Vt;let lt;I&&us(I,!1),(lt=et.onVnodeBeforeUpdate)&&Mn(lt,I,b,v),tt&&cs(b,v,I,"beforeUpdate"),I&&us(I,!0);const gt=R&&b.type!=="foreignObject";if(N?j(v.dynamicChildren,N,V,I,k,gt,D):$||ut(v,b,V,null,I,k,gt,D,!1),B>0){if(B&16)K(V,b,G,et,I,k,R);else if(B&2&&G.class!==et.class&&r(V,"class",null,et.class,R),B&4&&r(V,"style",G.style,et.style,R),B&8){const Dt=b.dynamicProps;for(let Rt=0;Rt<Dt.length;Rt++){const re=Dt[Rt],gn=G[re],ar=et[re];(ar!==gn||re==="value")&&r(V,re,gn,ar,R,v.children,I,k,Gt)}}B&1&&v.children!==b.children&&u(V,b.children)}else!$&&N==null&&K(V,b,G,et,I,k,R);((lt=et.onVnodeUpdated)||tt)&&We(()=>{lt&&Mn(lt,I,b,v),tt&&cs(b,v,I,"updated")},k)},j=(v,b,I,k,R,D,$)=>{for(let V=0;V<b.length;V++){const B=v[V],N=b[V],tt=B.el&&(B.type===xe||!_o(B,N)||B.shapeFlag&70)?h(B.el):I;g(B,N,tt,null,k,R,D,$,!0)}},K=(v,b,I,k,R,D,$)=>{if(I!==k){if(I!==Vt)for(const V in I)!mc(V)&&!(V in k)&&r(v,V,I[V],null,$,b.children,R,D,Gt);for(const V in k){if(mc(V))continue;const B=k[V],N=I[V];B!==N&&V!=="value"&&r(v,V,N,B,$,b.children,R,D,Gt)}"value"in k&&r(v,"value",I.value,k.value)}},st=(v,b,I,k,R,D,$,V,B)=>{const N=b.el=v?v.el:a(""),tt=b.anchor=v?v.anchor:a("");let{patchFlag:G,dynamicChildren:et,slotScopeIds:lt}=b;lt&&(V=V?V.concat(lt):lt),v==null?(i(N,I,k),i(tt,I,k),x(b.children,I,tt,R,D,$,V,B)):G>0&&G&64&&et&&v.dynamicChildren?(j(v.dynamicChildren,et,I,R,D,$,V),(b.key!=null||R&&b===R.subTree)&&jp(v,b,!0)):ut(v,b,I,tt,R,D,$,V,B)},Tt=(v,b,I,k,R,D,$,V,B)=>{b.slotScopeIds=V,v==null?b.shapeFlag&512?R.ctx.activate(b,I,k,$,B):te(b,I,k,R,D,$,B):dt(v,b,B)},te=(v,b,I,k,R,D,$)=>{const V=v.component=XS(v,k,R);if(rA(v)&&(V.ctx.renderer=U),JS(V),V.asyncDep){if(R&&R.registerDep(V,X),!v.el){const B=V.subTree=Mt(Fs);_(null,B,b,I)}return}X(V,v,b,I,R,D,$)},dt=(v,b,I)=>{const k=b.component=v.component;if(lS(v,b,I))if(k.asyncDep&&!k.asyncResolved){it(k,b,I);return}else k.next=b,nS(k.update),k.update();else b.el=v.el,k.vnode=b},X=(v,b,I,k,R,D,$)=>{const V=()=>{if(v.isMounted){let{next:tt,bu:G,u:et,parent:lt,vnode:gt}=v,Dt=tt,Rt;us(v,!1),tt?(tt.el=gt.el,it(v,tt,$)):tt=gt,G&&_c(G),(Rt=tt.props&&tt.props.onVnodeBeforeUpdate)&&Mn(Rt,lt,tt,gt),us(v,!0);const re=jh(v),gn=v.subTree;v.subTree=re,g(gn,re,h(gn.el),P(gn),v,R,D),tt.el=re.el,Dt===null&&cS(v,re.el),et&&We(et,R),(Rt=tt.props&&tt.props.onVnodeUpdated)&&We(()=>Mn(Rt,lt,tt,gt),R)}else{let tt;const{el:G,props:et}=b,{bm:lt,m:gt,parent:Dt}=v,Rt=yc(b);if(us(v,!1),lt&&_c(lt),!Rt&&(tt=et&&et.onVnodeBeforeMount)&&Mn(tt,Dt,b),us(v,!0),G&&xt){const re=()=>{v.subTree=jh(v),xt(G,v.subTree,v,R,null)};Rt?b.type.__asyncLoader().then(()=>!v.isUnmounted&&re()):re()}else{const re=v.subTree=jh(v);g(null,re,I,k,v,R,D),b.el=re.el}if(gt&&We(gt,R),!Rt&&(tt=et&&et.onVnodeMounted)){const re=b;We(()=>Mn(tt,Dt,re),R)}(b.shapeFlag&256||Dt&&yc(Dt.vnode)&&Dt.vnode.shapeFlag&256)&&v.a&&We(v.a,R),v.isMounted=!0,b=I=k=null}},B=v.effect=new kp(V,()=>Lp(N),v.scope),N=v.update=()=>B.run();N.id=v.uid,us(v,!0),N()},it=(v,b,I)=>{b.component=v;const k=v.vnode.props;v.vnode=b,v.next=null,NS(v,b.props,k,I),FS(v,b.children,I),eo(),e_(),no()},ut=(v,b,I,k,R,D,$,V,B=!1)=>{const N=v&&v.children,tt=v?v.shapeFlag:0,G=b.children,{patchFlag:et,shapeFlag:lt}=b;if(et>0){if(et&128){Ve(N,G,I,k,R,D,$,V,B);return}else if(et&256){Ot(N,G,I,k,R,D,$,V,B);return}}lt&8?(tt&16&&Gt(N,R,D),G!==N&&u(I,G)):tt&16?lt&16?Ve(N,G,I,k,R,D,$,V,B):Gt(N,R,D,!0):(tt&8&&u(I,""),lt&16&&x(G,I,k,R,D,$,V,B))},Ot=(v,b,I,k,R,D,$,V,B)=>{v=v||vr,b=b||vr;const N=v.length,tt=b.length,G=Math.min(N,tt);let et;for(et=0;et<G;et++){const lt=b[et]=B?Pi(b[et]):Nn(b[et]);g(v[et],lt,I,null,R,D,$,V,B)}N>tt?Gt(v,R,D,!0,!1,G):x(b,I,k,R,D,$,V,B,G)},Ve=(v,b,I,k,R,D,$,V,B)=>{let N=0;const tt=b.length;let G=v.length-1,et=tt-1;for(;N<=G&&N<=et;){const lt=v[N],gt=b[N]=B?Pi(b[N]):Nn(b[N]);if(_o(lt,gt))g(lt,gt,I,null,R,D,$,V,B);else break;N++}for(;N<=G&&N<=et;){const lt=v[G],gt=b[et]=B?Pi(b[et]):Nn(b[et]);if(_o(lt,gt))g(lt,gt,I,null,R,D,$,V,B);else break;G--,et--}if(N>G){if(N<=et){const lt=et+1,gt=lt<tt?b[lt].el:k;for(;N<=et;)g(null,b[N]=B?Pi(b[N]):Nn(b[N]),I,gt,R,D,$,V,B),N++}}else if(N>et)for(;N<=G;)ee(v[N],R,D,!0),N++;else{const lt=N,gt=N,Dt=new Map;for(N=gt;N<=et;N++){const Ye=b[N]=B?Pi(b[N]):Nn(b[N]);Ye.key!=null&&Dt.set(Ye.key,N)}let Rt,re=0;const gn=et-gt+1;let ar=!1,$m=0;const mo=new Array(gn);for(N=0;N<gn;N++)mo[N]=0;for(N=lt;N<=G;N++){const Ye=v[N];if(re>=gn){ee(Ye,R,D,!0);continue}let Rn;if(Ye.key!=null)Rn=Dt.get(Ye.key);else for(Rt=gt;Rt<=et;Rt++)if(mo[Rt-gt]===0&&_o(Ye,b[Rt])){Rn=Rt;break}Rn===void 0?ee(Ye,R,D,!0):(mo[Rn-gt]=N+1,Rn>=$m?$m=Rn:ar=!0,g(Ye,b[Rn],I,null,R,D,$,V,B),re++)}const Hm=ar?zS(mo):vr;for(Rt=Hm.length-1,N=gn-1;N>=0;N--){const Ye=gt+N,Rn=b[Ye],Wm=Ye+1<tt?b[Ye+1].el:k;mo[N]===0?g(null,Rn,I,Wm,R,D,$,V,B):ar&&(Rt<0||N!==Hm[Rt]?Fe(Rn,I,Wm,2):Rt--)}}},Fe=(v,b,I,k,R=null)=>{const{el:D,type:$,transition:V,children:B,shapeFlag:N}=v;if(N&6){Fe(v.component.subTree,b,I,k);return}if(N&128){v.suspense.move(b,I,k);return}if(N&64){$.move(v,b,I,U);return}if($===xe){i(D,b,I);for(let G=0;G<B.length;G++)Fe(B[G],b,I,k);i(v.anchor,b,I);return}if($===Hh){E(v,b,I);return}if(k!==2&&N&1&&V)if(k===0)V.beforeEnter(D),i(D,b,I),We(()=>V.enter(D),R);else{const{leave:G,delayLeave:et,afterLeave:lt}=V,gt=()=>i(D,b,I),Dt=()=>{G(D,()=>{gt(),lt&&lt()})};et?et(D,gt,Dt):Dt()}else i(D,b,I)},ee=(v,b,I,k=!1,R=!1)=>{const{type:D,props:$,ref:V,children:B,dynamicChildren:N,shapeFlag:tt,patchFlag:G,dirs:et}=v;if(V!=null&&Jf(V,null,I,v,!0),tt&256){b.ctx.deactivate(v);return}const lt=tt&1&&et,gt=!yc(v);let Dt;if(gt&&(Dt=$&&$.onVnodeBeforeUnmount)&&Mn(Dt,b,v),tt&6)Cn(v.component,I,k);else{if(tt&128){v.suspense.unmount(I,k);return}lt&&cs(v,null,b,"beforeUnmount"),tt&64?v.type.remove(v,b,I,R,U,k):N&&(D!==xe||G>0&&G&64)?Gt(N,b,I,!1,!0):(D===xe&&G&384||!R&&tt&16)&&Gt(B,b,I),k&&on(v)}(gt&&(Dt=$&&$.onVnodeUnmounted)||lt)&&We(()=>{Dt&&Mn(Dt,b,v),lt&&cs(v,null,b,"unmounted")},I)},on=v=>{const{type:b,el:I,anchor:k,transition:R}=v;if(b===xe){an(I,k);return}if(b===Hh){A(v);return}const D=()=>{s(I),R&&!R.persisted&&R.afterLeave&&R.afterLeave()};if(v.shapeFlag&1&&R&&!R.persisted){const{leave:$,delayLeave:V}=R,B=()=>$(I,D);V?V(v.el,D,B):B()}else D()},an=(v,b)=>{let I;for(;v!==b;)I=f(v),s(v),v=I;s(b)},Cn=(v,b,I)=>{const{bum:k,scope:R,update:D,subTree:$,um:V}=v;k&&_c(k),R.stop(),D&&(D.active=!1,ee($,v,b,I)),V&&We(V,b),We(()=>{v.isUnmounted=!0},b),b&&b.pendingBranch&&!b.isUnmounted&&v.asyncDep&&!v.asyncResolved&&v.suspenseId===b.pendingId&&(b.deps--,b.deps===0&&b.resolve())},Gt=(v,b,I,k=!1,R=!1,D=0)=>{for(let $=D;$<v.length;$++)ee(v[$],b,I,k,R)},P=v=>v.shapeFlag&6?P(v.component.subTree):v.shapeFlag&128?v.suspense.next():f(v.anchor||v.el),W=(v,b,I)=>{v==null?b._vnode&&ee(b._vnode,null,null,!0):g(b._vnode||null,v,b,null,null,null,I),e_(),tA(),b._vnode=v},U={p:g,um:ee,m:Fe,r:on,mt:te,mc:x,pc:ut,pbc:j,n:P,o:e};let J,xt;return t&&([J,xt]=t(U)),{render:W,hydrate:J,createApp:MS(W,J)}}function us({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function jp(e,t,n=!1){const i=e.children,s=t.children;if(nt(i)&&nt(s))for(let r=0;r<i.length;r++){const o=i[r];let a=s[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[r]=Pi(s[r]),a.el=o.el),n||jp(o,a)),a.type===Bu&&(a.el=o.el)}}function zS(e){const t=e.slice(),n=[0];let i,s,r,o,a;const l=e.length;for(i=0;i<l;i++){const c=e[i];if(c!==0){if(s=n[n.length-1],e[s]<c){t[i]=s,n.push(i);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,e[n[a]]<c?r=a+1:o=a;c<e[n[r]]&&(r>0&&(t[i]=n[r-1]),n[r]=i)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=t[o];return n}const jS=e=>e.__isTeleport,Wo=e=>e&&(e.disabled||e.disabled===""),f_=e=>typeof SVGElement<"u"&&e instanceof SVGElement,Zf=(e,t)=>{const n=e&&e.to;return ie(n)?t?t(n):null:n},$S={__isTeleport:!0,process(e,t,n,i,s,r,o,a,l,c){const{mc:u,pc:h,pbc:f,o:{insert:d,querySelector:p,createText:g,createComment:m}}=c,_=Wo(t.props);let{shapeFlag:y,children:E,dynamicChildren:A}=t;if(e==null){const w=t.el=g(""),T=t.anchor=g("");d(w,n,i),d(T,n,i);const S=t.target=Zf(t.props,p),x=t.targetAnchor=g("");S&&(d(x,S),o=o||f_(S));const C=(j,K)=>{y&16&&u(E,j,K,s,r,o,a,l)};_?C(n,T):S&&C(S,x)}else{t.el=e.el;const w=t.anchor=e.anchor,T=t.target=e.target,S=t.targetAnchor=e.targetAnchor,x=Wo(e.props),C=x?n:T,j=x?w:S;if(o=o||f_(T),A?(f(e.dynamicChildren,A,C,s,r,o,a),jp(e,t,!0)):l||h(e,t,C,j,s,r,o,a,!1),_)x||Nl(t,n,w,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const K=t.target=Zf(t.props,p);K&&Nl(t,K,null,c,0)}else x&&Nl(t,T,S,c,1)}_A(t)},remove(e,t,n,i,{um:s,o:{remove:r}},o){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:h,props:f}=e;if(h&&r(u),(o||!Wo(f))&&(r(c),a&16))for(let d=0;d<l.length;d++){const p=l[d];s(p,t,n,!0,!!p.dynamicChildren)}},move:Nl,hydrate:HS};function Nl(e,t,n,{o:{insert:i},m:s},r=2){r===0&&i(e.targetAnchor,t,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=e,h=r===2;if(h&&i(o,t,n),(!h||Wo(u))&&l&16)for(let f=0;f<c.length;f++)s(c[f],t,n,2);h&&i(a,t,n)}function HS(e,t,n,i,s,r,{o:{nextSibling:o,parentNode:a,querySelector:l}},c){const u=t.target=Zf(t.props,l);if(u){const h=u._lpa||u.firstChild;if(t.shapeFlag&16)if(Wo(t.props))t.anchor=c(o(e),t,a(e),n,i,s,r),t.targetAnchor=h;else{t.anchor=o(e);let f=h;for(;f;)if(f=o(f),f&&f.nodeType===8&&f.data==="teleport anchor"){t.targetAnchor=f,u._lpa=t.targetAnchor&&o(t.targetAnchor);break}c(h,t,u,n,i,s,r)}_A(t)}return t.anchor&&o(t.anchor)}const d_=$S;function _A(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const xe=Symbol.for("v-fgt"),Bu=Symbol.for("v-txt"),Fs=Symbol.for("v-cmt"),Hh=Symbol.for("v-stc"),qo=[];let yn=null;function Et(e=!1){qo.push(yn=e?null:[])}function WS(){qo.pop(),yn=qo[qo.length-1]||null}let ma=1;function p_(e){ma+=e}function yA(e){return e.dynamicChildren=ma>0?yn||vr:null,WS(),ma>0&&yn&&yn.push(e),e}function Ft(e,t,n,i,s,r){return yA(O(e,t,n,i,s,r,!0))}function wr(e,t,n,i,s){return yA(Mt(e,t,n,i,s,!0))}function td(e){return e?e.__v_isVNode===!0:!1}function _o(e,t){return e.type===t.type&&e.key===t.key}const Uu="__vInternal",vA=({key:e})=>e??null,bc=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?ie(e)||ne(e)||pt(e)?{i:tn,r:e,k:t,f:!!n}:e:null);function O(e,t=null,n=null,i=0,s=null,r=e===xe?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&vA(t),ref:t&&bc(t),scopeId:Lu,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:tn};return a?($p(l,n),r&128&&e.normalize(l)):n&&(l.shapeFlag|=ie(n)?8:16),ma>0&&!o&&yn&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&yn.push(l),l}const Mt=qS;function qS(e,t=null,n=null,i=0,s=null,r=!1){if((!e||e===lA)&&(e=Fs),td(e)){const a=Mr(e,t,!0);return n&&$p(a,n),ma>0&&!r&&yn&&(a.shapeFlag&6?yn[yn.indexOf(e)]=a:yn.push(a)),a.patchFlag|=-2,a}if(ik(e)&&(e=e.__vccOpts),t){t=KS(t);let{class:a,style:l}=t;a&&!ie(a)&&(t.class=Xa(a)),Lt(l)&&(K0(l)&&!nt(l)&&(l=_e({},l)),t.style=Ip(l))}const o=ie(e)?1:uS(e)?128:jS(e)?64:Lt(e)?4:pt(e)?2:0;return O(e,t,n,i,s,o,r,!0)}function KS(e){return e?K0(e)||Uu in e?_e({},e):e:null}function Mr(e,t,n=!1){const{props:i,ref:s,patchFlag:r,children:o}=e,a=t?GS(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&vA(a),ref:t&&t.ref?n&&s?nt(s)?s.concat(bc(t)):[s,bc(t)]:bc(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==xe?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Mr(e.ssContent),ssFallback:e.ssFallback&&Mr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function ed(e=" ",t=0){return Mt(Bu,null,e,t)}function Or(e="",t=!1){return t?(Et(),wr(Fs,null,e)):Mt(Fs,null,e)}function Nn(e){return e==null||typeof e=="boolean"?Mt(Fs):nt(e)?Mt(xe,null,e.slice()):typeof e=="object"?Pi(e):Mt(Bu,null,String(e))}function Pi(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Mr(e)}function $p(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(nt(t))n=16;else if(typeof t=="object")if(i&65){const s=t.default;s&&(s._c&&(s._d=!1),$p(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(Uu in t)?t._ctx=tn:s===3&&tn&&(tn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else pt(t)?(t={default:t,_ctx:tn},n=32):(t=String(t),i&64?(n=16,t=[ed(t)]):n=8);e.children=t,e.shapeFlag|=n}function GS(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const s in i)if(s==="class")t.class!==i.class&&(t.class=Xa([t.class,i.class]));else if(s==="style")t.style=Ip([t.style,i.style]);else if(Pu(s)){const r=t[s],o=i[s];o&&r!==o&&!(nt(r)&&r.includes(o))&&(t[s]=r?[].concat(r,o):o)}else s!==""&&(t[s]=i[s])}return t}function Mn(e,t,n,i=null){wn(e,t,7,[n,i])}const QS=hA();let YS=0;function XS(e,t,n){const i=e.type,s=(t?t.appContext:e.appContext)||QS,r={uid:YS++,vnode:e,type:i,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new M0(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:dA(i,s),emitsOptions:nA(i,s),emit:null,emitted:null,propsDefaults:Vt,inheritAttrs:i.inheritAttrs,ctx:Vt,data:Vt,props:Vt,attrs:Vt,slots:Vt,refs:Vt,setupState:Vt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=rS.bind(null,r),e.ce&&e.ce(r),r}let ge=null,Hp,lr,g_="__VUE_INSTANCE_SETTERS__";(lr=$f()[g_])||(lr=$f()[g_]=[]),lr.push(e=>ge=e),Hp=e=>{lr.length>1?lr.forEach(t=>t(e)):lr[0](e)};const Dr=e=>{Hp(e),e.scope.on()},Cs=()=>{ge&&ge.scope.off(),Hp(null)};function bA(e){return e.vnode.shapeFlag&4}let _a=!1;function JS(e,t=!1){_a=t;const{props:n,children:i}=e.vnode,s=bA(e);DS(e,n,s,t),VS(e,i);const r=s?ZS(e,t):void 0;return _a=!1,r}function ZS(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Ou(new Proxy(e.ctx,TS));const{setup:i}=n;if(i){const s=e.setupContext=i.length>1?ek(e):null;Dr(e),eo();const r=zi(i,e,0,[e.props,s]);if(no(),Cs(),S0(r)){if(r.then(Cs,Cs),t)return r.then(o=>{m_(e,o,t)}).catch(o=>{Du(o,e,0)});e.asyncDep=r}else m_(e,r,t)}else AA(e,t)}function m_(e,t,n){pt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Lt(t)&&(e.setupState=X0(t)),AA(e,n)}let __;function AA(e,t,n){const i=e.type;if(!e.render){if(!t&&__&&!i.render){const s=i.template||Up(e).template;if(s){const{isCustomElement:r,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=i,c=_e(_e({isCustomElement:r,delimiters:a},o),l);i.render=__(s,c)}}e.render=i.render||An}Dr(e),eo(),xS(e),no(),Cs()}function tk(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Qe(e,"get","$attrs"),t[n]}}))}function ek(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return tk(e)},slots:e.slots,emit:e.emit,expose:t}}function zu(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(X0(Ou(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ho)return Ho[n](e)},has(t,n){return n in t||n in Ho}}))}function nk(e,t=!0){return pt(e)?e.displayName||e.name:e.name||t&&e.__name}function ik(e){return pt(e)&&"__vccOpts"in e}const pe=(e,t)=>Zx(e,t,_a);function Wp(e,t,n){const i=arguments.length;return i===2?Lt(t)&&!nt(t)?td(t)?Mt(e,null,[t]):Mt(e,t):Mt(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&td(n)&&(n=[n]),Mt(e,t,n))}const sk=Symbol.for("v-scx"),rk=()=>hn(sk),ok="3.3.4",ak="http://www.w3.org/2000/svg",vs=typeof document<"u"?document:null,y_=vs&&vs.createElement("template"),lk={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const s=t?vs.createElementNS(ak,e):vs.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:e=>vs.createTextNode(e),createComment:e=>vs.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>vs.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,s,r){const o=n?n.previousSibling:t.lastChild;if(s&&(s===r||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{y_.innerHTML=i?`<svg>${e}</svg>`:e;const a=y_.content;if(i){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function ck(e,t,n){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function uk(e,t,n){const i=e.style,s=ie(n);if(n&&!s){if(t&&!ie(t))for(const r in t)n[r]==null&&nd(i,r,"");for(const r in n)nd(i,r,n[r])}else{const r=i.display;s?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=r)}}const v_=/\s*!important$/;function nd(e,t,n){if(nt(n))n.forEach(i=>nd(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=hk(e,t);v_.test(n)?e.setProperty(to(i),n.replace(v_,""),"important"):e[i]=n}}const b_=["Webkit","Moz","ms"],Wh={};function hk(e,t){const n=Wh[t];if(n)return n;let i=Kn(t);if(i!=="filter"&&i in e)return Wh[t]=i;i=Ru(i);for(let s=0;s<b_.length;s++){const r=b_[s]+i;if(r in e)return Wh[t]=r}return t}const A_="http://www.w3.org/1999/xlink";function fk(e,t,n,i,s){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(A_,t.slice(6,t.length)):e.setAttributeNS(A_,t,n);else{const r=mx(t);n==null||r&&!C0(n)?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}function dk(e,t,n,i,s,r,o){if(t==="innerHTML"||t==="textContent"){i&&o(i,s,r),e[t]=n??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=n;const c=a==="OPTION"?e.getAttribute("value"):e.value,u=n??"";c!==u&&(e.value=u),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=C0(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function ii(e,t,n,i){e.addEventListener(t,n,i)}function pk(e,t,n,i){e.removeEventListener(t,n,i)}function gk(e,t,n,i,s=null){const r=e._vei||(e._vei={}),o=r[t];if(i&&o)o.value=i;else{const[a,l]=mk(t);if(i){const c=r[t]=vk(i,s);ii(e,a,c,l)}else o&&(pk(e,a,o,l),r[t]=void 0)}}const w_=/(?:Once|Passive|Capture)$/;function mk(e){let t;if(w_.test(e)){t={};let i;for(;i=e.match(w_);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):to(e.slice(2)),t]}let qh=0;const _k=Promise.resolve(),yk=()=>qh||(_k.then(()=>qh=0),qh=Date.now());function vk(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;wn(bk(i,n.value),t,5,[i])};return n.value=e,n.attached=yk(),n}function bk(e,t){if(nt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>s=>!s._stopped&&i&&i(s))}else return t}const E_=/^on[a-z]/,Ak=(e,t,n,i,s=!1,r,o,a,l)=>{t==="class"?ck(e,i,s):t==="style"?uk(e,n,i):Pu(t)?Ap(t)||gk(e,t,n,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):wk(e,t,i,s))?dk(e,t,i,r,o,a,l):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),fk(e,t,i,s))};function wk(e,t,n,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&E_.test(t)&&pt(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||E_.test(t)&&ie(n)?!1:t in e}const Qi=e=>{const t=e.props["onUpdate:modelValue"]||!1;return nt(t)?n=>_c(t,n):t};function Ek(e){e.target.composing=!0}function I_(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Vn={created(e,{modifiers:{lazy:t,trim:n,number:i}},s){e._assign=Qi(s);const r=i||s.props&&s.props.type==="number";ii(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),r&&(a=zc(a)),e._assign(a)}),n&&ii(e,"change",()=>{e.value=e.value.trim()}),t||(ii(e,"compositionstart",Ek),ii(e,"compositionend",I_),ii(e,"change",I_))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:i,number:s}},r){if(e._assign=Qi(r),e.composing||document.activeElement===e&&e.type!=="range"&&(n||i&&e.value.trim()===t||(s||e.type==="number")&&zc(e.value)===t))return;const o=t??"";e.value!==o&&(e.value=o)}},Ik={deep:!0,created(e,t,n){e._assign=Qi(n),ii(e,"change",()=>{const i=e._modelValue,s=Nr(e),r=e.checked,o=e._assign;if(nt(i)){const a=Tp(i,s),l=a!==-1;if(r&&!l)o(i.concat(s));else if(!r&&l){const c=[...i];c.splice(a,1),o(c)}}else if(Zr(i)){const a=new Set(i);r?a.add(s):a.delete(s),o(a)}else o(EA(e,r))})},mounted:T_,beforeUpdate(e,t,n){e._assign=Qi(n),T_(e,t,n)}};function T_(e,{value:t,oldValue:n},i){e._modelValue=t,nt(t)?e.checked=Tp(t,i.props.value)>-1:Zr(t)?e.checked=t.has(i.props.value):t!==n&&(e.checked=Ls(t,EA(e,!0)))}const Tk={created(e,{value:t},n){e.checked=Ls(t,n.props.value),e._assign=Qi(n),ii(e,"change",()=>{e._assign(Nr(e))})},beforeUpdate(e,{value:t,oldValue:n},i){e._assign=Qi(i),t!==n&&(e.checked=Ls(t,i.props.value))}},wA={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const s=Zr(t);ii(e,"change",()=>{const r=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>n?zc(Nr(o)):Nr(o));e._assign(e.multiple?s?new Set(r):r:r[0])}),e._assign=Qi(i)},mounted(e,{value:t}){x_(e,t)},beforeUpdate(e,t,n){e._assign=Qi(n)},updated(e,{value:t}){x_(e,t)}};function x_(e,t){const n=e.multiple;if(!(n&&!nt(t)&&!Zr(t))){for(let i=0,s=e.options.length;i<s;i++){const r=e.options[i],o=Nr(r);if(n)nt(t)?r.selected=Tp(t,o)>-1:r.selected=t.has(o);else if(Ls(Nr(r),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Nr(e){return"_value"in e?e._value:e.value}function EA(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const id={created(e,t,n){Ll(e,t,n,null,"created")},mounted(e,t,n){Ll(e,t,n,null,"mounted")},beforeUpdate(e,t,n,i){Ll(e,t,n,i,"beforeUpdate")},updated(e,t,n,i){Ll(e,t,n,i,"updated")}};function xk(e,t){switch(e){case"SELECT":return wA;case"TEXTAREA":return Vn;default:switch(t){case"checkbox":return Ik;case"radio":return Tk;default:return Vn}}}function Ll(e,t,n,i,s){const o=xk(e.tagName,n.props&&n.props.type)[s];o&&o(e,t,n,i)}const Sk=_e({patchProp:Ak},lk);let S_;function kk(){return S_||(S_=BS(Sk))}const Pk=(...e)=>{const t=kk().createApp(...e),{mount:n}=t;return t.mount=i=>{const s=Ck(i);if(!s)return;const r=t._component;!pt(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function Ck(e){return ie(e)?document.querySelector(e):e}var Rk=!1;/*!
  * pinia v2.1.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let IA;const ju=e=>IA=e,TA=Symbol();function sd(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Ko;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Ko||(Ko={}));function Mk(){const e=O0(!0),t=e.run(()=>kt({}));let n=[],i=[];const s=Ou({install(r){ju(s),s._a=r,r.provide(TA,s),r.config.globalProperties.$pinia=s,i.forEach(o=>n.push(o)),i=[]},use(r){return!this._a&&!Rk?i.push(r):n.push(r),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}const xA=()=>{};function k_(e,t,n,i=xA){e.push(t);const s=()=>{const r=e.indexOf(t);r>-1&&(e.splice(r,1),i())};return!n&&xp()&&D0(s),s}function cr(e,...t){e.slice().forEach(n=>{n(...t)})}const Ok=e=>e();function rd(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,i)=>e.set(i,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n],s=e[n];sd(s)&&sd(i)&&e.hasOwnProperty(n)&&!ne(i)&&!Ui(i)?e[n]=rd(s,i):e[n]=i}return e}const Dk=Symbol();function Nk(e){return!sd(e)||!e.hasOwnProperty(Dk)}const{assign:ki}=Object;function Lk(e){return!!(ne(e)&&e.effect)}function Vk(e,t,n,i){const{state:s,actions:r,getters:o}=t,a=n.state.value[e];let l;function c(){a||(n.state.value[e]=s?s():{});const u=Qx(n.state.value[e]);return ki(u,r,Object.keys(o||{}).reduce((h,f)=>(h[f]=Ou(pe(()=>{ju(n);const d=n._s.get(e);return o[f].call(d,d)})),h),{}))}return l=SA(e,c,t,n,i,!0),l}function SA(e,t,n={},i,s,r){let o;const a=ki({actions:{}},n),l={deep:!0};let c,u,h=[],f=[],d;const p=i.state.value[e];!r&&!p&&(i.state.value[e]={}),kt({});let g;function m(x){let C;c=u=!1,typeof x=="function"?(x(i.state.value[e]),C={type:Ko.patchFunction,storeId:e,events:d}):(rd(i.state.value[e],x),C={type:Ko.patchObject,payload:x,storeId:e,events:d});const j=g=Symbol();Np().then(()=>{g===j&&(c=!0)}),u=!0,cr(h,C,i.state.value[e])}const _=r?function(){const{state:C}=n,j=C?C():{};this.$patch(K=>{ki(K,j)})}:xA;function y(){o.stop(),h=[],f=[],i._s.delete(e)}function E(x,C){return function(){ju(i);const j=Array.from(arguments),K=[],st=[];function Tt(X){K.push(X)}function te(X){st.push(X)}cr(f,{args:j,name:x,store:w,after:Tt,onError:te});let dt;try{dt=C.apply(this&&this.$id===e?this:w,j)}catch(X){throw cr(st,X),X}return dt instanceof Promise?dt.then(X=>(cr(K,X),X)).catch(X=>(cr(st,X),Promise.reject(X))):(cr(K,dt),dt)}}const A={_p:i,$id:e,$onAction:k_.bind(null,f),$patch:m,$reset:_,$subscribe(x,C={}){const j=k_(h,x,C.detached,()=>K()),K=o.run(()=>ji(()=>i.state.value[e],st=>{(C.flush==="sync"?u:c)&&x({storeId:e,type:Ko.direct,events:d},st)},ki({},l,C)));return j},$dispose:y},w=Ja(A);i._s.set(e,w);const T=i._a&&i._a.runWithContext||Ok,S=i._e.run(()=>(o=O0(),T(()=>o.run(t))));for(const x in S){const C=S[x];if(ne(C)&&!Lk(C)||Ui(C))r||(p&&Nk(C)&&(ne(C)?C.value=p[x]:rd(C,p[x])),i.state.value[e][x]=C);else if(typeof C=="function"){const j=E(x,C);S[x]=j,a.actions[x]=C}}return ki(w,S),ki(At(w),S),Object.defineProperty(w,"$state",{get:()=>i.state.value[e],set:x=>{m(C=>{ki(C,x)})}}),i._p.forEach(x=>{ki(w,o.run(()=>x({store:w,app:i._a,pinia:i,options:a})))}),p&&r&&n.hydrate&&n.hydrate(w.$state,p),c=!0,u=!0,w}function Fk(e,t,n){let i,s;const r=typeof t=="function";typeof e=="string"?(i=e,s=r?n:t):(s=e,i=e.id);function o(a,l){const c=OS();return a=a||(c?hn(TA,null):null),a&&ju(a),a=IA,a._s.has(i)||(r?SA(i,t,s,a):Vk(i,s,a)),a._s.get(i)}return o.$id=i,o}/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const dr=typeof window<"u";function Bk(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const St=Object.assign;function Kh(e,t){const n={};for(const i in t){const s=t[i];n[i]=Tn(s)?s.map(e):e(s)}return n}const Go=()=>{},Tn=Array.isArray,Uk=/\/$/,zk=e=>e.replace(Uk,"");function Gh(e,t,n="/"){let i,s={},r="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=t.slice(0,l),r=t.slice(l+1,a>-1?a:t.length),s=e(r)),a>-1&&(i=i||t.slice(0,a),o=t.slice(a,t.length)),i=Wk(i??t,n),{fullPath:i+(r&&"?")+r+o,path:i,query:s,hash:o}}function jk(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function P_(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function $k(e,t,n){const i=t.matched.length-1,s=n.matched.length-1;return i>-1&&i===s&&Lr(t.matched[i],n.matched[s])&&kA(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Lr(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function kA(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Hk(e[n],t[n]))return!1;return!0}function Hk(e,t){return Tn(e)?C_(e,t):Tn(t)?C_(t,e):e===t}function C_(e,t){return Tn(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function Wk(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let r=n.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+i.slice(o-(o===i.length?1:0)).join("/")}var ya;(function(e){e.pop="pop",e.push="push"})(ya||(ya={}));var Qo;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Qo||(Qo={}));function qk(e){if(!e)if(dr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),zk(e)}const Kk=/^[^#]+#/;function Gk(e,t){return e.replace(Kk,"#")+t}function Qk(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const $u=()=>({left:window.pageXOffset,top:window.pageYOffset});function Yk(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=Qk(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function R_(e,t){return(history.state?history.state.position-t:-1)+e}const od=new Map;function Xk(e,t){od.set(e,t)}function Jk(e){const t=od.get(e);return od.delete(e),t}let Zk=()=>location.protocol+"//"+location.host;function PA(e,t){const{pathname:n,search:i,hash:s}=t,r=e.indexOf("#");if(r>-1){let a=s.includes(e.slice(r))?e.slice(r).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),P_(l,"")}return P_(n,e)+i+s}function tP(e,t,n,i){let s=[],r=[],o=null;const a=({state:f})=>{const d=PA(e,location),p=n.value,g=t.value;let m=0;if(f){if(n.value=d,t.value=f,o&&o===p){o=null;return}m=g?f.position-g.position:0}else i(d);s.forEach(_=>{_(n.value,p,{delta:m,type:ya.pop,direction:m?m>0?Qo.forward:Qo.back:Qo.unknown})})};function l(){o=n.value}function c(f){s.push(f);const d=()=>{const p=s.indexOf(f);p>-1&&s.splice(p,1)};return r.push(d),d}function u(){const{history:f}=window;f.state&&f.replaceState(St({},f.state,{scroll:$u()}),"")}function h(){for(const f of r)f();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function M_(e,t,n,i=!1,s=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:s?$u():null}}function eP(e){const{history:t,location:n}=window,i={value:PA(e,n)},s={value:t.state};s.value||r(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const h=e.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+l:Zk()+e+l;try{t[u?"replaceState":"pushState"](c,"",f),s.value=c}catch(d){console.error(d),n[u?"replace":"assign"](f)}}function o(l,c){const u=St({},t.state,M_(s.value.back,l,s.value.forward,!0),c,{position:s.value.position});r(l,u,!0),i.value=l}function a(l,c){const u=St({},s.value,t.state,{forward:l,scroll:$u()});r(u.current,u,!0);const h=St({},M_(i.value,l,null),{position:u.position+1},c);r(l,h,!1),i.value=l}return{location:i,state:s,push:a,replace:o}}function nP(e){e=qk(e);const t=eP(e),n=tP(e,t.state,t.location,t.replace);function i(r,o=!0){o||n.pauseListeners(),history.go(r)}const s=St({location:"",base:e,go:i,createHref:Gk.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function iP(e){return typeof e=="string"||e&&typeof e=="object"}function CA(e){return typeof e=="string"||typeof e=="symbol"}const Ti={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},RA=Symbol("");var O_;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(O_||(O_={}));function Vr(e,t){return St(new Error,{type:e,[RA]:!0},t)}function Yn(e,t){return e instanceof Error&&RA in e&&(t==null||!!(e.type&t))}const D_="[^/]+?",sP={sensitive:!1,strict:!1,start:!0,end:!0},rP=/[.+*?^${}()[\]/\\]/g;function oP(e,t){const n=St({},sP,t),i=[];let s=n.start?"^":"";const r=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let h=0;h<c.length;h++){const f=c[h];let d=40+(n.sensitive?.25:0);if(f.type===0)h||(s+="/"),s+=f.value.replace(rP,"\\$&"),d+=40;else if(f.type===1){const{value:p,repeatable:g,optional:m,regexp:_}=f;r.push({name:p,repeatable:g,optional:m});const y=_||D_;if(y!==D_){d+=10;try{new RegExp(`(${y})`)}catch(A){throw new Error(`Invalid custom RegExp for param "${p}" (${y}): `+A.message)}}let E=g?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;h||(E=m&&c.length<2?`(?:/${E})`:"/"+E),m&&(E+="?"),s+=E,d+=20,m&&(d+=-8),g&&(d+=-20),y===".*"&&(d+=-50)}u.push(d)}i.push(u)}if(n.strict&&n.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const d=u[f]||"",p=r[f-1];h[p.name]=d&&p.repeatable?d.split("/"):d}return h}function l(c){let u="",h=!1;for(const f of e){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const d of f)if(d.type===0)u+=d.value;else if(d.type===1){const{value:p,repeatable:g,optional:m}=d,_=p in c?c[p]:"";if(Tn(_)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const y=Tn(_)?_.join("/"):_;if(!y)if(m)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${p}"`);u+=y}}return u||"/"}return{re:o,score:i,keys:r,parse:a,stringify:l}}function aP(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function lP(e,t){let n=0;const i=e.score,s=t.score;for(;n<i.length&&n<s.length;){const r=aP(i[n],s[n]);if(r)return r;n++}if(Math.abs(s.length-i.length)===1){if(N_(i))return 1;if(N_(s))return-1}return s.length-i.length}function N_(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const cP={type:0,value:""},uP=/[a-zA-Z0-9_]/;function hP(e){if(!e)return[[]];if(e==="/")return[[cP]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(d){throw new Error(`ERR (${n})/"${c}": ${d}`)}let n=0,i=n;const s=[];let r;function o(){r&&s.push(r),r=[]}let a=0,l,c="",u="";function h(){c&&(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),n=1):f();break;case 4:f(),n=i;break;case 1:l==="("?n=2:uP.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),h(),o(),s}function fP(e,t,n){const i=oP(hP(e.path),n),s=St(i,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function dP(e,t){const n=[],i=new Map;t=F_({strict:!1,end:!0,sensitive:!1},t);function s(u){return i.get(u)}function r(u,h,f){const d=!f,p=pP(u);p.aliasOf=f&&f.record;const g=F_(t,u),m=[p];if("alias"in u){const E=typeof u.alias=="string"?[u.alias]:u.alias;for(const A of E)m.push(St({},p,{components:f?f.record.components:p.components,path:A,aliasOf:f?f.record:p}))}let _,y;for(const E of m){const{path:A}=E;if(h&&A[0]!=="/"){const w=h.record.path,T=w[w.length-1]==="/"?"":"/";E.path=h.record.path+(A&&T+A)}if(_=fP(E,h,g),f?f.alias.push(_):(y=y||_,y!==_&&y.alias.push(_),d&&u.name&&!V_(_)&&o(u.name)),p.children){const w=p.children;for(let T=0;T<w.length;T++)r(w[T],_,f&&f.children[T])}f=f||_,(_.record.components&&Object.keys(_.record.components).length||_.record.name||_.record.redirect)&&l(_)}return y?()=>{o(y)}:Go}function o(u){if(CA(u)){const h=i.get(u);h&&(i.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&i.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let h=0;for(;h<n.length&&lP(u,n[h])>=0&&(u.record.path!==n[h].record.path||!MA(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!V_(u)&&i.set(u.record.name,u)}function c(u,h){let f,d={},p,g;if("name"in u&&u.name){if(f=i.get(u.name),!f)throw Vr(1,{location:u});g=f.record.name,d=St(L_(h.params,f.keys.filter(y=>!y.optional).map(y=>y.name)),u.params&&L_(u.params,f.keys.map(y=>y.name))),p=f.stringify(d)}else if("path"in u)p=u.path,f=n.find(y=>y.re.test(p)),f&&(d=f.parse(p),g=f.record.name);else{if(f=h.name?i.get(h.name):n.find(y=>y.re.test(h.path)),!f)throw Vr(1,{location:u,currentLocation:h});g=f.record.name,d=St({},h.params,u.params),p=f.stringify(d)}const m=[];let _=f;for(;_;)m.unshift(_.record),_=_.parent;return{name:g,path:p,params:d,matched:m,meta:mP(m)}}return e.forEach(u=>r(u)),{addRoute:r,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function L_(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function pP(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:gP(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function gP(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="object"?n[i]:n;return t}function V_(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function mP(e){return e.reduce((t,n)=>St(t,n.meta),{})}function F_(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function MA(e,t){return t.children.some(n=>n===e||MA(e,n))}const OA=/#/g,_P=/&/g,yP=/\//g,vP=/=/g,bP=/\?/g,DA=/\+/g,AP=/%5B/g,wP=/%5D/g,NA=/%5E/g,EP=/%60/g,LA=/%7B/g,IP=/%7C/g,VA=/%7D/g,TP=/%20/g;function qp(e){return encodeURI(""+e).replace(IP,"|").replace(AP,"[").replace(wP,"]")}function xP(e){return qp(e).replace(LA,"{").replace(VA,"}").replace(NA,"^")}function ad(e){return qp(e).replace(DA,"%2B").replace(TP,"+").replace(OA,"%23").replace(_P,"%26").replace(EP,"`").replace(LA,"{").replace(VA,"}").replace(NA,"^")}function SP(e){return ad(e).replace(vP,"%3D")}function kP(e){return qp(e).replace(OA,"%23").replace(bP,"%3F")}function PP(e){return e==null?"":kP(e).replace(yP,"%2F")}function qc(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function CP(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<i.length;++s){const r=i[s].replace(DA," "),o=r.indexOf("="),a=qc(o<0?r:r.slice(0,o)),l=o<0?null:qc(r.slice(o+1));if(a in t){let c=t[a];Tn(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function B_(e){let t="";for(let n in e){const i=e[n];if(n=SP(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(Tn(i)?i.map(r=>r&&ad(r)):[i&&ad(i)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+n,r!=null&&(t+="="+r))})}return t}function RP(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=Tn(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return t}const MP=Symbol(""),U_=Symbol(""),Hu=Symbol(""),Kp=Symbol(""),ld=Symbol("");function yo(){let e=[];function t(i){return e.push(i),()=>{const s=e.indexOf(i);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Ci(e,t,n,i,s){const r=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((o,a)=>{const l=h=>{h===!1?a(Vr(4,{from:n,to:t})):h instanceof Error?a(h):iP(h)?a(Vr(2,{from:t,to:h})):(r&&i.enterCallbacks[s]===r&&typeof h=="function"&&r.push(h),o())},c=e.call(i&&i.instances[s],t,n,l);let u=Promise.resolve(c);e.length<3&&(u=u.then(l)),u.catch(h=>a(h))})}function Qh(e,t,n,i){const s=[];for(const r of e)for(const o in r.components){let a=r.components[o];if(!(t!=="beforeRouteEnter"&&!r.instances[o]))if(OP(a)){const c=(a.__vccOpts||a)[t];c&&s.push(Ci(c,n,i,r,o))}else{let l=a();s.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${r.path}"`));const u=Bk(c)?c.default:c;r.components[o]=u;const f=(u.__vccOpts||u)[t];return f&&Ci(f,n,i,r,o)()}))}}return s}function OP(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function z_(e){const t=hn(Hu),n=hn(Kp),i=pe(()=>t.resolve(ce(e.to))),s=pe(()=>{const{matched:l}=i.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(Lr.bind(null,u));if(f>-1)return f;const d=j_(l[c-2]);return c>1&&j_(u)===d&&h[h.length-1].path!==d?h.findIndex(Lr.bind(null,l[c-2])):f}),r=pe(()=>s.value>-1&&LP(n.params,i.value.params)),o=pe(()=>s.value>-1&&s.value===n.matched.length-1&&kA(n.params,i.value.params));function a(l={}){return NP(l)?t[ce(e.replace)?"replace":"push"](ce(e.to)).catch(Go):Promise.resolve()}return{route:i,href:pe(()=>i.value.href),isActive:r,isExactActive:o,navigate:a}}const DP=Vp({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:z_,setup(e,{slots:t}){const n=Ja(z_(e)),{options:i}=hn(Hu),s=pe(()=>({[$_(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[$_(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=t.default&&t.default(n);return e.custom?r:Wp("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},r)}}}),Fr=DP;function NP(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function LP(e,t){for(const n in t){const i=t[n],s=e[n];if(typeof i=="string"){if(i!==s)return!1}else if(!Tn(s)||s.length!==i.length||i.some((r,o)=>r!==s[o]))return!1}return!0}function j_(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const $_=(e,t,n)=>e??t??n,VP=Vp({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=hn(ld),s=pe(()=>e.route||i.value),r=hn(U_,0),o=pe(()=>{let c=ce(r);const{matched:u}=s.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=pe(()=>s.value.matched[o.value]);vc(U_,pe(()=>o.value+1)),vc(MP,a),vc(ld,s);const l=kt();return ji(()=>[l.value,a.value,e.name],([c,u,h],[f,d,p])=>{u&&(u.instances[h]=c,d&&d!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=d.leaveGuards),u.updateGuards.size||(u.updateGuards=d.updateGuards))),c&&u&&(!d||!Lr(u,d)||!f)&&(u.enterCallbacks[h]||[]).forEach(g=>g(c))},{flush:"post"}),()=>{const c=s.value,u=e.name,h=a.value,f=h&&h.components[u];if(!f)return H_(n.default,{Component:f,route:c});const d=h.props[u],p=d?d===!0?c.params:typeof d=="function"?d(c):d:null,m=Wp(f,St({},p,t,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return H_(n.default,{Component:m,route:c})||m}}});function H_(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const FA=VP;function FP(e){const t=dP(e.routes,e),n=e.parseQuery||CP,i=e.stringifyQuery||B_,s=e.history,r=yo(),o=yo(),a=yo(),l=qx(Ti);let c=Ti;dr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Kh.bind(null,P=>""+P),h=Kh.bind(null,PP),f=Kh.bind(null,qc);function d(P,W){let U,J;return CA(P)?(U=t.getRecordMatcher(P),J=W):J=P,t.addRoute(J,U)}function p(P){const W=t.getRecordMatcher(P);W&&t.removeRoute(W)}function g(){return t.getRoutes().map(P=>P.record)}function m(P){return!!t.getRecordMatcher(P)}function _(P,W){if(W=St({},W||l.value),typeof P=="string"){const I=Gh(n,P,W.path),k=t.resolve({path:I.path},W),R=s.createHref(I.fullPath);return St(I,k,{params:f(k.params),hash:qc(I.hash),redirectedFrom:void 0,href:R})}let U;if("path"in P)U=St({},P,{path:Gh(n,P.path,W.path).path});else{const I=St({},P.params);for(const k in I)I[k]==null&&delete I[k];U=St({},P,{params:h(I)}),W.params=h(W.params)}const J=t.resolve(U,W),xt=P.hash||"";J.params=u(f(J.params));const v=jk(i,St({},P,{hash:xP(xt),path:J.path})),b=s.createHref(v);return St({fullPath:v,hash:xt,query:i===B_?RP(P.query):P.query||{}},J,{redirectedFrom:void 0,href:b})}function y(P){return typeof P=="string"?Gh(n,P,l.value.path):St({},P)}function E(P,W){if(c!==P)return Vr(8,{from:W,to:P})}function A(P){return S(P)}function w(P){return A(St(y(P),{replace:!0}))}function T(P){const W=P.matched[P.matched.length-1];if(W&&W.redirect){const{redirect:U}=W;let J=typeof U=="function"?U(P):U;return typeof J=="string"&&(J=J.includes("?")||J.includes("#")?J=y(J):{path:J},J.params={}),St({query:P.query,hash:P.hash,params:"path"in J?{}:P.params},J)}}function S(P,W){const U=c=_(P),J=l.value,xt=P.state,v=P.force,b=P.replace===!0,I=T(U);if(I)return S(St(y(I),{state:typeof I=="object"?St({},xt,I.state):xt,force:v,replace:b}),W||U);const k=U;k.redirectedFrom=W;let R;return!v&&$k(i,J,U)&&(R=Vr(16,{to:k,from:J}),Fe(J,J,!0,!1)),(R?Promise.resolve(R):j(k,J)).catch(D=>Yn(D)?Yn(D,2)?D:Ve(D):ut(D,k,J)).then(D=>{if(D){if(Yn(D,2))return S(St({replace:b},y(D.to),{state:typeof D.to=="object"?St({},xt,D.to.state):xt,force:v}),W||k)}else D=st(k,J,!0,b,xt);return K(k,J,D),D})}function x(P,W){const U=E(P,W);return U?Promise.reject(U):Promise.resolve()}function C(P){const W=an.values().next().value;return W&&typeof W.runWithContext=="function"?W.runWithContext(P):P()}function j(P,W){let U;const[J,xt,v]=BP(P,W);U=Qh(J.reverse(),"beforeRouteLeave",P,W);for(const I of J)I.leaveGuards.forEach(k=>{U.push(Ci(k,P,W))});const b=x.bind(null,P,W);return U.push(b),Gt(U).then(()=>{U=[];for(const I of r.list())U.push(Ci(I,P,W));return U.push(b),Gt(U)}).then(()=>{U=Qh(xt,"beforeRouteUpdate",P,W);for(const I of xt)I.updateGuards.forEach(k=>{U.push(Ci(k,P,W))});return U.push(b),Gt(U)}).then(()=>{U=[];for(const I of v)if(I.beforeEnter)if(Tn(I.beforeEnter))for(const k of I.beforeEnter)U.push(Ci(k,P,W));else U.push(Ci(I.beforeEnter,P,W));return U.push(b),Gt(U)}).then(()=>(P.matched.forEach(I=>I.enterCallbacks={}),U=Qh(v,"beforeRouteEnter",P,W),U.push(b),Gt(U))).then(()=>{U=[];for(const I of o.list())U.push(Ci(I,P,W));return U.push(b),Gt(U)}).catch(I=>Yn(I,8)?I:Promise.reject(I))}function K(P,W,U){a.list().forEach(J=>C(()=>J(P,W,U)))}function st(P,W,U,J,xt){const v=E(P,W);if(v)return v;const b=W===Ti,I=dr?history.state:{};U&&(J||b?s.replace(P.fullPath,St({scroll:b&&I&&I.scroll},xt)):s.push(P.fullPath,xt)),l.value=P,Fe(P,W,U,b),Ve()}let Tt;function te(){Tt||(Tt=s.listen((P,W,U)=>{if(!Cn.listening)return;const J=_(P),xt=T(J);if(xt){S(St(xt,{replace:!0}),J).catch(Go);return}c=J;const v=l.value;dr&&Xk(R_(v.fullPath,U.delta),$u()),j(J,v).catch(b=>Yn(b,12)?b:Yn(b,2)?(S(b.to,J).then(I=>{Yn(I,20)&&!U.delta&&U.type===ya.pop&&s.go(-1,!1)}).catch(Go),Promise.reject()):(U.delta&&s.go(-U.delta,!1),ut(b,J,v))).then(b=>{b=b||st(J,v,!1),b&&(U.delta&&!Yn(b,8)?s.go(-U.delta,!1):U.type===ya.pop&&Yn(b,20)&&s.go(-1,!1)),K(J,v,b)}).catch(Go)}))}let dt=yo(),X=yo(),it;function ut(P,W,U){Ve(P);const J=X.list();return J.length?J.forEach(xt=>xt(P,W,U)):console.error(P),Promise.reject(P)}function Ot(){return it&&l.value!==Ti?Promise.resolve():new Promise((P,W)=>{dt.add([P,W])})}function Ve(P){return it||(it=!P,te(),dt.list().forEach(([W,U])=>P?U(P):W()),dt.reset()),P}function Fe(P,W,U,J){const{scrollBehavior:xt}=e;if(!dr||!xt)return Promise.resolve();const v=!U&&Jk(R_(P.fullPath,0))||(J||!U)&&history.state&&history.state.scroll||null;return Np().then(()=>xt(P,W,v)).then(b=>b&&Yk(b)).catch(b=>ut(b,P,W))}const ee=P=>s.go(P);let on;const an=new Set,Cn={currentRoute:l,listening:!0,addRoute:d,removeRoute:p,hasRoute:m,getRoutes:g,resolve:_,options:e,push:A,replace:w,go:ee,back:()=>ee(-1),forward:()=>ee(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:X.add,isReady:Ot,install(P){const W=this;P.component("RouterLink",Fr),P.component("RouterView",FA),P.config.globalProperties.$router=W,Object.defineProperty(P.config.globalProperties,"$route",{enumerable:!0,get:()=>ce(l)}),dr&&!on&&l.value===Ti&&(on=!0,A(s.location).catch(xt=>{}));const U={};for(const xt in Ti)Object.defineProperty(U,xt,{get:()=>l.value[xt],enumerable:!0});P.provide(Hu,W),P.provide(Kp,W0(U)),P.provide(ld,l);const J=P.unmount;an.add(P),P.unmount=function(){an.delete(P),an.size<1&&(c=Ti,Tt&&Tt(),Tt=null,l.value=Ti,on=!1,it=!1),J()}}};function Gt(P){return P.reduce((W,U)=>W.then(()=>C(U)),Promise.resolve())}return Cn}function BP(e,t){const n=[],i=[],s=[],r=Math.max(t.matched.length,e.matched.length);for(let o=0;o<r;o++){const a=t.matched[o];a&&(e.matched.find(c=>Lr(c,a))?i.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(c=>Lr(c,l))||s.push(l))}return[n,i,s]}function Gp(){return hn(Hu)}function BA(){return hn(Kp)}const pn=(e,t)=>{const n=e.__vccOpts||e;for(const[i,s]of t)n[i]=s;return n},UP={class:"menu"},zP=["title"],jP={__name:"Menu",setup(e){const t=BA(),n=[{path:"/workouts",name:"home",icon:"dumbbell"},{path:"/stats",name:"stats",icon:"chart-simple"},{path:"/user",name:"user",icon:"user"}];return(i,s)=>{const r=Bp("font-awesome-icon");return Et(),Ft("nav",UP,[(Et(),Ft(xe,null,$o(n,o=>Mt(ce(Fr),{class:"icon",to:o.path},{default:Vs(()=>[O("abbr",{class:"center",title:o.name},[Mt(r,{icon:o.icon,class:Xa(ce(t).path==o.path?"text-orange":"text-white"),alt:"elm.name"},null,8,["icon","class"])],8,zP)]),_:2},1032,["to"])),64))])}}},$P=pn(jP,[["__scopeId","data-v-8867ee31"]]),UA="/Flex/assets/flex_white-961ad9e8.png";const HP=e=>(Js("data-v-d1d88816"),e=e(),Zs(),e),WP={class:"header center"},qP=HP(()=>O("img",{src:UA,alt:"FLEX",class:"w-10"},null,-1)),KP=[qP],GP={__name:"Header",props:{title:"title"},setup(e){return(t,n)=>(Et(),Ft("div",WP,KP))}},QP=pn(GP,[["__scopeId","data-v-d1d88816"]]);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},YP=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=e[n++];t[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=e[n++],o=e[n++],a=e[n++],l=((s&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(l&1023))}else{const r=e[n++],o=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|o&63)}}return t.join("")},jA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const r=e[s],o=s+1<e.length,a=o?e[s+1]:0,l=s+2<e.length,c=l?e[s+2]:0,u=r>>2,h=(r&3)<<4|a>>4;let f=(a&15)<<2|c>>6,d=c&63;l||(d=64,o||(f=64)),i.push(n[u],n[h],n[f],n[d])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(zA(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):YP(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const r=n[e.charAt(s++)],a=s<e.length?n[e.charAt(s)]:0;++s;const c=s<e.length?n[e.charAt(s)]:64;++s;const h=s<e.length?n[e.charAt(s)]:64;if(++s,r==null||a==null||c==null||h==null)throw new XP;const f=r<<2|a>>4;if(i.push(f),c!==64){const d=a<<4&240|c>>2;if(i.push(d),h!==64){const p=c<<6&192|h;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class XP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JP=function(e){const t=zA(e);return jA.encodeByteArray(t,!0)},Kc=function(e){return JP(e).replace(/\./g,"")},$A=function(e){try{return jA.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=()=>ZP().__FIREBASE_DEFAULTS__,eC=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},nC=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&$A(e[1]);return t&&JSON.parse(t)},Qp=()=>{try{return tC()||eC()||nC()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},HA=e=>{var t,n;return(n=(t=Qp())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},iC=e=>{const t=HA(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},WA=()=>{var e;return(e=Qp())===null||e===void 0?void 0:e.config},qA=e=>{var t;return(t=Qp())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",s=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[Kc(JSON.stringify(n)),Kc(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(De())}function KA(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function aC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lC(){const e=De();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function GA(){try{return typeof indexedDB=="object"}catch{return!1}}function QA(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;t(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){t(n)}})}function cC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="FirebaseError";class Pn extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=uC,Object.setPrototypeOf(this,Pn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tr.prototype.create)}}class tr{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,r=this.errors[t],o=r?hC(r,i):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Pn(s,a,i)}}function hC(e,t){return e.replace(fC,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const fC=/\{\$([^}]+)}/g;function dC(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function va(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const r=e[s],o=t[s];if(W_(r)&&W_(o)){if(!va(r,o))return!1}else if(r!==o)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function W_(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function ko(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");t[decodeURIComponent(s)]=decodeURIComponent(r)}}),t}function Po(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function pC(e,t){const n=new gC(e,t);return n.subscribe.bind(n)}class gC{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");mC(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=Yh),s.error===void 0&&(s.error=Yh),s.complete===void 0&&(s.complete=Yh);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mC(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function Yh(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=1e3,yC=2,vC=4*60*60*1e3,bC=.5;function q_(e,t=_C,n=yC){const i=t*Math.pow(n,e),s=Math.round(bC*i*(Math.random()-.5)*2);return Math.min(vC,i+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function se(e){return e&&e._delegate?e._delegate:e}class xn{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new sC;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(EC(t))try{this.getOrInitializeService({instanceIdentifier:gs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(t=gs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=gs){return this.instances.has(t)}getOptions(t=gs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);i===a&&o.resolve(s)}return s}onInit(t,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(t),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&t(o,s),()=>{r.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:wC(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=gs){return this.component?this.component.multipleInstances?t:gs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wC(e){return e===gs?void 0:e}function EC(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new AC(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(wt||(wt={}));const TC={debug:wt.DEBUG,verbose:wt.VERBOSE,info:wt.INFO,warn:wt.WARN,error:wt.ERROR,silent:wt.SILENT},xC=wt.INFO,SC={[wt.DEBUG]:"log",[wt.VERBOSE]:"log",[wt.INFO]:"info",[wt.WARN]:"warn",[wt.ERROR]:"error"},kC=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=SC[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Wu{constructor(t){this.name=t,this._logLevel=xC,this._logHandler=kC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in wt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?TC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,wt.DEBUG,...t),this._logHandler(this,wt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,wt.VERBOSE,...t),this._logHandler(this,wt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,wt.INFO,...t),this._logHandler(this,wt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,wt.WARN,...t),this._logHandler(this,wt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,wt.ERROR,...t),this._logHandler(this,wt.ERROR,...t)}}const PC=(e,t)=>t.some(n=>e instanceof n);let K_,G_;function CC(){return K_||(K_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RC(){return G_||(G_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YA=new WeakMap,cd=new WeakMap,XA=new WeakMap,Xh=new WeakMap,Yp=new WeakMap;function MC(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",r),e.removeEventListener("error",o)},r=()=>{n($i(e.result)),s()},o=()=>{i(e.error),s()};e.addEventListener("success",r),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&YA.set(n,e)}).catch(()=>{}),Yp.set(t,e),t}function OC(e){if(cd.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",o),e.removeEventListener("abort",o)},r=()=>{n(),s()},o=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",r),e.addEventListener("error",o),e.addEventListener("abort",o)});cd.set(e,t)}let ud={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return cd.get(e);if(t==="objectStoreNames")return e.objectStoreNames||XA.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $i(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function DC(e){ud=e(ud)}function NC(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(Jh(this),t,...n);return XA.set(i,t.sort?t.sort():[t]),$i(i)}:RC().includes(e)?function(...t){return e.apply(Jh(this),t),$i(YA.get(this))}:function(...t){return $i(e.apply(Jh(this),t))}}function LC(e){return typeof e=="function"?NC(e):(e instanceof IDBTransaction&&OC(e),PC(e,CC())?new Proxy(e,ud):e)}function $i(e){if(e instanceof IDBRequest)return MC(e);if(Xh.has(e))return Xh.get(e);const t=LC(e);return t!==e&&(Xh.set(e,t),Yp.set(t,e)),t}const Jh=e=>Yp.get(e);function VC(e,t,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(e,t),a=$i(o);return i&&o.addEventListener("upgradeneeded",l=>{i($i(o.result),l.oldVersion,l.newVersion,$i(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const FC=["get","getKey","getAll","getAllKeys","count"],BC=["put","add","delete","clear"],Zh=new Map;function Q_(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Zh.get(t))return Zh.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=BC.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||FC.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Zh.set(t,r),r}DC(e=>({...e,get:(t,n,i)=>Q_(t,n)||e.get(t,n,i),has:(t,n)=>!!Q_(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zC(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function zC(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const hd="@firebase/app",Y_="0.9.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new Wu("@firebase/app"),jC="@firebase/app-compat",$C="@firebase/analytics-compat",HC="@firebase/analytics",WC="@firebase/app-check-compat",qC="@firebase/app-check",KC="@firebase/auth",GC="@firebase/auth-compat",QC="@firebase/database",YC="@firebase/database-compat",XC="@firebase/functions",JC="@firebase/functions-compat",ZC="@firebase/installations",tR="@firebase/installations-compat",eR="@firebase/messaging",nR="@firebase/messaging-compat",iR="@firebase/performance",sR="@firebase/performance-compat",rR="@firebase/remote-config",oR="@firebase/remote-config-compat",aR="@firebase/storage",lR="@firebase/storage-compat",cR="@firebase/firestore",uR="@firebase/firestore-compat",hR="firebase",fR="10.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd="[DEFAULT]",dR={[hd]:"fire-core",[jC]:"fire-core-compat",[HC]:"fire-analytics",[$C]:"fire-analytics-compat",[qC]:"fire-app-check",[WC]:"fire-app-check-compat",[KC]:"fire-auth",[GC]:"fire-auth-compat",[QC]:"fire-rtdb",[YC]:"fire-rtdb-compat",[XC]:"fire-fn",[JC]:"fire-fn-compat",[ZC]:"fire-iid",[tR]:"fire-iid-compat",[eR]:"fire-fcm",[nR]:"fire-fcm-compat",[iR]:"fire-perf",[sR]:"fire-perf-compat",[rR]:"fire-rc",[oR]:"fire-rc-compat",[aR]:"fire-gcs",[lR]:"fire-gcs-compat",[cR]:"fire-fst",[uR]:"fire-fst-compat","fire-js":"fire-js",[hR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=new Map,dd=new Map;function pR(e,t){try{e.container.addComponent(t)}catch(n){Bs.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Gn(e){const t=e.name;if(dd.has(t))return Bs.debug(`There were multiple attempts to register component ${t}.`),!1;dd.set(t,e);for(const n of Gc.values())pR(n,e);return!0}function er(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Hi=new tr("app","Firebase",gR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new xn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Hi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=fR;function JA(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:fd,automaticDataCollectionEnabled:!1},t),s=i.name;if(typeof s!="string"||!s)throw Hi.create("bad-app-name",{appName:String(s)});if(n||(n=WA()),!n)throw Hi.create("no-options");const r=Gc.get(s);if(r){if(va(n,r.options)&&va(i,r.config))return r;throw Hi.create("duplicate-app",{appName:s})}const o=new IC(s);for(const l of dd.values())o.addComponent(l);const a=new mR(n,i,o);return Gc.set(s,a),a}function Xp(e=fd){const t=Gc.get(e);if(!t&&e===fd&&WA())return JA();if(!t)throw Hi.create("no-app",{appName:e});return t}function fn(e,t,n){var i;let s=(i=dR[e])!==null&&i!==void 0?i:e;n&&(s+=`-${n}`);const r=s.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const a=[`Unable to register library "${s}" with version "${t}":`];r&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Bs.warn(a.join(" "));return}Gn(new xn(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="firebase-heartbeat-database",yR=1,ba="firebase-heartbeat-store";let tf=null;function ZA(){return tf||(tf=VC(_R,yR,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(ba)}}}).catch(e=>{throw Hi.create("idb-open",{originalErrorMessage:e.message})})),tf}async function vR(e){try{return await(await ZA()).transaction(ba).objectStore(ba).get(tw(e))}catch(t){if(t instanceof Pn)Bs.warn(t.message);else{const n=Hi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Bs.warn(n.message)}}}async function X_(e,t){try{const i=(await ZA()).transaction(ba,"readwrite");await i.objectStore(ba).put(t,tw(e)),await i.done}catch(n){if(n instanceof Pn)Bs.warn(n.message);else{const i=Hi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Bs.warn(i.message)}}}function tw(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=1024,AR=30*24*60*60*1e3;class wR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new IR(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=J_();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const r=new Date(s.date).valueOf();return Date.now()-r<=AR}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=J_(),{heartbeatsToSend:n,unsentEntries:i}=ER(this._heartbeatsCache.heartbeats),s=Kc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function J_(){return new Date().toISOString().substring(0,10)}function ER(e,t=bR){const n=[];let i=e.slice();for(const s of e){const r=n.find(o=>o.agent===s.agent);if(r){if(r.dates.push(s.date),Z_(n)>t){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Z_(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class IR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GA()?QA().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await vR(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return X_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return X_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function Z_(e){return Kc(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(e){Gn(new xn("platform-logger",t=>new UC(t),"PRIVATE")),Gn(new xn("heartbeat",t=>new wR(t),"PRIVATE")),fn(hd,Y_,e),fn(hd,Y_,"esm2017"),fn("fire-js","")}TR("");var xR="firebase",SR="10.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn(xR,SR,"app");const kR=(e,t)=>t.some(n=>e instanceof n);let ty,ey;function PR(){return ty||(ty=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CR(){return ey||(ey=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ew=new WeakMap,pd=new WeakMap,nw=new WeakMap,ef=new WeakMap,Jp=new WeakMap;function RR(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",r),e.removeEventListener("error",o)},r=()=>{n(Wi(e.result)),s()},o=()=>{i(e.error),s()};e.addEventListener("success",r),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&ew.set(n,e)}).catch(()=>{}),Jp.set(t,e),t}function MR(e){if(pd.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",o),e.removeEventListener("abort",o)},r=()=>{n(),s()},o=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",r),e.addEventListener("error",o),e.addEventListener("abort",o)});pd.set(e,t)}let gd={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return pd.get(e);if(t==="objectStoreNames")return e.objectStoreNames||nw.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function OR(e){gd=e(gd)}function DR(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(nf(this),t,...n);return nw.set(i,t.sort?t.sort():[t]),Wi(i)}:CR().includes(e)?function(...t){return e.apply(nf(this),t),Wi(ew.get(this))}:function(...t){return Wi(e.apply(nf(this),t))}}function NR(e){return typeof e=="function"?DR(e):(e instanceof IDBTransaction&&MR(e),kR(e,PR())?new Proxy(e,gd):e)}function Wi(e){if(e instanceof IDBRequest)return RR(e);if(ef.has(e))return ef.get(e);const t=NR(e);return t!==e&&(ef.set(e,t),Jp.set(t,e)),t}const nf=e=>Jp.get(e);function LR(e,t,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(e,t),a=Wi(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Wi(o.result),l.oldVersion,l.newVersion,Wi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",()=>s())}).catch(()=>{}),a}const VR=["get","getKey","getAll","getAllKeys","count"],FR=["put","add","delete","clear"],sf=new Map;function ny(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(sf.get(t))return sf.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=FR.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||VR.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return sf.set(t,r),r}OR(e=>({...e,get:(t,n,i)=>ny(t,n)||e.get(t,n,i),has:(t,n)=>!!ny(t,n)||e.has(t,n)}));const iw="@firebase/installations",Zp="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=1e4,rw=`w:${Zp}`,ow="FIS_v2",BR="https://firebaseinstallations.googleapis.com/v1",UR=60*60*1e3,zR="installations",jR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Us=new tr(zR,jR,$R);function aw(e){return e instanceof Pn&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw({projectId:e}){return`${BR}/projects/${e}/installations`}function cw(e){return{token:e.token,requestStatus:2,expiresIn:WR(e.expiresIn),creationTime:Date.now()}}async function uw(e,t){const i=(await t.json()).error;return Us.create("request-failed",{requestName:e,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function hw({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function HR(e,{refreshToken:t}){const n=hw(e);return n.append("Authorization",qR(t)),n}async function fw(e){const t=await e();return t.status>=500&&t.status<600?e():t}function WR(e){return Number(e.replace("s","000"))}function qR(e){return`${ow} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KR({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const i=lw(e),s=hw(e),r=t.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:ow,appId:e.appId,sdkVersion:rw},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await fw(()=>fetch(i,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:cw(c.authToken)}}else throw await uw("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=/^[cdef][\w-]{21}$/,md="";function YR(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=XR(e);return QR.test(n)?n:md}catch{return md}}function XR(e){return GR(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=new Map;function gw(e,t){const n=qu(e);mw(n,t),JR(n,t)}function mw(e,t){const n=pw.get(e);if(n)for(const i of n)i(t)}function JR(e,t){const n=ZR();n&&n.postMessage({key:e,fid:t}),tM()}let As=null;function ZR(){return!As&&"BroadcastChannel"in self&&(As=new BroadcastChannel("[Firebase] FID Change"),As.onmessage=e=>{mw(e.data.key,e.data.fid)}),As}function tM(){pw.size===0&&As&&(As.close(),As=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM="firebase-installations-database",nM=1,zs="firebase-installations-store";let rf=null;function tg(){return rf||(rf=LR(eM,nM,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(zs)}}})),rf}async function Qc(e,t){const n=qu(e),s=(await tg()).transaction(zs,"readwrite"),r=s.objectStore(zs),o=await r.get(n);return await r.put(t,n),await s.done,(!o||o.fid!==t.fid)&&gw(e,t.fid),t}async function _w(e){const t=qu(e),i=(await tg()).transaction(zs,"readwrite");await i.objectStore(zs).delete(t),await i.done}async function Ku(e,t){const n=qu(e),s=(await tg()).transaction(zs,"readwrite"),r=s.objectStore(zs),o=await r.get(n),a=t(o);return a===void 0?await r.delete(n):await r.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&gw(e,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eg(e){let t;const n=await Ku(e.appConfig,i=>{const s=iM(i),r=sM(e,s);return t=r.registrationPromise,r.installationEntry});return n.fid===md?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function iM(e){const t=e||{fid:YR(),registrationStatus:0};return yw(t)}function sM(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Us.create("app-offline"));return{installationEntry:t,registrationPromise:s}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=rM(e,n);return{installationEntry:n,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:oM(e)}:{installationEntry:t}}async function rM(e,t){try{const n=await KR(e,t);return Qc(e.appConfig,n)}catch(n){throw aw(n)&&n.customData.serverCode===409?await _w(e.appConfig):await Qc(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function oM(e){let t=await iy(e.appConfig);for(;t.registrationStatus===1;)await dw(100),t=await iy(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await eg(e);return i||n}return t}function iy(e){return Ku(e,t=>{if(!t)throw Us.create("installation-not-found");return yw(t)})}function yw(e){return aM(e)?{fid:e.fid,registrationStatus:0}:e}function aM(e){return e.registrationStatus===1&&e.registrationTime+sw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lM({appConfig:e,heartbeatServiceProvider:t},n){const i=cM(e,n),s=HR(e,n),r=t.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:rw,appId:e.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await fw(()=>fetch(i,a));if(l.ok){const c=await l.json();return cw(c)}else throw await uw("Generate Auth Token",l)}function cM(e,{fid:t}){return`${lw(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ng(e,t=!1){let n;const i=await Ku(e.appConfig,r=>{if(!vw(r))throw Us.create("not-registered");const o=r.authToken;if(!t&&fM(o))return r;if(o.requestStatus===1)return n=uM(e,t),r;{if(!navigator.onLine)throw Us.create("app-offline");const a=pM(r);return n=hM(e,a),a}});return n?await n:i.authToken}async function uM(e,t){let n=await sy(e.appConfig);for(;n.authToken.requestStatus===1;)await dw(100),n=await sy(e.appConfig);const i=n.authToken;return i.requestStatus===0?ng(e,t):i}function sy(e){return Ku(e,t=>{if(!vw(t))throw Us.create("not-registered");const n=t.authToken;return gM(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function hM(e,t){try{const n=await lM(e,t),i=Object.assign(Object.assign({},t),{authToken:n});return await Qc(e.appConfig,i),n}catch(n){if(aw(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await _w(e.appConfig);else{const i=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Qc(e.appConfig,i)}throw n}}function vw(e){return e!==void 0&&e.registrationStatus===2}function fM(e){return e.requestStatus===2&&!dM(e)}function dM(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+UR}function pM(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function gM(e){return e.requestStatus===1&&e.requestTime+sw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mM(e){const t=e,{installationEntry:n,registrationPromise:i}=await eg(t);return i?i.catch(console.error):ng(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _M(e,t=!1){const n=e;return await yM(n),(await ng(n,t)).token}async function yM(e){const{registrationPromise:t}=await eg(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(e){if(!e||!e.options)throw of("App Configuration");if(!e.name)throw of("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw of(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function of(e){return Us.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="installations",bM="installations-internal",AM=e=>{const t=e.getProvider("app").getImmediate(),n=vM(t),i=er(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},wM=e=>{const t=e.getProvider("app").getImmediate(),n=er(t,bw).getImmediate();return{getId:()=>mM(n),getToken:s=>_M(n,s)}};function EM(){Gn(new xn(bw,AM,"PUBLIC")),Gn(new xn(bM,wM,"PRIVATE"))}EM();fn(iw,Zp);fn(iw,Zp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc="analytics",IM="firebase_id",TM="origin",xM=60*1e3,SM="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ig="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge=new Wu("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},nn=new tr("analytics","Analytics",kM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(e){if(!e.startsWith(ig)){const t=nn.create("invalid-gtag-resource",{gtagURL:e});return Ge.warn(t.message),""}return e}function Aw(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function CM(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function RM(e,t){const n=CM("firebase-js-sdk-policy",{createScriptURL:PM}),i=document.createElement("script"),s=`${ig}?l=${e}&id=${t}`;i.src=n?n==null?void 0:n.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function MM(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function OM(e,t,n,i,s,r){const o=i[s];try{if(o)await t[o];else{const l=(await Aw(n)).find(c=>c.measurementId===s);l&&await t[l.appId]}}catch(a){Ge.error(a)}e("config",s,r)}async function DM(e,t,n,i,s){try{let r=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await Aw(n);for(const l of o){const c=a.find(h=>h.measurementId===l),u=c&&t[c.appId];if(u)r.push(u);else{r=[];break}}}r.length===0&&(r=Object.values(t)),await Promise.all(r),e("event",i,s||{})}catch(r){Ge.error(r)}}function NM(e,t,n,i){async function s(r,...o){try{if(r==="event"){const[a,l]=o;await DM(e,t,n,a,l)}else if(r==="config"){const[a,l]=o;await OM(e,t,n,i,a,l)}else if(r==="consent"){const[a]=o;e("consent","update",a)}else if(r==="get"){const[a,l,c]=o;e("get",a,l,c)}else if(r==="set"){const[a]=o;e("set",a)}else e(r,...o)}catch(a){Ge.error(a)}}return s}function LM(e,t,n,i,s){let r=function(...o){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(r=window[s]),window[s]=NM(r,e,t,n),{gtagCore:r,wrappedGtag:window[s]}}function VM(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(ig)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM=30,BM=1e3;class UM{constructor(t={},n=BM){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const ww=new UM;function zM(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function jM(e){var t;const{appId:n,apiKey:i}=e,s={method:"GET",headers:zM(i)},r=SM.replace("{app-id}",n),o=await fetch(r,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((t=l.error)===null||t===void 0)&&t.message&&(a=l.error.message)}catch{}throw nn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function $M(e,t=ww,n){const{appId:i,apiKey:s,measurementId:r}=e.options;if(!i)throw nn.create("no-app-id");if(!s){if(r)return{measurementId:r,appId:i};throw nn.create("no-api-key")}const o=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new qM;return setTimeout(async()=>{a.abort()},n!==void 0?n:xM),Ew({appId:i,apiKey:s,measurementId:r},o,a,t)}async function Ew(e,{throttleEndTimeMillis:t,backoffCount:n},i,s=ww){var r;const{appId:o,measurementId:a}=e;try{await HM(i,t)}catch(l){if(a)return Ge.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await jM(e);return s.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!WM(c)){if(s.deleteThrottleMetadata(o),a)return Ge.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const u=Number((r=c==null?void 0:c.customData)===null||r===void 0?void 0:r.httpStatus)===503?q_(n,s.intervalMillis,FM):q_(n,s.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return s.setThrottleMetadata(o,h),Ge.debug(`Calling attemptFetch again in ${u} millis`),Ew(e,h,i,s)}}function HM(e,t){return new Promise((n,i)=>{const s=Math.max(t-Date.now(),0),r=setTimeout(n,s);e.addEventListener(()=>{clearTimeout(r),i(nn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function WM(e){if(!(e instanceof Pn)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class qM{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function KM(e,t,n,i,s){if(s&&s.global){e("event",n,i);return}else{const r=await t,o=Object.assign(Object.assign({},i),{send_to:r});e("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GM(){if(GA())try{await QA()}catch(e){return Ge.warn(nn.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Ge.warn(nn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function QM(e,t,n,i,s,r,o){var a;const l=$M(e);l.then(d=>{n[d.measurementId]=d.appId,e.options.measurementId&&d.measurementId!==e.options.measurementId&&Ge.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${d.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(d=>Ge.error(d)),t.push(l);const c=GM().then(d=>{if(d)return i.getId()}),[u,h]=await Promise.all([l,c]);VM(r)||RM(r,u.measurementId),s("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[TM]="firebase",f.update=!0,h!=null&&(f[IM]=h),s("config",u.measurementId,f),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(t){this.app=t}_delete(){return delete Yo[this.app.options.appId],Promise.resolve()}}let Yo={},ry=[];const oy={};let af="dataLayer",XM="gtag",ay,Iw,ly=!1;function JM(){const e=[];if(KA()&&e.push("This is a browser extension environment."),cC()||e.push("Cookies are not available."),e.length>0){const t=e.map((i,s)=>`(${s+1}) ${i}`).join(" "),n=nn.create("invalid-analytics-context",{errorInfo:t});Ge.warn(n.message)}}function ZM(e,t,n){JM();const i=e.options.appId;if(!i)throw nn.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Ge.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw nn.create("no-api-key");if(Yo[i]!=null)throw nn.create("already-exists",{id:i});if(!ly){MM(af);const{wrappedGtag:r,gtagCore:o}=LM(Yo,ry,oy,af,XM);Iw=r,ay=o,ly=!0}return Yo[i]=QM(e,ry,oy,t,ay,af,n),new YM(e)}function t2(e=Xp()){e=se(e);const t=er(e,Yc);return t.isInitialized()?t.getImmediate():e2(e)}function e2(e,t={}){const n=er(e,Yc);if(n.isInitialized()){const s=n.getImmediate();if(va(t,n.getOptions()))return s;throw nn.create("already-initialized")}return n.initialize({options:t})}function n2(e,t,n,i){e=se(e),KM(Iw,Yo[e.app.options.appId],t,n,i).catch(s=>Ge.error(s))}const cy="@firebase/analytics",uy="0.10.0";function i2(){Gn(new xn(Yc,(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("installations-internal").getImmediate();return ZM(i,s,n)},"PUBLIC")),Gn(new xn("analytics-internal",e,"PRIVATE")),fn(cy,uy),fn(cy,uy,"esm2017");function e(t){try{const n=t.getProvider(Yc).getImmediate();return{logEvent:(i,s,r)=>n2(n,i,s,r)}}catch(n){throw nn.create("interop-component-reg-failed",{reason:n})}}}i2();var s2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},z,sg=sg||{},at=s2||self;function Gu(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function tl(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function r2(e){return Object.prototype.hasOwnProperty.call(e,lf)&&e[lf]||(e[lf]=++o2)}var lf="closure_uid_"+(1e9*Math.random()>>>0),o2=0;function a2(e,t,n){return e.call.apply(e.bind,arguments)}function l2(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,i),e.apply(t,s)}}return function(){return e.apply(t,arguments)}}function Re(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Re=a2:Re=l2,Re.apply(null,arguments)}function Vl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function ve(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(i,s,r){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[s].apply(i,o)}}function ss(){this.s=this.s,this.o=this.o}var c2=0;ss.prototype.s=!1;ss.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),c2!=0)&&r2(this)};ss.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Tw=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function rg(e){const t=e.length;if(0<t){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function hy(e,t){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(Gu(i)){const s=e.length||0,r=i.length||0;e.length=s+r;for(let o=0;o<r;o++)e[s+o]=i[o]}else e.push(i)}}function Me(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Me.prototype.h=function(){this.defaultPrevented=!0};var u2=function(){if(!at.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{at.addEventListener("test",()=>{},t),at.removeEventListener("test",()=>{},t)}catch{}return e}();function Aa(e){return/^[\s\xa0]*$/.test(e)}function Qu(){var e=at.navigator;return e&&(e=e.userAgent)?e:""}function Fn(e){return Qu().indexOf(e)!=-1}function og(e){return og[" "](e),e}og[" "]=function(){};function h2(e,t){var n=iO;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var f2=Fn("Opera"),Br=Fn("Trident")||Fn("MSIE"),xw=Fn("Edge"),_d=xw||Br,Sw=Fn("Gecko")&&!(Qu().toLowerCase().indexOf("webkit")!=-1&&!Fn("Edge"))&&!(Fn("Trident")||Fn("MSIE"))&&!Fn("Edge"),d2=Qu().toLowerCase().indexOf("webkit")!=-1&&!Fn("Edge");function kw(){var e=at.document;return e?e.documentMode:void 0}var yd;t:{var cf="",uf=function(){var e=Qu();if(Sw)return/rv:([^\);]+)(\)|;)/.exec(e);if(xw)return/Edge\/([\d\.]+)/.exec(e);if(Br)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(d2)return/WebKit\/(\S+)/.exec(e);if(f2)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(uf&&(cf=uf?uf[1]:""),Br){var hf=kw();if(hf!=null&&hf>parseFloat(cf)){yd=String(hf);break t}}yd=cf}var vd;if(at.document&&Br){var fy=kw();vd=fy||parseInt(yd,10)||void 0}else vd=void 0;var p2=vd;function wa(e,t){if(Me.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Sw){t:{try{og(t.nodeName);var s=!0;break t}catch{}s=!1}s||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:g2[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&wa.$.h.call(this)}}ve(wa,Me);var g2={2:"touch",3:"pen",4:"mouse"};wa.prototype.h=function(){wa.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var el="closure_listenable_"+(1e6*Math.random()|0),m2=0;function _2(e,t,n,i,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.la=s,this.key=++m2,this.fa=this.ia=!1}function Yu(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function ag(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function y2(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function Pw(e){const t={};for(const n in e)t[n]=e[n];return t}const dy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Cw(e,t){let n,i;for(let s=1;s<arguments.length;s++){i=arguments[s];for(n in i)e[n]=i[n];for(let r=0;r<dy.length;r++)n=dy[r],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function Xu(e){this.src=e,this.g={},this.h=0}Xu.prototype.add=function(e,t,n,i,s){var r=e.toString();e=this.g[r],e||(e=this.g[r]=[],this.h++);var o=Ad(e,t,i,s);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new _2(t,this.src,r,!!i,s),t.ia=n,e.push(t)),t};function bd(e,t){var n=t.type;if(n in e.g){var i=e.g[n],s=Tw(i,t),r;(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Yu(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Ad(e,t,n,i){for(var s=0;s<e.length;++s){var r=e[s];if(!r.fa&&r.listener==t&&r.capture==!!n&&r.la==i)return s}return-1}var lg="closure_lm_"+(1e6*Math.random()|0),ff={};function Rw(e,t,n,i,s){if(i&&i.once)return Ow(e,t,n,i,s);if(Array.isArray(t)){for(var r=0;r<t.length;r++)Rw(e,t[r],n,i,s);return null}return n=hg(n),e&&e[el]?e.O(t,n,tl(i)?!!i.capture:!!i,s):Mw(e,t,n,!1,i,s)}function Mw(e,t,n,i,s,r){if(!t)throw Error("Invalid event type");var o=tl(s)?!!s.capture:!!s,a=ug(e);if(a||(e[lg]=a=new Xu(e)),n=a.add(t,n,i,o,r),n.proxy)return n;if(i=v2(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)u2||(s=o),s===void 0&&(s=!1),e.addEventListener(t.toString(),i,s);else if(e.attachEvent)e.attachEvent(Nw(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function v2(){function e(n){return t.call(e.src,e.listener,n)}const t=b2;return e}function Ow(e,t,n,i,s){if(Array.isArray(t)){for(var r=0;r<t.length;r++)Ow(e,t[r],n,i,s);return null}return n=hg(n),e&&e[el]?e.P(t,n,tl(i)?!!i.capture:!!i,s):Mw(e,t,n,!0,i,s)}function Dw(e,t,n,i,s){if(Array.isArray(t))for(var r=0;r<t.length;r++)Dw(e,t[r],n,i,s);else i=tl(i)?!!i.capture:!!i,n=hg(n),e&&e[el]?(e=e.i,t=String(t).toString(),t in e.g&&(r=e.g[t],n=Ad(r,n,i,s),-1<n&&(Yu(r[n]),Array.prototype.splice.call(r,n,1),r.length==0&&(delete e.g[t],e.h--)))):e&&(e=ug(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ad(t,n,i,s)),(n=-1<e?t[e]:null)&&cg(n))}function cg(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[el])bd(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(Nw(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=ug(t))?(bd(n,e),n.h==0&&(n.src=null,t[lg]=null)):Yu(e)}}}function Nw(e){return e in ff?ff[e]:ff[e]="on"+e}function b2(e,t){if(e.fa)e=!0;else{t=new wa(t,this);var n=e.listener,i=e.la||e.src;e.ia&&cg(e),e=n.call(i,t)}return e}function ug(e){return e=e[lg],e instanceof Xu?e:null}var df="__closure_events_fn_"+(1e9*Math.random()>>>0);function hg(e){return typeof e=="function"?e:(e[df]||(e[df]=function(t){return e.handleEvent(t)}),e[df])}function ye(){ss.call(this),this.i=new Xu(this),this.S=this,this.J=null}ve(ye,ss);ye.prototype[el]=!0;ye.prototype.removeEventListener=function(e,t,n,i){Dw(this,e,t,n,i)};function we(e,t){var n,i=e.J;if(i)for(n=[];i;i=i.J)n.push(i);if(e=e.S,i=t.type||t,typeof t=="string")t=new Me(t,e);else if(t instanceof Me)t.target=t.target||e;else{var s=t;t=new Me(i,e),Cw(t,s)}if(s=!0,n)for(var r=n.length-1;0<=r;r--){var o=t.g=n[r];s=Fl(o,i,!0,t)&&s}if(o=t.g=e,s=Fl(o,i,!0,t)&&s,s=Fl(o,i,!1,t)&&s,n)for(r=0;r<n.length;r++)o=t.g=n[r],s=Fl(o,i,!1,t)&&s}ye.prototype.N=function(){if(ye.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)Yu(n[i]);delete e.g[t],e.h--}}this.J=null};ye.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};ye.prototype.P=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};function Fl(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var s=!0,r=0;r<t.length;++r){var o=t[r];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&bd(e.i,o),s=a.call(l,i)!==!1&&s}}return s&&!i.defaultPrevented}var fg=at.JSON.stringify;class A2{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function w2(){var e=dg;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class E2{constructor(){this.h=this.g=null}add(t,n){const i=Lw.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i}}var Lw=new A2(()=>new I2,e=>e.reset());class I2{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function T2(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function x2(e){at.setTimeout(()=>{throw e},0)}let Ea,Ia=!1,dg=new E2,Vw=()=>{const e=at.Promise.resolve(void 0);Ea=()=>{e.then(S2)}};var S2=()=>{for(var e;e=w2();){try{e.h.call(e.g)}catch(n){x2(n)}var t=Lw;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ia=!1};function Ju(e,t){ye.call(this),this.h=e||1,this.g=t||at,this.j=Re(this.qb,this),this.l=Date.now()}ve(Ju,ye);z=Ju.prototype;z.ga=!1;z.T=null;z.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),we(this,"tick"),this.ga&&(pg(this),this.start()))}};z.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function pg(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}z.N=function(){Ju.$.N.call(this),pg(this),delete this.g};function gg(e,t,n){if(typeof e=="function")n&&(e=Re(e,n));else if(e&&typeof e.handleEvent=="function")e=Re(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:at.setTimeout(e,t||0)}function Fw(e){e.g=gg(()=>{e.g=null,e.i&&(e.i=!1,Fw(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class k2 extends ss{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:Fw(this)}N(){super.N(),this.g&&(at.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ta(e){ss.call(this),this.h=e,this.g={}}ve(Ta,ss);var py=[];function Bw(e,t,n,i){Array.isArray(n)||(n&&(py[0]=n.toString()),n=py);for(var s=0;s<n.length;s++){var r=Rw(t,n[s],i||e.handleEvent,!1,e.h||e);if(!r)break;e.g[r.key]=r}}function Uw(e){ag(e.g,function(t,n){this.g.hasOwnProperty(n)&&cg(t)},e),e.g={}}Ta.prototype.N=function(){Ta.$.N.call(this),Uw(this)};Ta.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Zu(){this.g=!0}Zu.prototype.Ea=function(){this.g=!1};function P2(e,t,n,i,s,r){e.info(function(){if(e.g)if(r)for(var o="",a=r.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=r;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+t+`
`+n+`
`+o})}function C2(e,t,n,i,s,r,o){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+t+`
`+n+`
`+r+" "+o})}function mr(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+M2(e,n)+(i?" "+i:"")})}function R2(e,t){e.info(function(){return"TIMEOUT: "+t})}Zu.prototype.info=function(){};function M2(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var r=s[0];if(r!="noop"&&r!="stop"&&r!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return fg(n)}catch{return t}}var nr={},gy=null;function th(){return gy=gy||new ye}nr.Ta="serverreachability";function zw(e){Me.call(this,nr.Ta,e)}ve(zw,Me);function xa(e){const t=th();we(t,new zw(t))}nr.STAT_EVENT="statevent";function jw(e,t){Me.call(this,nr.STAT_EVENT,e),this.stat=t}ve(jw,Me);function ze(e){const t=th();we(t,new jw(t,e))}nr.Ua="timingevent";function $w(e,t){Me.call(this,nr.Ua,e),this.size=t}ve($w,Me);function nl(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return at.setTimeout(function(){e()},t)}var eh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Hw={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function mg(){}mg.prototype.h=null;function my(e){return e.h||(e.h=e.i())}function Ww(){}var il={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function _g(){Me.call(this,"d")}ve(_g,Me);function yg(){Me.call(this,"c")}ve(yg,Me);var wd;function nh(){}ve(nh,mg);nh.prototype.g=function(){return new XMLHttpRequest};nh.prototype.i=function(){return{}};wd=new nh;function sl(e,t,n,i){this.l=e,this.j=t,this.m=n,this.W=i||1,this.U=new Ta(this),this.P=O2,e=_d?125:void 0,this.V=new Ju(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new qw}function qw(){this.i=null,this.g="",this.h=!1}var O2=45e3,Ed={},Xc={};z=sl.prototype;z.setTimeout=function(e){this.P=e};function Id(e,t,n){e.L=1,e.v=sh(di(t)),e.s=n,e.S=!0,Kw(e,null)}function Kw(e,t){e.G=Date.now(),rl(e),e.A=di(e.v);var n=e.A,i=e.W;Array.isArray(i)||(i=[String(i)]),eE(n.i,"t",i),e.C=0,n=e.l.J,e.h=new qw,e.g=wE(e.l,n?t:null,!e.s),0<e.O&&(e.M=new k2(Re(e.Pa,e,e.g),e.O)),Bw(e.U,e.g,"readystatechange",e.nb),t=e.I?Pw(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),xa(),P2(e.j,e.u,e.A,e.m,e.W,e.s)}z.nb=function(e){e=e.target;const t=this.M;t&&Un(e)==3?t.l():this.Pa(e)};z.Pa=function(e){try{if(e==this.g)t:{const u=Un(this.g);var t=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||_d||this.g&&(this.h.h||this.g.ja()||by(this.g)))){this.J||u!=4||t==7||(t==8||0>=h?xa(3):xa(2)),ih(this);var n=this.g.da();this.ca=n;e:if(Gw(this)){var i=by(this.g);e="";var s=i.length,r=Un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ws(this),Xo(this);var o="";break e}this.h.i=new at.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(i[t],{stream:r&&t==s-1});i.splice(0,s),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,C2(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){e:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Aa(a)){var c=a;break e}}c=null}if(n=c)mr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Td(this,n);else{this.i=!1,this.o=3,ze(12),ws(this),Xo(this);break t}}this.S?(Qw(this,u,o),_d&&this.i&&u==3&&(Bw(this.U,this.V,"tick",this.mb),this.V.start())):(mr(this.j,this.m,o,null),Td(this,o)),u==4&&ws(this),this.i&&!this.J&&(u==4?yE(this.l,this):(this.i=!1,rl(this)))}else tO(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,ze(12)):(this.o=0,ze(13)),ws(this),Xo(this)}}}catch{}finally{}};function Gw(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function Qw(e,t,n){let i=!0,s;for(;!e.J&&e.C<n.length;)if(s=D2(e,n),s==Xc){t==4&&(e.o=4,ze(14),i=!1),mr(e.j,e.m,null,"[Incomplete Response]");break}else if(s==Ed){e.o=4,ze(15),mr(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else mr(e.j,e.m,s,null),Td(e,s);Gw(e)&&s!=Xc&&s!=Ed&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,ze(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ig(t),t.M=!0,ze(11))):(mr(e.j,e.m,n,"[Invalid Chunked Response]"),ws(e),Xo(e))}z.mb=function(){if(this.g){var e=Un(this.g),t=this.g.ja();this.C<t.length&&(ih(this),Qw(this,e,t),this.i&&e!=4&&rl(this))}};function D2(e,t){var n=e.C,i=t.indexOf(`
`,n);return i==-1?Xc:(n=Number(t.substring(n,i)),isNaN(n)?Ed:(i+=1,i+n>t.length?Xc:(t=t.slice(i,i+n),e.C=i+n,t)))}z.cancel=function(){this.J=!0,ws(this)};function rl(e){e.Y=Date.now()+e.P,Yw(e,e.P)}function Yw(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=nl(Re(e.lb,e),t)}function ih(e){e.B&&(at.clearTimeout(e.B),e.B=null)}z.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(R2(this.j,this.A),this.L!=2&&(xa(),ze(17)),ws(this),this.o=2,Xo(this)):Yw(this,this.Y-e)};function Xo(e){e.l.H==0||e.J||yE(e.l,e)}function ws(e){ih(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,pg(e.V),Uw(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Td(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||xd(n.i,e))){if(!e.K&&xd(n.i,e)&&n.H==3){try{var i=n.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var s=i;if(s[0]==0){t:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)tu(n),ah(n);else break t;Eg(n),ze(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=nl(Re(n.ib,n),6e3));if(1>=sE(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Es(n,11)}else if((e.K||n.g==e)&&tu(n),!Aa(t))for(s=n.Ja.g.parse(t),t=0;t<s.length;t++){let c=s[t];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const d=e.g;if(d){const p=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var r=i.i;r.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(r.j=r.l,r.g=new Set,r.h&&(vg(r,r.h),r.h=null))}if(i.F){const g=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(i.Da=g,Ut(i.I,i.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var o=e;if(i.wa=AE(i,i.J?i.pa:null,i.Y),o.K){rE(i.i,o);var a=o,l=i.L;l&&a.setTimeout(l),a.B&&(ih(a),rl(a)),i.g=o}else mE(i);0<n.j.length&&lh(n)}else c[0]!="stop"&&c[0]!="close"||Es(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Es(n,7):wg(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}xa(4)}catch{}}function N2(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Gu(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function L2(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Gu(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const i in e)t[n++]=i;return t}}}function Xw(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Gu(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=L2(e),i=N2(e),s=i.length,r=0;r<s;r++)t.call(void 0,i[r],n&&n[r],e)}var Jw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function V2(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),s=null;if(0<=i){var r=e[n].substring(0,i);s=e[n].substring(i+1)}else r=e[n];t(r,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Rs(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Rs){this.h=e.h,Jc(this,e.j),this.s=e.s,this.g=e.g,Zc(this,e.m),this.l=e.l;var t=e.i,n=new Sa;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),_y(this,n),this.o=e.o}else e&&(t=String(e).match(Jw))?(this.h=!1,Jc(this,t[1]||"",!0),this.s=Co(t[2]||""),this.g=Co(t[3]||"",!0),Zc(this,t[4]),this.l=Co(t[5]||"",!0),_y(this,t[6]||"",!0),this.o=Co(t[7]||"")):(this.h=!1,this.i=new Sa(null,this.h))}Rs.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ro(t,yy,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Ro(t,yy,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Ro(n,n.charAt(0)=="/"?U2:B2,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ro(n,j2)),e.join("")};function di(e){return new Rs(e)}function Jc(e,t,n){e.j=n?Co(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Zc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function _y(e,t,n){t instanceof Sa?(e.i=t,$2(e.i,e.h)):(n||(t=Ro(t,z2)),e.i=new Sa(t,e.h))}function Ut(e,t,n){e.i.set(t,n)}function sh(e){return Ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Co(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ro(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,F2),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function F2(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var yy=/[#\/\?@]/g,B2=/[#\?:]/g,U2=/[#\?]/g,z2=/[#\?@]/g,j2=/#/g;function Sa(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function rs(e){e.g||(e.g=new Map,e.h=0,e.i&&V2(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}z=Sa.prototype;z.add=function(e,t){rs(this),this.i=null,e=so(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function Zw(e,t){rs(e),t=so(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function tE(e,t){return rs(e),t=so(e,t),e.g.has(t)}z.forEach=function(e,t){rs(this),this.g.forEach(function(n,i){n.forEach(function(s){e.call(t,s,i,this)},this)},this)};z.ta=function(){rs(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let i=0;i<t.length;i++){const s=e[i];for(let r=0;r<s.length;r++)n.push(t[i])}return n};z.Z=function(e){rs(this);let t=[];if(typeof e=="string")tE(this,e)&&(t=t.concat(this.g.get(so(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};z.set=function(e,t){return rs(this),this.i=null,e=so(this,e),tE(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};z.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function eE(e,t,n){Zw(e,t),0<n.length&&(e.i=null,e.g.set(so(e,t),rg(n)),e.h+=n.length)}z.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var i=t[n];const r=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var s=r;o[i]!==""&&(s+="="+encodeURIComponent(String(o[i]))),e.push(s)}}return this.i=e.join("&")};function so(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function $2(e,t){t&&!e.j&&(rs(e),e.i=null,e.g.forEach(function(n,i){var s=i.toLowerCase();i!=s&&(Zw(this,i),eE(this,s,n))},e)),e.j=t}var H2=class{constructor(e,t){this.g=e,this.map=t}};function nE(e){this.l=e||W2,at.PerformanceNavigationTiming?(e=at.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(at.g&&at.g.Ka&&at.g.Ka()&&at.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var W2=10;function iE(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function sE(e){return e.h?1:e.g?e.g.size:0}function xd(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function vg(e,t){e.g?e.g.add(t):e.h=t}function rE(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}nE.prototype.cancel=function(){if(this.i=oE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function oE(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return rg(e.i)}var q2=class{stringify(e){return at.JSON.stringify(e,void 0)}parse(e){return at.JSON.parse(e,void 0)}};function K2(){this.g=new q2}function G2(e,t,n){const i=n||"";try{Xw(e,function(s,r){let o=s;tl(s)&&(o=fg(s)),t.push(i+r+"="+encodeURIComponent(o))})}catch(s){throw t.push(i+"type="+encodeURIComponent("_badmap")),s}}function Q2(e,t){const n=new Zu;if(at.Image){const i=new Image;i.onload=Vl(Bl,n,i,"TestLoadImage: loaded",!0,t),i.onerror=Vl(Bl,n,i,"TestLoadImage: error",!1,t),i.onabort=Vl(Bl,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=Vl(Bl,n,i,"TestLoadImage: timeout",!1,t),at.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function Bl(e,t,n,i,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(i)}catch{}}function ol(e){this.l=e.fc||null,this.j=e.ob||!1}ve(ol,mg);ol.prototype.g=function(){return new rh(this.l,this.j)};ol.prototype.i=function(e){return function(){return e}}({});function rh(e,t){ye.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=bg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ve(rh,ye);var bg=0;z=rh.prototype;z.open=function(e,t){if(this.readyState!=bg)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ka(this)};z.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||at).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,al(this)),this.readyState=bg};z.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ka(this)),this.g&&(this.readyState=3,ka(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof at.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;aE(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function aE(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}z.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?al(this):ka(this),this.readyState==3&&aE(this)}};z.Za=function(e){this.g&&(this.response=this.responseText=e,al(this))};z.Ya=function(e){this.g&&(this.response=e,al(this))};z.ka=function(){this.g&&al(this)};function al(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ka(e)}z.setRequestHeader=function(e,t){this.v.append(e,t)};z.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};z.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function ka(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(rh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var Y2=at.JSON.parse;function Zt(e){ye.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=lE,this.L=this.M=!1}ve(Zt,ye);var lE="",X2=/^https?$/i,J2=["POST","PUT"];z=Zt.prototype;z.Oa=function(e){this.M=e};z.ha=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():wd.g(),this.C=this.u?my(this.u):my(wd),this.g.onreadystatechange=Re(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(r){vy(this,r);return}if(e=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)n.set(s,i[s]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const r of i.keys())n.set(r,i.get(r));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(r=>r.toLowerCase()=="content-type"),s=at.FormData&&e instanceof at.FormData,!(0<=Tw(J2,t))||i||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[r,o]of n)this.g.setRequestHeader(r,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{hE(this),0<this.B&&((this.L=Z2(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Re(this.ua,this)):this.A=gg(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(r){vy(this,r)}};function Z2(e){return Br&&typeof e.timeout=="number"&&e.ontimeout!==void 0}z.ua=function(){typeof sg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,we(this,"timeout"),this.abort(8))};function vy(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,cE(e),oh(e)}function cE(e){e.F||(e.F=!0,we(e,"complete"),we(e,"error"))}z.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,we(this,"complete"),we(this,"abort"),oh(this))};z.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),oh(this,!0)),Zt.$.N.call(this)};z.La=function(){this.s||(this.G||this.v||this.l?uE(this):this.kb())};z.kb=function(){uE(this)};function uE(e){if(e.h&&typeof sg<"u"&&(!e.C[1]||Un(e)!=4||e.da()!=2)){if(e.v&&Un(e)==4)gg(e.La,0,e);else if(we(e,"readystatechange"),Un(e)==4){e.h=!1;try{const o=e.da();t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break t;default:t=!1}var n;if(!(n=t)){var i;if(i=o===0){var s=String(e.I).match(Jw)[1]||null;!s&&at.self&&at.self.location&&(s=at.self.location.protocol.slice(0,-1)),i=!X2.test(s?s.toLowerCase():"")}n=i}if(n)we(e,"complete"),we(e,"success");else{e.m=6;try{var r=2<Un(e)?e.g.statusText:""}catch{r=""}e.j=r+" ["+e.da()+"]",cE(e)}}finally{oh(e)}}}}function oh(e,t){if(e.g){hE(e);const n=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||we(e,"ready");try{n.onreadystatechange=i}catch{}}}function hE(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(at.clearTimeout(e.A),e.A=null)}z.isActive=function(){return!!this.g};function Un(e){return e.g?e.g.readyState:0}z.da=function(){try{return 2<Un(this)?this.g.status:-1}catch{return-1}};z.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};z.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Y2(t)}};function by(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case lE:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function tO(e){const t={};e=(e.g&&2<=Un(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<e.length;i++){if(Aa(e[i]))continue;var n=T2(e[i]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const r=t[s]||[];t[s]=r,r.push(n)}y2(t,function(i){return i.join(", ")})}z.Ia=function(){return this.m};z.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function fE(e){let t="";return ag(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function Ag(e,t,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=fE(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Ut(e,t,n))}function vo(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function dE(e){this.Ga=0,this.j=[],this.l=new Zu,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=vo("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=vo("baseRetryDelayMs",5e3,e),this.hb=vo("retryDelaySeedMs",1e4,e),this.eb=vo("forwardChannelMaxRetries",2,e),this.xa=vo("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new nE(e&&e.concurrentRequestLimit),this.Ja=new K2,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}z=dE.prototype;z.ra=8;z.H=1;function wg(e){if(pE(e),e.H==3){var t=e.W++,n=di(e.I);if(Ut(n,"SID",e.K),Ut(n,"RID",t),Ut(n,"TYPE","terminate"),ll(e,n),t=new sl(e,e.l,t),t.L=2,t.v=sh(di(n)),n=!1,at.navigator&&at.navigator.sendBeacon)try{n=at.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&at.Image&&(new Image().src=t.v,n=!0),n||(t.g=wE(t.l,null),t.g.ha(t.v)),t.G=Date.now(),rl(t)}bE(e)}function ah(e){e.g&&(Ig(e),e.g.cancel(),e.g=null)}function pE(e){ah(e),e.u&&(at.clearTimeout(e.u),e.u=null),tu(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&at.clearTimeout(e.m),e.m=null)}function lh(e){if(!iE(e.i)&&!e.m){e.m=!0;var t=e.Na;Ea||Vw(),Ia||(Ea(),Ia=!0),dg.add(t,e),e.C=0}}function eO(e,t){return sE(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=nl(Re(e.Na,e,t),vE(e,e.C)),e.C++,!0)}z.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const s=new sl(this,this.l,e);let r=this.s;if(this.U&&(r?(r=Pw(r),Cw(r,this.U)):r=this.U),this.o!==null||this.O||(s.I=r,r=null),this.P)t:{for(var t=0,n=0;n<this.j.length;n++){e:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break e}i=void 0}if(i===void 0)break;if(t+=i,4096<t){t=n;break t}if(t===4096||n===this.j.length-1){t=n+1;break t}}t=1e3}else t=1e3;t=gE(this,s,t),n=di(this.I),Ut(n,"RID",e),Ut(n,"CVER",22),this.F&&Ut(n,"X-HTTP-Session-Id",this.F),ll(this,n),r&&(this.O?t="headers="+encodeURIComponent(String(fE(r)))+"&"+t:this.o&&Ag(n,this.o,r)),vg(this.i,s),this.bb&&Ut(n,"TYPE","init"),this.P?(Ut(n,"$req",t),Ut(n,"SID","null"),s.aa=!0,Id(s,n,null)):Id(s,n,t),this.H=2}}else this.H==3&&(e?Ay(this,e):this.j.length==0||iE(this.i)||Ay(this))};function Ay(e,t){var n;t?n=t.m:n=e.W++;const i=di(e.I);Ut(i,"SID",e.K),Ut(i,"RID",n),Ut(i,"AID",e.V),ll(e,i),e.o&&e.s&&Ag(i,e.o,e.s),n=new sl(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=gE(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),vg(e.i,n),Id(n,i,t)}function ll(e,t){e.na&&ag(e.na,function(n,i){Ut(t,i,n)}),e.h&&Xw({},function(n,i){Ut(t,i,n)})}function gE(e,t,n){n=Math.min(e.j.length,n);var i=e.h?Re(e.h.Va,e.h,e):null;t:{var s=e.j;let r=-1;for(;;){const o=["count="+n];r==-1?0<n?(r=s[0].g,o.push("ofs="+r)):r=0:o.push("ofs="+r);let a=!0;for(let l=0;l<n;l++){let c=s[l].g;const u=s[l].map;if(c-=r,0>c)r=Math.max(0,s[l].g-100),a=!1;else try{G2(u,o,"req"+c+"_")}catch{i&&i(u)}}if(a){i=o.join("&");break t}}}return e=e.j.splice(0,n),t.F=e,i}function mE(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Ea||Vw(),Ia||(Ea(),Ia=!0),dg.add(t,e),e.A=0}}function Eg(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=nl(Re(e.Ma,e),vE(e,e.A)),e.A++,!0)}z.Ma=function(){if(this.u=null,_E(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=nl(Re(this.jb,this),e)}};z.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ze(10),ah(this),_E(this))};function Ig(e){e.B!=null&&(at.clearTimeout(e.B),e.B=null)}function _E(e){e.g=new sl(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=di(e.wa);Ut(t,"RID","rpc"),Ut(t,"SID",e.K),Ut(t,"AID",e.V),Ut(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Ut(t,"TO",e.qa),Ut(t,"TYPE","xmlhttp"),ll(e,t),e.o&&e.s&&Ag(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=sh(di(t)),n.s=null,n.S=!0,Kw(n,e)}z.ib=function(){this.v!=null&&(this.v=null,ah(this),Eg(this),ze(19))};function tu(e){e.v!=null&&(at.clearTimeout(e.v),e.v=null)}function yE(e,t){var n=null;if(e.g==t){tu(e),Ig(e),e.g=null;var i=2}else if(xd(e.i,t))n=t.F,rE(e.i,t),i=1;else return;if(e.H!=0){if(t.i)if(i==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var s=e.C;i=th(),we(i,new $w(i,n)),lh(e)}else mE(e);else if(s=t.o,s==3||s==0&&0<t.ca||!(i==1&&eO(e,t)||i==2&&Eg(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),s){case 1:Es(e,5);break;case 4:Es(e,10);break;case 3:Es(e,6);break;default:Es(e,2)}}}function vE(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Es(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var i=Re(e.pb,e);n||(n=new Rs("//www.google.com/images/cleardot.gif"),at.location&&at.location.protocol=="http"||Jc(n,"https"),sh(n)),Q2(n.toString(),i)}else ze(2);e.H=0,e.h&&e.h.za(t),bE(e),pE(e)}z.pb=function(e){e?(this.l.info("Successfully pinged google.com"),ze(2)):(this.l.info("Failed to ping google.com"),ze(1))};function bE(e){if(e.H=0,e.ma=[],e.h){const t=oE(e.i);(t.length!=0||e.j.length!=0)&&(hy(e.ma,t),hy(e.ma,e.j),e.i.i.length=0,rg(e.j),e.j.length=0),e.h.ya()}}function AE(e,t,n){var i=n instanceof Rs?di(n):new Rs(n);if(i.g!="")t&&(i.g=t+"."+i.g),Zc(i,i.m);else{var s=at.location;i=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var r=new Rs(null);i&&Jc(r,i),t&&(r.g=t),s&&Zc(r,s),n&&(r.l=n),i=r}return n=e.F,t=e.Da,n&&t&&Ut(i,n,t),Ut(i,"VER",e.ra),ll(e,i),i}function wE(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new Zt(new ol({ob:!0})):new Zt(e.va),t.Oa(e.J),t}z.isActive=function(){return!!this.h&&this.h.isActive(this)};function EE(){}z=EE.prototype;z.Ba=function(){};z.Aa=function(){};z.za=function(){};z.ya=function(){};z.isActive=function(){return!0};z.Va=function(){};function eu(){if(Br&&!(10<=Number(p2)))throw Error("Environmental error: no available transport.")}eu.prototype.g=function(e,t){return new sn(e,t)};function sn(e,t){ye.call(this),this.g=new dE(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Aa(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Aa(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new ro(this)}ve(sn,ye);sn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;ze(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=AE(e,null,e.Y),lh(e)};sn.prototype.close=function(){wg(this.g)};sn.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=fg(e),e=n);t.j.push(new H2(t.fb++,e)),t.H==3&&lh(t)};sn.prototype.N=function(){this.g.h=null,delete this.j,wg(this.g),delete this.g,sn.$.N.call(this)};function IE(e){_g.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){t:{for(const n in t){e=n;break t}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}ve(IE,_g);function TE(){yg.call(this),this.status=1}ve(TE,yg);function ro(e){this.g=e}ve(ro,EE);ro.prototype.Ba=function(){we(this.g,"a")};ro.prototype.Aa=function(e){we(this.g,new IE(e))};ro.prototype.za=function(e){we(this.g,new TE)};ro.prototype.ya=function(){we(this.g,"b")};function nO(){this.blockSize=-1}function Sn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ve(Sn,nO);Sn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function pf(e,t,n){n||(n=0);var i=Array(16);if(typeof t=="string")for(var s=0;16>s;++s)i[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)i[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var r=e.g[3],o=t+(r^n&(s^r))+i[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=r+(s^t&(n^s))+i[1]+3905402710&4294967295,r=t+(o<<12&4294967295|o>>>20),o=s+(n^r&(t^n))+i[2]+606105819&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(t^s&(r^t))+i[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(r^n&(s^r))+i[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=r+(s^t&(n^s))+i[5]+1200080426&4294967295,r=t+(o<<12&4294967295|o>>>20),o=s+(n^r&(t^n))+i[6]+2821735955&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(t^s&(r^t))+i[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(r^n&(s^r))+i[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=r+(s^t&(n^s))+i[9]+2336552879&4294967295,r=t+(o<<12&4294967295|o>>>20),o=s+(n^r&(t^n))+i[10]+4294925233&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(t^s&(r^t))+i[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(r^n&(s^r))+i[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=r+(s^t&(n^s))+i[13]+4254626195&4294967295,r=t+(o<<12&4294967295|o>>>20),o=s+(n^r&(t^n))+i[14]+2792965006&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(t^s&(r^t))+i[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(s^r&(n^s))+i[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(t^n))+i[6]+3225465664&4294967295,r=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(r^t))+i[11]+643717713&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^t&(s^r))+i[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^r&(n^s))+i[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(t^n))+i[10]+38016083&4294967295,r=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(r^t))+i[15]+3634488961&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^t&(s^r))+i[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^r&(n^s))+i[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(t^n))+i[14]+3275163606&4294967295,r=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(r^t))+i[3]+4107603335&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^t&(s^r))+i[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^r&(n^s))+i[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(t^n))+i[2]+4243563512&4294967295,r=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(r^t))+i[7]+1735328473&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^t&(s^r))+i[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(n^s^r)+i[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=r+(t^n^s)+i[8]+2272392833&4294967295,r=t+(o<<11&4294967295|o>>>21),o=s+(r^t^n)+i[11]+1839030562&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^t)+i[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^r)+i[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=r+(t^n^s)+i[4]+1272893353&4294967295,r=t+(o<<11&4294967295|o>>>21),o=s+(r^t^n)+i[7]+4139469664&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^t)+i[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^r)+i[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=r+(t^n^s)+i[0]+3936430074&4294967295,r=t+(o<<11&4294967295|o>>>21),o=s+(r^t^n)+i[3]+3572445317&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^t)+i[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^r)+i[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=r+(t^n^s)+i[12]+3873151461&4294967295,r=t+(o<<11&4294967295|o>>>21),o=s+(r^t^n)+i[15]+530742520&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^t)+i[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(s^(n|~r))+i[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=r+(n^(t|~s))+i[7]+1126891415&4294967295,r=t+(o<<10&4294967295|o>>>22),o=s+(t^(r|~n))+i[14]+2878612391&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~t))+i[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~r))+i[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=r+(n^(t|~s))+i[3]+2399980690&4294967295,r=t+(o<<10&4294967295|o>>>22),o=s+(t^(r|~n))+i[10]+4293915773&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~t))+i[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~r))+i[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=r+(n^(t|~s))+i[15]+4264355552&4294967295,r=t+(o<<10&4294967295|o>>>22),o=s+(t^(r|~n))+i[6]+2734768916&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~t))+i[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~r))+i[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=r+(n^(t|~s))+i[11]+3174756917&4294967295,r=t+(o<<10&4294967295|o>>>22),o=s+(t^(r|~n))+i[2]+718787259&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~t))+i[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+r&4294967295}Sn.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,i=this.m,s=this.h,r=0;r<t;){if(s==0)for(;r<=n;)pf(this,e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<t;)if(i[s++]=e.charCodeAt(r++),s==this.blockSize){pf(this,i),s=0;break}}else for(;r<t;)if(i[s++]=e[r++],s==this.blockSize){pf(this,i),s=0;break}}this.h=s,this.i+=t};Sn.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var i=0;32>i;i+=8)e[n++]=this.g[t]>>>i&255;return e};function Ct(e,t){this.h=t;for(var n=[],i=!0,s=e.length-1;0<=s;s--){var r=e[s]|0;i&&r==t||(n[s]=r,i=!1)}this.g=n}var iO={};function Tg(e){return-128<=e&&128>e?h2(e,function(t){return new Ct([t|0],0>t?-1:0)}):new Ct([e|0],0>e?-1:0)}function zn(e){if(isNaN(e)||!isFinite(e))return Er;if(0>e)return Ae(zn(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=Sd;return new Ct(t,0)}function xE(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return Ae(xE(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=zn(Math.pow(t,8)),i=Er,s=0;s<e.length;s+=8){var r=Math.min(8,e.length-s),o=parseInt(e.substring(s,s+r),t);8>r?(r=zn(Math.pow(t,r)),i=i.R(r).add(zn(o))):(i=i.R(n),i=i.add(zn(o)))}return i}var Sd=4294967296,Er=Tg(0),kd=Tg(1),wy=Tg(16777216);z=Ct.prototype;z.ea=function(){if(un(this))return-Ae(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var i=this.D(n);e+=(0<=i?i:Sd+i)*t,t*=Sd}return e};z.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(ri(this))return"0";if(un(this))return"-"+Ae(this).toString(e);for(var t=zn(Math.pow(e,6)),n=this,i="";;){var s=iu(n,t).g;n=nu(n,s.R(t));var r=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=s,ri(n))return r+i;for(;6>r.length;)r="0"+r;i=r+i}};z.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function ri(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function un(e){return e.h==-1}z.X=function(e){return e=nu(this,e),un(e)?-1:ri(e)?0:1};function Ae(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new Ct(n,~e.h).add(kd)}z.abs=function(){return un(this)?Ae(this):this};z.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var r=i+(this.D(s)&65535)+(e.D(s)&65535),o=(r>>>16)+(this.D(s)>>>16)+(e.D(s)>>>16);i=o>>>16,r&=65535,o&=65535,n[s]=o<<16|r}return new Ct(n,n[n.length-1]&-2147483648?-1:0)};function nu(e,t){return e.add(Ae(t))}z.R=function(e){if(ri(this)||ri(e))return Er;if(un(this))return un(e)?Ae(this).R(Ae(e)):Ae(Ae(this).R(e));if(un(e))return Ae(this.R(Ae(e)));if(0>this.X(wy)&&0>e.X(wy))return zn(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var r=this.D(i)>>>16,o=this.D(i)&65535,a=e.D(s)>>>16,l=e.D(s)&65535;n[2*i+2*s]+=o*l,Ul(n,2*i+2*s),n[2*i+2*s+1]+=r*l,Ul(n,2*i+2*s+1),n[2*i+2*s+1]+=o*a,Ul(n,2*i+2*s+1),n[2*i+2*s+2]+=r*a,Ul(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new Ct(n,0)};function Ul(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function bo(e,t){this.g=e,this.h=t}function iu(e,t){if(ri(t))throw Error("division by zero");if(ri(e))return new bo(Er,Er);if(un(e))return t=iu(Ae(e),t),new bo(Ae(t.g),Ae(t.h));if(un(t))return t=iu(e,Ae(t)),new bo(Ae(t.g),t.h);if(30<e.g.length){if(un(e)||un(t))throw Error("slowDivide_ only works with positive integers.");for(var n=kd,i=t;0>=i.X(e);)n=Ey(n),i=Ey(i);var s=ur(n,1),r=ur(i,1);for(i=ur(i,2),n=ur(n,2);!ri(i);){var o=r.add(i);0>=o.X(e)&&(s=s.add(n),r=o),i=ur(i,1),n=ur(n,1)}return t=nu(e,s.R(t)),new bo(s,t)}for(s=Er;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),r=zn(n),o=r.R(t);un(o)||0<o.X(e);)n-=i,r=zn(n),o=r.R(t);ri(r)&&(r=kd),s=s.add(r),e=nu(e,o)}return new bo(s,e)}z.gb=function(e){return iu(this,e).h};z.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)&e.D(i);return new Ct(n,this.h&e.h)};z.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)|e.D(i);return new Ct(n,this.h|e.h)};z.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)^e.D(i);return new Ct(n,this.h^e.h)};function Ey(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.D(i)<<1|e.D(i-1)>>>31;return new Ct(n,e.h)}function ur(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],r=0;r<i;r++)s[r]=0<t?e.D(r+n)>>>t|e.D(r+n+1)<<32-t:e.D(r+n);return new Ct(s,e.h)}eu.prototype.createWebChannel=eu.prototype.g;sn.prototype.send=sn.prototype.u;sn.prototype.open=sn.prototype.m;sn.prototype.close=sn.prototype.close;eh.NO_ERROR=0;eh.TIMEOUT=8;eh.HTTP_ERROR=6;Hw.COMPLETE="complete";Ww.EventType=il;il.OPEN="a";il.CLOSE="b";il.ERROR="c";il.MESSAGE="d";ye.prototype.listen=ye.prototype.O;Zt.prototype.listenOnce=Zt.prototype.P;Zt.prototype.getLastError=Zt.prototype.Sa;Zt.prototype.getLastErrorCode=Zt.prototype.Ia;Zt.prototype.getStatus=Zt.prototype.da;Zt.prototype.getResponseJson=Zt.prototype.Wa;Zt.prototype.getResponseText=Zt.prototype.ja;Zt.prototype.send=Zt.prototype.ha;Zt.prototype.setWithCredentials=Zt.prototype.Oa;Sn.prototype.digest=Sn.prototype.l;Sn.prototype.reset=Sn.prototype.reset;Sn.prototype.update=Sn.prototype.j;Ct.prototype.add=Ct.prototype.add;Ct.prototype.multiply=Ct.prototype.R;Ct.prototype.modulo=Ct.prototype.gb;Ct.prototype.compare=Ct.prototype.X;Ct.prototype.toNumber=Ct.prototype.ea;Ct.prototype.toString=Ct.prototype.toString;Ct.prototype.getBits=Ct.prototype.D;Ct.fromNumber=zn;Ct.fromString=xE;var sO=function(){return new eu},rO=function(){return th()},gf=eh,oO=Hw,aO=nr,Iy={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},lO=ol,zl=Ww,cO=Zt,uO=Sn,Ir=Ct;const Ty="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Te=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Te.UNAUTHENTICATED=new Te(null),Te.GOOGLE_CREDENTIALS=new Te("google-credentials-uid"),Te.FIRST_PARTY=new Te("first-party-uid"),Te.MOCK_USER=new Te("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oo="10.1.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js=new Wu("@firebase/firestore");function xy(){return js.logLevel}function Y(e,...t){if(js.logLevel<=wt.DEBUG){const n=t.map(xg);js.debug(`Firestore (${oo}): ${e}`,...n)}}function pi(e,...t){if(js.logLevel<=wt.ERROR){const n=t.map(xg);js.error(`Firestore (${oo}): ${e}`,...n)}}function Ur(e,...t){if(js.logLevel<=wt.WARN){const n=t.map(xg);js.warn(`Firestore (${oo}): ${e}`,...n)}}function xg(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(e="Unexpected state"){const t=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: `+e;throw pi(t),new Error(t)}function Wt(e,t){e||ot()}function ft(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends Pn{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class hO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Te.UNAUTHENTICATED))}shutdown(){}}class fO{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class dO{constructor(t){this.t=t,this.currentUser=Te.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let r=new Ms;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Ms,t.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=r;t.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Ms)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Wt(typeof i.accessToken=="string"),new SE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Wt(t===null||typeof t=="string"),new Te(t)}}class pO{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=Te.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class gO{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new pO(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Te.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mO{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _O{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const i=r=>{r.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.R;return this.R=r.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(r.token):Promise.resolve()};this.o=r=>{t.enqueueRetryable(()=>i(r))};const s=r=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.appCheck.addTokenListener(this.o)};this.A.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.A.getImmediate({optional:!0});r?s(r):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Wt(typeof n.token=="string"),this.R=n.token,new mO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{static V(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const s=yO(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=t.charAt(s[r]%t.length))}return i}}function It(e,t){return e<t?-1:e>t?1:0}function zr(e,t,n){return e.length===t.length&&e.every((i,s)=>n(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new q(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new q(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new q(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return he.fromMillis(Date.now())}static fromDate(t){return he.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*n));return new he(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?It(this.nanoseconds,t.nanoseconds):It(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ct(t)}static min(){return new ct(new he(0,0))}static max(){return new ct(new he(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(t,n,i){n===void 0?n=0:n>t.length&&ot(),i===void 0?i=t.length-n:i>t.length-n&&ot(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Pa.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Pa?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let s=0;s<i;s++){const r=t.get(s),o=n.get(s);if(r<o)return-1;if(r>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class zt extends Pa{construct(t,n,i){return new zt(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new q(M.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new zt(n)}static emptyPath(){return new zt([])}}const vO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pe extends Pa{construct(t,n,i){return new Pe(t,n,i)}static isValidIdentifier(t){return vO.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Pe(["__name__"])}static fromServerFormat(t){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new q(M.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;s<t.length;){const a=t[s];if(a==="\\"){if(s+1===t.length)throw new q(M.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(i+=a,s++):(r(),s++)}if(r(),o)throw new q(M.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Pe(n)}static emptyPath(){return new Pe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.path=t}static fromPath(t){return new Z(zt.fromString(t))}static fromName(t){return new Z(zt.fromString(t).popFirst(5))}static empty(){return new Z(zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&zt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return zt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Z(new zt(t.slice()))}}function bO(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,s=ct.fromTimestamp(i===1e9?new he(n+1,0):new he(n,i));return new Yi(s,Z.empty(),t)}function AO(e){return new Yi(e.readTime,e.key,-1)}class Yi{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Yi(ct.min(),Z.empty(),-1)}static max(){return new Yi(ct.max(),Z.empty(),-1)}}function wO(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Z.comparator(e.documentKey,t.documentKey),n!==0?n:It(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(e){if(e.code!==M.FAILED_PRECONDITION||e.message!==EO)throw e;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new L((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(t,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):L.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):L.reject(n)}static resolve(t){return new L((n,i)=>{n(t)})}static reject(t){return new L((n,i)=>{i(t)})}static waitFor(t){return new L((n,i)=>{let s=0,r=0,o=!1;t.forEach(a=>{++s,a.next(()=>{++r,o&&r===s&&n()},l=>i(l))}),o=!0,r===s&&n()})}static or(t){let n=L.resolve(!1);for(const i of t)n=n.next(s=>s?L.resolve(s):i());return n}static forEach(t,n){const i=[];return t.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(t,n){return new L((i,s)=>{const r=t.length,o=new Array(r);let a=0;for(let l=0;l<r;l++){const c=l;n(t[c]).next(u=>{o[c]=u,++a,a===r&&i(o)},u=>s(u))}})}static doWhile(t,n){return new L((i,s)=>{const r=()=>{t()===!0?n().next(()=>{r()},s):i()};r()})}}function ul(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Sg.ae=-1;function ch(e){return e==null}function su(e){return e===0&&1/e==-1/0}function TO(e){return typeof e=="number"&&Number.isInteger(e)&&!su(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ir(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function PE(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(t,n){this.comparator=t,this.root=n||be.EMPTY}insert(t,n){return new Kt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,be.BLACK,null,null))}remove(t){return new Kt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,be.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new jl(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new jl(this.root,t,this.comparator,!1)}getReverseIterator(){return new jl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new jl(this.root,t,this.comparator,!0)}}class jl{constructor(t,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=n?i(t.key,n):1,n&&s&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(r===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class be{constructor(t,n,i,s,r){this.key=t,this.value=n,this.color=i??be.RED,this.left=s??be.EMPTY,this.right=r??be.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,s,r){return new be(t??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let s=this;const r=i(t,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(t,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return be.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return be.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,be.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const t=this.left.check();if(t!==this.right.check())throw ot();return t+(this.isRed()?0:1)}}be.EMPTY=null,be.RED=!0,be.BLACK=!1;be.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(t,n,i,s,r){return this}insert(t,n,i){return new be(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(t){this.comparator=t,this.data=new Kt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new ky(this.data.getIterator())}getIteratorFrom(t){return new ky(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Oe)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Oe(this.comparator);return n.data=t,n}}class ky{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.fields=t,t.sort(Pe.comparator)}static empty(){return new en([])}unionWith(t){let n=new Oe(Pe.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new en(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return zr(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new CE("Invalid base64 string: "+r):r}}(t);return new Ne(n)}static fromUint8Array(t){const n=function(s){let r="";for(let o=0;o<s.length;++o)r+=String.fromCharCode(s[o]);return r}(t);return new Ne(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return It(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ne.EMPTY_BYTE_STRING=new Ne("");const xO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xi(e){if(Wt(!!e),typeof e=="string"){let t=0;const n=xO.exec(e);if(Wt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ae(e.seconds),nanos:ae(e.nanos)}}function ae(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function $s(e){return typeof e=="string"?Ne.fromBase64String(e):Ne.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Pg(e){const t=e.mapValue.fields.__previous_value__;return kg(t)?Pg(t):t}function Ca(e){const t=Xi(e.mapValue.fields.__local_write_time__.timestampValue);return new he(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(t,n,i,s,r,o,a,l,c){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Ra{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Ra("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Ra&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Hs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?kg(e)?4:kO(e)?9007199254740991:10:ot()}function Qn(e,t){if(e===t)return!0;const n=Hs(e);if(n!==Hs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ca(e).isEqual(Ca(t));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const o=Xi(s.timestampValue),a=Xi(r.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,r){return $s(s.bytesValue).isEqual($s(r.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,r){return ae(s.geoPointValue.latitude)===ae(r.geoPointValue.latitude)&&ae(s.geoPointValue.longitude)===ae(r.geoPointValue.longitude)}(e,t);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return ae(s.integerValue)===ae(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const o=ae(s.doubleValue),a=ae(r.doubleValue);return o===a?su(o)===su(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return zr(e.arrayValue.values||[],t.arrayValue.values||[],Qn);case 10:return function(s,r){const o=s.mapValue.fields||{},a=r.mapValue.fields||{};if(Sy(o)!==Sy(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Qn(o[l],a[l])))return!1;return!0}(e,t);default:return ot()}}function Ma(e,t){return(e.values||[]).find(n=>Qn(n,t))!==void 0}function jr(e,t){if(e===t)return 0;const n=Hs(e),i=Hs(t);if(n!==i)return It(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return It(e.booleanValue,t.booleanValue);case 2:return function(r,o){const a=ae(r.integerValue||r.doubleValue),l=ae(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return Py(e.timestampValue,t.timestampValue);case 4:return Py(Ca(e),Ca(t));case 5:return It(e.stringValue,t.stringValue);case 6:return function(r,o){const a=$s(r),l=$s(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(r,o){const a=r.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=It(a[c],l[c]);if(u!==0)return u}return It(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(r,o){const a=It(ae(r.latitude),ae(o.latitude));return a!==0?a:It(ae(r.longitude),ae(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(r,o){const a=r.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=jr(a[c],l[c]);if(u)return u}return It(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===$l.mapValue&&o===$l.mapValue)return 0;if(r===$l.mapValue)return 1;if(o===$l.mapValue)return-1;const a=r.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const f=It(l[h],u[h]);if(f!==0)return f;const d=jr(a[l[h]],c[u[h]]);if(d!==0)return d}return It(l.length,u.length)}(e.mapValue,t.mapValue);default:throw ot()}}function Py(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return It(e,t);const n=Xi(e),i=Xi(t),s=It(n.seconds,i.seconds);return s!==0?s:It(n.nanos,i.nanos)}function $r(e){return Pd(e)}function Pd(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Xi(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return $s(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Z.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",s=!0;for(const r of n.values||[])s?s=!1:i+=",",i+=Pd(r);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",r=!0;for(const o of i)r?r=!1:s+=",",s+=`${o}:${Pd(n.fields[o])}`;return s+"}"}(e.mapValue):ot()}function Cy(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Cd(e){return!!e&&"integerValue"in e}function Cg(e){return!!e&&"arrayValue"in e}function Ry(e){return!!e&&"nullValue"in e}function My(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ac(e){return!!e&&"mapValue"in e}function Jo(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ir(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=Jo(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Jo(e.arrayValue.values[n]);return t}return Object.assign({},e)}function kO(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t){this.value=t}static empty(){return new qe({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Ac(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Jo(n)}setAll(t){let n=Pe.emptyPath(),i={},s=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,s),i={},s=[],n=a.popLast()}o?i[a.lastSegment()]=Jo(o):s.push(a.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(t){const n=this.field(t.popLast());Ac(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Qn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=n.mapValue.fields[t.get(i)];Ac(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,i){ir(n,(s,r)=>t[s]=r);for(const s of i)delete t[s]}clone(){return new qe(Jo(this.value))}}function RE(e){const t=[];return ir(e.fields,(n,i)=>{const s=new Pe([n]);if(Ac(i)){const r=RE(i.mapValue).fields;if(r.length===0)t.push(s);else for(const o of r)t.push(s.child(o))}else t.push(s)}),new en(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(t,n,i,s,r,o,a){this.key=t,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Se(t,0,ct.min(),ct.min(),ct.min(),qe.empty(),0)}static newFoundDocument(t,n,i,s){return new Se(t,1,n,ct.min(),i,s,0)}static newNoDocument(t,n){return new Se(t,2,n,ct.min(),ct.min(),qe.empty(),0)}static newUnknownDocument(t,n){return new Se(t,3,n,ct.min(),ct.min(),qe.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=qe.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=qe.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ct.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Se&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Se(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(t,n){this.position=t,this.inclusive=n}}function Oy(e,t,n){let i=0;for(let s=0;s<e.position.length;s++){const r=t[s],o=e.position[s];if(r.field.isKeyField()?i=Z.comparator(Z.fromName(o.referenceValue),n.key):i=jr(o,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function Dy(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Qn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(t,n="asc"){this.field=t,this.dir=n}}function PO(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{}class le extends ME{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new RO(t,n,i):n==="array-contains"?new DO(t,i):n==="in"?new NO(t,i):n==="not-in"?new LO(t,i):n==="array-contains-any"?new VO(t,i):new le(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new MO(t,i):new OO(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(jr(n,this.value)):n!==null&&Hs(this.value)===Hs(n)&&this.matchesComparison(jr(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class kn extends ME{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new kn(t,n)}matches(t){return OE(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.le(n=>n.isInequality());return t!==null?t.field:null}le(t){for(const n of this.getFlattenedFilters())if(t(n))return n;return null}}function OE(e){return e.op==="and"}function DE(e){return CO(e)&&OE(e)}function CO(e){for(const t of e.filters)if(t instanceof kn)return!1;return!0}function Rd(e){if(e instanceof le)return e.field.canonicalString()+e.op.toString()+$r(e.value);if(DE(e))return e.filters.map(t=>Rd(t)).join(",");{const t=e.filters.map(n=>Rd(n)).join(",");return`${e.op}(${t})`}}function NE(e,t){return e instanceof le?function(i,s){return s instanceof le&&i.op===s.op&&i.field.isEqual(s.field)&&Qn(i.value,s.value)}(e,t):e instanceof kn?function(i,s){return s instanceof kn&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,o,a)=>r&&NE(o,s.filters[a]),!0):!1}(e,t):void ot()}function LE(e){return e instanceof le?function(n){return`${n.field.canonicalString()} ${n.op} ${$r(n.value)}`}(e):e instanceof kn?function(n){return n.op.toString()+" {"+n.getFilters().map(LE).join(" ,")+"}"}(e):"Filter"}class RO extends le{constructor(t,n,i){super(t,n,i),this.key=Z.fromName(i.referenceValue)}matches(t){const n=Z.comparator(t.key,this.key);return this.matchesComparison(n)}}class MO extends le{constructor(t,n){super(t,"in",n),this.keys=VE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class OO extends le{constructor(t,n){super(t,"not-in",n),this.keys=VE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function VE(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Z.fromName(i.referenceValue))}class DO extends le{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Cg(n)&&Ma(n.arrayValue,this.value)}}class NO extends le{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ma(this.value.arrayValue,n)}}class LO extends le{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ma(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Ma(this.value.arrayValue,n)}}class VO extends le{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Cg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Ma(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(t,n=null,i=[],s=[],r=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=o,this.endAt=a,this.he=null}}function Ny(e,t=null,n=[],i=[],s=null,r=null,o=null){return new FO(e,t,n,i,s,r,o)}function Rg(e){const t=ft(e);if(t.he===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>Rd(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),ch(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>$r(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>$r(i)).join(",")),t.he=n}return t.he}function Mg(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!PO(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!NE(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Dy(e.startAt,t.startAt)&&Dy(e.endAt,t.endAt)}function Md(e){return Z.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(t,n=null,i=[],s=[],r=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=o,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function BO(e,t,n,i,s,r,o,a){return new hl(e,t,n,i,s,r,o,a)}function Og(e){return new hl(e)}function Ly(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function FE(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Dg(e){for(const t of e.filters){const n=t.getFirstInequalityField();if(n!==null)return n}return null}function BE(e){return e.collectionGroup!==null}function Tr(e){const t=ft(e);if(t.Pe===null){t.Pe=[];const n=Dg(t),i=FE(t);if(n!==null&&i===null)n.isKeyField()||t.Pe.push(new Zo(n)),t.Pe.push(new Zo(Pe.keyField(),"asc"));else{let s=!1;for(const r of t.explicitOrderBy)t.Pe.push(r),r.field.isKeyField()&&(s=!0);if(!s){const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new Zo(Pe.keyField(),r))}}}return t.Pe}function gi(e){const t=ft(e);if(!t.Ie)if(t.limitType==="F")t.Ie=Ny(t.path,t.collectionGroup,Tr(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const r of Tr(t)){const o=r.dir==="desc"?"asc":"desc";n.push(new Zo(r.field,o))}const i=t.endAt?new ru(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new ru(t.startAt.position,t.startAt.inclusive):null;t.Ie=Ny(t.path,t.collectionGroup,n,t.filters,t.limit,i,s)}return t.Ie}function Od(e,t){t.getFirstInequalityField(),Dg(e);const n=e.filters.concat([t]);return new hl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Dd(e,t,n){return new hl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function uh(e,t){return Mg(gi(e),gi(t))&&e.limitType===t.limitType}function UE(e){return`${Rg(gi(e))}|lt:${e.limitType}`}function Nd(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>LE(s)).join(", ")}]`),ch(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>$r(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>$r(s)).join(",")),`Target(${i})`}(gi(e))}; limitType=${e.limitType})`}function hh(e,t){return t.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):Z.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(e,t)&&function(i,s){for(const r of Tr(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(e,t)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(e,t)&&function(i,s){return!(i.startAt&&!function(o,a,l){const c=Oy(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,Tr(i),s)||i.endAt&&!function(o,a,l){const c=Oy(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,Tr(i),s))}(e,t)}function UO(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function zE(e){return(t,n)=>{let i=!1;for(const s of Tr(e)){const r=zO(s,t,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function zO(e,t,n){const i=e.field.isKeyField()?Z.comparator(t.key,n.key):function(r,o,a){const l=o.data.field(r),c=a.data.field(r);return l!==null&&c!==null?jr(l,c):ot()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return ot()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,t))return r}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],t))return void(s[r]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){ir(this.inner,(n,i)=>{for(const[s,r]of i)t(s,r)})}isEmpty(){return PE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=new Kt(Z.comparator);function mi(){return jO}const jE=new Kt(Z.comparator);function Mo(...e){let t=jE;for(const n of e)t=t.insert(n.key,n);return t}function $E(e){let t=jE;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Is(){return ta()}function HE(){return ta()}function ta(){return new ao(e=>e.toString(),(e,t)=>e.isEqual(t))}const $O=new Kt(Z.comparator),HO=new Oe(Z.comparator);function mt(...e){let t=HO;for(const n of e)t=t.add(n);return t}const WO=new Oe(It);function qO(){return WO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:su(t)?"-0":t}}function qE(e){return{integerValue:""+e}}function KO(e,t){return TO(t)?qE(t):WE(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(){this._=void 0}}function GO(e,t,n){return e instanceof ou?function(s,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&kg(r)&&(r=Pg(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(n,t):e instanceof Hr?GE(e,t):e instanceof Oa?QE(e,t):function(s,r){const o=KE(s,r),a=Vy(o)+Vy(s.Te);return Cd(o)&&Cd(s.Te)?qE(a):WE(s.serializer,a)}(e,t)}function QO(e,t,n){return e instanceof Hr?GE(e,t):e instanceof Oa?QE(e,t):n}function KE(e,t){return e instanceof au?function(i){return Cd(i)||function(r){return!!r&&"doubleValue"in r}(i)}(t)?t:{integerValue:0}:null}class ou extends fh{}class Hr extends fh{constructor(t){super(),this.elements=t}}function GE(e,t){const n=YE(t);for(const i of e.elements)n.some(s=>Qn(s,i))||n.push(i);return{arrayValue:{values:n}}}class Oa extends fh{constructor(t){super(),this.elements=t}}function QE(e,t){let n=YE(t);for(const i of e.elements)n=n.filter(s=>!Qn(s,i));return{arrayValue:{values:n}}}class au extends fh{constructor(t,n){super(),this.serializer=t,this.Te=n}}function Vy(e){return ae(e.integerValue||e.doubleValue)}function YE(e){return Cg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(t,n){this.field=t,this.transform=n}}function XO(e,t){return e.field.isEqual(t.field)&&function(i,s){return i instanceof Hr&&s instanceof Hr||i instanceof Oa&&s instanceof Oa?zr(i.elements,s.elements,Qn):i instanceof au&&s instanceof au?Qn(i.Te,s.Te):i instanceof ou&&s instanceof ou}(e.transform,t.transform)}class JO{constructor(t,n){this.version=t,this.transformResults=n}}class En{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new En}static exists(t){return new En(void 0,t)}static updateTime(t){return new En(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function wc(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class dh{}function XE(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new ZE(e.key,En.none()):new fl(e.key,e.data,En.none());{const n=e.data,i=qe.empty();let s=new Oe(Pe.comparator);for(let r of t.fields)if(!s.has(r)){let o=n.field(r);o===null&&r.length>1&&(r=r.popLast(),o=n.field(r)),o===null?i.delete(r):i.set(r,o),s=s.add(r)}return new os(e.key,i,new en(s.toArray()),En.none())}}function ZO(e,t,n){e instanceof fl?function(s,r,o){const a=s.value.clone(),l=By(s.fieldTransforms,r,o.transformResults);a.setAll(l),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof os?function(s,r,o){if(!wc(s.precondition,r))return void r.convertToUnknownDocument(o.version);const a=By(s.fieldTransforms,r,o.transformResults),l=r.data;l.setAll(JE(s)),l.setAll(a),r.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(s,r,o){r.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function ea(e,t,n,i){return e instanceof fl?function(r,o,a,l){if(!wc(r.precondition,o))return a;const c=r.value.clone(),u=Uy(r.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(e,t,n,i):e instanceof os?function(r,o,a,l){if(!wc(r.precondition,o))return a;const c=Uy(r.fieldTransforms,l,o),u=o.data;return u.setAll(JE(r)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(h=>h.field))}(e,t,n,i):function(r,o,a){return wc(r.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function tD(e,t){let n=null;for(const i of e.fieldTransforms){const s=t.data.field(i.field),r=KE(i.transform,s||null);r!=null&&(n===null&&(n=qe.empty()),n.set(i.field,r))}return n||null}function Fy(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&zr(i,s,(r,o)=>XO(r,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class fl extends dh{constructor(t,n,i,s=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class os extends dh{constructor(t,n,i,s,r=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function JE(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function By(e,t,n){const i=new Map;Wt(e.length===n.length);for(let s=0;s<n.length;s++){const r=e[s],o=r.transform,a=t.data.field(r.field);i.set(r.field,QO(o,a,n[s]))}return i}function Uy(e,t,n){const i=new Map;for(const s of e){const r=s.transform,o=n.data.field(s.field);i.set(s.field,GO(r,o,t))}return i}class ZE extends dh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eD extends dh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(t,n,i,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(t.key)&&ZO(r,t,i[s])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=ea(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=ea(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=HE();return this.mutations.forEach(s=>{const r=t.get(s.key),o=r.overlayedDocument;let a=this.applyToLocalView(o,r.mutatedFields);a=n.has(s.key)?null:a;const l=XE(o,a);l!==null&&i.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ct.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),mt())}isEqual(t){return this.batchId===t.batchId&&zr(this.mutations,t.mutations,(n,i)=>Fy(n,i))&&zr(this.baseMutations,t.baseMutations,(n,i)=>Fy(n,i))}}class Ng{constructor(t,n,i,s){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(t,n,i){Wt(t.mutations.length===i.length);let s=function(){return $O}();const r=t.mutations;for(let o=0;o<r.length;o++)s=s.insert(r[o].key,i[o].version);return new Ng(t,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe,yt;function rD(e){switch(e){default:return ot();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function tI(e){if(e===void 0)return pi("GRPC error has no .code"),M.UNKNOWN;switch(e){case oe.OK:return M.OK;case oe.CANCELLED:return M.CANCELLED;case oe.UNKNOWN:return M.UNKNOWN;case oe.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case oe.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case oe.INTERNAL:return M.INTERNAL;case oe.UNAVAILABLE:return M.UNAVAILABLE;case oe.UNAUTHENTICATED:return M.UNAUTHENTICATED;case oe.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case oe.NOT_FOUND:return M.NOT_FOUND;case oe.ALREADY_EXISTS:return M.ALREADY_EXISTS;case oe.PERMISSION_DENIED:return M.PERMISSION_DENIED;case oe.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case oe.ABORTED:return M.ABORTED;case oe.OUT_OF_RANGE:return M.OUT_OF_RANGE;case oe.UNIMPLEMENTED:return M.UNIMPLEMENTED;case oe.DATA_LOSS:return M.DATA_LOSS;default:return ot()}}(yt=oe||(oe={}))[yt.OK=0]="OK",yt[yt.CANCELLED=1]="CANCELLED",yt[yt.UNKNOWN=2]="UNKNOWN",yt[yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yt[yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yt[yt.NOT_FOUND=5]="NOT_FOUND",yt[yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",yt[yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",yt[yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",yt[yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yt[yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yt[yt.ABORTED=10]="ABORTED",yt[yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",yt[yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",yt[yt.INTERNAL=13]="INTERNAL",yt[yt.UNAVAILABLE=14]="UNAVAILABLE",yt[yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Hl}static getOrCreateInstance(){return Hl===null&&(Hl=new Lg),Hl}onExistenceFilterMismatch(t){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,t),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(t))}}let Hl=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=new Ir([4294967295,4294967295],0);function zy(e){const t=oD().encode(e),n=new uO;return n.update(t),new Uint8Array(n.digest())}function jy(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),r=t.getUint32(12,!0);return[new Ir([n,i],0),new Ir([s,r],0)]}class Vg{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Oo(`Invalid padding: ${n}`);if(i<0)throw new Oo(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Oo(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Oo(`Invalid padding when bitmap length is 0: ${n}`);this.de=8*t.length-n,this.Ae=Ir.fromNumber(this.de)}Re(t,n,i){let s=t.add(n.multiply(Ir.fromNumber(i)));return s.compare(aD)===1&&(s=new Ir([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ae).toNumber()}Ve(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.de===0)return!1;const n=zy(t),[i,s]=jy(n);for(let r=0;r<this.hashCount;r++){const o=this.Re(i,s,r);if(!this.Ve(o))return!1}return!0}static create(t,n,i){const s=t%8==0?0:8-t%8,r=new Uint8Array(Math.ceil(t/8)),o=new Vg(r,s,n);return i.forEach(a=>o.insert(a)),o}insert(t){if(this.de===0)return;const n=zy(t),[i,s]=jy(n);for(let r=0;r<this.hashCount;r++){const o=this.Re(i,s,r);this.me(o)}}me(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Oo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(t,n,i,s,r){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const s=new Map;return s.set(t,dl.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new ph(ct.min(),s,new Kt(It),mi(),mt())}}class dl{constructor(t,n,i,s,r){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new dl(i,n,mt(),mt(),mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(t,n,i,s){this.fe=t,this.removedTargetIds=n,this.key=i,this.ge=s}}class eI{constructor(t,n){this.targetId=t,this.pe=n}}class nI{constructor(t,n,i=Ne.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=s}}class $y{constructor(){this.ye=0,this.we=Wy(),this.Se=Ne.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}get current(){return this.be}get resumeToken(){return this.Se}get ve(){return this.ye!==0}get Ce(){return this.De}Fe(t){t.approximateByteSize()>0&&(this.De=!0,this.Se=t)}Me(){let t=mt(),n=mt(),i=mt();return this.we.forEach((s,r)=>{switch(r){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:ot()}}),new dl(this.Se,this.be,t,n,i)}xe(){this.De=!1,this.we=Wy()}Oe(t,n){this.De=!0,this.we=this.we.insert(t,n)}Ne(t){this.De=!0,this.we=this.we.remove(t)}Be(){this.ye+=1}Le(){this.ye-=1}ke(){this.De=!0,this.be=!0}}class lD{constructor(t){this.qe=t,this.Qe=new Map,this.Ke=mi(),this.$e=Hy(),this.Ue=new Kt(It)}We(t){for(const n of t.fe)t.ge&&t.ge.isFoundDocument()?this.Ge(n,t.ge):this.ze(n,t.key,t.ge);for(const n of t.removedTargetIds)this.ze(n,t.key,t.ge)}je(t){this.forEachTarget(t,n=>{const i=this.He(n);switch(t.state){case 0:this.Je(n)&&i.Fe(t.resumeToken);break;case 1:i.Le(),i.ve||i.xe(),i.Fe(t.resumeToken);break;case 2:i.Le(),i.ve||this.removeTarget(n);break;case 3:this.Je(n)&&(i.ke(),i.Fe(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Fe(t.resumeToken));break;default:ot()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Qe.forEach((i,s)=>{this.Je(s)&&n(s)})}Ze(t){var n,i;const s=t.targetId,r=t.pe.count,o=this.Xe(s);if(o){const a=o.target;if(Md(a))if(r===0){const l=new Z(a.path);this.ze(s,l,Se.newNoDocument(l,ct.min()))}else Wt(r===1);else{const l=this.et(s);if(l!==r){const c=this.tt(t,l);if(c.status!==0){this.Ye(s);const u=c.status===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(s,u)}(n=Lg.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(h,f,d,p){var g,m,_,y,E,A;const w={localCacheCount:d,existenceFilterCount:p.count},T=p.unchangedNames;return T&&(w.bloomFilter={applied:h===0,hashCount:(g=T==null?void 0:T.hashCount)!==null&&g!==void 0?g:0,bitmapLength:(y=(_=(m=T==null?void 0:T.bits)===null||m===void 0?void 0:m.bitmap)===null||_===void 0?void 0:_.length)!==null&&y!==void 0?y:0,padding:(A=(E=T==null?void 0:T.bits)===null||E===void 0?void 0:E.padding)!==null&&A!==void 0?A:0},f&&(w.bloomFilter.mightContain=f)),w}(c.status,(i=c.nt)!==null&&i!==void 0?i:null,l,t.pe))}}}}tt(t,n){const{unchangedNames:i,count:s}=t.pe;if(!i||!i.bits)return{status:1};const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=i;let l,c;try{l=$s(r).toUint8Array()}catch(h){if(h instanceof CE)return Ur("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw h}try{c=new Vg(l,o,a)}catch(h){return Ur(h instanceof Oo?"BloomFilter error: ":"Applying bloom filter failed: ",h),{status:1}}const u=h=>{const f=this.qe.rt();return c.mightContain(`projects/${f.projectId}/databases/${f.database}/documents/${h}`)};return c.de===0?{status:1}:{status:s===n-this.it(t.targetId,u)?0:2,nt:u}}it(t,n){const i=this.qe.getRemoteKeysForTarget(t);let s=0;return i.forEach(r=>{n(r.path.canonicalString())||(this.ze(t,r,null),s++)}),s}st(t){const n=new Map;this.Qe.forEach((r,o)=>{const a=this.Xe(o);if(a){if(r.current&&Md(a.target)){const l=new Z(a.target.path);this.Ke.get(l)!==null||this.ot(o,l)||this.ze(o,l,Se.newNoDocument(l,t))}r.Ce&&(n.set(o,r.Me()),r.xe())}});let i=mt();this.$e.forEach((r,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Xe(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(r))}),this.Ke.forEach((r,o)=>o.setReadTime(t));const s=new ph(t,n,this.Ue,this.Ke,i);return this.Ke=mi(),this.$e=Hy(),this.Ue=new Kt(It),s}Ge(t,n){if(!this.Je(t))return;const i=this.ot(t,n.key)?2:0;this.He(t).Oe(n.key,i),this.Ke=this.Ke.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t))}ze(t,n,i){if(!this.Je(t))return;const s=this.He(t);this.ot(t,n)?s.Oe(n,1):s.Ne(n),this.$e=this.$e.insert(n,this._t(n).delete(t)),i&&(this.Ke=this.Ke.insert(n,i))}removeTarget(t){this.Qe.delete(t)}et(t){const n=this.He(t).Me();return this.qe.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Be(t){this.He(t).Be()}He(t){let n=this.Qe.get(t);return n||(n=new $y,this.Qe.set(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new Oe(It),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.Qe.get(t);return n&&n.ve?null:this.qe.ut(t)}Ye(t){this.Qe.set(t,new $y),this.qe.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ot(t,n){return this.qe.getRemoteKeysForTarget(t).has(n)}}function Hy(){return new Kt(Z.comparator)}function Wy(){return new Kt(Z.comparator)}const cD=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),uD=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),hD=(()=>({and:"AND",or:"OR"}))();class fD{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Ld(e,t){return e.useProto3Json||ch(t)?t:{value:t}}function lu(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function iI(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function dD(e,t){return lu(e,t.toTimestamp())}function $n(e){return Wt(!!e),ct.fromTimestamp(function(n){const i=Xi(n);return new he(i.seconds,i.nanos)}(e))}function Fg(e,t){return function(i){return new zt(["projects",i.projectId,"databases",i.database])}(e).child("documents").child(t).canonicalString()}function sI(e){const t=zt.fromString(e);return Wt(lI(t)),t}function Vd(e,t){return Fg(e.databaseId,t.path)}function mf(e,t){const n=sI(t);if(n.get(1)!==e.databaseId.projectId)throw new q(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new q(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Z(rI(n))}function Fd(e,t){return Fg(e.databaseId,t)}function pD(e){const t=sI(e);return t.length===4?zt.emptyPath():rI(t)}function Bd(e){return new zt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function rI(e){return Wt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function qy(e,t,n){return{name:Vd(e,t),fields:n.value.mapValue.fields}}function gD(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ot()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],r=function(c,u){return c.useProto3Json?(Wt(u===void 0||typeof u=="string"),Ne.fromBase64String(u||"")):(Wt(u===void 0||u instanceof Uint8Array),Ne.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(c){const u=c.code===void 0?M.UNKNOWN:tI(c.code);return new q(u,c.message||"")}(o);n=new nI(i,s,r,a||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=mf(e,i.document.name),r=$n(i.document.updateTime),o=i.document.createTime?$n(i.document.createTime):ct.min(),a=new qe({mapValue:{fields:i.document.fields}}),l=Se.newFoundDocument(s,r,o,a),c=i.targetIds||[],u=i.removedTargetIds||[];n=new Ec(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=mf(e,i.document),r=i.readTime?$n(i.readTime):ct.min(),o=Se.newNoDocument(s,r),a=i.removedTargetIds||[];n=new Ec([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=mf(e,i.document),r=i.removedTargetIds||[];n=new Ec([],r,s,null)}else{if(!("filter"in t))return ot();{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,o=new sD(s,r),a=i.targetId;n=new eI(a,o)}}return n}function mD(e,t){let n;if(t instanceof fl)n={update:qy(e,t.key,t.value)};else if(t instanceof ZE)n={delete:Vd(e,t.key)};else if(t instanceof os)n={update:qy(e,t.key,t.data),updateMask:TD(t.fieldMask)};else{if(!(t instanceof eD))return ot();n={verify:Vd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const a=o.transform;if(a instanceof ou)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Hr)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Oa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof au)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw ot()}(0,i))),t.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:dD(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:ot()}(e,t.precondition)),n}function _D(e,t){return e&&e.length>0?(Wt(t!==void 0),e.map(n=>function(s,r){let o=s.updateTime?$n(s.updateTime):$n(r);return o.isEqual(ct.min())&&(o=$n(r)),new JO(o,s.transformResults||[])}(n,t))):[]}function yD(e,t){return{documents:[Fd(e,t.path)]}}function vD(e,t){const n={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(n.parent=Fd(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Fd(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const s=function(l){if(l.length!==0)return aI(kn.create(l,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const r=function(l){if(l.length!==0)return l.map(c=>function(h){return{field:pr(h.field),direction:wD(h.dir)}}(c))}(t.orderBy);r&&(n.structuredQuery.orderBy=r);const o=Ld(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function bD(e){let t=pD(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){Wt(i===1);const u=n.from[0];u.allDescendants?s=u.collectionId:t=t.child(u.collectionId)}let r=[];n.where&&(r=function(h){const f=oI(h);return f instanceof kn&&DE(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(p){return new Zo(gr(p.field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,ch(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,d=h.values||[];return new ru(d,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,d=h.values||[];return new ru(d,f)}(n.endAt)),BO(t,s,o,r,a,"F",l,c)}function AD(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ot()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function oI(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=gr(n.unaryFilter.field);return le.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=gr(n.unaryFilter.field);return le.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=gr(n.unaryFilter.field);return le.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=gr(n.unaryFilter.field);return le.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}(e):e.fieldFilter!==void 0?function(n){return le.create(gr(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return kn.create(n.compositeFilter.filters.map(i=>oI(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ot()}}(n.compositeFilter.op))}(e):ot()}function wD(e){return cD[e]}function ED(e){return uD[e]}function ID(e){return hD[e]}function pr(e){return{fieldPath:e.canonicalString()}}function gr(e){return Pe.fromServerFormat(e.fieldPath)}function aI(e){return e instanceof le?function(n){if(n.op==="=="){if(My(n.value))return{unaryFilter:{field:pr(n.field),op:"IS_NAN"}};if(Ry(n.value))return{unaryFilter:{field:pr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(My(n.value))return{unaryFilter:{field:pr(n.field),op:"IS_NOT_NAN"}};if(Ry(n.value))return{unaryFilter:{field:pr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pr(n.field),op:ED(n.op),value:n.value}}}(e):e instanceof kn?function(n){const i=n.getFilters().map(s=>aI(s));return i.length===1?i[0]:{compositeFilter:{op:ID(n.op),filters:i}}}(e):ot()}function TD(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function lI(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(t,n,i,s,r=ct.min(),o=ct.min(),a=Ne.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Di(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(t){this.ct=t}}function SD(e){const t=bD({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Dd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(){this.sn=new PD}addToCollectionParentIndex(t,n){return this.sn.add(n),L.resolve()}getCollectionParents(t,n){return L.resolve(this.sn.getEntries(n))}addFieldIndex(t,n){return L.resolve()}deleteFieldIndex(t,n){return L.resolve()}getDocumentsMatchingTarget(t,n){return L.resolve(null)}getIndexType(t,n){return L.resolve(0)}getFieldIndexes(t,n){return L.resolve([])}getNextCollectionGroupToUpdate(t){return L.resolve(null)}getMinOffset(t,n){return L.resolve(Yi.min())}getMinOffsetFromCollectionGroup(t,n){return L.resolve(Yi.min())}updateCollectionGroup(t,n,i){return L.resolve()}updateIndexEntries(t,n){return L.resolve()}}class PD{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n]||new Oe(zt.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(t){return(this.index[t]||new Oe(zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(t){this.Mn=t}next(){return this.Mn+=2,this.Mn}static xn(){return new Wr(0)}static On(){return new Wr(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this.changes=new ao(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Se.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?L.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(t,n,i,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(i!==null&&ea(i.mutation,s,en.empty(),he.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,mt()).next(()=>i))}getLocalViewOfDocuments(t,n,i=mt()){const s=Is();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,i).next(r=>{let o=Mo();return r.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const i=Is();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,mt()))}populateOverlays(t,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(t,s).next(r=>{r.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,i,s){let r=mi();const o=ta(),a=function(){return ta()}();return n.forEach((l,c)=>{const u=i.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof os)?r=r.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),ea(u.mutation,c,u.mutation.getFieldMask(),he.now())):o.set(c.key,en.empty())}),this.recalculateAndSaveOverlays(t,r).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new RD(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const i=ta();let s=new Kt((o,a)=>o-a),r=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=i.get(l)||en.empty();u=a.applyToLocalView(c,u),i.set(l,u);const h=(s.get(a.batchId)||mt()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=HE();u.forEach(f=>{if(!r.has(f)){const d=XE(n.get(f),i.get(f));d!==null&&h.set(f,d),r=r.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,c,h))}return L.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i){return function(r){return Z.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):BE(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i):this.getDocumentsMatchingCollectionQuery(t,n,i)}getNextDocuments(t,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,s).next(r=>{const o=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,s-r.size):L.resolve(Is());let a=-1,l=r;return o.next(c=>L.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),r.get(u)?L.resolve():this.remoteDocumentCache.getEntry(t,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(t,c,r)).next(()=>this.computeViews(t,l,c,mt())).next(u=>({batchId:a,changes:$E(u)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Z(n)).next(i=>{let s=Mo();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,i){const s=n.collectionGroup;let r=Mo();return this.indexManager.getCollectionParents(t,s).next(o=>L.forEach(o,a=>{const l=function(u,h){return new hl(h,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(t,l,i).next(c=>{c.forEach((u,h)=>{r=r.insert(u,h)})})}).next(()=>r))}getDocumentsMatchingCollectionQuery(t,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(r=>(s=r,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s))).next(r=>{s.forEach((a,l)=>{const c=l.getKey();r.get(c)===null&&(r=r.insert(c,Se.newInvalidDocument(c)))});let o=Mo();return r.forEach((a,l)=>{const c=s.get(a);c!==void 0&&ea(c.mutation,l,en.empty(),he.now()),hh(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(t){this.serializer=t,this.ar=new Map,this.ur=new Map}getBundleMetadata(t,n){return L.resolve(this.ar.get(n))}saveBundleMetadata(t,n){return this.ar.set(n.id,function(s){return{id:s.id,version:s.version,createTime:$n(s.createTime)}}(n)),L.resolve()}getNamedQuery(t,n){return L.resolve(this.ur.get(n))}saveNamedQuery(t,n){return this.ur.set(n.name,function(s){return{name:s.name,query:SD(s.bundledQuery),readTime:$n(s.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(){this.overlays=new Kt(Z.comparator),this.cr=new Map}getOverlay(t,n){return L.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Is();return L.forEach(n,s=>this.getOverlay(t,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((s,r)=>{this.ht(t,n,r)}),L.resolve()}removeOverlaysForBatchId(t,n,i){const s=this.cr.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.cr.delete(i)),L.resolve()}getOverlaysForCollection(t,n,i){const s=Is(),r=n.length+1,o=new Z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===r&&l.largestBatchId>i&&s.set(l.getKey(),l)}return L.resolve(s)}getOverlaysForCollectionGroup(t,n,i,s){let r=new Kt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let u=r.get(c.largestBatchId);u===null&&(u=Is(),r=r.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Is(),l=r.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return L.resolve(a)}ht(t,n,i){const s=this.overlays.get(i.key);if(s!==null){const o=this.cr.get(s.largestBatchId).delete(i.key);this.cr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new iD(n,i));let r=this.cr.get(n);r===void 0&&(r=mt(),this.cr.set(n,r)),this.cr.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(){this.lr=new Oe(de.hr),this.Pr=new Oe(de.Ir)}isEmpty(){return this.lr.isEmpty()}addReference(t,n){const i=new de(t,n);this.lr=this.lr.add(i),this.Pr=this.Pr.add(i)}Tr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Er(new de(t,n))}dr(t,n){t.forEach(i=>this.removeReference(i,n))}Ar(t){const n=new Z(new zt([])),i=new de(n,t),s=new de(n,t+1),r=[];return this.Pr.forEachInRange([i,s],o=>{this.Er(o),r.push(o.key)}),r}Rr(){this.lr.forEach(t=>this.Er(t))}Er(t){this.lr=this.lr.delete(t),this.Pr=this.Pr.delete(t)}Vr(t){const n=new Z(new zt([])),i=new de(n,t),s=new de(n,t+1);let r=mt();return this.Pr.forEachInRange([i,s],o=>{r=r.add(o.key)}),r}containsKey(t){const n=new de(t,0),i=this.lr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class de{constructor(t,n){this.key=t,this.mr=n}static hr(t,n){return Z.comparator(t.key,n.key)||It(t.mr,n.mr)}static Ir(t,n){return It(t.mr,n.mr)||Z.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.gr=1,this.pr=new Oe(de.hr)}checkEmpty(t){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,s){const r=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new nD(r,n,i,s);this.mutationQueue.push(o);for(const a of s)this.pr=this.pr.add(new de(a.key,r)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return L.resolve(o)}lookupMutationBatch(t,n){return L.resolve(this.yr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,s=this.wr(i),r=s<0?0:s;return L.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.gr-1)}getAllMutationBatches(t){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new de(n,0),s=new de(n,Number.POSITIVE_INFINITY),r=[];return this.pr.forEachInRange([i,s],o=>{const a=this.yr(o.mr);r.push(a)}),L.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Oe(It);return n.forEach(s=>{const r=new de(s,0),o=new de(s,Number.POSITIVE_INFINITY);this.pr.forEachInRange([r,o],a=>{i=i.add(a.mr)})}),L.resolve(this.Sr(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,s=i.length+1;let r=i;Z.isDocumentKey(r)||(r=r.child(""));const o=new de(new Z(r),0);let a=new Oe(It);return this.pr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.mr)),!0)},o),L.resolve(this.Sr(a))}Sr(t){const n=[];return t.forEach(i=>{const s=this.yr(i);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){Wt(this.br(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.pr;return L.forEach(n.mutations,s=>{const r=new de(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.pr=i})}Cn(t){}containsKey(t,n){const i=new de(n,0),s=this.pr.firstAfterOrEqual(i);return L.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,L.resolve()}br(t,n){return this.wr(t)}wr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}yr(t){const n=this.wr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(t){this.Dr=t,this.docs=function(){return new Kt(Z.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,o=this.Dr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return L.resolve(i?i.document.mutableCopy():Se.newInvalidDocument(n))}getEntries(t,n){let i=mi();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():Se.newInvalidDocument(s))}),L.resolve(i)}getDocumentsMatchingQuery(t,n,i,s){let r=mi();const o=n.path,a=new Z(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||wO(AO(u),i)<=0||(s.has(u.key)||hh(n,u))&&(r=r.insert(u.key,u.mutableCopy()))}return L.resolve(r)}getAllFromCollectionGroup(t,n,i,s){ot()}vr(t,n){return L.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new VD(this)}getSize(t){return L.resolve(this.size)}}class VD extends CD{constructor(t){super(),this.sr=t}applyChanges(t){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.sr.addEntry(t,s)):this.sr.removeEntry(i)}),L.waitFor(n)}getFromCache(t,n){return this.sr.getEntry(t,n)}getAllFromCache(t,n){return this.sr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(t){this.persistence=t,this.Cr=new ao(n=>Rg(n),Mg),this.lastRemoteSnapshotVersion=ct.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new Bg,this.targetCount=0,this.Or=Wr.xn()}forEachTarget(t,n){return this.Cr.forEach((i,s)=>n(s)),L.resolve()}getLastRemoteSnapshotVersion(t){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return L.resolve(this.Fr)}allocateTargetId(t){return this.highestTargetId=this.Or.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Fr&&(this.Fr=n),L.resolve()}Ln(t){this.Cr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Or=new Wr(n),this.highestTargetId=n),t.sequenceNumber>this.Fr&&(this.Fr=t.sequenceNumber)}addTargetData(t,n){return this.Ln(n),this.targetCount+=1,L.resolve()}updateTargetData(t,n){return this.Ln(n),L.resolve()}removeTargetData(t,n){return this.Cr.delete(n.target),this.Mr.Ar(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(t,n,i){let s=0;const r=[];return this.Cr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Cr.delete(o),r.push(this.removeMatchingKeysForTargetId(t,a.targetId)),s++)}),L.waitFor(r).next(()=>s)}getTargetCount(t){return L.resolve(this.targetCount)}getTargetData(t,n){const i=this.Cr.get(n)||null;return L.resolve(i)}addMatchingKeys(t,n,i){return this.Mr.Tr(n,i),L.resolve()}removeMatchingKeys(t,n,i){this.Mr.dr(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(o=>{r.push(s.markPotentiallyOrphaned(t,o))}),L.waitFor(r)}removeMatchingKeysForTargetId(t,n){return this.Mr.Ar(n),L.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Mr.Vr(n);return L.resolve(i)}containsKey(t,n){return L.resolve(this.Mr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(t,n){this.Nr={},this.overlays={},this.Br=new Sg(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=t(this),this.kr=new FD(this),this.indexManager=new kD,this.remoteDocumentCache=function(s){return new LD(s)}(i=>this.referenceDelegate.qr(i)),this.serializer=new xD(n),this.Qr=new OD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Lr=!1,Promise.resolve()}get started(){return this.Lr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new DD,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.Nr[t.toKey()];return i||(i=new ND(n,this.referenceDelegate),this.Nr[t.toKey()]=i),i}getTargetCache(){return this.kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Qr}runTransaction(t,n,i){Y("MemoryPersistence","Starting transaction:",t);const s=new UD(this.Br.next());return this.referenceDelegate.Kr(),i(s).next(r=>this.referenceDelegate.$r(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Ur(t,n){return L.or(Object.values(this.Nr).map(i=>()=>i.containsKey(t,n)))}}class UD extends IO{constructor(t){super(),this.currentSequenceNumber=t}}class Ug{constructor(t){this.persistence=t,this.Wr=new Bg,this.Gr=null}static zr(t){return new Ug(t)}get jr(){if(this.Gr)return this.Gr;throw ot()}addReference(t,n,i){return this.Wr.addReference(i,n),this.jr.delete(i.toString()),L.resolve()}removeReference(t,n,i){return this.Wr.removeReference(i,n),this.jr.add(i.toString()),L.resolve()}markPotentiallyOrphaned(t,n){return this.jr.add(n.toString()),L.resolve()}removeTarget(t,n){this.Wr.Ar(n.targetId).forEach(s=>this.jr.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(r=>this.jr.add(r.toString()))}).next(()=>i.removeTargetData(t,n))}Kr(){this.Gr=new Set}$r(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.jr,i=>{const s=Z.fromPath(i);return this.Hr(t,s).next(r=>{r||n.removeEntry(s,ct.min())})}).next(()=>(this.Gr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Hr(t,n).next(i=>{i?this.jr.delete(n.toString()):this.jr.add(n.toString())})}qr(t){return 0}Hr(t,n){return L.or([()=>L.resolve(this.Wr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ur(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(t,n,i,s){this.targetId=t,this.fromCache=n,this.Li=i,this.ki=s}static qi(t,n){let i=mt(),s=mt();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new zg(t,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(){this.Qi=!1}initialize(t,n){this.Ki=t,this.indexManager=n,this.Qi=!0}getDocumentsMatchingQuery(t,n,i,s){return this.$i(t,n).next(r=>r||this.Ui(t,n,s,i)).next(r=>r||this.Wi(t,n))}$i(t,n){if(Ly(n))return L.resolve(null);let i=gi(n);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Dd(n,null,"F"),i=gi(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(r=>{const o=mt(...r);return this.Ki.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const c=this.Gi(n,a);return this.zi(n,c,o,l.readTime)?this.$i(t,Dd(n,null,"F")):this.ji(t,c,n,l)}))})))}Ui(t,n,i,s){return Ly(n)||s.isEqual(ct.min())?this.Wi(t,n):this.Ki.getDocuments(t,i).next(r=>{const o=this.Gi(n,r);return this.zi(n,o,i,s)?this.Wi(t,n):(xy()<=wt.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Nd(n)),this.ji(t,o,n,bO(s,-1)))})}Gi(t,n){let i=new Oe(zE(t));return n.forEach((s,r)=>{hh(t,r)&&(i=i.add(r))}),i}zi(t,n,i,s){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const r=t.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}Wi(t,n){return xy()<=wt.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Nd(n)),this.Ki.getDocumentsMatchingQuery(t,n,Yi.min())}ji(t,n,i,s){return this.Ki.getDocumentsMatchingQuery(t,i,s).next(r=>(n.forEach(o=>{r=r.insert(o.key,o)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(t,n,i,s){this.persistence=t,this.Hi=n,this.serializer=s,this.Ji=new Kt(It),this.Yi=new ao(r=>Rg(r),Mg),this.Zi=new Map,this.Xi=t.getRemoteDocumentCache(),this.kr=t.getTargetCache(),this.Qr=t.getBundleCache(),this.es(i)}es(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new MD(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ji))}}function $D(e,t,n,i){return new jD(e,t,n,i)}async function cI(e,t){const n=ft(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.es(t),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const o=[],a=[];let l=mt();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of r){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(i,l).next(c=>({ts:c,removedBatchIds:o,addedBatchIds:a}))})})}function HD(e,t){const n=ft(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),r=n.Xi.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,f=h.keys();let d=L.resolve();return f.forEach(p=>{d=d.next(()=>u.getEntry(l,p)).next(g=>{const m=c.docVersions.get(p);Wt(m!==null),g.version.compareTo(m)<0&&(h.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),d.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,i,t,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=mt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>n.localDocuments.getDocuments(i,s))})}function uI(e){const t=ft(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.kr.getLastRemoteSnapshotVersion(n))}function WD(e,t){const n=ft(e),i=t.snapshotVersion;let s=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=n.Xi.newChangeBuffer({trackRemovals:!0});s=n.Ji;const a=[];t.targetChanges.forEach((u,h)=>{const f=s.get(h);if(!f)return;a.push(n.kr.removeMatchingKeys(r,u.removedDocuments,h).next(()=>n.kr.addMatchingKeys(r,u.addedDocuments,h)));let d=f.withSequenceNumber(r.currentSequenceNumber);t.targetMismatches.get(h)!==null?d=d.withResumeToken(Ne.EMPTY_BYTE_STRING,ct.min()).withLastLimboFreeSnapshotVersion(ct.min()):u.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(u.resumeToken,i)),s=s.insert(h,d),function(g,m,_){return g.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,d,u)&&a.push(n.kr.updateTargetData(r,d))});let l=mi(),c=mt();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(r,u))}),a.push(qD(r,o,t.documentUpdates).next(u=>{l=u.ns,c=u.rs})),!i.isEqual(ct.min())){const u=n.kr.getLastRemoteSnapshotVersion(r).next(h=>n.kr.setTargetsMetadata(r,r.currentSequenceNumber,i));a.push(u)}return L.waitFor(a).next(()=>o.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,l,c)).next(()=>l)}).then(r=>(n.Ji=s,r))}function qD(e,t,n){let i=mt(),s=mt();return n.forEach(r=>i=i.add(r)),t.getEntries(e,i).next(r=>{let o=mi();return n.forEach((a,l)=>{const c=r.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ct.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):Y("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ns:o,rs:s}})}function KD(e,t){const n=ft(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function GD(e,t){const n=ft(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.kr.getTargetData(i,t).next(r=>r?(s=r,L.resolve(s)):n.kr.allocateTargetId(i).next(o=>(s=new Di(t,o,"TargetPurposeListen",i.currentSequenceNumber),n.kr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.Ji.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(i.targetId,i),n.Yi.set(t,i.targetId)),i})}async function Ud(e,t,n){const i=ft(e),s=i.Ji.get(t),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,o=>i.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ul(o))throw o;Y("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}i.Ji=i.Ji.remove(t),i.Yi.delete(s.target)}function Ky(e,t,n){const i=ft(e);let s=ct.min(),r=mt();return i.persistence.runTransaction("Execute query","readonly",o=>function(l,c,u){const h=ft(l),f=h.Yi.get(u);return f!==void 0?L.resolve(h.Ji.get(f)):h.kr.getTargetData(c,u)}(i,o,gi(t)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,i.kr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{r=l})}).next(()=>i.Hi.getDocumentsMatchingQuery(o,t,n?s:ct.min(),n?r:mt())).next(a=>(QD(i,UO(t),a),{documents:a,ss:r})))}function QD(e,t,n){let i=e.Zi.get(t)||ct.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),e.Zi.set(t,i)}class Gy{constructor(){this.activeTargetIds=qO()}hs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ps(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ls(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class YD{constructor(){this.Hs=new Gy,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t){return this.Hs.hs(t),this.Js[t]||"not-current"}updateQueryState(t,n,i){this.Js[t]=n}removeLocalQueryTarget(t){this.Hs.Ps(t)}isLocalQueryTarget(t){return this.Hs.activeTargetIds.has(t)}clearQueryState(t){delete this.Js[t]}getAllActiveQueryTargets(){return this.Hs.activeTargetIds}isActiveQueryTarget(t){return this.Hs.activeTargetIds.has(t)}start(){return this.Hs=new Gy,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{Ys(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(){this.Zs=()=>this.Xs(),this.eo=()=>this.no(),this.ro=[],this.io()}Ys(t){this.ro.push(t)}shutdown(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}Xs(){Y("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ro)t(0)}no(){Y("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ro)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wl=null;function _f(){return Wl===null?Wl=function(){return 268435456+Math.round(2147483648*Math.random())}():Wl++,"0x"+Wl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(t){this.so=t.so,this.oo=t.oo}_o(t){this.ao=t}uo(t){this.co=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.so(t)}ho(){this.ao()}Po(t){this.co(t)}Io(t){this.lo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ee="WebChannelConnection";class tN extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.To=i+"://"+n.host,this.Eo=`projects/${s}/databases/${r}`,this.Ao=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${r}`}get Ro(){return!1}Vo(n,i,s,r,o){const a=_f(),l=this.mo(n,i);Y("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.Eo,"x-goog-request-params":this.Ao};return this.fo(c,r,o),this.po(n,l,c,s).then(u=>(Y("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Ur("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}yo(n,i,s,r,o,a){return this.Vo(n,i,s,r,o)}fo(n,i,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+oo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((r,o)=>n[o]=r),s&&s.headers.forEach((r,o)=>n[o]=r)}mo(n,i){const s=JD[n];return`${this.To}/v1/${i}:${s}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}po(t,n,i,s){const r=_f();return new Promise((o,a)=>{const l=new cO;l.setWithCredentials(!0),l.listenOnce(oO.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case gf.NO_ERROR:const u=l.getResponseJson();Y(Ee,`XHR for RPC '${t}' ${r} received:`,JSON.stringify(u)),o(u);break;case gf.TIMEOUT:Y(Ee,`RPC '${t}' ${r} timed out`),a(new q(M.DEADLINE_EXCEEDED,"Request time out"));break;case gf.HTTP_ERROR:const h=l.getStatus();if(Y(Ee,`RPC '${t}' ${r} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const d=f==null?void 0:f.error;if(d&&d.status&&d.message){const p=function(m){const _=m.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(_)>=0?_:M.UNKNOWN}(d.status);a(new q(p,d.message))}else a(new q(M.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new q(M.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{Y(Ee,`RPC '${t}' ${r} completed.`)}});const c=JSON.stringify(s);Y(Ee,`RPC '${t}' ${r} sending request:`,s),l.send(n,"POST",c,i,15)})}wo(t,n,i){const s=_f(),r=[this.To,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=sO(),a=rO(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new lO({})),this.fo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const u=r.join("");Y(Ee,`Creating RPC '${t}' stream ${s}: ${u}`,l);const h=o.createWebChannel(u,l);let f=!1,d=!1;const p=new ZD({so:m=>{d?Y(Ee,`Not sending because RPC '${t}' stream ${s} is closed:`,m):(f||(Y(Ee,`Opening RPC '${t}' stream ${s} transport.`),h.open(),f=!0),Y(Ee,`RPC '${t}' stream ${s} sending:`,m),h.send(m))},oo:()=>h.close()}),g=(m,_,y)=>{m.listen(_,E=>{try{y(E)}catch(A){setTimeout(()=>{throw A},0)}})};return g(h,zl.EventType.OPEN,()=>{d||Y(Ee,`RPC '${t}' stream ${s} transport opened.`)}),g(h,zl.EventType.CLOSE,()=>{d||(d=!0,Y(Ee,`RPC '${t}' stream ${s} transport closed`),p.Po())}),g(h,zl.EventType.ERROR,m=>{d||(d=!0,Ur(Ee,`RPC '${t}' stream ${s} transport errored:`,m),p.Po(new q(M.UNAVAILABLE,"The operation could not be completed")))}),g(h,zl.EventType.MESSAGE,m=>{var _;if(!d){const y=m.data[0];Wt(!!y);const E=y,A=E.error||((_=E[0])===null||_===void 0?void 0:_.error);if(A){Y(Ee,`RPC '${t}' stream ${s} received error:`,A);const w=A.status;let T=function(C){const j=oe[C];if(j!==void 0)return tI(j)}(w),S=A.message;T===void 0&&(T=M.INTERNAL,S="Unknown error status: "+w+" with message "+A.message),d=!0,p.Po(new q(T,S)),h.close()}else Y(Ee,`RPC '${t}' stream ${s} received:`,y),p.Io(y)}}),g(a,aO.STAT_EVENT,m=>{m.stat===Iy.PROXY?Y(Ee,`RPC '${t}' stream ${s} detected buffering proxy`):m.stat===Iy.NOPROXY&&Y(Ee,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{p.ho()},0),p}}function yf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(e){return new fD(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(t,n,i=1e3,s=1.5,r=6e4){this.ii=t,this.timerId=n,this.So=i,this.bo=s,this.Do=r,this.vo=0,this.Co=null,this.Fo=Date.now(),this.reset()}reset(){this.vo=0}Mo(){this.vo=this.Do}xo(t){this.cancel();const n=Math.floor(this.vo+this.Oo()),i=Math.max(0,Date.now()-this.Fo),s=Math.max(0,n-i);s>0&&Y("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.vo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Co=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Fo=Date.now(),t())),this.vo*=this.bo,this.vo<this.So&&(this.vo=this.So),this.vo>this.Do&&(this.vo=this.Do)}No(){this.Co!==null&&(this.Co.skipDelay(),this.Co=null)}cancel(){this.Co!==null&&(this.Co.cancel(),this.Co=null)}Oo(){return(Math.random()-.5)*this.vo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(t,n,i,s,r,o,a,l){this.ii=t,this.Bo=i,this.Lo=s,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.ko=0,this.qo=null,this.Qo=null,this.stream=null,this.Ko=new hI(t,n)}$o(){return this.state===1||this.state===5||this.Uo()}Uo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Wo()}async stop(){this.$o()&&await this.close(0)}Go(){this.state=0,this.Ko.reset()}zo(){this.Uo()&&this.qo===null&&(this.qo=this.ii.enqueueAfterDelay(this.Bo,6e4,()=>this.jo()))}Ho(t){this.Jo(),this.stream.send(t)}async jo(){if(this.Uo())return this.close(0)}Jo(){this.qo&&(this.qo.cancel(),this.qo=null)}Yo(){this.Qo&&(this.Qo.cancel(),this.Qo=null)}async close(t,n){this.Jo(),this.Yo(),this.Ko.cancel(),this.ko++,t!==4?this.Ko.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(pi(n.toString()),pi("Using maximum backoff delay to prevent overloading the backend."),this.Ko.Mo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Zo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.uo(n)}Zo(){}auth(){this.state=1;const t=this.Xo(this.ko),n=this.ko;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.ko===n&&this.e_(i,s)},i=>{t(()=>{const s=new q(M.UNKNOWN,"Fetching auth token failed: "+i.message);return this.t_(s)})})}e_(t,n){const i=this.Xo(this.ko);this.stream=this.n_(t,n),this.stream._o(()=>{i(()=>(this.state=2,this.Qo=this.ii.enqueueAfterDelay(this.Lo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener._o()))}),this.stream.uo(s=>{i(()=>this.t_(s))}),this.stream.onMessage(s=>{i(()=>this.onMessage(s))})}Wo(){this.state=5,this.Ko.xo(async()=>{this.state=0,this.start()})}t_(t){return Y("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return n=>{this.ii.enqueueAndForget(()=>this.ko===t?n():(Y("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eN extends fI{constructor(t,n,i,s,r,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,o),this.serializer=r}n_(t,n){return this.connection.wo("Listen",t,n)}onMessage(t){this.Ko.reset();const n=gD(this.serializer,t),i=function(r){if(!("targetChange"in r))return ct.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?ct.min():o.readTime?$n(o.readTime):ct.min()}(t);return this.listener.r_(n,i)}i_(t){const n={};n.database=Bd(this.serializer),n.addTarget=function(r,o){let a;const l=o.target;if(a=Md(l)?{documents:yD(r,l)}:{query:vD(r,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=iI(r,o.resumeToken);const c=Ld(r,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ct.min())>0){a.readTime=lu(r,o.snapshotVersion.toTimestamp());const c=Ld(r,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,t);const i=AD(this.serializer,t);i&&(n.labels=i),this.Ho(n)}s_(t){const n={};n.database=Bd(this.serializer),n.removeTarget=t,this.Ho(n)}}class nN extends fI{constructor(t,n,i,s,r,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,o),this.serializer=r,this.o_=!1}get __(){return this.o_}start(){this.o_=!1,this.lastStreamToken=void 0,super.start()}Zo(){this.o_&&this.a_([])}n_(t,n){return this.connection.wo("Write",t,n)}onMessage(t){if(Wt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.o_){this.Ko.reset();const n=_D(t.writeResults,t.commitTime),i=$n(t.commitTime);return this.listener.u_(i,n)}return Wt(!t.writeResults||t.writeResults.length===0),this.o_=!0,this.listener.c_()}l_(){const t={};t.database=Bd(this.serializer),this.Ho(t)}a_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>mD(this.serializer,i))};this.Ho(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN extends class{}{constructor(t,n,i,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.h_=!1}P_(){if(this.h_)throw new q(M.FAILED_PRECONDITION,"The client has already been terminated.")}Vo(t,n,i){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,r])=>this.connection.Vo(t,n,i,s,r)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(M.UNKNOWN,s.toString())})}yo(t,n,i,s){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.yo(t,n,i,r,o,s)).catch(r=>{throw r.name==="FirebaseError"?(r.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new q(M.UNKNOWN,r.toString())})}terminate(){this.h_=!0}}class sN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.T_=0,this.E_=null,this.d_=!0}A_(){this.T_===0&&(this.R_("Unknown"),this.E_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.E_=null,this.V_("Backend didn't respond within 10 seconds."),this.R_("Offline"),Promise.resolve())))}m_(t){this.state==="Online"?this.R_("Unknown"):(this.T_++,this.T_>=1&&(this.f_(),this.V_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.R_("Offline")))}set(t){this.f_(),this.T_=0,t==="Online"&&(this.d_=!1),this.R_(t)}R_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}V_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.d_?(pi(n),this.d_=!1):Y("OnlineStateTracker",n)}f_(){this.E_!==null&&(this.E_.cancel(),this.E_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(t,n,i,s,r){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.g_=[],this.p_=new Map,this.y_=new Set,this.w_=[],this.S_=r,this.S_.Ys(o=>{i.enqueueAndForget(async()=>{sr(this)&&(Y("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ft(l);c.y_.add(4),await pl(c),c.b_.set("Unknown"),c.y_.delete(4),await mh(c)}(this))})}),this.b_=new sN(i,s)}}async function mh(e){if(sr(e))for(const t of e.w_)await t(!0)}async function pl(e){for(const t of e.w_)await t(!1)}function dI(e,t){const n=ft(e);n.p_.has(t.targetId)||(n.p_.set(t.targetId,t),Hg(n)?$g(n):lo(n).Uo()&&jg(n,t))}function pI(e,t){const n=ft(e),i=lo(n);n.p_.delete(t),i.Uo()&&gI(n,t),n.p_.size===0&&(i.Uo()?i.zo():sr(n)&&n.b_.set("Unknown"))}function jg(e,t){if(e.D_.Be(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ct.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}lo(e).i_(t)}function gI(e,t){e.D_.Be(t),lo(e).s_(t)}function $g(e){e.D_=new lD({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>e.p_.get(t)||null,rt:()=>e.datastore.serializer.databaseId}),lo(e).start(),e.b_.A_()}function Hg(e){return sr(e)&&!lo(e).$o()&&e.p_.size>0}function sr(e){return ft(e).y_.size===0}function mI(e){e.D_=void 0}async function oN(e){e.p_.forEach((t,n)=>{jg(e,t)})}async function aN(e,t){mI(e),Hg(e)?(e.b_.m_(t),$g(e)):e.b_.set("Unknown")}async function lN(e,t,n){if(e.b_.set("Online"),t instanceof nI&&t.state===2&&t.cause)try{await async function(s,r){const o=r.cause;for(const a of r.targetIds)s.p_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.p_.delete(a),s.D_.removeTarget(a))}(e,t)}catch(i){Y("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await cu(e,i)}else if(t instanceof Ec?e.D_.We(t):t instanceof eI?e.D_.Ze(t):e.D_.je(t),!n.isEqual(ct.min()))try{const i=await uI(e.localStore);n.compareTo(i)>=0&&await function(r,o){const a=r.D_.st(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=r.p_.get(c);u&&r.p_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=r.p_.get(l);if(!u)return;r.p_.set(l,u.withResumeToken(Ne.EMPTY_BYTE_STRING,u.snapshotVersion)),gI(r,l);const h=new Di(u.target,l,c,u.sequenceNumber);jg(r,h)}),r.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(i){Y("RemoteStore","Failed to raise snapshot:",i),await cu(e,i)}}async function cu(e,t,n){if(!ul(t))throw t;e.y_.add(1),await pl(e),e.b_.set("Offline"),n||(n=()=>uI(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Y("RemoteStore","Retrying IndexedDB access"),await n(),e.y_.delete(1),await mh(e)})}function _I(e,t){return t().catch(n=>cu(e,n,t))}async function _h(e){const t=ft(e),n=Ji(t);let i=t.g_.length>0?t.g_[t.g_.length-1].batchId:-1;for(;cN(t);)try{const s=await KD(t.localStore,i);if(s===null){t.g_.length===0&&n.zo();break}i=s.batchId,uN(t,s)}catch(s){await cu(t,s)}yI(t)&&vI(t)}function cN(e){return sr(e)&&e.g_.length<10}function uN(e,t){e.g_.push(t);const n=Ji(e);n.Uo()&&n.__&&n.a_(t.mutations)}function yI(e){return sr(e)&&!Ji(e).$o()&&e.g_.length>0}function vI(e){Ji(e).start()}async function hN(e){Ji(e).l_()}async function fN(e){const t=Ji(e);for(const n of e.g_)t.a_(n.mutations)}async function dN(e,t,n){const i=e.g_.shift(),s=Ng.from(i,t,n);await _I(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await _h(e)}async function pN(e,t){t&&Ji(e).__&&await async function(i,s){if(function(o){return rD(o)&&o!==M.ABORTED}(s.code)){const r=i.g_.shift();Ji(i).Go(),await _I(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await _h(i)}}(e,t),yI(e)&&vI(e)}async function Yy(e,t){const n=ft(e);n.asyncQueue.verifyOperationInProgress(),Y("RemoteStore","RemoteStore received new credentials");const i=sr(n);n.y_.add(3),await pl(n),i&&n.b_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.y_.delete(3),await mh(n)}async function gN(e,t){const n=ft(e);t?(n.y_.delete(2),await mh(n)):t||(n.y_.add(2),await pl(n),n.b_.set("Unknown"))}function lo(e){return e.v_||(e.v_=function(n,i,s){const r=ft(n);return r.P_(),new eN(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(e.datastore,e.asyncQueue,{_o:oN.bind(null,e),uo:aN.bind(null,e),r_:lN.bind(null,e)}),e.w_.push(async t=>{t?(e.v_.Go(),Hg(e)?$g(e):e.b_.set("Unknown")):(await e.v_.stop(),mI(e))})),e.v_}function Ji(e){return e.C_||(e.C_=function(n,i,s){const r=ft(n);return r.P_(),new nN(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(e.datastore,e.asyncQueue,{_o:hN.bind(null,e),uo:pN.bind(null,e),c_:fN.bind(null,e),u_:dN.bind(null,e)}),e.w_.push(async t=>{t?(e.C_.Go(),await _h(e)):(await e.C_.stop(),e.g_.length>0&&(Y("RemoteStore",`Stopping write stream with ${e.g_.length} pending writes`),e.g_=[]))})),e.C_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(t,n,i,s,r){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new Ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,n,i,s,r){const o=Date.now()+i,a=new Wg(t,n,o,s,r);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(M.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qg(e,t){if(pi("AsyncQueue",`${t}: ${e}`),ul(e))return new q(M.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(t){this.comparator=t?(n,i)=>t(n,i)||Z.comparator(n.key,i.key):(n,i)=>Z.comparator(n.key,i.key),this.keyedMap=Mo(),this.sortedSet=new Kt(this.comparator)}static emptySet(t){return new xr(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof xr)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new xr;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(){this.F_=new Kt(Z.comparator)}track(t){const n=t.doc.key,i=this.F_.get(n);i?t.type!==0&&i.type===3?this.F_=this.F_.insert(n,t):t.type===3&&i.type!==1?this.F_=this.F_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.F_=this.F_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.F_=this.F_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.F_=this.F_.remove(n):t.type===1&&i.type===2?this.F_=this.F_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.F_=this.F_.insert(n,{type:2,doc:t.doc}):ot():this.F_=this.F_.insert(n,t)}M_(){const t=[];return this.F_.inorderTraversal((n,i)=>{t.push(i)}),t}}class qr{constructor(t,n,i,s,r,o,a,l,c){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,n,i,s,r){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new qr(t,n,xr.emptySet(n),o,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&uh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(){this.x_=void 0,this.listeners=[]}}class _N{constructor(){this.queries=new ao(t=>UE(t),uh),this.onlineState="Unknown",this.O_=new Set}}async function yN(e,t){const n=ft(e),i=t.query;let s=!1,r=n.queries.get(i);if(r||(s=!0,r=new mN),s)try{r.x_=await n.onListen(i)}catch(o){const a=qg(o,`Initialization of query '${Nd(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,r),r.listeners.push(t),t.N_(n.onlineState),r.x_&&t.B_(r.x_)&&Kg(n)}async function vN(e,t){const n=ft(e),i=t.query;let s=!1;const r=n.queries.get(i);if(r){const o=r.listeners.indexOf(t);o>=0&&(r.listeners.splice(o,1),s=r.listeners.length===0)}if(s)return n.queries.delete(i),n.onUnlisten(i)}function bN(e,t){const n=ft(e);let i=!1;for(const s of t){const r=s.query,o=n.queries.get(r);if(o){for(const a of o.listeners)a.B_(s)&&(i=!0);o.x_=s}}i&&Kg(n)}function AN(e,t,n){const i=ft(e),s=i.queries.get(t);if(s)for(const r of s.listeners)r.onError(n);i.queries.delete(t)}function Kg(e){e.O_.forEach(t=>{t.next()})}class wN{constructor(t,n,i){this.query=t,this.L_=n,this.k_=!1,this.q_=null,this.onlineState="Unknown",this.options=i||{}}B_(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new qr(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.k_?this.Q_(t)&&(this.L_.next(t),n=!0):this.K_(t,this.onlineState)&&(this.U_(t),n=!0),this.q_=t,n}onError(t){this.L_.error(t)}N_(t){this.onlineState=t;let n=!1;return this.q_&&!this.k_&&this.K_(this.q_,t)&&(this.U_(this.q_),n=!0),n}K_(t,n){if(!t.fromCache)return!0;const i=n!=="Offline";return(!this.options.W_||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Q_(t){if(t.docChanges.length>0)return!0;const n=this.q_&&this.q_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}U_(t){t=qr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.k_=!0,this.L_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(t){this.key=t}}class AI{constructor(t){this.key=t}}class EN{constructor(t,n){this.query=t,this.X_=n,this.ea=null,this.hasCachedResults=!1,this.current=!1,this.ta=mt(),this.mutatedKeys=mt(),this.na=zE(t),this.ra=new xr(this.na)}get ia(){return this.X_}sa(t,n){const i=n?n.oa:new Xy,s=n?n.ra:this.ra;let r=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((u,h)=>{const f=s.get(u),d=hh(this.query,h)?h:null,p=!!f&&this.mutatedKeys.has(f.key),g=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let m=!1;f&&d?f.data.isEqual(d.data)?p!==g&&(i.track({type:3,doc:d}),m=!0):this._a(f,d)||(i.track({type:2,doc:d}),m=!0,(l&&this.na(d,l)>0||c&&this.na(d,c)<0)&&(a=!0)):!f&&d?(i.track({type:0,doc:d}),m=!0):f&&!d&&(i.track({type:1,doc:f}),m=!0,(l||c)&&(a=!0)),m&&(d?(o=o.add(d),r=g?r.add(u):r.delete(u)):(o=o.delete(u),r=r.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),r=r.delete(u.key),i.track({type:1,doc:u})}return{ra:o,oa:i,zi:a,mutatedKeys:r}}_a(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i){const s=this.ra;this.ra=t.ra,this.mutatedKeys=t.mutatedKeys;const r=t.oa.M_();r.sort((c,u)=>function(f,d){const p=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return p(f)-p(d)}(c.type,u.type)||this.na(c.doc,u.doc)),this.aa(i);const o=n?this.ua():[],a=this.ta.size===0&&this.current?1:0,l=a!==this.ea;return this.ea=a,r.length!==0||l?{snapshot:new qr(this.query,t.ra,s,r,t.mutatedKeys,a===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),ca:o}:{ca:o}}N_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ra:this.ra,oa:new Xy,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ca:[]}}la(t){return!this.X_.has(t)&&!!this.ra.has(t)&&!this.ra.get(t).hasLocalMutations}aa(t){t&&(t.addedDocuments.forEach(n=>this.X_=this.X_.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.X_=this.X_.delete(n)),this.current=t.current)}ua(){if(!this.current)return[];const t=this.ta;this.ta=mt(),this.ra.forEach(i=>{this.la(i.key)&&(this.ta=this.ta.add(i.key))});const n=[];return t.forEach(i=>{this.ta.has(i)||n.push(new AI(i))}),this.ta.forEach(i=>{t.has(i)||n.push(new bI(i))}),n}ha(t){this.X_=t.ss,this.ta=mt();const n=this.sa(t.documents);return this.applyChanges(n,!0)}Pa(){return qr.fromInitialDocuments(this.query,this.ra,this.mutatedKeys,this.ea===0,this.hasCachedResults)}}class IN{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class TN{constructor(t){this.key=t,this.Ia=!1}}class xN{constructor(t,n,i,s,r,o){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.Ta={},this.Ea=new ao(a=>UE(a),uh),this.da=new Map,this.Aa=new Set,this.Ra=new Kt(Z.comparator),this.Va=new Map,this.ma=new Bg,this.fa={},this.ga=new Map,this.pa=Wr.On(),this.onlineState="Unknown",this.ya=void 0}get isPrimaryClient(){return this.ya===!0}}async function SN(e,t){const n=VN(e);let i,s;const r=n.Ea.get(t);if(r)i=r.targetId,n.sharedClientState.addLocalQueryTarget(i),s=r.view.Pa();else{const o=await GD(n.localStore,gi(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,s=await kN(n,t,i,a==="current",o.resumeToken),n.isPrimaryClient&&dI(n.remoteStore,o)}return s}async function kN(e,t,n,i,s){e.wa=(h,f,d)=>async function(g,m,_,y){let E=m.view.sa(_);E.zi&&(E=await Ky(g.localStore,m.query,!1).then(({documents:T})=>m.view.sa(T,E)));const A=y&&y.targetChanges.get(m.targetId),w=m.view.applyChanges(E,g.isPrimaryClient,A);return Zy(g,m.targetId,w.ca),w.snapshot}(e,h,f,d);const r=await Ky(e.localStore,t,!0),o=new EN(t,r.ss),a=o.sa(r.documents),l=dl.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",s),c=o.applyChanges(a,e.isPrimaryClient,l);Zy(e,n,c.ca);const u=new IN(t,n,o);return e.Ea.set(t,u),e.da.has(n)?e.da.get(n).push(t):e.da.set(n,[t]),c.snapshot}async function PN(e,t){const n=ft(e),i=n.Ea.get(t),s=n.da.get(i.targetId);if(s.length>1)return n.da.set(i.targetId,s.filter(r=>!uh(r,t))),void n.Ea.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Ud(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),pI(n.remoteStore,i.targetId),zd(n,i.targetId)}).catch(cl)):(zd(n,i.targetId),await Ud(n.localStore,i.targetId,!0))}async function CN(e,t,n){const i=FN(e);try{const s=await function(o,a){const l=ft(o),c=he.now(),u=a.reduce((d,p)=>d.add(p.key),mt());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",d=>{let p=mi(),g=mt();return l.Xi.getEntries(d,u).next(m=>{p=m,p.forEach((_,y)=>{y.isValidDocument()||(g=g.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(d,p)).next(m=>{h=m;const _=[];for(const y of a){const E=tD(y,h.get(y.key).overlayedDocument);E!=null&&_.push(new os(y.key,E,RE(E.value.mapValue),En.exists(!0)))}return l.mutationQueue.addMutationBatch(d,c,_,a)}).next(m=>{f=m;const _=m.applyToLocalDocumentSet(h,g);return l.documentOverlayCache.saveOverlays(d,m.batchId,_)})}).then(()=>({batchId:f.batchId,changes:$E(h)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.fa[o.currentUser.toKey()];c||(c=new Kt(It)),c=c.insert(a,l),o.fa[o.currentUser.toKey()]=c}(i,s.batchId,n),await gl(i,s.changes),await _h(i.remoteStore)}catch(s){const r=qg(s,"Failed to persist write");n.reject(r)}}async function wI(e,t){const n=ft(e);try{const i=await WD(n.localStore,t);t.targetChanges.forEach((s,r)=>{const o=n.Va.get(r);o&&(Wt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ia=!0:s.modifiedDocuments.size>0?Wt(o.Ia):s.removedDocuments.size>0&&(Wt(o.Ia),o.Ia=!1))}),await gl(n,i,t)}catch(i){await cl(i)}}function Jy(e,t,n){const i=ft(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Ea.forEach((r,o)=>{const a=o.view.N_(t);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ft(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const f of h.listeners)f.N_(a)&&(c=!0)}),c&&Kg(l)}(i.eventManager,t),s.length&&i.Ta.r_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function RN(e,t,n){const i=ft(e);i.sharedClientState.updateQueryState(t,"rejected",n);const s=i.Va.get(t),r=s&&s.key;if(r){let o=new Kt(Z.comparator);o=o.insert(r,Se.newNoDocument(r,ct.min()));const a=mt().add(r),l=new ph(ct.min(),new Map,new Kt(It),o,a);await wI(i,l),i.Ra=i.Ra.remove(r),i.Va.delete(t),Gg(i)}else await Ud(i.localStore,t,!1).then(()=>zd(i,t,n)).catch(cl)}async function MN(e,t){const n=ft(e),i=t.batch.batchId;try{const s=await HD(n.localStore,t);II(n,i,null),EI(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await gl(n,s)}catch(s){await cl(s)}}async function ON(e,t,n){const i=ft(e);try{const s=await function(o,a){const l=ft(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Wt(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(i.localStore,t);II(i,t,n),EI(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await gl(i,s)}catch(s){await cl(s)}}function EI(e,t){(e.ga.get(t)||[]).forEach(n=>{n.resolve()}),e.ga.delete(t)}function II(e,t,n){const i=ft(e);let s=i.fa[i.currentUser.toKey()];if(s){const r=s.get(t);r&&(n?r.reject(n):r.resolve(),s=s.remove(t)),i.fa[i.currentUser.toKey()]=s}}function zd(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.da.get(t))e.Ea.delete(i),n&&e.Ta.Sa(i,n);e.da.delete(t),e.isPrimaryClient&&e.ma.Ar(t).forEach(i=>{e.ma.containsKey(i)||TI(e,i)})}function TI(e,t){e.Aa.delete(t.path.canonicalString());const n=e.Ra.get(t);n!==null&&(pI(e.remoteStore,n),e.Ra=e.Ra.remove(t),e.Va.delete(n),Gg(e))}function Zy(e,t,n){for(const i of n)i instanceof bI?(e.ma.addReference(i.key,t),DN(e,i)):i instanceof AI?(Y("SyncEngine","Document no longer in limbo: "+i.key),e.ma.removeReference(i.key,t),e.ma.containsKey(i.key)||TI(e,i.key)):ot()}function DN(e,t){const n=t.key,i=n.path.canonicalString();e.Ra.get(n)||e.Aa.has(i)||(Y("SyncEngine","New document in limbo: "+n),e.Aa.add(i),Gg(e))}function Gg(e){for(;e.Aa.size>0&&e.Ra.size<e.maxConcurrentLimboResolutions;){const t=e.Aa.values().next().value;e.Aa.delete(t);const n=new Z(zt.fromString(t)),i=e.pa.next();e.Va.set(i,new TN(n)),e.Ra=e.Ra.insert(n,i),dI(e.remoteStore,new Di(gi(Og(n.path)),i,"TargetPurposeLimboResolution",Sg.ae))}}async function gl(e,t,n){const i=ft(e),s=[],r=[],o=[];i.Ea.isEmpty()||(i.Ea.forEach((a,l)=>{o.push(i.wa(l,t,n).then(c=>{if((c||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const u=zg.qi(l.targetId,c);r.push(u)}}))}),await Promise.all(o),i.Ta.r_(s),await async function(l,c){const u=ft(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>L.forEach(c,f=>L.forEach(f.Li,d=>u.persistence.referenceDelegate.addReference(h,f.targetId,d)).next(()=>L.forEach(f.ki,d=>u.persistence.referenceDelegate.removeReference(h,f.targetId,d)))))}catch(h){if(!ul(h))throw h;Y("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const d=u.Ji.get(f),p=d.snapshotVersion,g=d.withLastLimboFreeSnapshotVersion(p);u.Ji=u.Ji.insert(f,g)}}}(i.localStore,r))}async function NN(e,t){const n=ft(e);if(!n.currentUser.isEqual(t)){Y("SyncEngine","User change. New user:",t.toKey());const i=await cI(n.localStore,t);n.currentUser=t,function(r,o){r.ga.forEach(a=>{a.forEach(l=>{l.reject(new q(M.CANCELLED,o))})}),r.ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await gl(n,i.ts)}}function LN(e,t){const n=ft(e),i=n.Va.get(t);if(i&&i.Ia)return mt().add(i.key);{let s=mt();const r=n.da.get(t);if(!r)return s;for(const o of r){const a=n.Ea.get(o);s=s.unionWith(a.view.ia)}return s}}function VN(e){const t=ft(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=wI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=LN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=RN.bind(null,t),t.Ta.r_=bN.bind(null,t.eventManager),t.Ta.Sa=AN.bind(null,t.eventManager),t}function FN(e){const t=ft(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=MN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ON.bind(null,t),t}class tv{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=gh(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return $D(this.persistence,new zD,t.initialUser,this.serializer)}createPersistence(t){return new BD(Ug.zr,this.serializer)}createSharedClientState(t){return new YD}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class BN{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Jy(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=NN.bind(null,this.syncEngine),await gN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new _N}()}createDatastore(t){const n=gh(t.databaseInfo.databaseId),i=function(r){return new tN(r)}(t.databaseInfo);return function(r,o,a,l){return new iN(r,o,a,l)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,s,r,o,a){return new rN(i,s,r,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>Jy(this.syncEngine,n,0),function(){return Qy.v()?new Qy:new XD}())}createSyncEngine(t,n){return function(s,r,o,a,l,c,u){const h=new xN(s,r,o,a,l,c);return u&&(h.ya=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const i=ft(n);Y("RemoteStore","RemoteStore shutting down."),i.y_.add(5),await pl(i),i.S_.shutdown(),i.b_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.va(this.observer.next,t)}error(t){this.observer.error?this.va(this.observer.error,t):pi("Uncaught Error in snapshot listener:",t.toString())}Ca(){this.muted=!0}va(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(t,n,i,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Te.UNAUTHENTICATED,this.clientId=kE.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async r=>{Y("FirestoreClient","Received user=",r.uid),await this.authCredentialListener(r),this.user=r}),this.appCheckCredentials.start(i,r=>(Y("FirestoreClient","Received new app check token=",r),this.appCheckCredentialListener(r,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new q(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=qg(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function vf(e,t){e.asyncQueue.verifyOperationInProgress(),Y("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async s=>{i.isEqual(s)||(await cI(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function ev(e,t){e.asyncQueue.verifyOperationInProgress();const n=await $N(e);Y("FirestoreClient","Initializing OnlineComponentProvider");const i=await e.getConfiguration();await t.initialize(n,i),e.setCredentialChangeListener(s=>Yy(t.remoteStore,s)),e.setAppCheckTokenChangeListener((s,r)=>Yy(t.remoteStore,r)),e._onlineComponents=t}function jN(e){return e.name==="FirebaseError"?e.code===M.FAILED_PRECONDITION||e.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function $N(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Y("FirestoreClient","Using user provided OfflineComponentProvider");try{await vf(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!jN(n))throw n;Ur("Error using user provided cache. Falling back to memory cache: "+n),await vf(e,new tv)}}else Y("FirestoreClient","Using default OfflineComponentProvider"),await vf(e,new tv);return e._offlineComponents}async function xI(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Y("FirestoreClient","Using user provided OnlineComponentProvider"),await ev(e,e._uninitializedComponentsProvider._online)):(Y("FirestoreClient","Using default OnlineComponentProvider"),await ev(e,new BN))),e._onlineComponents}function HN(e){return xI(e).then(t=>t.syncEngine)}async function nv(e){const t=await xI(e),n=t.eventManager;return n.onListen=SN.bind(null,t.syncEngine),n.onUnlisten=PN.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(e,t,n){if(!n)throw new q(M.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function WN(e,t,n,i){if(t===!0&&i===!0)throw new q(M.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function sv(e){if(!Z.isDocumentKey(e))throw new q(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function rv(e){if(Z.isDocumentKey(e))throw new q(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function yh(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":ot()}function hi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new q(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yh(e);throw new q(M.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new q(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new q(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}WN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SI((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new q(M.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new q(M.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new q(M.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class vh{constructor(t,n,i,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ov({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new q(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new q(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ov(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new hO;switch(i.type){case"firstParty":return new gO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new q(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=iv.get(n);i&&(Y("ComponentProvider","Removing Datastore"),iv.delete(n),i.terminate())}(this),Promise.resolve()}}function qN(e,t,n,i={}){var s;const r=(e=hi(e,vh))._getSettings(),o=`${t}:${n}`;if(r.host!=="firestore.googleapis.com"&&r.host!==o&&Ur("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},r),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=Te.MOCK_USER;else{a=rC(i.mockUserToken,(s=e._app)===null||s===void 0?void 0:s.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new q(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Te(c)}e._authCredentials=new fO(new SE(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new co(this.firestore,t,this._query)}}class je{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new je(this.firestore,t,this._key)}}class qi extends co{constructor(t,n,i){super(t,n,Og(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new je(this.firestore,null,new Z(t))}withConverter(t){return new qi(this.firestore,t,this._path)}}function bh(e,t,...n){if(e=se(e),kI("collection","path",t),e instanceof vh){const i=zt.fromString(t,...n);return rv(i),new qi(e,null,i)}{if(!(e instanceof je||e instanceof qi))throw new q(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(zt.fromString(t,...n));return rv(i),new qi(e.firestore,null,i)}}function ml(e,t,...n){if(e=se(e),arguments.length===1&&(t=kE.V()),kI("doc","path",t),e instanceof vh){const i=zt.fromString(t,...n);return sv(i),new je(e,null,new Z(i))}{if(!(e instanceof je||e instanceof qi))throw new q(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(zt.fromString(t,...n));return sv(i),new je(e.firestore,e instanceof qi?e.converter:null,new Z(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(){this.Wa=Promise.resolve(),this.Ga=[],this.za=!1,this.ja=[],this.Ha=null,this.Ja=!1,this.Ya=!1,this.Za=[],this.Ko=new hI(this,"async_queue_retry"),this.Xa=()=>{const n=yf();n&&Y("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ko.No()};const t=yf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Xa)}get isShuttingDown(){return this.za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.eu(),this.tu(t)}enterRestrictedMode(t){if(!this.za){this.za=!0,this.Ya=t||!1;const n=yf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xa)}}enqueue(t){if(this.eu(),this.za)return new Promise(()=>{});const n=new Ms;return this.tu(()=>this.za&&this.Ya?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ga.push(t),this.nu()))}async nu(){if(this.Ga.length!==0){try{await this.Ga[0](),this.Ga.shift(),this.Ko.reset()}catch(t){if(!ul(t))throw t;Y("AsyncQueue","Operation failed with retryable error: "+t)}this.Ga.length>0&&this.Ko.xo(()=>this.nu())}}tu(t){const n=this.Wa.then(()=>(this.Ja=!0,t().catch(i=>{this.Ha=i,this.Ja=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw pi("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.Ja=!1,i))));return this.Wa=n,n}enqueueAfterDelay(t,n,i){this.eu(),this.Za.indexOf(t)>-1&&(n=0);const s=Wg.createAndSchedule(this,t,n,i,r=>this.ru(r));return this.ja.push(s),s}eu(){this.Ha&&ot()}verifyOperationInProgress(){}async iu(){let t;do t=this.Wa,await t;while(t!==this.Wa)}su(t){for(const n of this.ja)if(n.timerId===t)return!0;return!1}ou(t){return this.iu().then(()=>{this.ja.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.ja)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.iu()})}_u(t){this.Za.push(t)}ru(t){const n=this.ja.indexOf(t);this.ja.splice(n,1)}}function av(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const r of i)if(r in s&&typeof s[r]=="function")return!0;return!1}(e,["next","error","complete"])}class Kr extends vh{constructor(t,n,i,s){super(t,n,i,s),this.type="firestore",this._queue=function(){return new KN}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||CI(this),this._firestoreClient.terminate()}}function GN(e,t){const n=typeof e=="object"?e:Xp(),i=typeof e=="string"?e:t||"(default)",s=er(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=iC("firestore");r&&qN(s,...r)}return s}function PI(e){return e._firestoreClient||CI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function CI(e){var t,n,i;const s=e._freezeSettings(),r=function(a,l,c,u){return new SO(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,SI(u.experimentalLongPollingOptions),u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,s);e._firestoreClient=new zN(e._authCredentials,e._appCheckCredentials,e._queue,r),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Gr(Ne.fromBase64String(t))}catch(n){throw new q(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Gr(Ne.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new q(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new q(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new q(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return It(this._lat,t._lat)||It(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=/^__.*__$/;class YN{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new os(t,this.data,this.fieldMask,n,this.fieldTransforms):new fl(t,this.data,n,this.fieldTransforms)}}class RI{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new os(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function MI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class Eh{constructor(t,n,i,s,r,o){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.au(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get uu(){return this.settings.uu}cu(t){return new Eh(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}lu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.cu({path:i,hu:!1});return s.Pu(t),s}Iu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.cu({path:i,hu:!1});return s.au(),s}Tu(t){return this.cu({path:void 0,hu:!0})}Eu(t){return uu(t,this.settings.methodName,this.settings.du||!1,this.path,this.settings.Au)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}au(){if(this.path)for(let t=0;t<this.path.length;t++)this.Pu(this.path.get(t))}Pu(t){if(t.length===0)throw this.Eu("Document fields must not be empty");if(MI(this.uu)&&QN.test(t))throw this.Eu('Document fields cannot begin and end with "__"')}}class XN{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||gh(t)}Ru(t,n,i,s=!1){return new Eh({uu:t,methodName:n,Au:i,path:Pe.emptyPath(),hu:!1,du:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ih(e){const t=e._freezeSettings(),n=gh(e._databaseId);return new XN(e._databaseId,!!t.ignoreUndefinedProperties,n)}function OI(e,t,n,i,s,r={}){const o=e.Ru(r.merge||r.mergeFields?2:0,t,n,s);Yg("Data must be an object, but it was:",o,i);const a=DI(i,o);let l,c;if(r.merge)l=new en(o.fieldMask),c=o.fieldTransforms;else if(r.mergeFields){const u=[];for(const h of r.mergeFields){const f=jd(t,h,n);if(!o.contains(f))throw new q(M.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);LI(u,f)||u.push(f)}l=new en(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new YN(new qe(a),l,c)}class Th extends wh{_toFieldTransform(t){if(t.uu!==2)throw t.uu===1?t.Eu(`${this._methodName}() can only appear at the top level of your update data`):t.Eu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Th}}function JN(e,t,n){return new Eh({uu:3,Au:t.settings.Au,methodName:e._methodName,hu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class ZN extends wh{constructor(t,n){super(t),this.Vu=n}_toFieldTransform(t){const n=JN(this,t,!0),i=this.Vu.map(r=>uo(r,n)),s=new Hr(i);return new YO(t.path,s)}isEqual(t){return this===t}}function tL(e,t,n,i){const s=e.Ru(1,t,n);Yg("Data must be an object, but it was:",s,i);const r=[],o=qe.empty();ir(i,(l,c)=>{const u=Xg(t,l,n);c=se(c);const h=s.Iu(u);if(c instanceof Th)r.push(u);else{const f=uo(c,h);f!=null&&(r.push(u),o.set(u,f))}});const a=new en(r);return new RI(o,a,s.fieldTransforms)}function eL(e,t,n,i,s,r){const o=e.Ru(1,t,n),a=[jd(t,i,n)],l=[s];if(r.length%2!=0)throw new q(M.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<r.length;f+=2)a.push(jd(t,r[f])),l.push(r[f+1]);const c=[],u=qe.empty();for(let f=a.length-1;f>=0;--f)if(!LI(c,a[f])){const d=a[f];let p=l[f];p=se(p);const g=o.Iu(d);if(p instanceof Th)c.push(d);else{const m=uo(p,g);m!=null&&(c.push(d),u.set(d,m))}}const h=new en(c);return new RI(u,h,o.fieldTransforms)}function nL(e,t,n,i=!1){return uo(n,e.Ru(i?4:3,t))}function uo(e,t){if(NI(e=se(e)))return Yg("Unsupported field value:",t,e),DI(e,t);if(e instanceof wh)return function(i,s){if(!MI(s.uu))throw s.Eu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Eu(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.hu&&t.uu!==4)throw t.Eu("Nested arrays are not supported");return function(i,s){const r=[];let o=0;for(const a of i){let l=uo(a,s.Tu(o));l==null&&(l={nullValue:"NULL_VALUE"}),r.push(l),o++}return{arrayValue:{values:r}}}(e,t)}return function(i,s){if((i=se(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return KO(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=he.fromDate(i);return{timestampValue:lu(s.serializer,r)}}if(i instanceof he){const r=new he(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:lu(s.serializer,r)}}if(i instanceof Qg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Gr)return{bytesValue:iI(s.serializer,i._byteString)};if(i instanceof je){const r=s.databaseId,o=i.firestore._databaseId;if(!o.isEqual(r))throw s.Eu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Fg(i.firestore._databaseId||s.databaseId,i._key.path)}}throw s.Eu(`Unsupported field value: ${yh(i)}`)}(e,t)}function DI(e,t){const n={};return PE(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ir(e,(i,s)=>{const r=uo(s,t.lu(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function NI(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof he||e instanceof Qg||e instanceof Gr||e instanceof je||e instanceof wh)}function Yg(e,t,n){if(!NI(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=yh(n);throw i==="an object"?t.Eu(e+" a custom object"):t.Eu(e+" "+i)}}function jd(e,t,n){if((t=se(t))instanceof Ah)return t._internalPath;if(typeof t=="string")return Xg(e,t);throw uu("Field path arguments must be of type string or ",e,!1,void 0,n)}const iL=new RegExp("[~\\*/\\[\\]]");function Xg(e,t,n){if(t.search(iL)>=0)throw uu(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Ah(...t.split("."))._internalPath}catch{throw uu(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function uu(e,t,n,i,s){const r=i&&!i.isEmpty(),o=s!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(r||o)&&(l+=" (found",r&&(l+=` in field ${i}`),o&&(l+=` in document ${s}`),l+=")"),new q(M.INVALID_ARGUMENT,a+e+l)}function LI(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(t,n,i,s,r){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new sL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Jg("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class sL extends VI{data(){return super.data()}}function Jg(e,t){return typeof t=="string"?Xg(e,t):t instanceof Ah?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new q(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zg{}class oL extends Zg{}function FI(e,t,...n){let i=[];t instanceof Zg&&i.push(t),i=i.concat(n),function(r){const o=r.filter(l=>l instanceof tm).length,a=r.filter(l=>l instanceof xh).length;if(o>1||o>0&&a>0)throw new q(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)e=s._apply(e);return e}class xh extends oL{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new xh(t,n,i)}_apply(t){const n=this._parse(t);return BI(t._query,n),new co(t.firestore,t.converter,Od(t._query,n))}_parse(t){const n=Ih(t.firestore);return function(r,o,a,l,c,u,h){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new q(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){cv(h,u);const d=[];for(const p of h)d.push(lv(l,r,p));f={arrayValue:{values:d}}}else f=lv(l,r,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||cv(h,u),f=nL(a,o,h,u==="in"||u==="not-in");return le.create(c,u,f)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function aL(e,t,n){const i=t,s=Jg("where",e);return xh._create(s,i,n)}class tm extends Zg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new tm(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:kn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(s,r){let o=s;const a=r.getFlattenedFilters();for(const l of a)BI(o,l),o=Od(o,l)}(t._query,n),new co(t.firestore,t.converter,Od(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function lv(e,t,n){if(typeof(n=se(n))=="string"){if(n==="")throw new q(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!BE(t)&&n.indexOf("/")!==-1)throw new q(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(zt.fromString(n));if(!Z.isDocumentKey(i))throw new q(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Cy(e,new Z(i))}if(n instanceof je)return Cy(e,n._key);throw new q(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yh(n)}.`)}function cv(e,t){if(!Array.isArray(e)||e.length===0)throw new q(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function BI(e,t){if(t.isInequality()){const i=Dg(e),s=t.field;if(i!==null&&!i.isEqual(s))throw new q(M.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${s.toString()}'`);const r=FE(e);r!==null&&lL(e,s,r)}const n=function(s,r){for(const o of s)for(const a of o.getFlattenedFilters())if(r.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new q(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new q(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function lL(e,t,n){if(!n.isEqual(t))throw new q(M.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class cL{convertValue(t,n="none"){switch(Hs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ae(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes($s(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw ot()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return ir(t,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertGeoPoint(t){return new Qg(ae(t.latitude),ae(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Pg(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ca(t));default:return null}}convertTimestamp(t){const n=Xi(t);return new he(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=zt.fromString(t);Wt(lI(i));const s=new Ra(i.get(1),i.get(3)),r=new Z(i.popFirst(5));return s.isEqual(n)||pi(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class zI extends VI{constructor(t,n,i,s,r,o){super(t,n,i,s,o),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Ic(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(Jg("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Ic extends zI{data(t={}){return super.data(t)}}class uL{constructor(t,n,i,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new Do(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Ic(this._firestore,this._userDataWriter,i.key,i,new Do(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Ic(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Do(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>r||a.type!==3).map(a=>{const l=new Ic(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Do(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:hL(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function hL(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}class jI extends cL{constructor(t){super(),this.firestore=t}convertBytes(t){return new Gr(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new je(this.firestore,null,n)}}function fL(e,t,n){e=hi(e,je);const i=hi(e.firestore,Kr),s=UI(e.converter,t,n);return nm(i,[OI(Ih(i),"setDoc",e._key,s,e.converter!==null,n).toMutation(e._key,En.none())])}function dL(e,t,n,...i){e=hi(e,je);const s=hi(e.firestore,Kr),r=Ih(s);let o;return o=typeof(t=se(t))=="string"||t instanceof Ah?eL(r,"updateDoc",e._key,t,n,i):tL(r,"updateDoc",e._key,t),nm(s,[o.toMutation(e._key,En.exists(!0))])}function $I(e,t){const n=hi(e.firestore,Kr),i=ml(e),s=UI(e.converter,t);return nm(n,[OI(Ih(e.firestore),"addDoc",i._key,s,e.converter!==null,{}).toMutation(i._key,En.exists(!1))]).then(()=>i)}function em(e,...t){var n,i,s;e=se(e);let r={includeMetadataChanges:!1},o=0;typeof t[o]!="object"||av(t[o])||(r=t[o],o++);const a={includeMetadataChanges:r.includeMetadataChanges};if(av(t[o])){const h=t[o];t[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),t[o+1]=(i=h.error)===null||i===void 0?void 0:i.bind(h),t[o+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let l,c,u;if(e instanceof je)c=hi(e.firestore,Kr),u=Og(e._key.path),l={next:h=>{t[o]&&t[o](pL(c,e,h))},error:t[o+1],complete:t[o+2]};else{const h=hi(e,co);c=hi(h.firestore,Kr),u=h._query;const f=new jI(c);l={next:d=>{t[o]&&t[o](new uL(c,f,h,d))},error:t[o+1],complete:t[o+2]},rL(e._query)}return function(f,d,p,g){const m=new UN(g),_=new wN(d,m,p);return f.asyncQueue.enqueueAndForget(async()=>yN(await nv(f),_)),()=>{m.Ca(),f.asyncQueue.enqueueAndForget(async()=>vN(await nv(f),_))}}(PI(c),u,a,l)}function nm(e,t){return function(i,s){const r=new Ms;return i.asyncQueue.enqueueAndForget(async()=>CN(await HN(i),s,r)),r.promise}(PI(e),t)}function pL(e,t,n){const i=n.docs.get(t._key),s=new jI(e);return new zI(e,s,t._key,i,new Do(n.hasPendingWrites,n.fromCache),t.converter)}function gL(...e){return new ZN("arrayUnion",e)}(function(t,n=!0){(function(s){oo=s})(io),Gn(new xn("firestore",(i,{instanceIdentifier:s,options:r})=>{const o=i.getProvider("app").getImmediate(),a=new Kr(new dO(i.getProvider("auth-internal")),new _O(i.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new q(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ra(c.options.projectId,u)}(o,s),o);return r=Object.assign({useFetchStreams:n},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),fn(Ty,"4.1.0",t),fn(Ty,"4.1.0","esm2017")})();function im(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n}function HI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mL=HI,WI=new tr("auth","Firebase",HI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu=new Wu("@firebase/auth");function _L(e,...t){hu.logLevel<=wt.WARN&&hu.warn(`Auth (${io}): ${e}`,...t)}function Tc(e,...t){hu.logLevel<=wt.ERROR&&hu.error(`Auth (${io}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(e,...t){throw sm(e,...t)}function Hn(e,...t){return sm(e,...t)}function qI(e,t,n){const i=Object.assign(Object.assign({},mL()),{[t]:n});return new tr("auth","Firebase",i).create(t,{appName:e.name})}function yL(e,t,n){const i=n;if(!(t instanceof i))throw i.name!==t.constructor.name&&dn(e,"argument-error"),qI(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function sm(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return WI.create(e,...t)}function rt(e,t,...n){if(!e)throw sm(t,...n)}function oi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Tc(t),new Error(t)}function _i(e,t){e||oi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function vL(){return uv()==="http:"||uv()==="https:"}function uv(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vL()||KA()||"connection"in navigator)?navigator.onLine:!0}function AL(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(t,n){this.shortDelay=t,this.longDelay=n,_i(n>t,"Short delay should be less than long delay!"),this.isMobile=oC()||aC()}get(){return bL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(e,t){_i(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL=new _l(3e4,6e4);function ho(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function fo(e,t,n,i,s={}){return GI(e,s,async()=>{let r={},o={};i&&(t==="GET"?o=i:r={body:JSON.stringify(i)});const a=Za(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),KI.fetch()(QI(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},r))})}async function GI(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},wL),t);try{const s=new IL(e),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw ql(e,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ql(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ql(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw ql(e,"user-disabled",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw qI(e,u,c);dn(e,u)}}catch(s){if(s instanceof Pn)throw s;dn(e,"network-request-failed",{message:String(s)})}}async function yl(e,t,n,i,s={}){const r=await fo(e,t,n,i,s);return"mfaPendingCredential"in r&&dn(e,"multi-factor-auth-required",{_serverResponse:r}),r}function QI(e,t,n,i){const s=`${t}${n}?${i}`;return e.config.emulator?rm(e.config,s):`${e.config.apiScheme}://${s}`}class IL{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Hn(this.auth,"network-request-failed")),EL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ql(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Hn(e,t,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TL(e,t){return fo(e,"POST","/v1/accounts:delete",t)}async function xL(e,t){return fo(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function SL(e,t=!1){const n=se(e),i=await n.getIdToken(t),s=om(i);rt(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:na(bf(s.auth_time)),issuedAtTime:na(bf(s.iat)),expirationTime:na(bf(s.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function bf(e){return Number(e)*1e3}function om(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Tc("JWT malformed, contained fewer than 3 sections"),null;try{const s=$A(n);return s?JSON.parse(s):(Tc("Failed to decode base64 JWT payload"),null)}catch(s){return Tc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function kL(e){const t=om(e);return rt(t,"internal-error"),rt(typeof t.exp<"u","internal-error"),rt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Da(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof Pn&&PL(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function PL({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=na(this.lastLoginAt),this.creationTime=na(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fu(e){var t;const n=e.auth,i=await e.getIdToken(),s=await Da(e,xL(n,{idToken:i}));rt(s==null?void 0:s.users.length,n,"internal-error");const r=s.users[0];e._notifyReloadListener(r);const o=!((t=r.providerUserInfo)===null||t===void 0)&&t.length?OL(r.providerUserInfo):[],a=ML(e.providerData,o),l=e.isAnonymous,c=!(e.email&&r.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new YI(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(e,h)}async function RL(e){const t=se(e);await fu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function ML(e,t){return[...e.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function OL(e){return e.map(t=>{var{providerId:n}=t,i=im(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DL(e,t){const n=await GI(e,{},async()=>{const i=Za({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:r}=e.config,o=QI(e,s,"/v1/token",`key=${r}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",KI.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){rt(t.idToken,"internal-error"),rt(typeof t.idToken<"u","internal-error"),rt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):kL(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return rt(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await DL(t,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,o=new Na;return i&&(rt(typeof i=="string","internal-error",{appName:t}),o.refreshToken=i),s&&(rt(typeof s=="string","internal-error",{appName:t}),o.accessToken=s),r&&(rt(typeof r=="number","internal-error",{appName:t}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Na,this.toJSON())}_performRefresh(){return oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(e,t){rt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Os{constructor(t){var{uid:n,auth:i,stsTokenManager:s}=t,r=im(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new CL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new YI(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const n=await Da(this,this.stsTokenManager.getToken(this.auth,t));return rt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return SL(this,t)}reload(){return RL(this)}_assign(t){this!==t&&(rt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Os(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){rt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await fu(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await Da(this,TL(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,s,r,o,a,l,c,u;const h=(i=n.displayName)!==null&&i!==void 0?i:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,d=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,m=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:E,emailVerified:A,isAnonymous:w,providerData:T,stsTokenManager:S}=n;rt(E&&S,t,"internal-error");const x=Na.fromJSON(this.name,S);rt(typeof E=="string",t,"internal-error"),xi(h,t.name),xi(f,t.name),rt(typeof A=="boolean",t,"internal-error"),rt(typeof w=="boolean",t,"internal-error"),xi(d,t.name),xi(p,t.name),xi(g,t.name),xi(m,t.name),xi(_,t.name),xi(y,t.name);const C=new Os({uid:E,auth:t,email:f,emailVerified:A,displayName:h,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:g,stsTokenManager:x,createdAt:_,lastLoginAt:y});return T&&Array.isArray(T)&&(C.providerData=T.map(j=>Object.assign({},j))),m&&(C._redirectEventId=m),C}static async _fromIdTokenResponse(t,n,i=!1){const s=new Na;s.updateFromServerResponse(n);const r=new Os({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await fu(r),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv=new Map;function ai(e){_i(e instanceof Function,"Expected a class definition");let t=hv.get(e);return t?(_i(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,hv.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}XI.type="NONE";const fv=XI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(e,t,n){return`firebase:${e}:${t}:${n}`}class Sr{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=xc(this.userKey,s.apiKey,r),this.fullPersistenceKey=xc("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Os._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new Sr(ai(fv),t,i);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=s[0]||ai(fv);const o=xc(i,t.config.apiKey,t.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=Os._fromJSON(t,u);c!==r&&(a=h),r=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new Sr(r,t,i):(r=l[0],a&&await r._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==r)try{await c._remove(o)}catch{}})),new Sr(r,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(tT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(JI(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(nT(t))return"Blackberry";if(iT(t))return"Webos";if(am(t))return"Safari";if((t.includes("chrome/")||ZI(t))&&!t.includes("edge/"))return"Chrome";if(eT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function JI(e=De()){return/firefox\//i.test(e)}function am(e=De()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ZI(e=De()){return/crios\//i.test(e)}function tT(e=De()){return/iemobile/i.test(e)}function eT(e=De()){return/android/i.test(e)}function nT(e=De()){return/blackberry/i.test(e)}function iT(e=De()){return/webos/i.test(e)}function Sh(e=De()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function NL(e=De()){var t;return Sh(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function LL(){return lC()&&document.documentMode===10}function sT(e=De()){return Sh(e)||eT(e)||iT(e)||nT(e)||/windows phone/i.test(e)||tT(e)}function VL(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(e,t=[]){let n;switch(e){case"Browser":n=dv(De());break;case"Worker":n=`${dv(De())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${io}/${i}`}async function oT(e,t){return fo(e,"GET","/v2/recaptchaConfig",ho(e,t))}function pv(e){return e!==void 0&&e.enterprise!==void 0}class aT{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function lT(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=s=>{const r=Hn("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",FL().appendChild(i)})}function BL(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const UL="https://www.google.com/recaptcha/enterprise.js?render=",zL="recaptcha-enterprise",jL="NO_RECAPTCHA";class cT{constructor(t){this.type=zL,this.auth=rr(t)}async verify(t="verify",n=!1){async function i(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,a)=>{oT(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new aT(l);return r.tenantId==null?r._agentRecaptchaConfig=c:r._tenantRecaptchaConfigs[r.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(r,o,a){const l=window.grecaptcha;pv(l)?l.enterprise.ready(()=>{l.enterprise.execute(r,{action:t}).then(c=>{o(c)}).catch(()=>{o(jL)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((r,o)=>{i(this.auth).then(a=>{if(!n&&pv(window.grecaptcha))s(a,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}lT(UL+a).then(()=>{s(a,r,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function du(e,t,n,i=!1){const s=new cT(e);let r;try{r=await s.verify(n)}catch{r=await s.verify(n,!0)}const o=Object.assign({},t);return i?Object.assign(o,{captchaResp:r}):Object.assign(o,{captchaResponse:r}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=r=>new Promise((o,a)=>{try{const l=t(r);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(t,n,i,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gv(this),this.idTokenSubscription=new gv(this),this.beforeStateQueue=new $L(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ai(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Sr.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return rt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await fu(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=AL()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?se(t):null;return n&&rt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&rt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ai(t))})}async initializeRecaptchaConfig(){const t=await oT(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new aT(t);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new cT(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new tr("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ai(t)||this._popupRedirectResolver;rt(n,this,"argument-error"),this.redirectPersistenceManager=await Sr.create(this,[ai(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return rt(o,this,"internal-error"),o.then(()=>r(this.currentUser)),typeof n=="function"?t.addObserver(n,i,s):t.addObserver(n)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return rt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=rT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&_L(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function rr(e){return se(e)}class gv{constructor(t){this.auth=t,this.observer=null,this.addObserver=pC(n=>this.observer=n)}get next(){return rt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WL(e,t){const n=er(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(va(r,t??{}))return s;dn(s,"already-initialized")}return n.initialize({options:t})}function qL(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(ai);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function KL(e,t,n){const i=rr(e);rt(i._canInitEmulator,i,"emulator-config-failed"),rt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),r=uT(t),{host:o,port:a}=GL(t),l=a===null?"":`:${a}`;i.config.emulator={url:`${r}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||QL()}function uT(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function GL(e){const t=uT(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:mv(i.substr(r.length+1))}}else{const[r,o]=i.split(":");return{host:r,port:mv(o)}}}function mv(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function QL(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return oi("not implemented")}_getIdTokenResponse(t){return oi("not implemented")}_linkToIdToken(t,n){return oi("not implemented")}_getReauthenticationResolver(t){return oi("not implemented")}}async function YL(e,t){return fo(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Af(e,t){return yl(e,"POST","/v1/accounts:signInWithPassword",ho(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XL(e,t){return yl(e,"POST","/v1/accounts:signInWithEmailLink",ho(e,t))}async function JL(e,t){return yl(e,"POST","/v1/accounts:signInWithEmailLink",ho(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La extends lm{constructor(t,n,i,s=null){super("password",i),this._email=t,this._password=n,this._tenantId=s}static _fromEmailAndPassword(t,n){return new La(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new La(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){var n;switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=t._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const s=await du(t,i,"signInWithPassword");return Af(t,s)}else return Af(t,i).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const r=await du(t,i,"signInWithPassword");return Af(t,r)}else return Promise.reject(s)});case"emailLink":return XL(t,{email:this._email,oobCode:this._password});default:dn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":return YL(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return JL(t,{idToken:n,email:this._email,oobCode:this._password});default:dn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kr(e,t){return yl(e,"POST","/v1/accounts:signInWithIdp",ho(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL="http://localhost";class Ws extends lm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ws(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):dn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s}=n,r=im(n,["providerId","signInMethod"]);if(!i||!s)return null;const o=new Ws(i,s);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return kr(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,kr(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,kr(t,n)}buildRequest(){const t={requestUri:ZL,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Za(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eV(e){const t=ko(Po(e)).link,n=t?ko(Po(t)).deep_link_id:null,i=ko(Po(e)).deep_link_id;return(i?ko(Po(i)).link:null)||i||n||t||e}class cm{constructor(t){var n,i,s,r,o,a;const l=ko(Po(t)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(i=l.oobCode)!==null&&i!==void 0?i:null,h=tV((s=l.mode)!==null&&s!==void 0?s:null);rt(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(r=l.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){const n=eV(t);try{return new cm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this.providerId=po.PROVIDER_ID}static credential(t,n){return La._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=cm.parseLink(n);return rt(i,"argument-error"),La._fromEmailAndCode(t,i.code,i.tenantId)}}po.PROVIDER_ID="password";po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl extends um{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends vl{constructor(){super("facebook.com")}static credential(t){return Ws._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ri.credentialFromTaggedObject(t)}static credentialFromError(t){return Ri.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ri.credential(t.oauthAccessToken)}catch{return null}}}Ri.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ri.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn extends vl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ws._fromParams({providerId:Bn.PROVIDER_ID,signInMethod:Bn.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Bn.credentialFromTaggedObject(t)}static credentialFromError(t){return Bn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Bn.credential(n,i)}catch{return null}}}Bn.GOOGLE_SIGN_IN_METHOD="google.com";Bn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends vl{constructor(){super("github.com")}static credential(t){return Ws._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Mi.credentialFromTaggedObject(t)}static credentialFromError(t){return Mi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Mi.credential(t.oauthAccessToken)}catch{return null}}}Mi.GITHUB_SIGN_IN_METHOD="github.com";Mi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends vl{constructor(){super("twitter.com")}static credential(t,n){return Ws._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Oi.credentialFromTaggedObject(t)}static credentialFromError(t){return Oi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Oi.credential(n,i)}catch{return null}}}Oi.TWITTER_SIGN_IN_METHOD="twitter.com";Oi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wf(e,t){return yl(e,"POST","/v1/accounts:signUp",ho(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,s=!1){const r=await Os._fromIdTokenResponse(t,i,s),o=_v(i);return new qs({user:r,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const s=_v(i);return new qs({user:t,providerId:s,_tokenResponse:i,operationType:n})}}function _v(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends Pn{constructor(t,n,i,s){var r;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,pu.prototype),this.customData={appName:t.name,tenantId:(r=t.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,s){return new pu(t,n,i,s)}}function hT(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?pu._fromErrorAndOperation(e,r,t,i):r})}async function nV(e,t,n=!1){const i=await Da(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return qs._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iV(e,t,n=!1){const{auth:i}=e,s="reauthenticate";try{const r=await Da(e,hT(i,s,t,e),n);rt(r.idToken,i,"internal-error");const o=om(r.idToken);rt(o,i,"internal-error");const{sub:a}=o;return rt(e.uid===a,i,"user-mismatch"),qs._forOperation(e,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&dn(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fT(e,t,n=!1){const i="signIn",s=await hT(e,i,t),r=await qs._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(r.user),r}async function sV(e,t){return fT(rr(e),t)}async function rV(e,t,n){var i;const s=rr(e),r={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((i=s._getRecaptchaConfig())===null||i===void 0)&&i.emailPasswordEnabled){const c=await du(s,r,"signUpPassword");o=wf(s,c)}else o=wf(s,r).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const u=await du(s,r,"signUpPassword");return wf(s,u)}else return Promise.reject(c)});const a=await o.catch(c=>Promise.reject(c)),l=await qs._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(l.user),l}function oV(e,t,n){return sV(se(e),po.credential(t,n))}function aV(e,t,n,i){return se(e).onIdTokenChanged(t,n,i)}function lV(e,t,n){return se(e).beforeAuthStateChanged(t,n)}function cV(e,t,n,i){return se(e).onAuthStateChanged(t,n,i)}function uV(e){return se(e).signOut()}const gu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gu,"1"),this.storage.removeItem(gu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hV(){const e=De();return am(e)||Sh(e)}const fV=1e3,dV=10;class pT extends dT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=hV()&&VL(),this.fallbackToPolling=sT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&t(n,s,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(i);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},r=this.storage.getItem(i);LL()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,dV):s()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},fV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}pT.type="LOCAL";const pV=pT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT extends dT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}gT.type="SESSION";const mT=gT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const i=new kh(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:s,data:r}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,r)),l=await gV(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,o;return new Promise((a,l)=>{const c=hm("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(f.data.response);break;default:clearTimeout(u),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wn(){return window}function _V(e){Wn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(){return typeof Wn().WorkerGlobalScope<"u"&&typeof Wn().importScripts=="function"}async function yV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vV(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function bV(){return _T()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="firebaseLocalStorageDb",AV=1,mu="firebaseLocalStorage",vT="fbase_key";class bl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ph(e,t){return e.transaction([mu],t?"readwrite":"readonly").objectStore(mu)}function wV(){const e=indexedDB.deleteDatabase(yT);return new bl(e).toPromise()}function Hd(){const e=indexedDB.open(yT,AV);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(mu,{keyPath:vT})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(mu)?t(i):(i.close(),await wV(),t(await Hd()))})})}async function yv(e,t,n){const i=Ph(e,!0).put({[vT]:t,value:n});return new bl(i).toPromise()}async function EV(e,t){const n=Ph(e,!1).get(t),i=await new bl(n).toPromise();return i===void 0?null:i.value}function vv(e,t){const n=Ph(e,!0).delete(t);return new bl(n).toPromise()}const IV=800,TV=3;class bT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>TV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _T()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kh._getInstance(bV()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await yV(),!this.activeServiceWorker)return;this.sender=new mV(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||vV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Hd();return await yv(t,gu,"1"),await vv(t,gu),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>yv(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>EV(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>vv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const r=Ph(s,!1).getAll();return new bl(r).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:s,value:r}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),IV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bT.type="LOCAL";const xV=bT;new _l(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(e,t){return t?ai(t):(rt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm extends lm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return kr(t,this._buildIdpRequest())}_linkToIdToken(t,n){return kr(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return kr(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function SV(e){return fT(e.auth,new fm(e),e.bypassAuthState)}function kV(e){const{auth:t,user:n}=e;return rt(n,t,"internal-error"),iV(n,new fm(e),e.bypassAuthState)}async function PV(e){const{auth:t,user:n}=e;return rt(n,t,"internal-error"),nV(n,new fm(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(t,n,i,s,r=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return SV;case"linkViaPopup":case"linkViaRedirect":return PV;case"reauthViaPopup":case"reauthViaRedirect":return kV;default:dn(this.auth,"internal-error")}}resolve(t){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CV=new _l(2e3,1e4);async function ET(e,t,n){const i=rr(e);yL(e,t,um);const s=AT(i,n);return new Ts(i,"signInViaPopup",t,s).executeNotNull()}class Ts extends wT{constructor(t,n,i,s,r){super(t,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,Ts.currentPopupAction&&Ts.currentPopupAction.cancel(),Ts.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return rt(t,this.auth,"internal-error"),t}async onExecution(){_i(this.filter.length===1,"Popup operations only handle one event");const t=hm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Hn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ts.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,CV.get())};t()}}Ts.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV="pendingRedirect",Sc=new Map;class MV extends wT{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Sc.get(this.auth._key());if(!t){try{const i=await OV(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Sc.set(this.auth._key(),t)}return this.bypassAuthState||Sc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OV(e,t){const n=LV(t),i=NV(e);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function DV(e,t){Sc.set(e._key(),t)}function NV(e){return ai(e._redirectPersistence)}function LV(e){return xc(RV,e.config.apiKey,e.name)}async function VV(e,t,n=!1){const i=rr(e),s=AT(i,t),o=await new MV(i,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV=10*60*1e3;class BV{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!UV(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!IT(t)){const s=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Hn(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=FV&&this.cachedEventUids.clear(),this.cachedEventUids.has(bv(t))}saveEventToCache(t){this.cachedEventUids.add(bv(t)),this.lastProcessedEventTime=Date.now()}}function bv(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function IT({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function UV(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IT(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zV(e,t={}){return fo(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$V=/^https?/;async function HV(e){if(e.config.emulator)return;const{authorizedDomains:t}=await zV(e);for(const n of t)try{if(WV(n))return}catch{}dn(e,"unauthorized-domain")}function WV(e){const t=$d(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!$V.test(n))return!1;if(jV.test(e))return i===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=new _l(3e4,6e4);function Av(){const e=Wn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function KV(e){return new Promise((t,n)=>{var i,s,r;function o(){Av(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Av(),n(Hn(e,"network-request-failed"))},timeout:qV.get()})}if(!((s=(i=Wn().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((r=Wn().gapi)===null||r===void 0)&&r.load)o();else{const a=BL("iframefcb");return Wn()[a]=()=>{gapi.load?o():n(Hn(e,"network-request-failed"))},lT(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw kc=null,t})}let kc=null;function GV(e){return kc=kc||KV(e),kc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV=new _l(5e3,15e3),YV="__/auth/iframe",XV="emulator/auth/iframe",JV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tF(e){const t=e.config;rt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?rm(t,XV):`https://${e.config.authDomain}/${YV}`,i={apiKey:t.apiKey,appName:e.name,v:io},s=ZV.get(e.config.apiHost);s&&(i.eid=s);const r=e._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${Za(i).slice(1)}`}async function eF(e){const t=await GV(e),n=Wn().gapi;return rt(n,e,"internal-error"),t.open({where:document.body,url:tF(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JV,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const o=Hn(e,"network-request-failed"),a=Wn().setTimeout(()=>{r(o)},QV.get());function l(){Wn().clearTimeout(a),s(i)}i.ping(l).then(l,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iF=500,sF=600,rF="_blank",oF="http://localhost";class wv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aF(e,t,n,i=iF,s=sF){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},nF),{width:i.toString(),height:s.toString(),top:r,left:o}),c=De().toLowerCase();n&&(a=ZI(c)?rF:n),JI(c)&&(t=t||oF,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[d,p])=>`${f}${d}=${p},`,"");if(NL(c)&&a!=="_self")return lF(t||"",a),new wv(null);const h=window.open(t||"",a,u);rt(h,e,"popup-blocked");try{h.focus()}catch{}return new wv(h)}function lF(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF="__/auth/handler",uF="emulator/auth/handler",hF=encodeURIComponent("fac");async function Ev(e,t,n,i,s,r){rt(e.config.authDomain,e,"auth-domain-config-required"),rt(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:io,eventId:s};if(t instanceof um){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",dC(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,h]of Object.entries(r||{}))o[u]=h}if(t instanceof vl){const u=t.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await e._getAppCheckToken(),c=l?`#${hF}=${encodeURIComponent(l)}`:"";return`${fF(e)}?${Za(a).slice(1)}${c}`}function fF({config:e}){return e.emulator?rm(e,uF):`https://${e.authDomain}/${cF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef="webStorageSupport";class dF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mT,this._completeRedirectFn=VV,this._overrideRedirectResult=DV}async _openPopup(t,n,i,s){var r;_i((r=this.eventManagers[t._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await Ev(t,n,i,$d(),s);return aF(t,o,hm())}async _openRedirect(t,n,i,s){await this._originValidation(t);const r=await Ev(t,n,i,$d(),s);return _V(r),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(_i(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await eF(t),i=new BV(t);return n.register("authEvent",s=>(rt(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Ef,{type:Ef},s=>{var r;const o=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[Ef];o!==void 0&&n(!!o),dn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=HV(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return sT()||am()||Sh()}}const pF=dF;var Iv="@firebase/auth",Tv="1.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gF{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){rt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mF(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function _F(e){Gn(new xn("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),r=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;rt(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rT(e)},c=new HL(i,s,r,l);return qL(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Gn(new xn("auth-internal",t=>{const n=rr(t.getProvider("auth").getImmediate());return(i=>new gF(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fn(Iv,Tv,mF(e)),fn(Iv,Tv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yF=5*60,vF=qA("authIdTokenMaxAge")||yF;let xv=null;const bF=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>vF)return;const s=n==null?void 0:n.token;xv!==s&&(xv=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function AF(e=Xp()){const t=er(e,"auth");if(t.isInitialized())return t.getImmediate();const n=WL(e,{popupRedirectResolver:pF,persistence:[xV,pV,mT]}),i=qA("authTokenSyncURL");if(i){const r=bF(i);lV(n,r,()=>r(n.currentUser)),aV(n,o=>r(o))}const s=HA("auth");return s&&KL(n,`http://${s}`),n}_F("Browser");const wF={apiKey:"AIzaSyDPHqqYyhuEJ7fIpRksToVYC5zbM1onZ3w",authDomain:"flex-fa8c8.firebaseapp.com",projectId:"flex-fa8c8",storageBucket:"flex-fa8c8.appspot.com",messagingSenderId:"824163771541",appId:"1:824163771541:web:83622e1bb9f3aada3f679c",measurementId:"G-SY23L7GKQC"},EF=JA(wF),Ks=GN();t2(EF);const Ue=AF(),Sv=(e,t)=>fL(ml(bh(Ks,"users"),e),t),IF=(e,t)=>em(FI(ml(Ks,"users",e)),t),TF=e=>$I(bh(Ks,"routines"),e),xF=(e,t)=>em(FI(bh(Ks,"routines"),aL("uid","==",e)),t),SF=async(e,t)=>{const n=await $I(bh(Ks,"exercises"),e);await dL(ml(Ks,"routines",t),{exercises:gL(n.id)})},kF=(e,t)=>em(ml(Ks,"exercises",e),t),Ch=Fk("user",()=>{const e=kt("");return{username:e,logout:()=>{e.value=null},showUser:()=>{console.log({username:e.value})}}});const PF={class:"view"},CF={key:1,class:"footer"},RF={__name:"App",setup(e){const t=BA(),n=Gp(),i=Ch(),s=["workouts","stats","user"],r=kt(!1);return Fu(()=>{cV(Ue,o=>{o?(r.value=!0,IF(Ue.currentUser.uid,a=>{i.username=a.data()?a.data().username:Ue.currentUser.displayName}),n.push({path:"/workouts"})):(r.value=!1,n.push({path:"/"}))})}),(o,a)=>(Et(),Ft(xe,null,[s.includes(ce(t).name)?(Et(),wr(QP,{key:0,title:ce(t).name},null,8,["title"])):Or("",!0),O("div",PF,[Mt(ce(FA),null,{default:Vs(({Component:l,route:c})=>[(Et(),wr(IS(l)))]),_:1})]),r.value?(Et(),Ft("div",CF,[Mt($P)])):Or("",!0)],64))}},MF=pn(RF,[["__scopeId","data-v-5fe654d8"]]);const OF=e=>(Js("data-v-d2ad9a4c"),e=e(),Zs(),e),DF={class:"page"},NF=OF(()=>O("header",{class:"center"},[O("img",{src:UA,alt:"FLEX",class:"w-32"}),O("h1",null,"FLEX"),O("p",null,"Sculpt your success")],-1)),LF={__name:"Home",setup(e){return(t,n)=>(Et(),Ft("div",DF,[NF,Mt(ce(Fr),{class:"button signup",to:"/signup"},{default:Vs(()=>[ed(" Sign-Up ")]),_:1}),Mt(ce(Fr),{class:"button login",to:"/login"},{default:Vs(()=>[ed(" Log-in ")]),_:1})]))}},VF=pn(LF,[["__scopeId","data-v-d2ad9a4c"]]);const Al=e=>(Js("data-v-36b09557"),e=e(),Zs(),e),FF={class:"page"},BF=Al(()=>O("header",{class:"center"},[O("h1",null,"Welcome!"),O("h3",null,"SignUp to create an account")],-1)),UF={class:"field"},zF={class:"field"},jF={class:"field"},$F=["type"],HF={class:"field"},WF=["type"],qF=Al(()=>O("hr",null,null,-1)),KF={key:0},GF=Al(()=>O("p",null,"continue with Google",-1)),QF=Al(()=>O("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/706px-Google_%22G%22_Logo.svg.png",className:"w-8"},null,-1)),YF=[GF,QF],XF=Al(()=>O("p",null,"back",-1)),JF={__name:"Signup",setup(e){const t=Gp(),n=Ch(),i=kt(""),s=kt(""),r=kt(""),o=kt(""),a=kt(!1),l=kt(!1),c=()=>{r.value==o.value?rV(Ue,s.value,r.value).then(h=>{Sv(Ue.currentUser.uid,{username:i.value}),n.username.value=i.value,t.push({path:"/workouts"})}).catch(h=>{l.value=!0}):(l.value=!0,r.value="",o.value="")},u=()=>{ET(Ue,new Bn).then(h=>{Sv(Ue.currentUser.uid,{username:Ue.currentUser.displayName}),n.username.value=Ue.currentUser.displayName}).catch(h=>{l.value=!0})};return(h,f)=>{const d=Bp("font-awesome-icon");return Et(),Ft("div",FF,[BF,O("div",UF,[cn(O("input",{placeholder:"username",type:"username","onUpdate:modelValue":f[0]||(f[0]=p=>i.value=p)},null,512),[[Vn,i.value]])]),O("div",zF,[cn(O("input",{placeholder:"email",type:"email","onUpdate:modelValue":f[1]||(f[1]=p=>s.value=p)},null,512),[[Vn,s.value]])]),O("div",jF,[cn(O("input",{placeholder:"password",type:a.value?"text":"password","onUpdate:modelValue":f[2]||(f[2]=p=>r.value=p)},null,8,$F),[[id,r.value]]),Mt(d,{class:"eye",icon:a.value?"eye-slash":"eye",onClick:f[3]||(f[3]=p=>a.value=!a.value),alt:"eyePassword"},null,8,["icon"])]),O("div",HF,[cn(O("input",{placeholder:"confirm password",type:a.value?"text":"password","onUpdate:modelValue":f[4]||(f[4]=p=>o.value=p)},null,8,WF),[[id,o.value]])]),O("button",{class:"login",onClick:f[5]||(f[5]=p=>c())},"SignUp"),qF,l.value?(Et(),Ft("h3",KF,"Vaya, ha ocurrido un error...")):Or("",!0),O("button",{class:"google",onClick:u},YF),Mt(ce(Fr),{to:"/"},{default:Vs(()=>[XF]),_:1})])}}},ZF=pn(JF,[["__scopeId","data-v-36b09557"]]);const wl=e=>(Js("data-v-3e8a0e07"),e=e(),Zs(),e),t4={class:"page"},e4=wl(()=>O("header",{class:"center"},[O("h1",null,"Welcome!"),O("h3",null,"Login to start using Flex")],-1)),n4={class:"field"},i4={class:"field"},s4=["type"],r4=wl(()=>O("hr",null,null,-1)),o4={key:0},a4=wl(()=>O("p",null,"continue with Google",-1)),l4=wl(()=>O("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/706px-Google_%22G%22_Logo.svg.png",className:"w-8"},null,-1)),c4=[a4,l4],u4=wl(()=>O("p",null,"back",-1)),h4={__name:"Login",setup(e){Gp();const t=kt(""),n=kt(""),i=kt(!1),s=kt(!1),r=()=>{oV(Ue,t.value,n.value).then(o=>{}).catch(o=>{s.value=!0})};return(o,a)=>{const l=Bp("font-awesome-icon");return Et(),Ft("div",t4,[e4,O("div",n4,[cn(O("input",{placeholder:"email",type:"text","onUpdate:modelValue":a[0]||(a[0]=c=>t.value=c)},null,512),[[Vn,t.value]])]),O("div",i4,[cn(O("input",{placeholder:"password",type:i.value?"text":"password","onUpdate:modelValue":a[1]||(a[1]=c=>n.value=c)},null,8,s4),[[id,n.value]]),Mt(l,{class:"eye",icon:i.value?"eye-slash":"eye",onClick:a[2]||(a[2]=c=>i.value=!i.value),alt:"eyePassword"},null,8,["icon"])]),O("button",{class:"login",onClick:a[3]||(a[3]=c=>r())},"LogIn"),r4,s.value?(Et(),Ft("h3",o4,"Vaya, ha ocurrido un error...")):Or("",!0),O("button",{class:"google",onClick:a[4]||(a[4]=c=>ce(ET)(ce(Ue),new ce(Bn)()))},c4),Mt(ce(Fr),{class:"absolute bottom-12",to:"/"},{default:Vs(()=>[u4]),_:1})])}}},f4=pn(h4,[["__scopeId","data-v-3e8a0e07"]]),d4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAA2eSURBVHhe7d3bjttGFgXQli+JE8Tzu/Yn2N8bZJyLnZ5SRCB2j9ySKF7q1F4LMEg9BAjI6jq7TpHSAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAOg7TEbr2+OHhcTqF7h3em1vpn0HKrhR2kgkK7MngYxMKPVxPMGALBhmrUPBhOQIBazCoWISCD9sRCFiCQcQsCj70QyBgDoOGqyn60D9hgGsZKFyk8EM9ggCXGCCcpejDOIQBzjEo+IbCD+MSBPiawcDRi1b4v0znQABhAAMgmNU+IAjkcuMDKfzAU4JAHjc8iMIPXCII5HgxHRnbcY9f8QcumuYKtSGApDc4hR+YSzdgbG7uoBR+YCmCwJi0ecbzWvEHljTNKa9OnxiFVDcQhR9Ym27AONzIASj8wNYEgfrcwOIUf2AvQkBtngGo66XiD+xpmoNenj5RjfRWkMIP9EY3oB43rBjFH+iVEFCLLYA6tPyBrtkSqEVaK0DhB6rRDeifG9Q5xR+oSgjom5vTMcUfqE4I6Jcb0ynFHxiFENAnDwH256D4AyOZ5jT1pjNuSF+OP+Tz93QOMIw2t31pBz8o1BEBoB8/tD+QP6dzgOG0Oe6vdnhz+sTeBIA+/Nz+MP6YzgGG1ea6T+3wy+kTexIA9ve2/UH8Np0DDK/Neb+2w9vTJ/biycx9HVf+ij8Q6fD+n06AOXAnAsB+jnv+2v5AtBYCjs8EmAt3IADs4/i9/p+nc4BoLQS8bgdz4sYEgO29aMX/+DoMAJMWAo4/IuQ16A0JABtrxd+X/ACc4RsDt+Vib0jxB3ieELAdF3ojij/AdYSAbbjIG1D8AW4jBKzPBV6Z4g8wjxCwLt8EuC7XF2C+45sBrES6WpHVP8B9dAHW48KuRPEHWIYQsA4XdQWKP8CyhIDl2aNenmsKsDzPAyxMolqY1T/AOnQBluViLkjxB1iXELAc7eqFKP4Am/hpOnInAQCAMtpi67/TKXfSSlmA1T/AtmwF3E8H4H6vpiMA2zH33kmCupPVP8A+dAHu4+LdQfEH2JcQMJ8tAAAIJDnNZPUP0AddgHl0AOZx3QD6IQDM4KLNYPUP0BddgNu5YDdS/AH6JATcRisbAAJJSzew+gfomy7A9XQAACCQpHQlq3+AGnQBrqMDAACBBIDrSJMAdahtV1DYrqD9D1CLbYDLpCQACCQhXWD1D1CTLsDzdAAAIJB09Ayrf4DadAG+TwcAAAIJAAAQSGvkO7T/AcZgG+A8HQAACCQAnGH1D8DoBAAAhmZRd54AAACBPBjxhKQIMCYPA35LBwAAAgkAABBIAACAQPZDvmL/H2BsngP4lw4AAAQSAAAgkAAAAIHshUzs/wNk8BzAiQ4AAAQSAAAgkAAAAIHsgzT2/wGyeA5ABwAAIgkAABBIAACAQAIAAAQSAAAgUPxTkN4AAMiU/iaADgAABBIAACCQAAAAgQQAAAgkAABAIAEAAAIJAJDo3eO3/4A4vgfA9wCQ4NYi/9EPhTI+3wMAjGvuCl9nAIYXHQCs/hnaEgVcCIBhRbc/BACGtFbRti3AgJK3AWwBwEjWXLHrBsBQBAAYxRYFWgiAYQgAABBIAIARbLky1wWAIQgAUN0eBVkIgPIEAAAIJABAZXuuxHUBoDQBAAACCQAAEEgAAIBAAgBU1cMevOcAoCwBAAACCQAAEEgAAIBAAgAABBIAACCQAAAAgQQAAAgkAABAIAEAAAIJAAAQSAAAgEACAAAEEgAAIJAAAACBBAAACCQAAEAgAQAAAgkAABBIAACAQAIAAAQSAAAgkAAAAIEEAAAIJAAAQCABAAACCQAAEEgAAIBAAgAABBIAACCQAAAAgQQAAAgkAABAIAEAAAIJAAAQSAAAgEACAAAEEgAAIJAAAACBBAAACCQAAEAgAQAAAgkAABBIAACAQAIAAAQSAAAgkAAAAIEEAAAIJAAAQCABAAACCQAAEEgAAIBAAgAABBIAACCQAAAAgQQAAAgkAABAoMN0jPT44eFxOmU079xaFvQxeqoc2uF9bh0UABiDgs+WBIJhJAcAWwDUdiz8ij9bM+4YgABAXSZg9mYMUpgAQD1WX/TEeKQoAYBaTLT0ytikGAGAOkyw9M4YpRABAAACCQDUYGVFFcYqRQgA9M+ESjXGLAUIAAAQSACgb1ZSVGXs0jkBAAACCQAAEEgAAIBAAgD9sodKdcYwHRMAACCQAAAAgQQAAAgkANCvj4fpBIoyhumYAAAAgQQAAAgkAABAIAGAvtlDpSpjl84JAAAQSACgf1ZSVGPMUoAAQA0mVKowVilCAACAQAIAdVhZ0TtjlEIEAGoxwdIrY5NiBADqOU60Jlt6YTxSlABAXSZd9mYMUpgAQG1WX+zBuGMA0SP48cPD43TKaN65tSxIsR/W4X1uHRQAoKpeQo7iSGHJAcAWAAAEEgAAIJAAAACBBAAACCQAAEAgAQAAAgkAABBIAACAQAIAAAQSAAAgkAAAAIEEAAAIJAAAQCABAAACCQAAEEgAAIBAAgAABBIAACCQAAAAgQQAAAgkAABAIAEAAAIJAAAQSAAAgEACAAAEEgAAIJAAAACBBAAACCQAAEAgAQAAAgkAABBIAACAQAIAAAQSAAAgkAAAAIEEAAAIJAAAQCABAAACCQAAEEgAAIBAAgAABBIAACCQAAAAgQQAAAgkAABAIAEAAAIJAAAQSAAAgEACAAAEEgAAIJAAAACBBAAACCQAAEAgAQAAAgkAABBIAACAQAIAVPXxMJ3sqIf/B2AWAQAAAgkAABBIAACAQAIAVLbnHrz9fyhNAACAQAIAVLfHStzqH8oTAGAEWxZkxR+GIAAAQCABAEaxxcrc6h+GIQDASNYs0Io/DCX6L/rxw8PjdArjebfQ8Fb4GdThfXYNjO4ApN98BrdE4Vb8YVi2AGBkxwI+p4jP/e+AMuL/wm0DEOnp9oBiT6D0LrAAIAAARPIMAAAQRwAAgEACAAAEEgAAIJAAAACBBAAACOTl38argABZfBOsDgAARBIAACCQAAAAgQQAAAgkAABAIG8BTLwJAJDBGwAnOgAAEEgAAIBAAgAABLIP8hXPAQCMzf7/v3QAACCQAAAAgQQAAAhkL+QJzwEAjMn+/7d0AAAgkAAAAIEEAAAIZD/kDM8BAIzF/v//0wEAgEACAABDs/o/TwA4w2ABYHQCAAAEstJ9hocBAWrT0f0+HQAACCQAAEAgrZELbAMA1KT9/zwdAAAIJB1dQRcAoBar/8t0AAAgkABwhZYkXSeAIszZ13GRrmMLAKAOc/YVBAAACOQhiRt4GBCgbx7+u54OAAAEkpRupAsA0Cer/9voAABAIGlpBl0AgL5Y/d9OB2AG75gC9MOcPI+LNo8OAEA/zMkzaJncwVYAwL60/ufTAQCAQJLTnXQBAPZh9X8fHYA7tQH4ejoFYCNt7n01nTKTAHC/z9MRgO18mY7MpH2yEFsBANvQ+l+GDgAAZbTi/9N0yp0EgIVIpACb+H06cidFa2G2AgDWYaG1LB2AhbUB+nI6BWAhbW711P/CBIDl/T0dAViOp/4Xpp2yElsBAMvQ+l+Hi7oiIQDgPor/emwBrMjzAADz2fdflwCwLs8DAMxn339FWisbsBUAcBut//W5wBsRAgCuo/hvw0XekBAA8DzFfzsu9MaEAIDzFP9teQhwY22AezMA4Ik2N6pHG3PBt/d3G+hebQGYtDnxdTvojm5MANjHlzbgf5zOAWK1ufBNO3w+fWJLAsB+/mwD/+fpHCBOmwN/aYc/Tp/YmgCwr0/tD+A/0zlAjDb3vW2H306f2IMnLvvw4+OHh9+nc4ChTd3PT6dP7EUA6McPLQRohQFDa8X/uOdvruuAANCXVy0E/DWdAwylFf/jG1C+378TAkB/Di0E+BEhYCit+B+/A8Xc1hEBoFO+MRAYRSv+ak2H3JSOCQFAdYp/v9yYzgkBQFWKf9/cnAKEAKAaxb9/blAdHg4EuudhvzoEgGJ0A4BeWfXX4mYVJAQAvVH863HD6rIlAOxOy78uAaA43QBgL1b9tbl5Y3jTgoAf1gA20Qr/8Wd8/ZJfcQLAQHQDgLVZ9Y/DjRzPyxYEPk/nAItohd8P+QxGABiUbgCwFKv+MbmpgxMEgLkU/rG5uRm8MghcrRX+F+1g8TA4ASCIbgBwiVV/Djc6kCAAPKXw53HDgwkCgMKfy43nH8IAZFH4MQD4hiAA41L0+ZrBwFmCAIxD4eccg4KLhAGoR9HnEgOEmwgD0C9Fn1sYLMwiCEA/FH7mMGhYhEAA21HwWYJBxCoEAliOgs8aDCo2IRDA9RR8tmCQsSvBgGQKPXsy+ChBUKAShR0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgFgPD/8DZqUz3JyENfkAAAAASUVORK5CYII=",TT="/Flex/assets/addExe-bbc541e7.png";const dm=e=>(Js("data-v-ab0e3cc1"),e=e(),Zs(),e),p4={class:"center exeCard"},g4={class:"text-xl self-start"},m4={class:"props"},_4={class:"prop-cont"},y4=dm(()=>O("p",null,"Series",-1)),v4={class:"prop-cont"},b4=dm(()=>O("p",null,"Reps",-1)),A4={class:"prop-cont"},w4=dm(()=>O("p",null,"Weight",-1)),E4={__name:"ExeCard",props:{name:"Exercise",series:0,reps:"0",weight:"0"},setup(e){const t=e;return(n,i)=>(Et(),Ft("div",p4,[O("h3",g4,_n(t.name),1),O("div",m4,[O("div",_4,[y4,O("p",null,_n(t.series),1)]),O("div",v4,[b4,O("p",null,_n(t.reps),1)]),O("div",A4,[w4,O("p",null,_n(t.weight),1)])])]))}},I4=pn(E4,[["__scopeId","data-v-ab0e3cc1"]]);function T4(e){return xp()?(D0(e),!0):!1}function xT(e){return typeof e=="function"?e():ce(e)}const ST=typeof window<"u",Wd=()=>{},x4=S4();function S4(){var e;return ST&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent)}function No(e){var t;const n=xT(e);return(t=n==null?void 0:n.$el)!=null?t:n}const kT=ST?window:void 0;function If(...e){let t,n,i,s;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,i,s]=e,t=kT):[t,n,i,s]=e,!t)return Wd;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const r=[],o=()=>{r.forEach(u=>u()),r.length=0},a=(u,h,f,d)=>(u.addEventListener(h,f,d),()=>u.removeEventListener(h,f,d)),l=ji(()=>[No(t),xT(s)],([u,h])=>{o(),u&&r.push(...n.flatMap(f=>i.map(d=>a(u,f,d,h))))},{immediate:!0,flush:"post"}),c=()=>{l(),o()};return T4(c),c}let kv=!1;function Pv(e,t,n={}){const{window:i=kT,ignore:s=[],capture:r=!0,detectIframe:o=!1}=n;if(!i)return;x4&&!kv&&(kv=!0,Array.from(i.document.body.children).forEach(f=>f.addEventListener("click",Wd)),i.document.documentElement.addEventListener("click",Wd));let a=!0;const l=f=>s.some(d=>{if(typeof d=="string")return Array.from(i.document.querySelectorAll(d)).some(p=>p===f.target||f.composedPath().includes(p));{const p=No(d);return p&&(f.target===p||f.composedPath().includes(p))}}),u=[If(i,"click",f=>{const d=No(e);if(!(!d||d===f.target||f.composedPath().includes(d))){if(f.detail===0&&(a=!l(f)),!a){a=!0;return}t(f)}},{passive:!0,capture:r}),If(i,"pointerdown",f=>{const d=No(e);d&&(a=!f.composedPath().includes(d)&&!l(f))},{passive:!0}),o&&If(i,"blur",f=>{setTimeout(()=>{var d;const p=No(e);((d=i.document.activeElement)==null?void 0:d.tagName)==="IFRAME"&&!(p!=null&&p.contains(i.document.activeElement))&&t(f)},0)})].filter(Boolean);return()=>u.forEach(f=>f())}const as=e=>(Js("data-v-1c5df91d"),e=e(),Zs(),e),k4={class:"page"},P4={class:"selector-container"},C4=["value"],R4={class:"exercises-container"},M4={key:0,class:"modal-bg"},O4=as(()=>O("header",{class:"center"},[O("img",{src:TT,alt:"addExercise"})],-1)),D4={class:"exNameData"},N4=as(()=>O("label",{for:"name"},"Exercise name",-1)),L4={class:"center exercise-data"},V4=as(()=>O("label",{for:"series"},"series",-1)),F4=as(()=>O("label",{for:"reps"},"reps",-1)),B4=as(()=>O("label",{for:"weight"},"weight",-1)),U4={key:0,class:"modal-bg"},z4=as(()=>O("header",{class:"center"},[O("img",{src:TT,alt:"addExercise"})],-1)),j4={class:"exNameData"},$4=as(()=>O("label",{for:"name"},"Workout name",-1)),H4={class:"center frequency"},W4=as(()=>O("h1",null,"Frequency:",-1)),q4={class:"days"},K4=["onClick"],G4={__name:"Workouts",setup(e){Ch();const t=kt([]),n=kt({}),i=kt([]),s=()=>{xF(Ue.currentUser.uid,A=>{A.forEach(w=>{t.value.push({id:w.id,...w.data()})}),t.value[0]&&(n.value=t.value[0])})},r=()=>{i.value=[],n.value[["exercises"]].forEach(A=>{kF(A,w=>{i.value.push({id:w.id,...w.data()})})})};ji(n,A=>r()),Fu(()=>s());const o=kt(!1),a=kt(!1),l=kt(null),c=kt(null);Pv(l,()=>E()),Pv(c,()=>_());const u=kt(""),h=kt(null),f=kt(""),d=kt(""),p=kt(""),g=kt([{name:"M",isSelected:!1},{name:"TU",isSelected:!1},{name:"W",isSelected:!1},{name:"TH",isSelected:!1},{name:"F",isSelected:!1},{name:"SA",isSelected:!1},{name:"SU",isSelected:!1}]),m=()=>{if(p=="")console.log("No ha rellenado el campo");else try{TF({name:p.value,exercises:[],frequency:g.value.filter(A=>A.isSelected).map(A=>A.name),uid:Ue.currentUser.uid}),t.value=[],_()}catch(A){console.log("Error al aadir: ",A)}},_=()=>{a.value=!1,p.value="",g.value.forEach(A=>{A.isSelected=!1})},y=()=>{const A={name:u.value,reps:f.value,series:h.value,weight:d.value};SF(A,n.value.id),t.value=[],E()},E=()=>{o.value=!1,u.value="",h.value=null,f.value="",d.value=""};return(A,w)=>(Et(),Ft(xe,null,[O("div",k4,[O("div",P4,[cn(O("select",{class:"selector","onUpdate:modelValue":w[0]||(w[0]=T=>n.value=T)},[(Et(!0),Ft(xe,null,$o(t.value,T=>(Et(),Ft("option",{value:T},_n(T.name),9,C4))),256))],512),[[wA,n.value]]),O("img",{class:"w-10",src:d4,alt:"add",onClick:w[1]||(w[1]=T=>a.value=!a.value)})]),O("div",R4,[(Et(!0),Ft(xe,null,$o(i.value,T=>(Et(),wr(I4,{name:T.name,series:T.series,reps:T.reps},null,8,["name","series","reps"]))),256)),O("button",{class:"add center",onClick:w[2]||(w[2]=T=>o.value=!o.value)},"add exercise +")])]),(Et(),wr(d_,{to:"#addExercise"},[o.value?(Et(),Ft("div",M4,[O("div",{class:"modal",ref_key:"exeModal",ref:l},[O4,O("div",D4,[N4,cn(O("input",{type:"text",id:"name",placeholder:"Ex: Bench Press","onUpdate:modelValue":w[3]||(w[3]=T=>u.value=T)},null,512),[[Vn,u.value]])]),O("div",L4,[O("div",null,[V4,cn(O("input",{type:"number",id:"series","onUpdate:modelValue":w[4]||(w[4]=T=>h.value=T),placeholder:"0"},null,512),[[Vn,h.value]])]),O("div",null,[F4,cn(O("input",{type:"text",id:"reps","onUpdate:modelValue":w[5]||(w[5]=T=>f.value=T),placeholder:"0-0-0"},null,512),[[Vn,f.value]])]),O("div",null,[B4,cn(O("input",{type:"text",id:"weight","onUpdate:modelValue":w[6]||(w[6]=T=>d.value=T),placeholder:"0"},null,512),[[Vn,d.value]])])]),O("div",{class:"buttons"},[O("button",{onClick:y},"save"),O("button",{onClick:E},"cancel")])],512)])):Or("",!0)])),(Et(),wr(d_,{to:"#addWorkout"},[a.value?(Et(),Ft("div",U4,[O("div",{class:"modal",ref_key:"workModal",ref:c},[z4,O("div",j4,[$4,cn(O("input",{type:"text",id:"name",placeholder:"Ex: Push B","onUpdate:modelValue":w[7]||(w[7]=T=>p.value=T)},null,512),[[Vn,p.value]])]),O("div",H4,[W4,O("div",q4,[(Et(!0),Ft(xe,null,$o(g.value,T=>(Et(),Ft("button",{class:Xa(["day",T.isSelected?"bg-orange":"bg-salmon"]),onClick:S=>T.isSelected=!T.isSelected},_n(T.name),11,K4))),256))])]),O("div",{class:"buttons"},[O("button",{onClick:m},"save"),O("button",{onClick:_},"cancel")])],512)])):Or("",!0)]))],64))}},Q4=pn(G4,[["__scopeId","data-v-1c5df91d"]]);/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function El(e){return e+.5|0}const Ni=(e,t,n)=>Math.max(Math.min(e,n),t);function Lo(e){return Ni(El(e*2.55),0,255)}function Ki(e){return Ni(El(e*255),0,255)}function ei(e){return Ni(El(e/2.55)/100,0,1)}function Cv(e){return Ni(El(e*100),0,100)}const ln={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},qd=[..."0123456789ABCDEF"],Y4=e=>qd[e&15],X4=e=>qd[(e&240)>>4]+qd[e&15],Kl=e=>(e&240)>>4===(e&15),J4=e=>Kl(e.r)&&Kl(e.g)&&Kl(e.b)&&Kl(e.a);function Z4(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&ln[e[1]]*17,g:255&ln[e[2]]*17,b:255&ln[e[3]]*17,a:t===5?ln[e[4]]*17:255}:(t===7||t===9)&&(n={r:ln[e[1]]<<4|ln[e[2]],g:ln[e[3]]<<4|ln[e[4]],b:ln[e[5]]<<4|ln[e[6]],a:t===9?ln[e[7]]<<4|ln[e[8]]:255})),n}const tB=(e,t)=>e<255?t(e):"";function eB(e){var t=J4(e)?Y4:X4;return e?"#"+t(e.r)+t(e.g)+t(e.b)+tB(e.a,t):void 0}const nB=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function PT(e,t,n){const i=t*Math.min(n,1-n),s=(r,o=(r+e/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function iB(e,t,n){const i=(s,r=(s+e/60)%6)=>n-n*t*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function sB(e,t,n){const i=PT(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)i[s]*=1-t-n,i[s]+=t;return i}function rB(e,t,n,i,s){return e===s?(t-n)/i+(t<n?6:0):t===s?(n-e)/i+2:(e-t)/i+4}function pm(e){const n=e.r/255,i=e.g/255,s=e.b/255,r=Math.max(n,i,s),o=Math.min(n,i,s),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=rB(n,i,s,u,r),l=l*60+.5),[l|0,c||0,a]}function gm(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(Ki)}function mm(e,t,n){return gm(PT,e,t,n)}function oB(e,t,n){return gm(sB,e,t,n)}function aB(e,t,n){return gm(iB,e,t,n)}function CT(e){return(e%360+360)%360}function lB(e){const t=nB.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?Lo(+t[5]):Ki(+t[5]));const s=CT(+t[2]),r=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?i=oB(s,r,o):t[1]==="hsv"?i=aB(s,r,o):i=mm(s,r,o),{r:i[0],g:i[1],b:i[2],a:n}}function cB(e,t){var n=pm(e);n[0]=CT(n[0]+t),n=mm(n),e.r=n[0],e.g=n[1],e.b=n[2]}function uB(e){if(!e)return;const t=pm(e),n=t[0],i=Cv(t[1]),s=Cv(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${s}%, ${ei(e.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const Rv={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Mv={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function hB(){const e={},t=Object.keys(Mv),n=Object.keys(Rv);let i,s,r,o,a;for(i=0;i<t.length;i++){for(o=a=t[i],s=0;s<n.length;s++)r=n[s],a=a.replace(r,Rv[r]);r=parseInt(Mv[o],16),e[a]=[r>>16&255,r>>8&255,r&255]}return e}let Gl;function fB(e){Gl||(Gl=hB(),Gl.transparent=[0,0,0,0]);const t=Gl[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const dB=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function pB(e){const t=dB.exec(e);let n=255,i,s,r;if(t){if(t[7]!==i){const o=+t[7];n=t[8]?Lo(o):Ni(o*255,0,255)}return i=+t[1],s=+t[3],r=+t[5],i=255&(t[2]?Lo(i):Ni(i,0,255)),s=255&(t[4]?Lo(s):Ni(s,0,255)),r=255&(t[6]?Lo(r):Ni(r,0,255)),{r:i,g:s,b:r,a:n}}}function gB(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${ei(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Tf=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,hr=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function mB(e,t,n){const i=hr(ei(e.r)),s=hr(ei(e.g)),r=hr(ei(e.b));return{r:Ki(Tf(i+n*(hr(ei(t.r))-i))),g:Ki(Tf(s+n*(hr(ei(t.g))-s))),b:Ki(Tf(r+n*(hr(ei(t.b))-r))),a:e.a+n*(t.a-e.a)}}function Ql(e,t,n){if(e){let i=pm(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=mm(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function RT(e,t){return e&&Object.assign(t||{},e)}function Ov(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Ki(e[3]))):(t=RT(e,{r:0,g:0,b:0,a:1}),t.a=Ki(t.a)),t}function _B(e){return e.charAt(0)==="r"?pB(e):lB(e)}class Va{constructor(t){if(t instanceof Va)return t;const n=typeof t;let i;n==="object"?i=Ov(t):n==="string"&&(i=Z4(t)||fB(t)||_B(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=RT(this._rgb);return t&&(t.a=ei(t.a)),t}set rgb(t){this._rgb=Ov(t)}rgbString(){return this._valid?gB(this._rgb):void 0}hexString(){return this._valid?eB(this._rgb):void 0}hslString(){return this._valid?uB(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,s=t.rgb;let r;const o=n===r?.5:n,a=2*o-1,l=i.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,i.r=255&c*i.r+r*s.r+.5,i.g=255&c*i.g+r*s.g+.5,i.b=255&c*i.b+r*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=mB(this._rgb,t._rgb,n)),this}clone(){return new Va(this.rgb)}alpha(t){return this._rgb.a=Ki(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=El(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Ql(this._rgb,2,t),this}darken(t){return Ql(this._rgb,2,-t),this}saturate(t){return Ql(this._rgb,1,t),this}desaturate(t){return Ql(this._rgb,1,-t),this}rotate(t){return cB(this._rgb,t),this}}/*!
 * Chart.js v4.3.3
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function Xn(){}const yB=(()=>{let e=0;return()=>e++})();function bt(e){return e===null||typeof e>"u"}function jt(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function _t(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Yt(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Xe(e,t){return Yt(e)?e:t}function ht(e,t){return typeof e>"u"?t:e}const vB=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,MT=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Nt(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function Pt(e,t,n,i){let s,r,o;if(jt(e))if(r=e.length,i)for(s=r-1;s>=0;s--)t.call(n,e[s],s);else for(s=0;s<r;s++)t.call(n,e[s],s);else if(_t(e))for(o=Object.keys(e),r=o.length,s=0;s<r;s++)t.call(n,e[o[s]],o[s])}function _u(e,t){let n,i,s,r;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(s=e[n],r=t[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function yu(e){if(jt(e))return e.map(yu);if(_t(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let s=0;for(;s<i;++s)t[n[s]]=yu(e[n[s]]);return t}return e}function OT(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function bB(e,t,n,i){if(!OT(e))return;const s=t[e],r=n[e];_t(s)&&_t(r)?Fa(s,r,i):t[e]=yu(r)}function Fa(e,t,n){const i=jt(t)?t:[t],s=i.length;if(!_t(e))return e;n=n||{};const r=n.merger||bB;let o;for(let a=0;a<s;++a){if(o=i[a],!_t(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],e,o,n)}return e}function ia(e,t){return Fa(e,t,{merger:AB})}function AB(e,t,n){if(!OT(e))return;const i=t[e],s=n[e];_t(i)&&_t(s)?ia(i,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=yu(s))}const Dv={"":e=>e,x:e=>e.x,y:e=>e.y};function wB(e){const t=e.split("."),n=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function EB(e){const t=wB(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function Zi(e,t){return(Dv[t]||(Dv[t]=EB(t)))(e)}function _m(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Ba=e=>typeof e<"u",ts=e=>typeof e=="function",Nv=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function IB(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const qt=Math.PI,$t=2*qt,TB=$t+qt,vu=Number.POSITIVE_INFINITY,xB=qt/180,Xt=qt/2,hs=qt/4,Lv=qt*2/3,Li=Math.log10,qn=Math.sign;function sa(e,t,n){return Math.abs(e-t)<n}function Vv(e){const t=Math.round(e);e=sa(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Li(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function SB(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((s,r)=>s-r).pop(),t}function Qr(e){return!isNaN(parseFloat(e))&&isFinite(e)}function kB(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function DT(e,t,n){let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i][n],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function vn(e){return e*(qt/180)}function ym(e){return e*(180/qt)}function Fv(e){if(!Yt(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function NT(e,t){const n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*qt&&(r+=$t),{angle:r,distance:s}}function Kd(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function PB(e,t){return(e-t+TB)%$t-qt}function Ze(e){return(e%$t+$t)%$t}function Ua(e,t,n,i){const s=Ze(e),r=Ze(t),o=Ze(n),a=Ze(r-s),l=Ze(o-s),c=Ze(s-r),u=Ze(s-o);return s===r||s===o||i&&r===o||a>l&&c<u}function me(e,t,n){return Math.max(t,Math.min(n,e))}function CB(e){return me(e,-32768,32767)}function li(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function vm(e,t,n){n=n||(o=>e[o]<t);let i=e.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const ci=(e,t,n,i)=>vm(e,n,i?s=>{const r=e[s][t];return r<n||r===n&&e[s+1][t]===n}:s=>e[s][t]<n),RB=(e,t,n)=>vm(e,n,i=>e[i][t]>=n);function MB(e,t,n){let i=0,s=e.length;for(;i<s&&e[i]<t;)i++;for(;s>i&&e[s-1]>n;)s--;return i>0||s<e.length?e.slice(i,s):e}const LT=["push","pop","shift","splice","unshift"];function OB(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),LT.forEach(n=>{const i="_onData"+_m(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...r){const o=s.apply(this,r);return e._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...r)}),o}})})}function Bv(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(LT.forEach(r=>{delete e[r]}),delete e._chartjs)}function VT(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const FT=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function BT(e,t){let n=[],i=!1;return function(...s){n=s,i||(i=!0,FT.call(window,()=>{i=!1,e.apply(t,n)}))}}function DB(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const bm=e=>e==="start"?"left":e==="end"?"right":"center",Ie=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,NB=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t;function UT(e,t,n){const i=t.length;let s=0,r=i;if(e._sorted){const{iScale:o,_parsed:a}=e,l=o.axis,{min:c,max:u,minDefined:h,maxDefined:f}=o.getUserBounds();h&&(s=me(Math.min(ci(a,l,c).lo,n?i:ci(t,l,o.getPixelForValue(c)).lo),0,i-1)),f?r=me(Math.max(ci(a,o.axis,u,!0).hi+1,n?0:ci(t,l,o.getPixelForValue(u),!0).hi+1),s,i)-s:r=i-s}return{start:s,count:r}}function zT(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,s={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=s,!0;const r=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),r}const Yl=e=>e===0||e===1,Uv=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*$t/n)),zv=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*$t/n)+1,ra={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Xt)+1,easeOutSine:e=>Math.sin(e*Xt),easeInOutSine:e=>-.5*(Math.cos(qt*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Yl(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Yl(e)?e:Uv(e,.075,.3),easeOutElastic:e=>Yl(e)?e:zv(e,.075,.3),easeInOutElastic(e){return Yl(e)?e:e<.5?.5*Uv(e*2,.1125,.45):.5+.5*zv(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-ra.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?ra.easeInBounce(e*2)*.5:ra.easeOutBounce(e*2-1)*.5+.5};function Am(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function jv(e){return Am(e)?e:new Va(e)}function xf(e){return Am(e)?e:new Va(e).saturate(.5).darken(.1).hexString()}const LB=["x","y","borderWidth","radius","tension"],VB=["color","borderColor","backgroundColor"];function FB(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:VB},numbers:{type:"number",properties:LB}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function BB(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const $v=new Map;function UB(e,t){t=t||{};const n=e+JSON.stringify(t);let i=$v.get(n);return i||(i=new Intl.NumberFormat(e,t),$v.set(n,i)),i}function Il(e,t,n){return UB(t,n).format(e)}const jT={values(e){return jt(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let s,r=e;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),r=zB(e,n)}const o=Li(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Il(e,i,l)},logarithmic(e,t,n){if(e===0)return"0";const i=n[t].significand||e/Math.pow(10,Math.floor(Li(e)));return[1,2,3,5,10,15].includes(i)||t>.8*n.length?jT.numeric.call(this,e,t,n):""}};function zB(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Rh={formatters:jT};function jB(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Rh.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Gs=Object.create(null),Gd=Object.create(null);function oa(e,t){if(!t)return e;const n=t.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];e=e[r]||(e[r]=Object.create(null))}return e}function Sf(e,t,n){return typeof t=="string"?Fa(oa(e,t),n):Fa(oa(e,""),t)}class $B{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>xf(s.backgroundColor),this.hoverBorderColor=(i,s)=>xf(s.borderColor),this.hoverColor=(i,s)=>xf(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Sf(this,t,n)}get(t){return oa(this,t)}describe(t,n){return Sf(Gd,t,n)}override(t,n){return Sf(Gs,t,n)}route(t,n,i,s){const r=oa(this,t),o=oa(this,i),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[s];return _t(l)?Object.assign({},c,l):ht(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(n=>n(this))}}var Jt=new $B({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[FB,BB,jB]);function HB(e){return!e||bt(e.size)||bt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function bu(e,t,n,i,s){let r=t[s];return r||(r=t[s]=e.measureText(s).width,n.push(s)),r>i&&(i=r),i}function WB(e,t,n,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(s=i.data={},r=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let o=0;const a=n.length;let l,c,u,h,f;for(l=0;l<a;l++)if(h=n[l],h!=null&&!jt(h))o=bu(e,s,r,o,h);else if(jt(h))for(c=0,u=h.length;c<u;c++)f=h[c],f!=null&&!jt(f)&&(o=bu(e,s,r,o,f));e.restore();const d=r.length/2;if(d>n.length){for(l=0;l<d;l++)delete s[r[l]];r.splice(0,d)}return o}function fs(e,t,n){const i=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*i)/i+s}function Hv(e,t){t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function Qd(e,t,n,i){$T(e,t,n,i,null)}function $T(e,t,n,i,s){let r,o,a,l,c,u,h,f;const d=t.pointStyle,p=t.rotation,g=t.radius;let m=(p||0)*xB;if(d&&typeof d=="object"&&(r=d.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(m),e.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),d){default:s?e.ellipse(n,i,s/2,g,0,0,$t):e.arc(n,i,g,0,$t),e.closePath();break;case"triangle":u=s?s/2:g,e.moveTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=Lv,e.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=Lv,e.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),e.closePath();break;case"rectRounded":c=g*.516,l=g-c,o=Math.cos(m+hs)*l,h=Math.cos(m+hs)*(s?s/2-c:l),a=Math.sin(m+hs)*l,f=Math.sin(m+hs)*(s?s/2-c:l),e.arc(n-h,i-a,c,m-qt,m-Xt),e.arc(n+f,i-o,c,m-Xt,m),e.arc(n+h,i+a,c,m,m+Xt),e.arc(n-f,i+o,c,m+Xt,m+qt),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=s?s/2:l,e.rect(n-u,i-l,2*u,2*l);break}m+=hs;case"rectRot":h=Math.cos(m)*(s?s/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(s?s/2:g),e.moveTo(n-h,i-a),e.lineTo(n+f,i-o),e.lineTo(n+h,i+a),e.lineTo(n-f,i+o),e.closePath();break;case"crossRot":m+=hs;case"cross":h=Math.cos(m)*(s?s/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(s?s/2:g),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+f,i-o),e.lineTo(n-f,i+o);break;case"star":h=Math.cos(m)*(s?s/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(s?s/2:g),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+f,i-o),e.lineTo(n-f,i+o),m+=hs,h=Math.cos(m)*(s?s/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(s?s/2:g),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+f,i-o),e.lineTo(n-f,i+o);break;case"line":o=s?s/2:Math.cos(m)*g,a=Math.sin(m)*g,e.moveTo(n-o,i-a),e.lineTo(n+o,i+a);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(m)*(s?s/2:g),i+Math.sin(m)*g);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function ui(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Mh(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Oh(e){e.restore()}function qB(e,t,n,i,s){if(!t)return e.lineTo(n.x,n.y);if(s==="middle"){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else s==="after"!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function KB(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function GB(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),bt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function QB(e,t,n,i,s){if(s.strikethrough||s.underline){const r=e.measureText(i),o=t-r.actualBoundingBoxLeft,a=t+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(o,u),e.lineTo(a,u),e.stroke()}}function YB(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Qs(e,t,n,i,s,r={}){const o=jt(t)?t:[t],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(e.save(),e.font=s.string,GB(e,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&YB(e,r.backdrop),a&&(r.strokeColor&&(e.strokeStyle=r.strokeColor),bt(r.strokeWidth)||(e.lineWidth=r.strokeWidth),e.strokeText(c,n,i,r.maxWidth)),e.fillText(c,n,i,r.maxWidth),QB(e,n,i,c,r),i+=Number(s.lineHeight);e.restore()}function za(e,t){const{x:n,y:i,w:s,h:r,radius:o}=t;e.arc(n+o.topLeft,i+o.topLeft,o.topLeft,-Xt,qt,!0),e.lineTo(n,i+r-o.bottomLeft),e.arc(n+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,qt,Xt,!0),e.lineTo(n+s-o.bottomRight,i+r),e.arc(n+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,Xt,0,!0),e.lineTo(n+s,i+o.topRight),e.arc(n+s-o.topRight,i+o.topRight,o.topRight,0,-Xt,!0),e.lineTo(n+o.topLeft,i)}const XB=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,JB=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function ZB(e,t){const n=(""+e).match(XB);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const t5=e=>+e||0;function wm(e,t){const n={},i=_t(t),s=i?Object.keys(t):t,r=_t(e)?i?o=>ht(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of s)n[o]=t5(r(o));return n}function HT(e){return wm(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Ds(e){return wm(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Le(e){const t=HT(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ue(e,t){e=e||{},t=t||Jt.font;let n=ht(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=ht(e.style,t.style);i&&!(""+i).match(JB)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:ht(e.family,t.family),lineHeight:ZB(ht(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:ht(e.weight,t.weight),string:""};return s.string=HB(s),s}function Vo(e,t,n,i){let s=!0,r,o,a;for(r=0,o=e.length;r<o;++r)if(a=e[r],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),s=!1),n!==void 0&&jt(a)&&(a=a[n%a.length],s=!1),a!==void 0))return i&&!s&&(i.cacheable=!1),a}function e5(e,t,n){const{min:i,max:s}=e,r=MT(t,(s-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(r)),max:o(s,r)}}function ls(e,t){return Object.assign(Object.create(e),t)}function Em(e,t=[""],n,i,s=()=>e[0]){const r=n||e;typeof i>"u"&&(i=GT("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:i,_getTarget:s,override:a=>Em([a,...e],t,r,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return qT(a,l,()=>c5(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return qv(a).includes(l)},ownKeys(a){return qv(a)},set(a,l,c){const u=a._storage||(a._storage=s());return a[l]=u[l]=c,delete a._keys,!0}})}function Yr(e,t,n,i){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:WT(e,i),setContext:r=>Yr(e,r,n,i),override:r=>Yr(e.override(r),t,n,i)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete e[o],!0},get(r,o,a){return qT(r,o,()=>i5(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(r,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(r,o,a){return e[o]=a,delete r[o],!0}})}function WT(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:i,isScriptable:ts(n)?n:()=>n,isIndexable:ts(i)?i:()=>i}}const n5=(e,t)=>e?e+_m(t):t,Im=(e,t)=>_t(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function qT(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const i=n();return e[t]=i,i}function i5(e,t,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=e;let a=i[t];return ts(a)&&o.isScriptable(t)&&(a=s5(t,a,e,n)),jt(a)&&a.length&&(a=r5(t,a,e,o.isIndexable)),Im(t,a)&&(a=Yr(a,s,r&&r[t],o)),a}function s5(e,t,n,i){const{_proxy:s,_context:r,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(r,o||i);return a.delete(e),Im(e,l)&&(l=Tm(s._scopes,s,e,l)),l}function r5(e,t,n,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&i(e))return t[r.index%t.length];if(_t(t[0])){const l=t,c=s._scopes.filter(u=>u!==l);t=[];for(const u of l){const h=Tm(c,s,e,u);t.push(Yr(h,r,o&&o[e],a))}}return t}function KT(e,t,n){return ts(e)?e(t,n):e}const o5=(e,t)=>e===!0?t:typeof e=="string"?Zi(t,e):void 0;function a5(e,t,n,i,s){for(const r of t){const o=o5(n,r);if(o){e.add(o);const a=KT(o._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function Tm(e,t,n,i){const s=t._rootScopes,r=KT(t._fallback,n,i),o=[...e,...s],a=new Set;a.add(i);let l=Wv(a,o,n,r||n,i);return l===null||typeof r<"u"&&r!==n&&(l=Wv(a,o,r,l,i),l===null)?!1:Em(Array.from(a),[""],s,r,()=>l5(t,n,i))}function Wv(e,t,n,i,s){for(;n;)n=a5(e,t,n,i,s);return n}function l5(e,t,n){const i=e._getTarget();t in i||(i[t]={});const s=i[t];return jt(s)&&_t(n)?n:s||{}}function c5(e,t,n,i){let s;for(const r of t)if(s=GT(n5(r,e),n),typeof s<"u")return Im(e,s)?Tm(n,i,e,s):s}function GT(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function qv(e){let t=e._keys;return t||(t=e._keys=u5(e._scopes)),t}function u5(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}function QT(e,t,n,i){const{iScale:s}=e,{key:r="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=t[c],o[a]={r:s.parse(Zi(u,r),c)};return o}const h5=Number.EPSILON||1e-14,Xr=(e,t)=>t<e.length&&!e[t].skip&&e[t],YT=e=>e==="x"?"y":"x";function f5(e,t,n,i){const s=e.skip?t:e,r=t,o=n.skip?t:n,a=Kd(r,s),l=Kd(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,f=i*u;return{previous:{x:r.x-h*(o.x-s.x),y:r.y-h*(o.y-s.y)},next:{x:r.x+f*(o.x-s.x),y:r.y+f*(o.y-s.y)}}}function d5(e,t,n){const i=e.length;let s,r,o,a,l,c=Xr(e,0);for(let u=0;u<i-1;++u)if(l=c,c=Xr(e,u+1),!(!l||!c)){if(sa(t[u],0,h5)){n[u]=n[u+1]=0;continue}s=n[u]/t[u],r=n[u+1]/t[u],a=Math.pow(s,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=s*o*t[u],n[u+1]=r*o*t[u])}}function p5(e,t,n="x"){const i=YT(n),s=e.length;let r,o,a,l=Xr(e,0);for(let c=0;c<s;++c){if(o=a,a=l,l=Xr(e,c+1),!a)continue;const u=a[n],h=a[i];o&&(r=(u-o[n])/3,a[`cp1${n}`]=u-r,a[`cp1${i}`]=h-r*t[c]),l&&(r=(l[n]-u)/3,a[`cp2${n}`]=u+r,a[`cp2${i}`]=h+r*t[c])}}function g5(e,t="x"){const n=YT(t),i=e.length,s=Array(i).fill(0),r=Array(i);let o,a,l,c=Xr(e,0);for(o=0;o<i;++o)if(a=l,l=c,c=Xr(e,o+1),!!l){if(c){const u=c[t]-l[t];s[o]=u!==0?(c[n]-l[n])/u:0}r[o]=a?c?qn(s[o-1])!==qn(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}d5(e,s,r),p5(e,r,t)}function Xl(e,t,n){return Math.max(Math.min(e,n),t)}function m5(e,t){let n,i,s,r,o,a=ui(e[0],t);for(n=0,i=e.length;n<i;++n)o=r,r=a,a=n<i-1&&ui(e[n+1],t),r&&(s=e[n],o&&(s.cp1x=Xl(s.cp1x,t.left,t.right),s.cp1y=Xl(s.cp1y,t.top,t.bottom)),a&&(s.cp2x=Xl(s.cp2x,t.left,t.right),s.cp2y=Xl(s.cp2y,t.top,t.bottom)))}function _5(e,t,n,i,s){let r,o,a,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")g5(e,s);else{let c=i?e[e.length-1]:e[0];for(r=0,o=e.length;r<o;++r)a=e[r],l=f5(c,a,e[Math.min(r+1,o-(i?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&m5(e,n)}function XT(){return typeof window<"u"&&typeof document<"u"}function xm(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Au(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const Dh=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function y5(e,t){return Dh(e).getPropertyValue(t)}const v5=["top","right","bottom","left"];function Ns(e,t,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=v5[s];i[r]=parseFloat(e[t+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const b5=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function A5(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:s,offsetY:r}=i;let o=!1,a,l;if(b5(s,r,e.target))a=s,l=r;else{const c=t.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function ms(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,s=Dh(n),r=s.boxSizing==="border-box",o=Ns(s,"padding"),a=Ns(s,"border","width"),{x:l,y:c,box:u}=A5(e,n),h=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:d,height:p}=t;return r&&(d-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-h)/d*n.width/i),y:Math.round((c-f)/p*n.height/i)}}function w5(e,t,n){let i,s;if(t===void 0||n===void 0){const r=xm(e);if(!r)t=e.clientWidth,n=e.clientHeight;else{const o=r.getBoundingClientRect(),a=Dh(r),l=Ns(a,"border","width"),c=Ns(a,"padding");t=o.width-c.width-l.width,n=o.height-c.height-l.height,i=Au(a.maxWidth,r,"clientWidth"),s=Au(a.maxHeight,r,"clientHeight")}}return{width:t,height:n,maxWidth:i||vu,maxHeight:s||vu}}const Jl=e=>Math.round(e*10)/10;function E5(e,t,n,i){const s=Dh(e),r=Ns(s,"margin"),o=Au(s.maxWidth,e,"clientWidth")||vu,a=Au(s.maxHeight,e,"clientHeight")||vu,l=w5(e,t,n);let{width:c,height:u}=l;if(s.boxSizing==="content-box"){const f=Ns(s,"border","width"),d=Ns(s,"padding");c-=d.width+f.width,u-=d.height+f.height}return c=Math.max(0,c-r.width),u=Math.max(0,i?c/i:u-r.height),c=Jl(Math.min(c,o,l.maxWidth)),u=Jl(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Jl(c/2)),(t!==void 0||n!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=Jl(Math.floor(u*i))),{width:c,height:u}}function Kv(e,t,n){const i=t||1,s=Math.floor(e.height*i),r=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||o.height!==s||o.width!==r?(e.currentDevicePixelRatio=i,o.height=s,o.width=r,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const I5=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return e}();function Gv(e,t){const n=y5(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function _s(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function T5(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:i==="middle"?n<.5?e.y:t.y:i==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function x5(e,t,n,i){const s={x:e.cp2x,y:e.cp2y},r={x:t.cp1x,y:t.cp1y},o=_s(e,s,n),a=_s(s,r,n),l=_s(r,t,n),c=_s(o,a,n),u=_s(a,l,n);return _s(c,u,n)}const S5=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},k5=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Pr(e,t,n){return e?S5(t,n):k5()}function JT(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function ZT(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function t1(e){return e==="angle"?{between:Ua,compare:PB,normalize:Ze}:{between:li,compare:(t,n)=>t-n,normalize:t=>t}}function Qv({start:e,end:t,count:n,loop:i,style:s}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n===0,style:s}}function P5(e,t,n){const{property:i,start:s,end:r}=n,{between:o,normalize:a}=t1(i),l=t.length;let{start:c,end:u,loop:h}=e,f,d;if(h){for(c+=l,u+=l,f=0,d=l;f<d&&o(a(t[c%l][i]),s,r);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:e.style}}function e1(e,t,n){if(!n)return[e];const{property:i,start:s,end:r}=n,o=t.length,{compare:a,between:l,normalize:c}=t1(i),{start:u,end:h,loop:f,style:d}=P5(e,t,n),p=[];let g=!1,m=null,_,y,E;const A=()=>l(s,E,_)&&a(s,E)!==0,w=()=>a(r,_)===0||l(r,E,_),T=()=>g||A(),S=()=>!g||w();for(let x=u,C=u;x<=h;++x)y=t[x%o],!y.skip&&(_=c(y[i]),_!==E&&(g=l(_,s,r),m===null&&T()&&(m=a(_,s)===0?x:C),m!==null&&S()&&(p.push(Qv({start:m,end:x,loop:f,count:o,style:d})),m=null),C=x,E=_));return m!==null&&p.push(Qv({start:m,end:h,loop:f,count:o,style:d})),p}function n1(e,t){const n=[],i=e.segments;for(let s=0;s<i.length;s++){const r=e1(i[s],e.points,t);r.length&&n.push(...r)}return n}function C5(e,t,n,i){let s=0,r=t-1;if(n&&!i)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,n&&(r+=s);r>s&&e[r%t].skip;)r--;return r%=t,{start:s,end:r}}function R5(e,t,n,i){const s=e.length,r=[];let o=t,a=e[t],l;for(l=t+1;l<=n;++l){const c=e[l%s];c.skip||c.stop?a.skip||(i=!1,r.push({start:t%s,end:(l-1)%s,loop:i}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&r.push({start:t%s,end:o%s,loop:i}),r}function M5(e,t){const n=e.points,i=e.options.spanGaps,s=n.length;if(!s)return[];const r=!!e._loop,{start:o,end:a}=C5(n,s,r,i);if(i===!0)return Yv(e,[{start:o,end:a,loop:r}],n,t);const l=a<o?a+s:a,c=!!e._fullLoop&&o===0&&a===s-1;return Yv(e,R5(n,o,l,c),n,t)}function Yv(e,t,n,i){return!i||!i.setContext||!n?t:O5(e,t,n,i)}function O5(e,t,n,i){const s=e._chart.getContext(),r=Xv(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=n.length,c=[];let u=r,h=t[0].start,f=h;function d(p,g,m,_){const y=a?-1:1;if(p!==g){for(p+=l;n[p%l].skip;)p-=y;for(;n[g%l].skip;)g+=y;p%l!==g%l&&(c.push({start:p%l,end:g%l,loop:m,style:_}),u=_,h=g%l)}}for(const p of t){h=a?h:p.start;let g=n[h%l],m;for(f=h+1;f<=p.end;f++){const _=n[f%l];m=Xv(i.setContext(ls(s,{type:"segment",p0:g,p1:_,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),D5(m,u)&&d(h,f-1,p.loop,u),g=_,u=m}h<f-1&&d(h,f-1,p.loop,u)}return c}function Xv(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function D5(e,t){if(!t)return!1;const n=[],i=function(s,r){return Am(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(e,i)!==JSON.stringify(t,i)}/*!
 * Chart.js v4.3.3
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class N5{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,s){const r=n.listeners[s],o=n.duration;r.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=FT.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(s.draw(),this._notify(s,i,t,"progress")),r.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),n+=r.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Jn=new N5;const Jv="transparent",L5={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=jv(e||Jv),s=i.valid&&jv(t||Jv);return s&&s.valid?s.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class V5{constructor(t,n,i,s){const r=n[i];s=Vo([t.to,s,r,t.from]);const o=Vo([t.from,r,s]);this._active=!0,this._fn=t.fn||L5[t.type||typeof o],this._easing=ra[t.easing]||ra.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Vo([t.to,n,s,t.from]),this._from=Vo([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,s=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||n<i),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=r;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(r,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class i1{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!_t(t))return;const n=Object.keys(Jt.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const r=t[s];if(!_t(r))return;const o={};for(const a of n)o[a]=r[a];(jt(r.properties)&&r.properties||[s]).forEach(a=>{(a===s||!i.has(a))&&i.set(a,o)})})}_animateOptions(t,n){const i=n.options,s=B5(t,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&F5(t.options.$animations,i).then(()=>{t.options=i},()=>{}),r}_createAnimations(t,n){const i=this._properties,s=[],r=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(t,n));continue}const u=n[c];let h=r[c];const f=i.get(c);if(h)if(f&&h.active()){h.update(f,u,a);continue}else h.cancel();if(!f||!f.duration){t[c]=u;continue}r[c]=h=new V5(f,t,c,u),s.push(h)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return Jn.add(this._chart,i),!0}}function F5(e,t){const n=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const r=e[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function B5(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function Zv(e,t){const n=e&&e.options||{},i=n.reverse,s=n.min===void 0?t:0,r=n.max===void 0?t:0;return{start:i?r:s,end:i?s:r}}function U5(e,t,n){if(n===!1)return!1;const i=Zv(e,n),s=Zv(t,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function z5(e){let t,n,i,s;return _t(e)?(t=e.top,n=e.right,i=e.bottom,s=e.left):t=n=i=s=e,{top:t,right:n,bottom:i,left:s,disabled:e===!1}}function s1(e,t){const n=[],i=e._getSortedDatasetMetas(t);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function tb(e,t,n,i={}){const s=e.keys,r=i.mode==="single";let o,a,l,c;if(t!==null){for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(i.all)continue;break}c=e.values[l],Yt(c)&&(r||t===0||qn(t)===qn(c))&&(t+=c)}return t}}function j5(e){const t=Object.keys(e),n=new Array(t.length);let i,s,r;for(i=0,s=t.length;i<s;++i)r=t[i],n[i]={x:r,y:e[r]};return n}function eb(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function $5(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function H5(e){const{min:t,max:n,minDefined:i,maxDefined:s}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function W5(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function nb(e,t,n,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const r=e[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function ib(e,t){const{chart:n,_cachedMeta:i}=e,s=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=i,l=r.axis,c=o.axis,u=$5(r,o,i),h=t.length;let f;for(let d=0;d<h;++d){const p=t[d],{[l]:g,[c]:m}=p,_=p._stacks||(p._stacks={});f=_[c]=W5(s,u,g),f[a]=m,f._top=nb(f,o,!0,i.type),f._bottom=nb(f,o,!1,i.type);const y=f._visualValues||(f._visualValues={});y[a]=m}}function kf(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function q5(e,t){return ls(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function K5(e,t,n){return ls(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Ao(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const s of t){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const Pf=e=>e==="reset"||e==="none",sb=(e,t)=>t?e:Object.assign({},e),G5=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:s1(n,!0),values:null};class In{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=eb(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Ao(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(h,f,d,p)=>h==="x"?f:h==="r"?p:d,r=n.xAxisID=ht(i.xAxisID,kf(t,"x")),o=n.yAxisID=ht(i.yAxisID,kf(t,"y")),a=n.rAxisID=ht(i.rAxisID,kf(t,"r")),l=n.indexAxis,c=n.iAxisID=s(l,r,o,a),u=n.vAxisID=s(l,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Bv(this._data,this),t._stacked&&Ao(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(_t(n))this._data=j5(n);else if(i!==n){if(i){Bv(i,this);const s=this._cachedMeta;Ao(s),s._parsed=[]}n&&Object.isExtensible(n)&&OB(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=eb(n.vScale,n),n.stack!==i.stack&&(s=!0,Ao(n),n.stack=i.stack),this._resyncElements(t),(s||r!==n._stacked)&&ib(this,n._parsed)}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:o}=i,a=r.axis;let l=t===0&&n===s.length?!0:i._sorted,c=t>0&&i._parsed[t-1],u,h,f;if(this._parsing===!1)i._parsed=s,i._sorted=!0,f=s;else{jt(s[t])?f=this.parseArrayData(i,s,t,n):_t(s[t])?f=this.parseObjectData(i,s,t,n):f=this.parsePrimitiveData(i,s,t,n);const d=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<n;++u)i._parsed[u+t]=h=f[u],l&&(d()&&(l=!1),c=h);i._sorted=l}o&&ib(this,f)}parsePrimitiveData(t,n,i,s){const{iScale:r,vScale:o}=t,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,h=new Array(s);let f,d,p;for(f=0,d=s;f<d;++f)p=f+i,h[f]={[a]:u||r.parse(c[p],p),[l]:o.parse(n[p],p)};return h}parseArrayData(t,n,i,s){const{xScale:r,yScale:o}=t,a=new Array(s);let l,c,u,h;for(l=0,c=s;l<c;++l)u=l+i,h=n[u],a[l]={x:r.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(t,n,i,s){const{xScale:r,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let u,h,f,d;for(u=0,h=s;u<h;++u)f=u+i,d=n[f],c[u]={x:r.parse(Zi(d,a),f),y:o.parse(Zi(d,l),f)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const s=this.chart,r=this._cachedMeta,o=n[t.axis],a={keys:s1(s,!0),values:n._stacks[t.axis]._visualValues};return tb(a,o,r.index,{mode:i})}updateRangeFromParsed(t,n,i,s){const r=i[n.axis];let o=r===null?NaN:r;const a=s&&i._stacks[n.axis];s&&a&&(s.values=a,o=tb(s,r,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&t===i.iScale,o=s.length,a=this._getOtherScale(t),l=G5(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=H5(a);let f,d;function p(){d=s[f];const g=d[a.axis];return!Yt(d[t.axis])||u>g||h<g}for(f=0;f<o&&!(!p()&&(this.updateRangeFromParsed(c,t,d,l),r));++f);if(r){for(f=o-1;f>=0;--f)if(!p()){this.updateRangeFromParsed(c,t,d,l);break}}return c}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let s,r,o;for(s=0,r=n.length;s<r;++s)o=n[s][t.axis],Yt(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(t);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=z5(ht(this.options.clip,U5(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(t,r,a,l),u=a;u<a+l;++u){const h=s[u];h.hidden||(h.active&&c?o.push(h):h.draw(t,r))}for(u=0;u<o.length;++u)o[u].draw(t,r)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const s=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];r=o.$context||(o.$context=K5(this.getContext(),t,o)),r.parsed=this.getParsed(t),r.raw=s.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=q5(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const s=n==="active",r=this._cachedDataOpts,o=t+"-"+n,a=r[o],l=this.enableOptionSharing&&Ba(i);if(a)return sb(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),h=s?[`${t}Hover`,"hover",t,""]:[t,""],f=c.getOptionScopes(this.getDataset(),u),d=Object.keys(Jt.elements[t]),p=()=>this.getContext(i,s,n),g=c.resolveNamedOptions(f,d,p,h);return g.$shared&&(g.$shared=l,r[o]=Object.freeze(sb(g,l))),g}_resolveAnimations(t,n,i){const s=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let l;if(s.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(f,this.getContext(t,i,n))}const c=new i1(s,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Pf(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),s=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:o}}updateElement(t,n,i,s){Pf(s)?Object.assign(t,i):this._resolveAnimations(n,s).update(t,i)}updateSharedOptions(t,n,i){t&&!Pf(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,s){t.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(t,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const s=i.length,r=n.length,o=Math.min(r,s);o&&this.parse(0,o),r>s?this._insertElements(s,r-s,t):r<s&&this._removeElements(r,s-r)}_insertElements(t,n,i=!0){const s=this._cachedMeta,r=s.data,o=t+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(r),a=t;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(t,n),i&&this.updateElements(r,t,n,"reset")}updateElements(t,n,i,s){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,n);i._stacked&&Ao(i,s)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,s]=t;this[n](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}F(In,"defaults",{}),F(In,"datasetElementType",null),F(In,"dataElementType",null);function Q5(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let s=0,r=n.length;s<r;s++)i=i.concat(n[s].controller.getAllParsedValues(e));e._cache.$bar=VT(i.sort((s,r)=>s-r))}return e._cache.$bar}function Y5(e){const t=e.iScale,n=Q5(t,e.type);let i=t._length,s,r,o,a;const l=()=>{o===32767||o===-32768||(Ba(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(s=0,r=n.length;s<r;++s)o=t.getPixelForValue(n[s]),l();for(a=void 0,s=0,r=t.ticks.length;s<r;++s)o=t.getPixelForTick(s),l();return i}function X5(e,t,n,i){const s=n.barThickness;let r,o;return bt(s)?(r=t.min*n.categoryPercentage,o=n.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:t.pixels[e]-r/2}}function J5(e,t,n,i){const s=t.pixels,r=s[e];let o=e>0?s[e-1]:null,a=e<s.length-1?s[e+1]:null;const l=n.categoryPercentage;o===null&&(o=r-(a===null?t.end-t.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}function Z5(e,t,n,i){const s=n.parse(e[0],i),r=n.parse(e[1],i),o=Math.min(s,r),a=Math.max(s,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:s,end:r,min:o,max:a}}function r1(e,t,n,i){return jt(e)?Z5(e,t,n,i):t[n.axis]=n.parse(e,i),t}function rb(e,t,n,i){const s=e.iScale,r=e.vScale,o=s.getLabels(),a=s===r,l=[];let c,u,h,f;for(c=n,u=n+i;c<u;++c)f=t[c],h={},h[s.axis]=a||s.parse(o[c],c),l.push(r1(f,h,r,c));return l}function Cf(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function tU(e,t,n){return e!==0?qn(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function eU(e){let t,n,i,s,r;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(s="end",r="start"):(s="start",r="end"),{start:n,end:i,reverse:t,top:s,bottom:r}}function nU(e,t,n,i){let s=t.borderSkipped;const r={};if(!s){e.borderSkipped=r;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=eU(e);s==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?s=c:(n._bottom||0)===i?s=u:(r[ob(u,o,a,l)]=!0,s=c)),r[ob(s,o,a,l)]=!0,e.borderSkipped=r}function ob(e,t,n,i){return i?(e=iU(e,t,n),e=ab(e,n,t)):e=ab(e,t,n),e}function iU(e,t,n){return e===t?n:e===n?t:e}function ab(e,t,n){return e==="start"?t:e==="end"?n:e}function sU(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class Pc extends In{parsePrimitiveData(t,n,i,s){return rb(t,n,i,s)}parseArrayData(t,n,i,s){return rb(t,n,i,s)}parseObjectData(t,n,i,s){const{iScale:r,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let f,d,p,g;for(f=i,d=i+s;f<d;++f)g=n[f],p={},p[r.axis]=r.parse(Zi(g,c),f),h.push(r1(Zi(g,u),p,o,f));return h}updateRangeFromParsed(t,n,i,s){super.updateRangeFromParsed(t,n,i,s);const r=i._custom;r&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:s}=n,r=this.getParsed(t),o=r._custom,a=Cf(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,s){const r=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,s);for(let d=n;d<n+i;d++){const p=this.getParsed(d),g=r||bt(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(d),m=this._calculateBarIndexPixels(d,u),_=(p._stacks||{})[a.axis],y={horizontal:c,base:g.base,enableBorderRadius:!_||Cf(p._custom)||o===_._top||o===_._bottom,x:c?g.head:m.center,y:c?m.center:g.head,height:c?m.size:Math.abs(g.size),width:c?Math.abs(g.size):m.size};f&&(y.options=h||this.resolveDataElementOptions(d,t[d].active?"active":s));const E=y.options||t[d].options;nU(y,E,_,o),sU(y,E,u.ratio),this.updateElement(t[d],d,y,s)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),r=i.options.stacked,o=[],a=l=>{const c=l.controller.getParsed(n),u=c&&c[l.vScale.axis];if(bt(u)||isNaN(u))return!0};for(const l of s)if(!(n!==void 0&&a(l))&&((r===!1||o.indexOf(l.stack)===-1||r===void 0&&l.stack===void 0)&&o.push(l.stack),l.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,i){const s=this._getStacks(t,i),r=n!==void 0?s.indexOf(n):-1;return r===-1?s.length-1:r}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,s=[];let r,o;for(r=0,o=n.data.length;r<o;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const a=t.barThickness;return{min:a||Y5(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(t),c=l._custom,u=Cf(c);let h=l[n.axis],f=0,d=i?this.applyStack(n,l,i):h,p,g;d!==h&&(f=d-h,d=h),u&&(h=c.barStart,d=c.barEnd-c.barStart,h!==0&&qn(h)!==qn(c.barEnd)&&(f=0),f+=h);const m=!bt(r)&&!u?r:f;let _=n.getPixelForValue(m);if(this.chart.getDataVisibility(t)?p=n.getPixelForValue(f+d):p=_,g=p-_,Math.abs(g)<o){g=tU(g,n,a)*o,h===a&&(_-=g/2);const y=n.getPixelForDecimal(0),E=n.getPixelForDecimal(1),A=Math.min(y,E),w=Math.max(y,E);_=Math.max(Math.min(_,w),A),p=_+g,i&&!u&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(p)-n.getValueForPixel(_))}if(_===n.getPixelForValue(a)){const y=qn(g)*n.getLineWidthForValue(a)/2;_+=y,g-=y}return{size:g,base:_,head:p,center:p+g/2}}_calculateBarIndexPixels(t,n){const i=n.scale,s=this.options,r=s.skipNull,o=ht(s.maxBarThickness,1/0);let a,l;if(n.grouped){const c=r?this._getStackCount(t):n.stackCount,u=s.barThickness==="flex"?J5(t,n,s,c):X5(t,n,s,c),h=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);a=u.start+u.chunk*h+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=i.getPixelForValue(this.getParsed(t)[i.axis],t),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[n.axis]!==null&&i[r].draw(this._ctx)}}F(Pc,"id","bar"),F(Pc,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),F(Pc,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Cc extends In{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,i,s){const r=super.parsePrimitiveData(t,n,i,s);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+i).radius;return r}parseArrayData(t,n,i,s){const r=super.parseArrayData(t,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=ht(a[2],this.resolveDataElementOptions(o+i).radius)}return r}parseObjectData(t,n,i,s){const r=super.parseObjectData(t,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=ht(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let i=t.length-1;i>=0;--i)n=Math.max(n,t[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,o=this.getParsed(t),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y),c=o._custom;return{label:i[t]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,i,s){const r=s==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,s),u=o.axis,h=a.axis;for(let f=n;f<n+i;f++){const d=t[f],p=!r&&this.getParsed(f),g={},m=g[u]=r?o.getPixelForDecimal(.5):o.getPixelForValue(p[u]),_=g[h]=r?a.getBasePixel():a.getPixelForValue(p[h]);g.skip=isNaN(m)||isNaN(_),c&&(g.options=l||this.resolveDataElementOptions(f,d.active?"active":s),r&&(g.options.radius=0)),this.updateElement(d,f,g,s)}}resolveDataElementOptions(t,n){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const r=s.radius;return n!=="active"&&(s.radius=0),s.radius+=ht(i&&i._custom,r),s}}F(Cc,"id","bubble"),F(Cc,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),F(Cc,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function rU(e,t,n){let i=1,s=1,r=0,o=0;if(t<$t){const a=e,l=a+t,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),f=Math.sin(l),d=(E,A,w)=>Ua(E,a,l,!0)?1:Math.max(A,A*n,w,w*n),p=(E,A,w)=>Ua(E,a,l,!0)?-1:Math.min(A,A*n,w,w*n),g=d(0,c,h),m=d(Xt,u,f),_=p(qt,c,h),y=p(qt+Xt,u,f);i=(g-_)/2,s=(m-y)/2,r=-(g+_)/2,o=-(m+y)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:o}}class xs extends In{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let r=l=>+i[l];if(_t(i[t])){const{key:l="value"}=this._parsing;r=c=>+Zi(i[c],l)}let o,a;for(o=t,a=t+n;o<a;++o)s._parsed[o]=r(o)}}_getRotation(){return vn(this.options.rotation-90)}_getCircumference(){return vn(this.options.circumference)}_getRotationExtents(){let t=$t,n=-$t;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,r=s._getRotation(),o=s._getCircumference();t=Math.min(t,r),n=Math.max(n,r+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:i}=n,s=this._cachedMeta,r=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(vB(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:d,offsetX:p,offsetY:g}=rU(h,u,l),m=(i.width-o)/f,_=(i.height-o)/d,y=Math.max(Math.min(m,_)/2,0),E=MT(this.options.radius,y),A=Math.max(E*l,0),w=(E-A)/this._getVisibleDatasetWeightTotal();this.offsetX=p*E,this.offsetY=g*E,s.total=this.calculateTotal(),this.outerRadius=E-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*c,0),this.updateElements(r,0,r.length,t)}_circumference(t,n){const i=this.options,s=this._cachedMeta,r=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*r/$t)}updateElements(t,n,i,s){const r=s==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,f=r&&c.animateScale,d=f?0:this.innerRadius,p=f?0:this.outerRadius,{sharedOptions:g,includeOptions:m}=this._getSharedOptions(n,s);let _=this._getRotation(),y;for(y=0;y<n;++y)_+=this._circumference(y,r);for(y=n;y<n+i;++y){const E=this._circumference(y,r),A=t[y],w={x:u+this.offsetX,y:h+this.offsetY,startAngle:_,endAngle:_+E,circumference:E,outerRadius:p,innerRadius:d};m&&(w.options=g||this.resolveDataElementOptions(y,A.active?"active":s)),_+=E,this.updateElement(A,y,w,s)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let i=0,s;for(s=0;s<n.length;s++){const r=t._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?$t*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=Il(n._parsed[t],i.options.locale);return{label:s[t]||"",value:r}}getMaxBorderWidth(t){let n=0;const i=this.chart;let s,r,o,a,l;if(!t){for(s=0,r=i.data.datasets.length;s<r;++s)if(i.isDatasetVisible(s)){o=i.getDatasetMeta(s),t=o.data,a=o.controller;break}}if(!t)return 0;for(s=0,r=t.length;s<r;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let i=0,s=t.length;i<s;++i){const r=this.resolveDataElementOptions(i);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(t){return Math.max(ht(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}F(xs,"id","doughnut"),F(xs,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),F(xs,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),F(xs,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return n.labels.map((r,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class Rc extends In{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=UT(n,s,o);this._drawStart=a,this._drawCount=l,zT(n)&&(a=0,l=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},t),this.updateElements(s,a,l,t)}updateElements(t,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,s),f=o.axis,d=a.axis,{spanGaps:p,segment:g}=this.options,m=Qr(p)?p:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||r||s==="none",y=n+i,E=t.length;let A=n>0&&this.getParsed(n-1);for(let w=0;w<E;++w){const T=t[w],S=_?T:{};if(w<n||w>=y){S.skip=!0;continue}const x=this.getParsed(w),C=bt(x[d]),j=S[f]=o.getPixelForValue(x[f],w),K=S[d]=r||C?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,x,l):x[d],w);S.skip=isNaN(j)||isNaN(K)||C,S.stop=w>0&&Math.abs(x[f]-A[f])>m,g&&(S.parsed=x,S.raw=c.data[w]),h&&(S.options=u||this.resolveDataElementOptions(w,T.active?"active":s)),_||this.updateElement(T,w,S,s),A=x}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}F(Rc,"id","line"),F(Rc,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),F(Rc,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class aa extends In{constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=Il(n._parsed[t].r,i.options.locale);return{label:s[t]||"",value:r}}parseObjectData(t,n,i,s){return QT.bind(this)(t,n,i,s)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,s)=>{const r=this.getParsed(s).r;!isNaN(r)&&this.chart.getDataVisibility(s)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,i=t.options,s=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(s/2,0),o=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),a=(r-o)/t.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,n,i,s){const r=s==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,h=c.yCenter,f=c.getIndexAngle(0)-.5*qt;let d=f,p;const g=360/this.countVisibleElements();for(p=0;p<n;++p)d+=this._computeAngle(p,s,g);for(p=n;p<n+i;p++){const m=t[p];let _=d,y=d+this._computeAngle(p,s,g),E=o.getDataVisibility(p)?c.getDistanceFromCenterForValue(this.getParsed(p).r):0;d=y,r&&(l.animateScale&&(E=0),l.animateRotate&&(_=y=f));const A={x:u,y:h,innerRadius:0,outerRadius:E,startAngle:_,endAngle:y,options:this.resolveDataElementOptions(p,m.active?"active":s)};this.updateElement(m,p,A,s)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(t,n,i){return this.chart.getDataVisibility(t)?vn(this.resolveDataElementOptions(t,n).angle||i):0}}F(aa,"id","polarArea"),F(aa,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),F(aa,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return n.labels.map((r,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Yd extends xs{}F(Yd,"id","pie"),F(Yd,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Mc extends In{getLabelAndValue(t){const n=this._cachedMeta.vScale,i=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(t,n,i,s){return QT.bind(this)(t,n,i,s)}update(t){const n=this._cachedMeta,i=n.dataset,s=n.data||[],r=n.iScale.getLabels();if(i.points=s,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===s.length,options:o};this.updateElement(i,void 0,a,t)}this.updateElements(s,0,s.length,t)}updateElements(t,n,i,s){const r=this._cachedMeta.rScale,o=s==="reset";for(let a=n;a<n+i;a++){const l=t[a],c=this.resolveDataElementOptions(a,l.active?"active":s),u=r.getPointPositionForValue(a,this.getParsed(a).r),h=o?r.xCenter:u.x,f=o?r.yCenter:u.y,d={x:h,y:f,angle:u.angle,skip:isNaN(h)||isNaN(f),options:c};this.updateElement(l,a,d,s)}}}F(Mc,"id","radar"),F(Mc,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),F(Mc,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Oc extends In{getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,o=this.getParsed(t),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y);return{label:i[t]||"",value:"("+a+", "+l+")"}}update(t){const n=this._cachedMeta,{data:i=[]}=n,s=this.chart._animationsDisabled;let{start:r,count:o}=UT(n,i,s);if(this._drawStart=r,this._drawCount=o,zT(n)&&(r=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!s,options:c},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,r,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,s),h=this.getSharedOptions(u),f=this.includeOptions(s,h),d=o.axis,p=a.axis,{spanGaps:g,segment:m}=this.options,_=Qr(g)?g:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||r||s==="none";let E=n>0&&this.getParsed(n-1);for(let A=n;A<n+i;++A){const w=t[A],T=this.getParsed(A),S=y?w:{},x=bt(T[p]),C=S[d]=o.getPixelForValue(T[d],A),j=S[p]=r||x?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,T,l):T[p],A);S.skip=isNaN(C)||isNaN(j)||x,S.stop=A>0&&Math.abs(T[d]-E[d])>_,m&&(S.parsed=T,S.raw=c.data[A]),f&&(S.options=h||this.resolveDataElementOptions(A,w.active?"active":s)),y||this.updateElement(w,A,S,s),E=T}this.updateSharedOptions(h,s,u)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=t.dataset,s=i.options&&i.options.borderWidth||0;if(!n.length)return s;const r=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,r,o)/2}}F(Oc,"id","scatter"),F(Oc,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),F(Oc,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var oU=Object.freeze({__proto__:null,BarController:Pc,BubbleController:Cc,DoughnutController:xs,LineController:Rc,PieController:Yd,PolarAreaController:aa,RadarController:Mc,ScatterController:Oc});function ds(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Sm{constructor(t){F(this,"options");this.options=t||{}}static override(t){Object.assign(Sm.prototype,t)}init(){}formats(){return ds()}parse(){return ds()}format(){return ds()}add(){return ds()}diff(){return ds()}startOf(){return ds()}endOf(){return ds()}}var aU={_date:Sm};function lU(e,t,n,i){const{controller:s,data:r,_sorted:o}=e,a=s._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&o&&r.length){const l=a._reversePixels?RB:ci;if(i){if(s._sharedOptions){const c=r[0],u=typeof c.getRange=="function"&&c.getRange(t);if(u){const h=l(r,t,n-u),f=l(r,t,n+u);return{lo:h.lo,hi:f.hi}}}}else return l(r,t,n)}return{lo:0,hi:r.length-1}}function Tl(e,t,n,i,s){const r=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:h,hi:f}=lU(r[a],t,o,s);for(let d=h;d<=f;++d){const p=u[d];p.skip||i(p,c,d)}}}function cU(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,s){const r=t?Math.abs(i.x-s.x):0,o=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function Rf(e,t,n,i,s){const r=[];return!s&&!e.isPointInArea(t)||Tl(e,n,t,function(a,l,c){!s&&!ui(a,e.chartArea,0)||a.inRange(t.x,t.y,i)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function uU(e,t,n,i){let s=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:h}=NT(o,{x:t.x,y:t.y});Ua(h,c,u)&&s.push({element:o,datasetIndex:a,index:l})}return Tl(e,n,t,r),s}function hU(e,t,n,i,s,r){let o=[];const a=cU(n);let l=Number.POSITIVE_INFINITY;function c(u,h,f){const d=u.inRange(t.x,t.y,s);if(i&&!d)return;const p=u.getCenterPoint(s);if(!(!!r||e.isPointInArea(p))&&!d)return;const m=a(t,p);m<l?(o=[{element:u,datasetIndex:h,index:f}],l=m):m===l&&o.push({element:u,datasetIndex:h,index:f})}return Tl(e,n,t,c),o}function Mf(e,t,n,i,s,r){return!r&&!e.isPointInArea(t)?[]:n==="r"&&!i?uU(e,t,n,s):hU(e,t,n,i,s,r)}function lb(e,t,n,i,s){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Tl(e,n,t,(l,c,u)=>{l[o](t[n],s)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(t.x,t.y,s))}),i&&!a?[]:r}var fU={evaluateInteractionItems:Tl,modes:{index(e,t,n,i){const s=ms(t,e),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Rf(e,s,r,i,o):Mf(e,s,r,!1,i,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(e,t,n,i){const s=ms(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Rf(e,s,r,i,o):Mf(e,s,r,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(e,t,n,i){const s=ms(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;return Rf(e,s,r,i,o)},nearest(e,t,n,i){const s=ms(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;return Mf(e,s,r,n.intersect,i,o)},x(e,t,n,i){const s=ms(t,e);return lb(e,s,"x",n.intersect,i)},y(e,t,n,i){const s=ms(t,e);return lb(e,s,"y",n.intersect,i)}}};const o1=["left","top","right","bottom"];function wo(e,t){return e.filter(n=>n.pos===t)}function cb(e,t){return e.filter(n=>o1.indexOf(n.pos)===-1&&n.box.axis===t)}function Eo(e,t){return e.sort((n,i)=>{const s=t?i:n,r=t?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function dU(e){const t=[];let n,i,s,r,o,a;for(n=0,i=(e||[]).length;n<i;++n)s=e[n],{position:r,options:{stack:o,stackWeight:a=1}}=s,t.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:a});return t}function pU(e){const t={};for(const n of e){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!o1.includes(s))continue;const o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}function gU(e,t){const n=pU(e),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let r,o,a;for(r=0,o=e.length;r<o;++r){a=e[r];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&t.availableWidth,a.height=s):(a.width=i,a.height=u?u*s:l&&t.availableHeight)}return n}function mU(e){const t=dU(e),n=Eo(t.filter(c=>c.box.fullSize),!0),i=Eo(wo(t,"left"),!0),s=Eo(wo(t,"right")),r=Eo(wo(t,"top"),!0),o=Eo(wo(t,"bottom")),a=cb(t,"x"),l=cb(t,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:wo(t,"chartArea"),vertical:i.concat(s).concat(l),horizontal:r.concat(o).concat(a)}}function ub(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function a1(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function _U(e,t,n,i){const{pos:s,box:r}=n,o=e.maxPadding;if(!_t(s)){n.size&&(e[s]-=n.size);const h=i[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?r.height:r.width),n.size=h.size/h.count,e[s]+=n.size}r.getPadding&&a1(o,r.getPadding());const a=Math.max(0,t.outerWidth-ub(o,e,"left","right")),l=Math.max(0,t.outerHeight-ub(o,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function yU(e){const t=e.maxPadding;function n(i){const s=Math.max(t[i]-e[i],0);return e[i]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function vU(e,t){const n=t.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(t[o],n[o])}),r}return i(e?["left","right"]:["top","bottom"])}function Fo(e,t,n,i){const s=[];let r,o,a,l,c,u;for(r=0,o=e.length,c=0;r<o;++r){a=e[r],l=a.box,l.update(a.width||t.w,a.height||t.h,vU(a.horizontal,t));const{same:h,other:f}=_U(t,n,a,i);c|=h&&s.length,u=u||f,l.fullSize||s.push(a)}return c&&Fo(s,t,n,i)||u}function Zl(e,t,n,i,s){e.top=n,e.left=t,e.right=t+i,e.bottom=n+s,e.width=i,e.height=s}function hb(e,t,n,i){const s=n.padding;let{x:r,y:o}=t;for(const a of e){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=t.w*u,f=c.size||l.height;Ba(c.start)&&(o=c.start),l.fullSize?Zl(l,s.left,o,n.outerWidth-s.right-s.left,f):Zl(l,t.left+c.placed,o,h,f),c.start=o,c.placed+=h,o=l.bottom}else{const h=t.h*u,f=c.size||l.width;Ba(c.start)&&(r=c.start),l.fullSize?Zl(l,r,s.top,f,n.outerHeight-s.bottom-s.top):Zl(l,r,t.top+c.placed,f,h),c.start=r,c.placed+=h,r=l.right}}t.x=r,t.y=o}var Ce={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const s=Le(e.options.layout.padding),r=Math.max(t-s.width,0),o=Math.max(n-s.height,0),a=mU(e.boxes),l=a.vertical,c=a.horizontal;Pt(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,m)=>m.box.options&&m.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},s);a1(f,Le(i));const d=Object.assign({maxPadding:f,w:r,h:o,x:s.left,y:s.top},s),p=gU(l.concat(c),h);Fo(a.fullSize,d,h,p),Fo(l,d,h,p),Fo(c,d,h,p)&&Fo(l,d,h,p),yU(d),hb(a.leftAndTop,d,h,p),d.x+=d.w,d.y+=d.h,hb(a.rightAndBottom,d,h,p),e.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},Pt(a.chartArea,g=>{const m=g.box;Object.assign(m,e.chartArea),m.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})})}};class l1{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,s){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(t){return!0}updateConfig(t){}}class bU extends l1{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Dc="$chartjs",AU={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},fb=e=>e===null||e==="";function wU(e,t){const n=e.style,i=e.getAttribute("height"),s=e.getAttribute("width");if(e[Dc]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",fb(s)){const r=Gv(e,"width");r!==void 0&&(e.width=r)}if(fb(i))if(e.style.height==="")e.height=e.width/(t||2);else{const r=Gv(e,"height");r!==void 0&&(e.height=r)}return e}const c1=I5?{passive:!0}:!1;function EU(e,t,n){e.addEventListener(t,n,c1)}function IU(e,t,n){e.canvas.removeEventListener(t,n,c1)}function TU(e,t){const n=AU[e.type]||e.type,{x:i,y:s}=ms(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:s!==void 0?s:null}}function wu(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function xU(e,t,n){const i=e.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||wu(a.addedNodes,i),o=o&&!wu(a.removedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function SU(e,t,n){const i=e.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||wu(a.removedNodes,i),o=o&&!wu(a.addedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const ja=new Map;let db=0;function u1(){const e=window.devicePixelRatio;e!==db&&(db=e,ja.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function kU(e,t){ja.size||window.addEventListener("resize",u1),ja.set(e,t)}function PU(e){ja.delete(e),ja.size||window.removeEventListener("resize",u1)}function CU(e,t,n){const i=e.canvas,s=i&&xm(i);if(!s)return;const r=BT((a,l)=>{const c=s.clientWidth;n(a,l),c<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(s),kU(e,r),o}function Of(e,t,n){n&&n.disconnect(),t==="resize"&&PU(e)}function RU(e,t,n){const i=e.canvas,s=BT(r=>{e.ctx!==null&&n(TU(r,e))},e);return EU(i,t,s),s}class MU extends l1{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(wU(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[Dc])return!1;const i=n[Dc].initial;["height","width"].forEach(r=>{const o=i[r];bt(o)?n.removeAttribute(r):n.setAttribute(r,o)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[Dc],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),o={attach:xU,detach:SU,resize:CU}[n]||RU;s[n]=o(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),s=i[n];if(!s)return;({attach:Of,detach:Of,resize:Of}[n]||IU)(t,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,s){return E5(t,n,i,s)}isAttached(t){const n=xm(t);return!!(n&&n.isConnected)}}function OU(e){return!XT()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?bU:MU}var gc;let wi=(gc=class{constructor(){F(this,"x");F(this,"y");F(this,"active",!1);F(this,"options");F(this,"$animations")}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return Qr(this.x)&&Qr(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const s={};return t.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}},F(gc,"defaults",{}),F(gc,"defaultRoutes"),gc);function DU(e,t){const n=e.options.ticks,i=NU(e),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?VU(t):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>s)return FU(t,c,r,o/s),c;const u=LU(r,t,s);if(o>0){let h,f;const d=o>1?Math.round((l-a)/(o-1)):null;for(tc(t,c,u,bt(d)?0:a-d,a),h=0,f=o-1;h<f;h++)tc(t,c,u,r[h],r[h+1]);return tc(t,c,u,l,bt(d)?t.length:l+d),c}return tc(t,c,u),c}function NU(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(i,s))}function LU(e,t,n){const i=BU(e),s=t.length/n;if(!i)return Math.max(s,1);const r=SB(i);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>s)return l}return Math.max(s,1)}function VU(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function FU(e,t,n,i){let s=0,r=n[0],o;for(i=Math.ceil(i),o=0;o<e.length;o++)o===r&&(t.push(e[o]),s++,r=n[s*i])}function tc(e,t,n,i,s){const r=ht(i,0),o=Math.min(ht(s,e.length),e.length);let a=0,l,c,u;for(n=Math.ceil(n),s&&(l=s-i,n=l/Math.floor(l/n)),u=r;u<0;)a++,u=Math.round(r+a*n);for(c=Math.max(r,0);c<o;c++)c===u&&(t.push(e[c]),a++,u=Math.round(r+a*n))}function BU(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const UU=e=>e==="left"?"right":e==="right"?"left":e,pb=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,gb=(e,t)=>Math.min(t||e,e);function mb(e,t){const n=[],i=e.length/t,s=e.length;let r=0;for(;r<s;r+=i)n.push(e[Math.floor(r)]);return n}function zU(e,t,n){const i=e.ticks.length,s=Math.min(t,i-1),r=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(s),c;if(!(n&&(i===1?c=Math.max(l-r,o-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(s-1))/2,l+=s<t?c:-c,l<r-a||l>o+a)))return l}function jU(e,t){Pt(e,n=>{const i=n.gc,s=i.length/2;let r;if(s>t){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function Io(e){return e.drawTicks?e.tickLength:0}function _b(e,t){if(!e.display)return 0;const n=ue(e.font,t),i=Le(e.padding);return(jt(e.text)?e.text.length:1)*n.lineHeight+i.height}function $U(e,t){return ls(e,{scale:t,type:"scale"})}function HU(e,t,n){return ls(e,{tick:n,index:t,type:"tick"})}function WU(e,t,n){let i=bm(e);return(n&&t!=="right"||!n&&t==="right")&&(i=UU(i)),i}function qU(e,t,n,i){const{top:s,left:r,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:u}=l;let h=0,f,d,p;const g=o-s,m=a-r;if(e.isHorizontal()){if(d=Ie(i,r,a),_t(n)){const _=Object.keys(n)[0],y=n[_];p=u[_].getPixelForValue(y)+g-t}else n==="center"?p=(c.bottom+c.top)/2+g-t:p=pb(e,n,t);f=a-r}else{if(_t(n)){const _=Object.keys(n)[0],y=n[_];d=u[_].getPixelForValue(y)-m+t}else n==="center"?d=(c.left+c.right)/2-m+t:d=pb(e,n,t);p=Ie(i,o,s),h=n==="left"?-Xt:Xt}return{titleX:d,titleY:p,maxWidth:f,rotation:h}}class or extends wi{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return t=Xe(t,Number.POSITIVE_INFINITY),n=Xe(n,Number.NEGATIVE_INFINITY),i=Xe(i,Number.POSITIVE_INFINITY),s=Xe(s,Number.NEGATIVE_INFINITY),{min:Xe(t,i),max:Xe(n,s),minDefined:Yt(t),maxDefined:Yt(n)}}getMinMax(t){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),s||(n=Math.min(n,o.min)),r||(i=Math.max(i,o.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:Xe(n,Xe(i,n)),max:Xe(i,Xe(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Nt(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:s,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=e5(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?mb(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=DU(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Nt(this.options.afterUpdate,[this])}beforeSetDimensions(){Nt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Nt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Nt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Nt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i],r.label=Nt(n.callback,[r.value,i,t],this)}afterTickToLabelConversion(){Nt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Nt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=gb(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,r=n.maxRotation;let o=s,a,l,c;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,d=me(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/i:d/(i-1),h+6>a&&(a=d/(i-(t.offset?.5:1)),l=this.maxHeight-Io(t.grid)-n.padding-_b(t.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),o=ym(Math.min(Math.asin(me((u.highest.height+6)/a,-1,1)),Math.asin(me(l/c,-1,1))-Math.asin(me(f/c,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){Nt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Nt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=_b(s,n.options.font);if(a?(t.width=this.maxWidth,t.height=Io(r)+l):(t.height=this.maxHeight,t.width=Io(r)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:f}=this._getLabelSizes(),d=i.padding*2,p=vn(this.labelRotation),g=Math.cos(p),m=Math.sin(p);if(a){const _=i.mirror?0:m*h.width+g*f.height;t.height=Math.min(this.maxHeight,t.height+_+d)}else{const _=i.mirror?0:g*h.width+m*f.height;t.width=Math.min(this.maxWidth,t.width+_+d)}this._calculatePadding(c,u,m,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,s){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,d=0;l?c?(f=s*t.width,d=i*n.height):(f=i*t.height,d=s*n.width):r==="start"?d=n.width:r==="end"?f=t.width:r!=="inner"&&(f=t.width/2,d=n.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((d-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=t.height/2;r==="start"?(u=0,h=t.height):r==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Nt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)bt(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=mb(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:s,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(n/gb(n,i));let c=0,u=0,h,f,d,p,g,m,_,y,E,A,w;for(h=0;h<n;h+=l){if(p=t[h].label,g=this._resolveTickFontOptions(h),s.font=m=g.string,_=r[m]=r[m]||{data:{},gc:[]},y=g.lineHeight,E=A=0,!bt(p)&&!jt(p))E=bu(s,_.data,_.gc,E,p),A=y;else if(jt(p))for(f=0,d=p.length;f<d;++f)w=p[f],!bt(w)&&!jt(w)&&(E=bu(s,_.data,_.gc,E,w),A+=y);o.push(E),a.push(A),c=Math.max(E,c),u=Math.max(A,u)}jU(r,n);const T=o.indexOf(c),S=a.indexOf(u),x=C=>({width:o[C]||0,height:a[C]||0});return{first:x(0),last:x(n-1),widest:x(T),highest:x(S),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return CB(this._alignToPixels?fs(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=HU(this.getContext(),t,i))}return this.$context||(this.$context=$U(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=vn(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*i>a*s?a/i:l/s:l*s<a*i?l/i:a/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:o,border:a}=s,l=r.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=Io(r),d=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,m=g/2,_=function(X){return fs(i,X,g)};let y,E,A,w,T,S,x,C,j,K,st,Tt;if(o==="top")y=_(this.bottom),S=this.bottom-f,C=y-m,K=_(t.top)+m,Tt=t.bottom;else if(o==="bottom")y=_(this.top),K=t.top,Tt=_(t.bottom)-m,S=y+m,C=this.top+f;else if(o==="left")y=_(this.right),T=this.right-f,x=y-m,j=_(t.left)+m,st=t.right;else if(o==="right")y=_(this.left),j=t.left,st=_(t.right)-m,T=y+m,x=this.left+f;else if(n==="x"){if(o==="center")y=_((t.top+t.bottom)/2+.5);else if(_t(o)){const X=Object.keys(o)[0],it=o[X];y=_(this.chart.scales[X].getPixelForValue(it))}K=t.top,Tt=t.bottom,S=y+m,C=S+f}else if(n==="y"){if(o==="center")y=_((t.left+t.right)/2);else if(_t(o)){const X=Object.keys(o)[0],it=o[X];y=_(this.chart.scales[X].getPixelForValue(it))}T=y-m,x=T-f,j=t.left,st=t.right}const te=ht(s.ticks.maxTicksLimit,h),dt=Math.max(1,Math.ceil(h/te));for(E=0;E<h;E+=dt){const X=this.getContext(E),it=r.setContext(X),ut=a.setContext(X),Ot=it.lineWidth,Ve=it.color,Fe=ut.dash||[],ee=ut.dashOffset,on=it.tickWidth,an=it.tickColor,Cn=it.tickBorderDash||[],Gt=it.tickBorderDashOffset;A=zU(this,E,l),A!==void 0&&(w=fs(i,A,Ot),c?T=x=j=st=w:S=C=K=Tt=w,d.push({tx1:T,ty1:S,tx2:x,ty2:C,x1:j,y1:K,x2:st,y2:Tt,width:Ot,color:Ve,borderDash:Fe,borderDashOffset:ee,tickWidth:on,tickColor:an,tickBorderDash:Cn,tickBorderDashOffset:Gt}))}return this._ticksLength=h,this._borderValue=y,d}_computeLabelItems(t){const n=this.axis,i=this.options,{position:s,ticks:r}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=r,f=Io(i.grid),d=f+u,p=h?-u:d,g=-vn(this.labelRotation),m=[];let _,y,E,A,w,T,S,x,C,j,K,st,Tt="middle";if(s==="top")T=this.bottom-p,S=this._getXAxisLabelAlignment();else if(s==="bottom")T=this.top+p,S=this._getXAxisLabelAlignment();else if(s==="left"){const dt=this._getYAxisLabelAlignment(f);S=dt.textAlign,w=dt.x}else if(s==="right"){const dt=this._getYAxisLabelAlignment(f);S=dt.textAlign,w=dt.x}else if(n==="x"){if(s==="center")T=(t.top+t.bottom)/2+d;else if(_t(s)){const dt=Object.keys(s)[0],X=s[dt];T=this.chart.scales[dt].getPixelForValue(X)+d}S=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")w=(t.left+t.right)/2-d;else if(_t(s)){const dt=Object.keys(s)[0],X=s[dt];w=this.chart.scales[dt].getPixelForValue(X)}S=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?Tt="top":l==="end"&&(Tt="bottom"));const te=this._getLabelSizes();for(_=0,y=a.length;_<y;++_){E=a[_],A=E.label;const dt=r.setContext(this.getContext(_));x=this.getPixelForTick(_)+r.labelOffset,C=this._resolveTickFontOptions(_),j=C.lineHeight,K=jt(A)?A.length:1;const X=K/2,it=dt.color,ut=dt.textStrokeColor,Ot=dt.textStrokeWidth;let Ve=S;o?(w=x,S==="inner"&&(_===y-1?Ve=this.options.reverse?"left":"right":_===0?Ve=this.options.reverse?"right":"left":Ve="center"),s==="top"?c==="near"||g!==0?st=-K*j+j/2:c==="center"?st=-te.highest.height/2-X*j+j:st=-te.highest.height+j/2:c==="near"||g!==0?st=j/2:c==="center"?st=te.highest.height/2-X*j:st=te.highest.height-K*j,h&&(st*=-1),g!==0&&!dt.showLabelBackdrop&&(w+=j/2*Math.sin(g))):(T=x,st=(1-K)*j/2);let Fe;if(dt.showLabelBackdrop){const ee=Le(dt.backdropPadding),on=te.heights[_],an=te.widths[_];let Cn=st-ee.top,Gt=0-ee.left;switch(Tt){case"middle":Cn-=on/2;break;case"bottom":Cn-=on;break}switch(S){case"center":Gt-=an/2;break;case"right":Gt-=an;break}Fe={left:Gt,top:Cn,width:an+ee.width,height:on+ee.height,color:dt.backdropColor}}m.push({label:A,font:C,textOffset:st,options:{rotation:g,color:it,strokeColor:ut,strokeWidth:Ot,textAlign:Ve,textBaseline:Tt,translation:[w,T],backdrop:Fe}})}return m}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-vn(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),a=t+r,l=o.widest.width;let c,u;return n==="left"?s?(u=this.right+r,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?s?(u=this.left+r,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:s,width:r,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,s,r,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(r=0,o=s.length;r<o;++r){const l=s[r];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,f;this.isHorizontal()?(c=fs(t,this.left,o)-o/2,u=fs(t,this.right,a)+a/2,h=f=l):(h=fs(t,this.top,o)-o/2,f=fs(t,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(c,h),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Mh(i,s);const r=this.getLabelItems(t);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Qs(i,c,0,u,l,a)}s&&Oh(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=ue(i.font),o=Le(i.padding),a=i.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||_t(n)?(l+=o.bottom,jt(i.text)&&(l+=r.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:f}=qU(this,l,n,a);Qs(t,i.text,0,0,r,{color:i.color,maxWidth:h,rotation:f,textAlign:WU(a,n,s),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=ht(t.grid&&t.grid.z,-1),s=ht(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==or.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[i]===this.id&&(!t||a.type===t)&&s.push(a)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return ue(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class ec{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;QU(n)&&(i=this.register(n));const s=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in s||(s[r]=t,KU(t,o,i),this.override&&Jt.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,s=this.scope;i in n&&delete n[i],s&&i in Jt[s]&&(delete Jt[s][i],this.override&&delete Gs[i])}}function KU(e,t,n){const i=Fa(Object.create(null),[n?Jt.get(n):{},Jt.get(t),e.defaults]);Jt.set(t,i),e.defaultRoutes&&GU(t,e.defaultRoutes),e.descriptors&&Jt.describe(t,e.descriptors)}function GU(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),s=i.pop(),r=[e].concat(i).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");Jt.route(r,s,l,a)})}function QU(e){return"id"in e&&"defaults"in e}class YU{constructor(){this.controllers=new ec(In,"datasets",!0),this.elements=new ec(wi,"elements"),this.plugins=new ec(Object,"plugins"),this.scales=new ec(or,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(t,r,s):Pt(s,o=>{const a=i||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,i){const s=_m(t);Nt(i["before"+s],[],i),n[t](i),Nt(i["after"+s],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var Dn=new YU;class XU{constructor(){this._init=[]}notify(t,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=s?this._descriptors(t).filter(s):this._descriptors(t),o=this._notify(r,t,n,i);return n==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,i,s){s=s||{};for(const r of t){const o=r.plugin,a=o[i],l=[n,s,r.options];if(Nt(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){bt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,s=ht(i.options&&i.options.plugins,{}),r=JU(i);return s===!1&&!n?[]:t3(t,r,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,s=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,i),t,"stop"),this._notify(s(i,n),t,"start")}}function JU(e){const t={},n=[],i=Object.keys(Dn.plugins.items);for(let r=0;r<i.length;r++)n.push(Dn.getPlugin(i[r]));const s=e.plugins||[];for(let r=0;r<s.length;r++){const o=s[r];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function ZU(e,t){return!t&&e===!1?null:e===!0?{}:e}function t3(e,{plugins:t,localIds:n},i,s){const r=[],o=e.getContext();for(const a of t){const l=a.id,c=ZU(i[l],s);c!==null&&r.push({plugin:a,options:e3(e.config,{plugin:a,local:n[l]},c,o)})}return r}function e3(e,{plugin:t,local:n},i,s){const r=e.pluginScopeKeys(t),o=e.getOptionScopes(i,r);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Xd(e,t){const n=Jt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function n3(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function i3(e,t){return e===t?"_index_":"_value_"}function yb(e){if(e==="x"||e==="y"||e==="r")return e}function s3(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Jd(e,...t){if(yb(e))return e;for(const n of t){const i=n.axis||s3(n.position)||e.length>1&&yb(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function vb(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function r3(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return vb(e,"x",n[0])||vb(e,"y",n[0])}return{}}function o3(e,t){const n=Gs[e.type]||{scales:{}},i=t.scales||{},s=Xd(e.type,t),r=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!_t(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Jd(o,a,r3(o,e),Jt.scales[a.type]),c=i3(l,s),u=n.scales||{};r[o]=ia(Object.create(null),[{axis:l},a,u[l],u[c]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||Xd(a,t),u=(Gs[a]||{}).scales||{};Object.keys(u).forEach(h=>{const f=n3(h,l),d=o[f+"AxisID"]||f;r[d]=r[d]||Object.create(null),ia(r[d],[{axis:f},i[d],u[h]])})}),Object.keys(r).forEach(o=>{const a=r[o];ia(a,[Jt.scales[a.type],Jt.scale])}),r}function h1(e){const t=e.options||(e.options={});t.plugins=ht(t.plugins,{}),t.scales=o3(e,t)}function f1(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function a3(e){return e=e||{},e.data=f1(e.data),h1(e),e}const bb=new Map,d1=new Set;function nc(e,t){let n=bb.get(e);return n||(n=t(),bb.set(e,n),d1.add(n)),n}const To=(e,t,n)=>{const i=Zi(t,n);i!==void 0&&e.add(i)};class l3{constructor(t){this._config=a3(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=f1(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),h1(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return nc(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return nc(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return nc(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return nc(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let s=i.get(t);return(!s||n)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,n,i){const{options:s,type:r}=this,o=this._cachedScopes(t,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{t&&(l.add(t),u.forEach(h=>To(l,t,h))),u.forEach(h=>To(l,s,h)),u.forEach(h=>To(l,Gs[r]||{},h)),u.forEach(h=>To(l,Jt,h)),u.forEach(h=>To(l,Gd,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),d1.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:t,type:n}=this;return[t,Gs[n]||{},Jt.datasets[n]||{},{type:n},Jt,Gd]}resolveNamedOptions(t,n,i,s=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=Ab(this._resolverCache,t,s);let l=o;if(u3(o,n)){r.$shared=!1,i=ts(i)?i():i;const c=this.createResolver(t,i,a);l=Yr(o,i,c)}for(const c of n)r[c]=l[c];return r}createResolver(t,n,i=[""],s){const{resolver:r}=Ab(this._resolverCache,t,i);return _t(n)?Yr(r,n,void 0,s):r}}function Ab(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const s=n.join();let r=i.get(s);return r||(r={resolver:Em(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(s,r)),r}const c3=e=>_t(e)&&Object.getOwnPropertyNames(e).reduce((t,n)=>t||ts(e[n]),!1);function u3(e,t){const{isScriptable:n,isIndexable:i}=WT(e);for(const s of t){const r=n(s),o=i(s),a=(o||r)&&e[s];if(r&&(ts(a)||c3(a))||o&&jt(a))return!0}return!1}var h3="4.3.3";const f3=["top","bottom","left","right","chartArea"];function wb(e,t){return e==="top"||e==="bottom"||f3.indexOf(e)===-1&&t==="x"}function Eb(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function Ib(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Nt(n&&n.onComplete,[e],t)}function d3(e){const t=e.chart,n=t.options.animation;Nt(n&&n.onProgress,[e],t)}function p1(e){return XT()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Nc={},Tb=e=>{const t=p1(e);return Object.values(Nc).filter(n=>n.canvas===t).pop()};function p3(e,t,n){const i=Object.keys(e);for(const s of i){const r=+s;if(r>=t){const o=e[s];delete e[s],(n>0||r>t)&&(e[r+n]=o)}}}function g3(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}function m3(e){const{xScale:t,yScale:n}=e;if(t&&n)return{left:t.left,right:t.right,top:n.top,bottom:n.bottom}}class ni{static register(...t){Dn.add(...t),xb()}static unregister(...t){Dn.remove(...t),xb()}constructor(t,n){const i=this.config=new l3(n),s=p1(t),r=Tb(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||OU(s)),this.platform.updateConfig(i);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=yB(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new XU,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=DB(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Nc[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Jn.listen(this,"complete",Ib),Jn.listen(this,"progress",d3),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return bt(t)?n&&r?r:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Dn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Kv(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Hv(this.canvas,this.ctx),this}stop(){return Jn.stop(this),this}resize(t,n){Jn.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,t,n,r),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Kv(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Nt(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Pt(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,s=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],l=Jd(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Pt(r,o=>{const a=o.options,l=a.id,c=Jd(l,a),u=ht(a.type,o.dtype);(a.position===void 0||wb(a.position,c)!==wb(o.dposition))&&(a.position=o.dposition),s[l]=!0;let h=null;if(l in i&&i[l].type===u)h=i[l];else{const f=Dn.getScale(u);h=new f({id:l,type:u,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(a,t)}),Pt(s,(o,a)=>{o||delete i[a]}),Pt(i,o=>{Ce.configure(this,o,o.options),Ce.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(Eb("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let o=this.getDatasetMeta(i);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=r.indexAxis||Xd(a,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Dn.getController(a),{datasetElementType:c,dataElementType:u}=Jt.datasets[a];Object.assign(l,{dataElementType:Dn.getElement(u),datasetElementType:c&&Dn.getElement(c)}),o.controller=new l(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){Pt(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),f=!s&&r.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||Pt(r,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Eb("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Pt(this.scales,t=>{Ce.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!Nv(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const o=i==="_removeElements"?-r:r;p3(t,s,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(t.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!Nv(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ce.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Pt(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,ts(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Jn.has(this)?this.attached&&!Jn.running(this)&&Jn.start(this):(this.draw(),Ib({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resize(i,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const o=n[s];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i=t._clip,s=!i.disabled,r=m3(t)||this.chartArea,o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(s&&Mh(n,{left:i.left===!1?0:r.left-i.left,right:i.right===!1?this.width:r.right+i.right,top:i.top===!1?0:r.top-i.top,bottom:i.bottom===!1?this.height:r.bottom+i.bottom}),t.controller.draw(),s&&Oh(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return ui(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,s){const r=fU.modes[n];return typeof r=="function"?r(this,t,i,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=ls(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,s);Ba(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(r,{visible:i}),this.update(a=>a.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Jn.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Hv(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Nc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(r,o)=>{n.addEventListener(this,r,o),t[r]=o},s=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};Pt(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),t[l]=c},s=(l,c)=>{t[l]&&(n.removeEventListener(this,l,c),delete t[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Pt(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Pt(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const s=i?"set":"remove";let r,o,a,l;for(n==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!_u(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const s=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=r(n,t),a=i?t:r(t,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:s=[],options:r}=this,o=n,a=this._getActiveElements(t,s,i,o),l=IB(t),c=g3(t,this._lastEvent,i,l);i&&(this._lastEvent=null,Nt(r.onHover,[t,a,this],this),l&&Nt(r.onClick,[t,a,this],this));const u=!_u(a,s);return(u||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=c,u}_getActiveElements(t,n,i,s){if(t.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,s)}}F(ni,"defaults",Jt),F(ni,"instances",Nc),F(ni,"overrides",Gs),F(ni,"registry",Dn),F(ni,"version",h3),F(ni,"getChart",Tb);function xb(){return Pt(ni.instances,e=>e._plugins.invalidate())}function _3(e,t,n){const{startAngle:i,pixelMargin:s,x:r,y:o,outerRadius:a,innerRadius:l}=t;let c=s/a;e.beginPath(),e.arc(r,o,a,i-c,n+c),l>s?(c=s/l,e.arc(r,o,l,n+c,i-c,!0)):e.arc(r,o,s,n+Xt,i-Xt),e.closePath(),e.clip()}function y3(e){return wm(e,["outerStart","outerEnd","innerStart","innerEnd"])}function v3(e,t,n,i){const s=y3(e.options.borderRadius),r=(n-t)/2,o=Math.min(r,i*t/2),a=l=>{const c=(n-Math.min(r,l))*i/2;return me(l,0,Math.min(r,c))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:me(s.innerStart,0,o),innerEnd:me(s.innerEnd,0,o)}}function fr(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function Eu(e,t,n,i,s,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=t,h=Math.max(t.outerRadius+i+n-c,0),f=u>0?u+i+n+c:0;let d=0;const p=s-l;if(i){const dt=u>0?u-i:0,X=h>0?h-i:0,it=(dt+X)/2,ut=it!==0?p*it/(it+i):p;d=(p-ut)/2}const g=Math.max(.001,p*h-n/qt)/h,m=(p-g)/2,_=l+m+d,y=s-m-d,{outerStart:E,outerEnd:A,innerStart:w,innerEnd:T}=v3(t,f,h,y-_),S=h-E,x=h-A,C=_+E/S,j=y-A/x,K=f+w,st=f+T,Tt=_+w/K,te=y-T/st;if(e.beginPath(),r){const dt=(C+j)/2;if(e.arc(o,a,h,C,dt),e.arc(o,a,h,dt,j),A>0){const Ot=fr(x,j,o,a);e.arc(Ot.x,Ot.y,A,j,y+Xt)}const X=fr(st,y,o,a);if(e.lineTo(X.x,X.y),T>0){const Ot=fr(st,te,o,a);e.arc(Ot.x,Ot.y,T,y+Xt,te+Math.PI)}const it=(y-T/f+(_+w/f))/2;if(e.arc(o,a,f,y-T/f,it,!0),e.arc(o,a,f,it,_+w/f,!0),w>0){const Ot=fr(K,Tt,o,a);e.arc(Ot.x,Ot.y,w,Tt+Math.PI,_-Xt)}const ut=fr(S,_,o,a);if(e.lineTo(ut.x,ut.y),E>0){const Ot=fr(S,C,o,a);e.arc(Ot.x,Ot.y,E,_-Xt,C)}}else{e.moveTo(o,a);const dt=Math.cos(C)*h+o,X=Math.sin(C)*h+a;e.lineTo(dt,X);const it=Math.cos(j)*h+o,ut=Math.sin(j)*h+a;e.lineTo(it,ut)}e.closePath()}function b3(e,t,n,i,s){const{fullCircles:r,startAngle:o,circumference:a}=t;let l=t.endAngle;if(r){Eu(e,t,n,i,l,s);for(let c=0;c<r;++c)e.fill();isNaN(a)||(l=o+(a%$t||$t))}return Eu(e,t,n,i,l,s),e.fill(),l}function A3(e,t,n,i,s){const{fullCircles:r,startAngle:o,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:f}=l,d=l.borderAlign==="inner";if(!c)return;e.setLineDash(h||[]),e.lineDashOffset=f,d?(e.lineWidth=c*2,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let p=t.endAngle;if(r){Eu(e,t,n,i,p,s);for(let g=0;g<r;++g)e.stroke();isNaN(a)||(p=o+(a%$t||$t))}d&&_3(e,t,p),r||(Eu(e,t,n,i,p,s),e.stroke())}class Bo extends wi{constructor(n){super();F(this,"circumference");F(this,"endAngle");F(this,"fullCircles");F(this,"innerRadius");F(this,"outerRadius");F(this,"pixelMargin");F(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.getProps(["x","y"],s),{angle:o,distance:a}=NT(r,{x:n,y:i}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),d=(this.options.spacing+this.options.borderWidth)/2,g=ht(f,c-l)>=$t||Ua(o,l,c),m=li(a,u+d,h+d);return g&&m}getCenterPoint(n){const{x:i,y:s,startAngle:r,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,h=(r+o)/2,f=(a+l+u+c)/2;return{x:i+Math.cos(h)*f,y:s+Math.sin(h)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:s}=this,r=(i.offset||0)/4,o=(i.spacing||0)/2,a=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>$t?Math.floor(s/$t):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*r,Math.sin(l)*r);const c=1-Math.sin(Math.min(qt,s||0)),u=r*c;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,b3(n,this,u,o,a),A3(n,this,u,o,a),n.restore()}}F(Bo,"id","arc"),F(Bo,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),F(Bo,"defaultRoutes",{backgroundColor:"backgroundColor"}),F(Bo,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function g1(e,t,n=t){e.lineCap=ht(n.borderCapStyle,t.borderCapStyle),e.setLineDash(ht(n.borderDash,t.borderDash)),e.lineDashOffset=ht(n.borderDashOffset,t.borderDashOffset),e.lineJoin=ht(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=ht(n.borderWidth,t.borderWidth),e.strokeStyle=ht(n.borderColor,t.borderColor)}function w3(e,t,n){e.lineTo(n.x,n.y)}function E3(e){return e.stepped?qB:e.tension||e.cubicInterpolationMode==="monotone"?KB:w3}function m1(e,t,n={}){const i=e.length,{start:s=0,end:r=i-1}=n,{start:o,end:a}=t,l=Math.max(s,o),c=Math.min(r,a),u=s<o&&r<o||s>a&&r>a;return{count:i,start:l,loop:t.loop,ilen:c<l&&!u?i+c-l:c-l}}function I3(e,t,n,i){const{points:s,options:r}=t,{count:o,start:a,loop:l,ilen:c}=m1(s,n,i),u=E3(r);let{move:h=!0,reverse:f}=i||{},d,p,g;for(d=0;d<=c;++d)p=s[(a+(f?c-d:d))%o],!p.skip&&(h?(e.moveTo(p.x,p.y),h=!1):u(e,g,p,f,r.stepped),g=p);return l&&(p=s[(a+(f?c:0))%o],u(e,g,p,f,r.stepped)),!!l}function T3(e,t,n,i){const s=t.points,{count:r,start:o,ilen:a}=m1(s,n,i),{move:l=!0,reverse:c}=i||{};let u=0,h=0,f,d,p,g,m,_;const y=A=>(o+(c?a-A:A))%r,E=()=>{g!==m&&(e.lineTo(u,m),e.lineTo(u,g),e.lineTo(u,_))};for(l&&(d=s[y(0)],e.moveTo(d.x,d.y)),f=0;f<=a;++f){if(d=s[y(f)],d.skip)continue;const A=d.x,w=d.y,T=A|0;T===p?(w<g?g=w:w>m&&(m=w),u=(h*u+A)/++h):(E(),e.lineTo(A,w),p=T,h=0,g=m=w),_=w}E()}function Zd(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?T3:I3}function x3(e){return e.stepped?T5:e.tension||e.cubicInterpolationMode==="monotone"?x5:_s}function S3(e,t,n,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,n,i)&&s.closePath()),g1(e,t.options),e.stroke(s)}function k3(e,t,n,i){const{segments:s,options:r}=t,o=Zd(t);for(const a of s)g1(e,r,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}const P3=typeof Path2D=="function";function C3(e,t,n,i){P3&&!t.options.segment?S3(e,t,n,i):k3(e,t,n,i)}class Vi extends wi{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;_5(this._points,i,t,s,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=M5(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){const i=this.options,s=t[n],r=this.points,o=n1(this,{property:n,start:s,end:s});if(!o.length)return;const a=[],l=x3(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:f}=o[c],d=r[h],p=r[f];if(d===p){a.push(d);continue}const g=Math.abs((s-d[n])/(p[n]-d[n])),m=l(d,p,g,i.stepped);m[n]=t[n],a.push(m)}return a.length===1?a[0]:a}pathSegment(t,n,i){return Zd(this)(t,this,n,i)}path(t,n,i){const s=this.segments,r=Zd(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of s)o&=r(t,this,a,{start:n,end:n+i-1});return!!o}draw(t,n,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),C3(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}F(Vi,"id","line"),F(Vi,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),F(Vi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),F(Vi,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function Sb(e,t,n,i){const s=e.options,{[n]:r}=e.getProps([n],i);return Math.abs(t-r)<s.radius+s.hitRadius}class Lc extends wi{constructor(n){super();F(this,"parsed");F(this,"skip");F(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(n-o,2)+Math.pow(i-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(n,i){return Sb(this,n,"x",i)}inYRange(n,i){return Sb(this,n,"y",i)}getCenterPoint(n){const{x:i,y:s}=this.getProps(["x","y"],n);return{x:i,y:s}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const s=i&&n.borderWidth||0;return(i+s)*2}draw(n,i){const s=this.options;this.skip||s.radius<.1||!ui(this,i,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,Qd(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}F(Lc,"id","point"),F(Lc,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),F(Lc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function _1(e,t){const{x:n,y:i,base:s,width:r,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,c,u,h;return e.horizontal?(h=o/2,a=Math.min(n,s),l=Math.max(n,s),c=i-h,u=i+h):(h=r/2,a=n-h,l=n+h,c=Math.min(i,s),u=Math.max(i,s)),{left:a,top:c,right:l,bottom:u}}function Fi(e,t,n,i){return e?0:me(t,n,i)}function R3(e,t,n){const i=e.options.borderWidth,s=e.borderSkipped,r=HT(i);return{t:Fi(s.top,r.top,0,n),r:Fi(s.right,r.right,0,t),b:Fi(s.bottom,r.bottom,0,n),l:Fi(s.left,r.left,0,t)}}function M3(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,r=Ds(s),o=Math.min(t,n),a=e.borderSkipped,l=i||_t(s);return{topLeft:Fi(!l||a.top||a.left,r.topLeft,0,o),topRight:Fi(!l||a.top||a.right,r.topRight,0,o),bottomLeft:Fi(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:Fi(!l||a.bottom||a.right,r.bottomRight,0,o)}}function O3(e){const t=_1(e),n=t.right-t.left,i=t.bottom-t.top,s=R3(e,n/2,i/2),r=M3(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:r},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function Df(e,t,n,i){const s=t===null,r=n===null,a=e&&!(s&&r)&&_1(e,i);return a&&(s||li(t,a.left,a.right))&&(r||li(n,a.top,a.bottom))}function D3(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function N3(e,t){e.rect(t.x,t.y,t.w,t.h)}function Nf(e,t,n={}){const i=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,r=(e.x+e.w!==n.x+n.w?t:0)-i,o=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+i,y:e.y+s,w:e.w+r,h:e.h+o,radius:e.radius}}class Vc extends wi{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:o}=O3(this),a=D3(o.radius)?za:N3;t.save(),(o.w!==r.w||o.h!==r.h)&&(t.beginPath(),a(t,Nf(o,n,r)),t.clip(),a(t,Nf(r,-n,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,Nf(r,n)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,n,i){return Df(this,t,n,i)}inXRange(t,n){return Df(this,t,null,n)}inYRange(t,n){return Df(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(n+s)/2:n,y:r?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}F(Vc,"id","bar"),F(Vc,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),F(Vc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var L3=Object.freeze({__proto__:null,ArcElement:Bo,BarElement:Vc,LineElement:Vi,PointElement:Lc});const tp=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],kb=tp.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function y1(e){return tp[e%tp.length]}function v1(e){return kb[e%kb.length]}function V3(e,t){return e.borderColor=y1(t),e.backgroundColor=v1(t),++t}function F3(e,t){return e.backgroundColor=e.data.map(()=>y1(t++)),t}function B3(e,t){return e.backgroundColor=e.data.map(()=>v1(t++)),t}function U3(e){let t=0;return(n,i)=>{const s=e.getDatasetMeta(i).controller;s instanceof xs?t=F3(n,t):s instanceof aa?t=B3(n,t):s&&(t=V3(n,t))}}function Pb(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function z3(e){return e&&(e.borderColor||e.backgroundColor)}var j3={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:i},options:s}=e.config,{elements:r}=s;if(!n.forceOverride&&(Pb(i)||z3(s)||r&&Pb(r)))return;const o=U3(e);i.forEach(o)}};function $3(e,t,n,i,s){const r=s.samples||i;if(r>=n)return e.slice(t,t+n);const o=[],a=(n-2)/(r-2);let l=0;const c=t+n-1;let u=t,h,f,d,p,g;for(o[l++]=e[u],h=0;h<r-2;h++){let m=0,_=0,y;const E=Math.floor((h+1)*a)+1+t,A=Math.min(Math.floor((h+2)*a)+1,n)+t,w=A-E;for(y=E;y<A;y++)m+=e[y].x,_+=e[y].y;m/=w,_/=w;const T=Math.floor(h*a)+1+t,S=Math.min(Math.floor((h+1)*a)+1,n)+t,{x,y:C}=e[u];for(d=p=-1,y=T;y<S;y++)p=.5*Math.abs((x-m)*(e[y].y-C)-(x-e[y].x)*(_-C)),p>d&&(d=p,f=e[y],g=y);o[l++]=f,u=g}return o[l++]=e[c],o}function H3(e,t,n,i){let s=0,r=0,o,a,l,c,u,h,f,d,p,g;const m=[],_=t+n-1,y=e[t].x,A=e[_].x-y;for(o=t;o<t+n;++o){a=e[o],l=(a.x-y)/A*i,c=a.y;const w=l|0;if(w===u)c<p?(p=c,h=o):c>g&&(g=c,f=o),s=(r*s+a.x)/++r;else{const T=o-1;if(!bt(h)&&!bt(f)){const S=Math.min(h,f),x=Math.max(h,f);S!==d&&S!==T&&m.push({...e[S],x:s}),x!==d&&x!==T&&m.push({...e[x],x:s})}o>0&&T!==d&&m.push(e[T]),m.push(a),u=w,r=0,p=g=c,h=f=d=o}}return m}function b1(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Cb(e){e.data.datasets.forEach(t=>{b1(t)})}function W3(e,t){const n=t.length;let i=0,s;const{iScale:r}=e,{min:o,max:a,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(i=me(ci(t,r.axis,o).lo,0,n-1)),c?s=me(ci(t,r.axis,a).hi+1,i,n)-i:s=n-i,{start:i,count:s}}var q3={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){Cb(e);return}const i=e.width;e.data.datasets.forEach((s,r)=>{const{_data:o,indexAxis:a}=s,l=e.getDatasetMeta(r),c=o||s.data;if(Vo([a,e.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=e.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||e.options.parsing)return;let{start:h,count:f}=W3(l,c);const d=n.threshold||4*i;if(f<=d){b1(s);return}bt(o)&&(s._data=c,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let p;switch(n.algorithm){case"lttb":p=$3(c,h,f,i,n);break;case"min-max":p=H3(c,h,f,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=p})},destroy(e){Cb(e)}};function K3(e,t,n){const i=e.segments,s=e.points,r=t.points,o=[];for(const a of i){let{start:l,end:c}=a;c=km(l,c,s);const u=ep(n,s[l],s[c],a.loop);if(!t.segments){o.push({source:a,target:u,start:s[l],end:s[c]});continue}const h=n1(t,u);for(const f of h){const d=ep(n,r[f.start],r[f.end],f.loop),p=e1(a,s,d);for(const g of p)o.push({source:g,target:f,start:{[n]:Rb(u,d,"start",Math.max)},end:{[n]:Rb(u,d,"end",Math.min)}})}}return o}function ep(e,t,n,i){if(i)return;let s=t[e],r=n[e];return e==="angle"&&(s=Ze(s),r=Ze(r)),{property:e,start:s,end:r}}function G3(e,t){const{x:n=null,y:i=null}=e||{},s=t.points,r=[];return t.segments.forEach(({start:o,end:a})=>{a=km(o,a,s);const l=s[o],c=s[a];i!==null?(r.push({x:l.x,y:i}),r.push({x:c.x,y:i})):n!==null&&(r.push({x:n,y:l.y}),r.push({x:n,y:c.y}))}),r}function km(e,t,n){for(;t>e;t--){const i=n[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function Rb(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function A1(e,t){let n=[],i=!1;return jt(e)?(i=!0,n=e):n=G3(e,t),n.length?new Vi({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function Mb(e){return e&&e.fill!==!1}function Q3(e,t,n){let s=e[t].fill;const r=[t];let o;if(!n)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!Yt(s))return s;if(o=e[s],!o)return!1;if(o.visible)return s;r.push(s),s=o.fill}return!1}function Y3(e,t,n){const i=t9(e);if(_t(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return Yt(s)&&Math.floor(s)===s?X3(i[0],t,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function X3(e,t,n,i){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=i?!1:n}function J3(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:_t(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function Z3(e,t,n){let i;return e==="start"?i=n:e==="end"?i=t.options.reverse?t.min:t.max:_t(e)?i=e.value:i=t.getBaseValue(),i}function t9(e){const t=e.options,n=t.fill;let i=ht(n&&n.target,n);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function e9(e){const{scale:t,index:n,line:i}=e,s=[],r=i.segments,o=i.points,a=n9(t,n);a.push(A1({x:null,y:t.bottom},i));for(let l=0;l<r.length;l++){const c=r[l];for(let u=c.start;u<=c.end;u++)i9(s,o[u],a)}return new Vi({points:s,options:{}})}function n9(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const r=i[s];if(r.index===t)break;r.hidden||n.unshift(r.dataset)}return n}function i9(e,t,n){const i=[];for(let s=0;s<n.length;s++){const r=n[s],{first:o,last:a,point:l}=s9(r,t,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(e.push(l),!a)break}}e.push(...i)}function s9(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const s=i[n],r=e.segments,o=e.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const u=r[c],h=o[u.start][n],f=o[u.end][n];if(li(s,h,f)){a=s===h,l=s===f;break}}return{first:a,last:l,point:i}}class w1{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,i){const{x:s,y:r,radius:o}=this;return n=n||{start:0,end:$t},t.arc(s,r,o,n.end,n.start,!0),!i.bounds}interpolate(t){const{x:n,y:i,radius:s}=this,r=t.angle;return{x:n+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}}function r9(e){const{chart:t,fill:n,line:i}=e;if(Yt(n))return o9(t,n);if(n==="stack")return e9(e);if(n==="shape")return!0;const s=a9(e);return s instanceof w1?s:A1(s,i)}function o9(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function a9(e){return(e.scale||{}).getPointPositionForValue?c9(e):l9(e)}function l9(e){const{scale:t={},fill:n}=e,i=J3(n,t);if(Yt(i)){const s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function c9(e){const{scale:t,fill:n}=e,i=t.options,s=t.getLabels().length,r=i.reverse?t.max:t.min,o=Z3(n,t,r),a=[];if(i.grid.circular){const l=t.getPointPositionForValue(0,r);return new w1({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<s;++l)a.push(t.getPointPositionForValue(l,o));return a}function Lf(e,t,n){const i=r9(t),{line:s,scale:r,axis:o}=t,a=s.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:h=c}=l||{};i&&s.points.length&&(Mh(e,n),u9(e,{line:s,target:i,above:u,below:h,area:n,scale:r,axis:o}),Oh(e))}function u9(e,t){const{line:n,target:i,above:s,below:r,area:o,scale:a}=t,l=n._loop?"angle":t.axis;e.save(),l==="x"&&r!==s&&(Ob(e,i,o.top),Db(e,{line:n,target:i,color:s,scale:a,property:l}),e.restore(),e.save(),Ob(e,i,o.bottom)),Db(e,{line:n,target:i,color:r,scale:a,property:l}),e.restore()}function Ob(e,t,n){const{segments:i,points:s}=t;let r=!0,o=!1;e.beginPath();for(const a of i){const{start:l,end:c}=a,u=s[l],h=s[km(l,c,s)];r?(e.moveTo(u.x,u.y),r=!1):(e.lineTo(u.x,n),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(h.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function Db(e,t){const{line:n,target:i,property:s,color:r,scale:o}=t,a=K3(n,i,s);for(const{source:l,target:c,start:u,end:h}of a){const{style:{backgroundColor:f=r}={}}=l,d=i!==!0;e.save(),e.fillStyle=f,h9(e,o,d&&ep(s,u,h)),e.beginPath();const p=!!n.pathSegment(e,l);let g;if(d){p?e.closePath():Nb(e,i,h,s);const m=!!i.pathSegment(e,c,{move:p,reverse:!0});g=p&&m,g||Nb(e,i,u,s)}e.closePath(),e.fill(g?"evenodd":"nonzero"),e.restore()}}function h9(e,t,n){const{top:i,bottom:s}=t.chart.chartArea,{property:r,start:o,end:a}=n||{};r==="x"&&(e.beginPath(),e.rect(o,i,a-o,s-i),e.clip())}function Nb(e,t,n,i){const s=t.interpolate(n,i);s&&e.lineTo(s.x,s.y)}var f9={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,s=[];let r,o,a,l;for(o=0;o<i;++o)r=e.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof Vi&&(l={visible:e.isDatasetVisible(o),index:o,fill:Y3(a,o,i),chart:e,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,s.push(l);for(o=0;o<i;++o)l=s[o],!(!l||l.fill===!1)&&(l.fill=Q3(s,o,n.propagate))},beforeDraw(e,t,n){const i=n.drawTime==="beforeDraw",s=e.getSortedVisibleDatasetMetas(),r=e.chartArea;for(let o=s.length-1;o>=0;--o){const a=s[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),i&&a.fill&&Lf(e.ctx,a,r))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=e.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const r=i[s].$filler;Mb(r)&&Lf(e.ctx,r,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;!Mb(i)||n.drawTime!=="beforeDatasetDraw"||Lf(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Lb=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},d9=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Vb extends wi{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Nt(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=ue(i.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Lb(i,r);let c,u;n.font=s.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,s,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,s){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=s+a;let h=t;r.textAlign="left",r.textBaseline="middle";let f=-1,d=-u;return this.legendItems.forEach((p,g)=>{const m=i+n/2+r.measureText(p.text).width;(g===0||c[c.length-1]+m+2*a>o)&&(h+=u,c[c.length-(g>0?0:1)]=0,d+=u,f++),l[g]={left:0,top:d,row:f,width:m,height:s},c[c.length-1]+=m+a}),h}_fitCols(t,n,i,s){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-t;let h=a,f=0,d=0,p=0,g=0;return this.legendItems.forEach((m,_)=>{const{itemWidth:y,itemHeight:E}=p9(i,n,r,m,s);_>0&&d+E+2*a>u&&(h+=f+a,c.push({width:f,height:d}),p+=f+a,g++,f=d=0),l[_]={left:p,top:d,col:g,width:y,height:E},f=Math.max(f,y),d+=E+a}),h+=f,c.push({width:f,height:d}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,o=Pr(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=Ie(i,this.left+s,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Ie(i,this.left+s,this.right-this.lineWidths[a])),c.top+=this.top+t+s,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+s}else{let a=0,l=Ie(i,this.top+t+s,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Ie(i,this.top+t+s,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+s,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Mh(t,this),this._draw(),Oh(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:o}=t,a=Jt.color,l=Pr(t.rtl,this.left,this.width),c=ue(o.font),{padding:u}=o,h=c.size,f=h/2;let d;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:p,boxHeight:g,itemHeight:m}=Lb(o,h),_=function(T,S,x){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;s.save();const C=ht(x.lineWidth,1);if(s.fillStyle=ht(x.fillStyle,a),s.lineCap=ht(x.lineCap,"butt"),s.lineDashOffset=ht(x.lineDashOffset,0),s.lineJoin=ht(x.lineJoin,"miter"),s.lineWidth=C,s.strokeStyle=ht(x.strokeStyle,a),s.setLineDash(ht(x.lineDash,[])),o.usePointStyle){const j={radius:g*Math.SQRT2/2,pointStyle:x.pointStyle,rotation:x.rotation,borderWidth:C},K=l.xPlus(T,p/2),st=S+f;$T(s,j,K,st,o.pointStyleWidth&&p)}else{const j=S+Math.max((h-g)/2,0),K=l.leftForLtr(T,p),st=Ds(x.borderRadius);s.beginPath(),Object.values(st).some(Tt=>Tt!==0)?za(s,{x:K,y:j,w:p,h:g,radius:st}):s.rect(K,j,p,g),s.fill(),C!==0&&s.stroke()}s.restore()},y=function(T,S,x){Qs(s,x.text,T,S+m/2,c,{strikethrough:x.hidden,textAlign:l.textAlign(x.textAlign)})},E=this.isHorizontal(),A=this._computeTitleHeight();E?d={x:Ie(r,this.left+u,this.right-i[0]),y:this.top+u+A,line:0}:d={x:this.left+u,y:Ie(r,this.top+A+u,this.bottom-n[0].height),line:0},JT(this.ctx,t.textDirection);const w=m+u;this.legendItems.forEach((T,S)=>{s.strokeStyle=T.fontColor,s.fillStyle=T.fontColor;const x=s.measureText(T.text).width,C=l.textAlign(T.textAlign||(T.textAlign=o.textAlign)),j=p+f+x;let K=d.x,st=d.y;l.setWidth(this.width),E?S>0&&K+j+u>this.right&&(st=d.y+=w,d.line++,K=d.x=Ie(r,this.left+u,this.right-i[d.line])):S>0&&st+w>this.bottom&&(K=d.x=K+n[d.line].width+u,d.line++,st=d.y=Ie(r,this.top+A+u,this.bottom-n[d.line].height));const Tt=l.x(K);if(_(Tt,st,T),K=NB(C,K+p+f,E?K+j:this.right,t.rtl),y(l.x(K),st,T),E)d.x+=j+u;else if(typeof T.text!="string"){const te=c.lineHeight;d.y+=E1(T,te)+u}else d.y+=w}),ZT(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=ue(n.font),s=Le(n.padding);if(!n.display)return;const r=Pr(t.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,c=s.top+l;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,h=Ie(t.align,h,this.right-f);else{const p=this.columnSizes.reduce((g,m)=>Math.max(g,m.height),0);u=c+Ie(t.align,this.top,this.bottom-p-t.labels.padding-this._computeTitleHeight())}const d=Ie(a,h,h+f);o.textAlign=r.textAlign(bm(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,Qs(o,n.text,d,u,i)}_computeTitleHeight(){const t=this.options.title,n=ue(t.font),i=Le(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,s,r;if(li(t,this.left,this.right)&&li(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],li(t,s.left,s.left+s.width)&&li(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!_9(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,r=d9(s,i);s&&!r&&Nt(n.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!r&&Nt(n.onHover,[t,i,this],this)}else i&&Nt(n.onClick,[t,i,this],this)}}function p9(e,t,n,i,s){const r=g9(i,e,t,n),o=m9(s,i,t.lineHeight);return{itemWidth:r,itemHeight:o}}function g9(e,t,n,i){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((r,o)=>r.length>o.length?r:o)),t+n.size/2+i.measureText(s).width}function m9(e,t,n){let i=e;return typeof t.text!="string"&&(i=E1(t,n)),i}function E1(e,t){const n=e.text?e.text.length:0;return t*n}function _9(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var y9={id:"legend",_element:Vb,start(e,t,n){const i=e.legend=new Vb({ctx:e.ctx,options:n,chart:e});Ce.configure(e,i,n),Ce.addBox(e,i)},stop(e){Ce.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;Ce.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=Le(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Pm extends wi{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const s=jt(i.text)?i.text.length:1;this._padding=Le(i.padding);const r=s*ue(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:s,right:r,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=Ie(a,i,r),h=n+t,c=r-i):(o.position==="left"?(u=i+t,h=Ie(a,s,n),l=qt*-.5):(u=r-t,h=Ie(a,n,s),l=qt*.5),c=s-n),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=ue(n.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);Qs(t,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:bm(n.align),textBaseline:"middle",translation:[o,a]})}}function v9(e,t){const n=new Pm({ctx:e.ctx,options:t,chart:e});Ce.configure(e,n,t),Ce.addBox(e,n),e.titleBlock=n}var b9={id:"title",_element:Pm,start(e,t,n){v9(e,n)},stop(e){const t=e.titleBlock;Ce.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;Ce.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ic=new WeakMap;var A9={id:"subtitle",start(e,t,n){const i=new Pm({ctx:e.ctx,options:n,chart:e});Ce.configure(e,i,n),Ce.addBox(e,i),ic.set(e,i)},stop(e){Ce.removeBox(e,ic.get(e)),ic.delete(e)},beforeUpdate(e,t,n){const i=ic.get(e);Ce.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Uo={average(e){if(!e.length)return!1;let t,n,i=0,s=0,r=0;for(t=0,n=e.length;t<n;++t){const o=e[t].element;if(o&&o.hasValue()){const a=o.tooltipPosition();i+=a.x,s+=a.y,++r}}return{x:i/r,y:s/r}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,s=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=e.length;r<o;++r){const l=e[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Kd(t,c);u<s&&(s=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function On(e,t){return t&&(jt(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Zn(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function w9(e,t){const{element:n,datasetIndex:i,index:s}=t,r=e.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(s);return{chart:e,label:o,parsed:r.getParsed(s),raw:e.data.datasets[i].data[s],formattedValue:a,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function Fb(e,t){const n=e.chart.ctx,{body:i,footer:s,title:r}=e,{boxWidth:o,boxHeight:a}=t,l=ue(t.bodyFont),c=ue(t.titleFont),u=ue(t.footerFont),h=r.length,f=s.length,d=i.length,p=Le(t.padding);let g=p.height,m=0,_=i.reduce((A,w)=>A+w.before.length+w.lines.length+w.after.length,0);if(_+=e.beforeBody.length+e.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),_){const A=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=d*A+(_-d)*l.lineHeight+(_-1)*t.bodySpacing}f&&(g+=t.footerMarginTop+f*u.lineHeight+(f-1)*t.footerSpacing);let y=0;const E=function(A){m=Math.max(m,n.measureText(A).width+y)};return n.save(),n.font=c.string,Pt(e.title,E),n.font=l.string,Pt(e.beforeBody.concat(e.afterBody),E),y=t.displayColors?o+2+t.boxPadding:0,Pt(i,A=>{Pt(A.before,E),Pt(A.lines,E),Pt(A.after,E)}),y=0,n.font=u.string,Pt(e.footer,E),n.restore(),m+=p.width,{width:m,height:g}}function E9(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function I9(e,t,n,i){const{x:s,width:r}=i,o=n.caretSize+n.caretPadding;if(e==="left"&&s+r+o>t.width||e==="right"&&s-r-o<0)return!0}function T9(e,t,n,i){const{x:s,width:r}=n,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return i==="center"?c=s<=(a+l)/2?"left":"right":s<=r/2?c="left":s>=o-r/2&&(c="right"),I9(c,e,t,n)&&(c="center"),c}function Bb(e,t,n){const i=n.yAlign||t.yAlign||E9(e,n);return{xAlign:n.xAlign||t.xAlign||T9(e,t,n,i),yAlign:i}}function x9(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function S9(e,t,n){let{y:i,height:s}=e;return t==="top"?i+=n:t==="bottom"?i-=s+n:i-=s/2,i}function Ub(e,t,n,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,c=s+r,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:d}=Ds(o);let p=x9(t,a);const g=S9(t,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,f)+s:a==="right"&&(p+=Math.max(h,d)+s),{x:me(p,0,i.width-t.width),y:me(g,0,i.height-t.height)}}function sc(e,t,n){const i=Le(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function zb(e){return On([],Zn(e))}function k9(e,t,n){return ls(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function jb(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const I1={beforeTitle:Xn,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:Xn,beforeBody:Xn,beforeLabel:Xn,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return bt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Xn,afterBody:Xn,beforeFooter:Xn,footer:Xn,afterFooter:Xn};function $e(e,t,n,i){const s=e[t].call(n,i);return typeof s>"u"?I1[t].call(n,i):s}class np extends wi{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new i1(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=k9(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,s=$e(i,"beforeTitle",this,t),r=$e(i,"title",this,t),o=$e(i,"afterTitle",this,t);let a=[];return a=On(a,Zn(s)),a=On(a,Zn(r)),a=On(a,Zn(o)),a}getBeforeBody(t,n){return zb($e(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,s=[];return Pt(t,r=>{const o={before:[],lines:[],after:[]},a=jb(i,r);On(o.before,Zn($e(a,"beforeLabel",this,r))),On(o.lines,$e(a,"label",this,r)),On(o.after,Zn($e(a,"afterLabel",this,r))),s.push(o)}),s}getAfterBody(t,n){return zb($e(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,s=$e(i,"beforeFooter",this,t),r=$e(i,"footer",this,t),o=$e(i,"afterFooter",this,t);let a=[];return a=On(a,Zn(s)),a=On(a,Zn(r)),a=On(a,Zn(o)),a}_createItems(t){const n=this._active,i=this.chart.data,s=[],r=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(w9(this.chart,n[l]));return t.filter&&(a=a.filter((u,h,f)=>t.filter(u,h,f,i))),t.itemSort&&(a=a.sort((u,h)=>t.itemSort(u,h,i))),Pt(a,u=>{const h=jb(t.callbacks,u);s.push($e(h,"labelColor",this,u)),r.push($e(h,"labelPointStyle",this,u)),o.push($e(h,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,o=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const a=Uo[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=Fb(this,i),c=Object.assign({},a,l),u=Bb(this.chart,i,c),h=Ub(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,s){const r=this.getCaretPosition(t,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(t,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=Ds(a),{x:f,y:d}=t,{width:p,height:g}=n;let m,_,y,E,A,w;return r==="center"?(A=d+g/2,s==="left"?(m=f,_=m-o,E=A+o,w=A-o):(m=f+p,_=m+o,E=A-o,w=A+o),y=m):(s==="left"?_=f+Math.max(l,u)+o:s==="right"?_=f+p-Math.max(c,h)-o:_=this.caretX,r==="top"?(E=d,A=E-o,m=_-o,y=_+o):(E=d+g,A=E+o,m=_+o,y=_-o),w=E),{x1:m,x2:_,x3:y,y1:E,y2:A,y3:w}}drawTitle(t,n,i){const s=this.title,r=s.length;let o,a,l;if(r){const c=Pr(i.rtl,this.x,this.width);for(t.x=sc(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=ue(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<r;++l)n.fillText(s[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===r&&(t.y+=i.titleMarginBottom-a)}}_drawColorBox(t,n,i,s,r){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=r,u=ue(r.bodyFont),h=sc(this,"left",r),f=s.x(h),d=l<u.lineHeight?(u.lineHeight-l)/2:0,p=n.y+d;if(r.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},m=s.leftForLtr(f,c)+c/2,_=p+l/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,Qd(t,g,m,_),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Qd(t,g,m,_)}else{t.lineWidth=_t(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const g=s.leftForLtr(f,c),m=s.leftForLtr(s.xPlus(f,1),c-2),_=Ds(o.borderRadius);Object.values(_).some(y=>y!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,za(t,{x:g,y:p,w:c,h:l,radius:_}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),za(t,{x:m,y:p+1,w:c-2,h:l-2,radius:_}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(g,p,c,l),t.strokeRect(g,p,c,l),t.fillStyle=o.backgroundColor,t.fillRect(m,p+1,c-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,h=ue(i.bodyFont);let f=h.lineHeight,d=0;const p=Pr(i.rtl,this.x,this.width),g=function(x){n.fillText(x,p.x(t.x+d),t.y+f/2),t.y+=f+r},m=p.textAlign(o);let _,y,E,A,w,T,S;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,t.x=sc(this,m,i),n.fillStyle=i.bodyColor,Pt(this.beforeBody,g),d=a&&m!=="right"?o==="center"?c/2+u:c+2+u:0,A=0,T=s.length;A<T;++A){for(_=s[A],y=this.labelTextColors[A],n.fillStyle=y,Pt(_.before,g),E=_.lines,a&&E.length&&(this._drawColorBox(n,t,A,p,i),f=Math.max(h.lineHeight,l)),w=0,S=E.length;w<S;++w)g(E[w]),f=h.lineHeight;Pt(_.after,g)}d=0,f=h.lineHeight,Pt(this.afterBody,g),t.y-=r}drawFooter(t,n,i){const s=this.footer,r=s.length;let o,a;if(r){const l=Pr(i.rtl,this.x,this.width);for(t.x=sc(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=ue(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(s[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,n,i,s){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:u}=i,{topLeft:h,topRight:f,bottomLeft:d,bottomRight:p}=Ds(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(t,n,i,s),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&r==="right"&&this.drawCaret(t,n,i,s),n.lineTo(a+c,l+u-p),n.quadraticCurveTo(a+c,l+u,a+c-p,l+u),o==="bottom"&&this.drawCaret(t,n,i,s),n.lineTo(a+d,l+u),n.quadraticCurveTo(a,l+u,a,l+u-d),o==="center"&&r==="left"&&this.drawCaret(t,n,i,s),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const o=Uo[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Fb(this,t),l=Object.assign({},o,this._size),c=Bb(n,t,l),u=Ub(t,l,c,n);(s._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Le(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=i,this.drawBackground(r,t,s,n),JT(t,n.textDirection),r.y+=o.top,this.drawTitle(r,t,n),this.drawBody(r,t,n),this.drawFooter(r,t,n),ZT(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,s=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!_u(i,s),o=this._positionChanged(s,n);(r||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],o=this._getActiveElements(t,r,n,i),a=this._positionChanged(o,t),l=n||!_u(o,r)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,i,s){const r=this.options;if(t.type==="mouseout")return[];if(!s)return n;const o=this.chart.getElementsAtEventForMode(t,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:i,caretY:s,options:r}=this,o=Uo[r.position].call(this,t,n);return o!==!1&&(i!==o.x||s!==o.y)}}F(np,"positioners",Uo);var P9={id:"tooltip",_element:np,positioners:Uo,afterInit(e,t,n){n&&(e.tooltip=new np({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:I1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},C9=Object.freeze({__proto__:null,Colors:j3,Decimation:q3,Filler:f9,Legend:y9,SubTitle:A9,Title:b9,Tooltip:P9});const R9=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function M9(e,t,n,i){const s=e.indexOf(t);if(s===-1)return R9(e,t,n,i);const r=e.lastIndexOf(t);return s!==r?n:s}const O9=(e,t)=>e===null?null:me(Math.round(e),0,t);function $b(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class ip extends or{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(bt(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:M9(i,t,ht(n,t),this._addedLabels),O9(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=t===0&&n===r.length-1?r:r.slice(t,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=n;o++)s.push({value:o});return s}getLabelForValue(t){return $b.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}F(ip,"id","category"),F(ip,"defaults",{ticks:{callback:$b}});function D9(e,t){const n=[],{bounds:s,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:f}=e,d=r||1,p=u-1,{min:g,max:m}=t,_=!bt(o),y=!bt(a),E=!bt(c),A=(m-g)/(h+1);let w=Vv((m-g)/p/d)*d,T,S,x,C;if(w<1e-14&&!_&&!y)return[{value:g},{value:m}];C=Math.ceil(m/w)-Math.floor(g/w),C>p&&(w=Vv(C*w/p/d)*d),bt(l)||(T=Math.pow(10,l),w=Math.ceil(w*T)/T),s==="ticks"?(S=Math.floor(g/w)*w,x=Math.ceil(m/w)*w):(S=g,x=m),_&&y&&r&&kB((a-o)/r,w/1e3)?(C=Math.round(Math.min((a-o)/w,u)),w=(a-o)/C,S=o,x=a):E?(S=_?o:S,x=y?a:x,C=c-1,w=(x-S)/C):(C=(x-S)/w,sa(C,Math.round(C),w/1e3)?C=Math.round(C):C=Math.ceil(C));const j=Math.max(Fv(w),Fv(S));T=Math.pow(10,bt(l)?j:l),S=Math.round(S*T)/T,x=Math.round(x*T)/T;let K=0;for(_&&(f&&S!==o?(n.push({value:o}),S<o&&K++,sa(Math.round((S+K*w)*T)/T,o,Hb(o,A,e))&&K++):S<o&&K++);K<C;++K){const st=Math.round((S+K*w)*T)/T;if(y&&st>a)break;n.push({value:st})}return y&&f&&x!==a?n.length&&sa(n[n.length-1].value,a,Hb(a,A,e))?n[n.length-1].value=a:n.push({value:a}):(!y||x===a)&&n.push({value:x}),n}function Hb(e,t,{horizontal:n,minRotation:i}){const s=vn(i),r=(n?Math.sin(s):Math.cos(s))||.001,o=.75*t*(""+e).length;return Math.min(t/r,o)}class Iu extends or{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return bt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const o=l=>s=n?s:l,a=l=>r=i?r:l;if(t){const l=qn(s),c=qn(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(s===r){let l=r===0?1:Math.abs(r*.05);a(r+l),t||o(s-l)}this.min=s,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=D9(s,r);return t.bounds==="ticks"&&DT(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-n)/Math.max(t.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return Il(t,this.chart.options.locale,this.options.ticks.format)}}class sp extends Iu{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Yt(t)?t:0,this.max=Yt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=vn(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}F(sp,"id","linear"),F(sp,"defaults",{ticks:{callback:Rh.formatters.numeric}});const $a=e=>Math.floor(Li(e)),ps=(e,t)=>Math.pow(10,$a(e)+t);function Wb(e){return e/Math.pow(10,$a(e))===1}function qb(e,t,n){const i=Math.pow(10,n),s=Math.floor(e/i);return Math.ceil(t/i)-s}function N9(e,t){const n=t-e;let i=$a(n);for(;qb(e,t,i)>10;)i++;for(;qb(e,t,i)<10;)i--;return Math.min(i,$a(e))}function L9(e,{min:t,max:n}){t=Xe(e.min,t);const i=[],s=$a(t);let r=N9(t,n),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=s>r?Math.pow(10,s):0,c=Math.round((t-l)*o)/o,u=Math.floor((t-l)/a/10)*a*10;let h=Math.floor((c-u)/Math.pow(10,r)),f=Xe(e.min,Math.round((l+u+h*Math.pow(10,r))*o)/o);for(;f<n;)i.push({value:f,major:Wb(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(r++,h=2,o=r>=0?1:o),f=Math.round((l+u+h*Math.pow(10,r))*o)/o;const d=Xe(e.max,f);return i.push({value:d,major:Wb(d),significand:h}),i}class rp extends or{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const i=Iu.prototype.parse.apply(this,[t,n]);if(i===0){this._zero=!0;return}return Yt(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Yt(t)?Math.max(0,t):null,this.max=Yt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Yt(this._userMin)&&(this.min=t===ps(this.min,0)?ps(this.min,-1):ps(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let i=this.min,s=this.max;const r=a=>i=t?i:a,o=a=>s=n?s:a;i===s&&(i<=0?(r(1),o(10)):(r(ps(i,-1)),o(ps(s,1)))),i<=0&&r(ps(s,-1)),s<=0&&o(ps(i,1)),this.min=i,this.max=s}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},i=L9(n,this);return t.bounds==="ticks"&&DT(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":Il(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Li(t),this._valueRange=Li(this.max)-Li(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Li(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}F(rp,"id","logarithmic"),F(rp,"defaults",{ticks:{callback:Rh.formatters.logarithmic,major:{enabled:!0}}});function op(e){const t=e.ticks;if(t.display&&e.display){const n=Le(t.backdropPadding);return ht(t.font&&t.font.size,Jt.font.size)+n.height}return 0}function V9(e,t,n){return n=jt(n)?n:[n],{w:WB(e,t.string,n),h:n.length*t.lineHeight}}function Kb(e,t,n,i,s){return e===i||e===s?{start:t-n/2,end:t+n/2}:e<i||e>s?{start:t-n,end:t}:{start:t,end:t+n}}function F9(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],s=[],r=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?qt/r:0;for(let l=0;l<r;l++){const c=o.setContext(e.getPointLabelContext(l));s[l]=c.padding;const u=e.getPointPosition(l,e.drawingArea+s[l],a),h=ue(c.font),f=V9(e.ctx,h,e._pointLabels[l]);i[l]=f;const d=Ze(e.getIndexAngle(l)+a),p=Math.round(ym(d)),g=Kb(p,u.x,f.w,0,180),m=Kb(p,u.y,f.h,90,270);B9(n,t,d,g,m)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=j9(e,i,s)}function B9(e,t,n,i,s){const r=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<t.l?(a=(t.l-i.start)/r,e.l=Math.min(e.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/r,e.r=Math.max(e.r,t.r+a)),s.start<t.t?(l=(t.t-s.start)/o,e.t=Math.min(e.t,t.t-l)):s.end>t.b&&(l=(s.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function U9(e,t,n){const i=e.drawingArea,{extra:s,additionalAngle:r,padding:o,size:a}=n,l=e.getPointPosition(t,i+s+o,r),c=Math.round(ym(Ze(l.angle+Xt))),u=W9(l.y,a.h,c),h=$9(c),f=H9(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:f,top:u,right:f+a.w,bottom:u+a.h}}function z9(e,t){if(!t)return!0;const{left:n,top:i,right:s,bottom:r}=e;return!(ui({x:n,y:i},t)||ui({x:n,y:r},t)||ui({x:s,y:i},t)||ui({x:s,y:r},t))}function j9(e,t,n){const i=[],s=e._pointLabels.length,r=e.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:op(r)/2,additionalAngle:o?qt/s:0};let c;for(let u=0;u<s;u++){l.padding=n[u],l.size=t[u];const h=U9(e,u,l);i.push(h),a==="auto"&&(h.visible=z9(h,c),h.visible&&(c=h))}return i}function $9(e){return e===0||e===180?"center":e<180?"left":"right"}function H9(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function W9(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function q9(e,t,n){const{left:i,top:s,right:r,bottom:o}=n,{backdropColor:a}=t;if(!bt(a)){const l=Ds(t.borderRadius),c=Le(t.backdropPadding);e.fillStyle=a;const u=i-c.left,h=s-c.top,f=r-i+c.width,d=o-s+c.height;Object.values(l).some(p=>p!==0)?(e.beginPath(),za(e,{x:u,y:h,w:f,h:d,radius:l}),e.fill()):e.fillRect(u,h,f,d)}}function K9(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let s=t-1;s>=0;s--){const r=e._pointLabelItems[s];if(!r.visible)continue;const o=i.setContext(e.getPointLabelContext(s));q9(n,o,r);const a=ue(o.font),{x:l,y:c,textAlign:u}=r;Qs(n,e._pointLabels[s],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function T1(e,t,n,i){const{ctx:s}=e;if(n)s.arc(e.xCenter,e.yCenter,t,0,$t);else{let r=e.getPointPosition(0,t);s.moveTo(r.x,r.y);for(let o=1;o<i;o++)r=e.getPointPosition(o,t),s.lineTo(r.x,r.y)}}function G9(e,t,n,i,s){const r=e.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!i||!a||!l||n<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(s.dash),r.lineDashOffset=s.dashOffset,r.beginPath(),T1(e,n,o,i),r.closePath(),r.stroke(),r.restore())}function Q9(e,t,n){return ls(e,{label:n,index:t,type:"pointLabel"})}class zo extends Iu{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Le(op(this.options)/2),n=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=Yt(t)&&!isNaN(t)?t:0,this.max=Yt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/op(this.options))}generateTickLabels(t){Iu.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,i)=>{const s=Nt(this.options.pointLabels.callback,[n,i],this);return s||s===0?s:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?F9(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,i,s){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,i,s))}getIndexAngle(t){const n=$t/(this._pointLabels.length||1),i=this.options.startAngle||0;return Ze(t*n+vn(i))}getDistanceFromCenterForValue(t){if(bt(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(bt(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const i=n[t];return Q9(this.getContext(),t,i)}}getPointPosition(t,n,i=0){const s=this.getIndexAngle(t)-Xt+i;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:i,right:s,bottom:r}=this._pointLabelItems[t];return{left:n,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),T1(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:i,grid:s,border:r}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&K9(this,o),s.display&&this.ticks.forEach((u,h)=>{if(h!==0){l=this.getDistanceFromCenterForValue(u.value);const f=this.getContext(h),d=s.setContext(f),p=r.setContext(f);G9(this,d,l,o,p)}}),i.display){for(t.save(),a=o-1;a>=0;a--){const u=i.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:f}=u;!f||!h||(t.lineWidth=f,t.strokeStyle=h,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&!n.reverse)return;const c=i.setContext(this.getContext(l)),u=ue(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=u.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const h=Le(c.backdropPadding);t.fillRect(-o/2-h.left,-r-u.size/2-h.top,o+h.width,u.size+h.height)}Qs(t,a.label,0,-r,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}F(zo,"id","radialLinear"),F(zo,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Rh.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),F(zo,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),F(zo,"descriptors",{angleLines:{_fallback:"grid"}});const Nh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ke=Object.keys(Nh);function Gb(e,t){return e-t}function Qb(e,t){if(bt(t))return null;const n=e._adapter,{parser:i,round:s,isoWeekday:r}=e._parseOpts;let o=t;return typeof i=="function"&&(o=i(o)),Yt(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(Qr(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,s)),+o)}function Yb(e,t,n,i){const s=Ke.length;for(let r=Ke.indexOf(e);r<s-1;++r){const o=Nh[Ke[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=i)return Ke[r]}return Ke[s-1]}function Y9(e,t,n,i,s){for(let r=Ke.length-1;r>=Ke.indexOf(n);r--){const o=Ke[r];if(Nh[o].common&&e._adapter.diff(s,i,o)>=t-1)return o}return Ke[n?Ke.indexOf(n):0]}function X9(e){for(let t=Ke.indexOf(e)+1,n=Ke.length;t<n;++t)if(Nh[Ke[t]].common)return Ke[t]}function Xb(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:s}=vm(n,t),r=n[i]>=t?n[i]:n[s];e[r]=!0}}function J9(e,t,n,i){const s=e._adapter,r=+s.startOf(t[0].value,i),o=t[t.length-1].value;let a,l;for(a=r;a<=o;a=+s.add(a,1,i))l=n[a],l>=0&&(t[l].major=!0);return t}function Jb(e,t,n){const i=[],s={},r=t.length;let o,a;for(o=0;o<r;++o)a=t[o],s[a]=o,i.push({value:a,major:!1});return r===0||!n?i:J9(e,i,s,n)}class Ha extends or{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),s=this._adapter=new aU._date(t.adapters.date);s.init(n),ia(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:Qb(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:s,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=Yt(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=Yt(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,o=this.max,a=MB(s,r,o);return this._unit=n.unit||(i.autoSkip?Yb(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):Y9(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:X9(this._unit),this.initOffsets(s),t.reverse&&a.reverse(),Jb(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,s,r;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?i=r:i=(r-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=me(n,0,o),i=me(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,o=r.unit||Yb(r.minUnit,n,i,this._getLabelCapacity(n)),a=ht(s.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=Qr(l)||l===!0,u={};let h=n,f,d;if(c&&(h=+t.startOf(h,"isoWeek",l)),h=+t.startOf(h,c?"day":o),t.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const p=s.ticks.source==="data"&&this.getDataTimestamps();for(f=h,d=0;f<i;f=+t.add(f,a,o),d++)Xb(u,f,p);return(f===i||s.bounds==="ticks"||d===1)&&Xb(u,f,p),Object.keys(u).sort(Gb).map(g=>+g)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,r=this._unit,o=n||s[r];return this._adapter.format(t,o)}_tickFormatFunction(t,n,i,s){const r=this.options,o=r.ticks.callback;if(o)return Nt(o,[t,n,i],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],f=i[n],d=c&&h&&f&&f.major;return this._adapter.format(t,s||(d?h:u))}generateTickLabels(t){let n,i,s;for(n=0,i=t.length;n<i;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,s=vn(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:i*r+a*o,h:i*o+a*r}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(t,0,Jb(this,[t],this._majorUnit),s),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)t.push(Qb(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return VT(t.sort(Gb))}}F(Ha,"id","time"),F(Ha,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function rc(e,t,n){let i=0,s=e.length-1,r,o,a,l;n?(t>=e[i].pos&&t<=e[s].pos&&({lo:i,hi:s}=ci(e,"pos",t)),{pos:r,time:a}=e[i],{pos:o,time:l}=e[s]):(t>=e[i].time&&t<=e[s].time&&({lo:i,hi:s}=ci(e,"time",t)),{time:r,pos:a}=e[i],{time:o,pos:l}=e[s]);const c=o-r;return c?a+(l-a)*(t-r)/c:a}class ap extends Ha{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=rc(n,this.min),this._tableRange=rc(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,s=[],r=[];let o,a,l,c,u;for(o=0,a=t.length;o<a;++o)c=t[o],c>=n&&c<=i&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=s.length;o<a;++o)u=s[o+1],l=s[o-1],c=s[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(rc(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return rc(this._table,i*this._tableRange+this._minPos,!0)}}F(ap,"id","timeseries"),F(ap,"defaults",Ha.defaults);var Z9=Object.freeze({__proto__:null,CategoryScale:ip,LinearScale:sp,LogarithmicScale:rp,RadialLinearScale:zo,TimeScale:Ha,TimeSeriesScale:ap});const t6=[oU,L3,C9,Z9];ni.register(...t6);const e6={class:"container center"},n6={class:"title"},i6={class:"bar-chart center"},s6={__name:"ChartCard",props:{title:"title",type:"bar",data:{type:Array,required:!0},values:{type:Array,equired:!0}},setup(e){const t=e,n=kt(null);return Fu(()=>{if(n.value){const i=n.value.getContext("2d");new ni(i,{type:t.type,data:{labels:t.data,datasets:[{data:t.values,borderWidth:1,borderColor:"black",pointBackgroundColor:"orange"}]},options:{scales:{x:{ticks:{font:{size:18},color:"black"}},y:{beginAtZero:!1,ticks:{font:{size:18},color:"black"}}},plugins:{legend:{display:!1}}}})}}),(i,s)=>(Et(),Ft("div",e6,[O("h1",n6,_n(t.title),1),O("div",i6,[O("canvas",{ref_key:"chartCanvas",ref:n},null,512)])]))}},Vf=pn(s6,[["__scopeId","data-v-29ebf924"]]);const r6={class:"page"},o6={class:"charts"},a6={__name:"Stats",setup(e){const t={title:"Bench Press",data:["Jan","Mar","Apr","May","Jun","Jul"],values:[100,115,120,125,130,145]},n={title:"Deadlift",data:["Jan","Mar","Apr","May","Jun","Jul"],values:[120,140,170,180,190,170]},i={title:"Squat",data:["Jan","Mar","Apr","May","Jun","Jul"],values:[120,130,140,150,160,150]};return(s,r)=>(Et(),Ft("div",r6,[O("div",o6,[Mt(Vf,{type:"line",title:t.title,data:t.data,values:t.values},null,8,["title","data","values"]),Mt(Vf,{type:"bar",title:n.title,data:n.data,values:n.values},null,8,["title","data","values"]),Mt(Vf,{type:"line",title:i.title,data:i.data,values:i.values},null,8,["title","data","values"])])]))}},l6=pn(a6,[["__scopeId","data-v-320a3b2c"]]);const c6={class:"component"},u6={class:"title"},h6={class:"card"},f6={class:"row"},d6={__name:"TableData",props:{title:"",data:{type:Array,required:!0}},setup(e){const t=e;return(n,i)=>(Et(),Ft("div",c6,[O("h1",u6,_n(t.title),1),O("div",h6,[(Et(!0),Ft(xe,null,$o(t.data,s=>(Et(),Ft("div",f6,[O("h1",null,_n(s.key),1),O("h1",null,_n(s.value),1)]))),256))])]))}},Zb=pn(d6,[["__scopeId","data-v-bb1f6a56"]]);const p6=e=>(Js("data-v-bc3a08ce"),e=e(),Zs(),e),g6={class:"page"},m6=p6(()=>O("h3",null,"You will achive your goals",-1)),_6={class:"data"},y6={__name:"User",setup(e){const t=Ch(),n=[{key:"Height",value:"178"},{key:"Weight",value:"88"},{key:"IMC",value:"28.1"}],i=[{key:"Height",value:"178"},{key:"Weight",value:"95"},{key:"IMC",value:"30"}],s=()=>{uV(Ue),t.logout()};return(r,o)=>(Et(),Ft("div",g6,[O("header",null,[O("h1",null,"Hi, "+_n(ce(t).username),1),m6]),O("div",_6,[Mt(Zb,{data:n,title:"Current Data"}),Mt(Zb,{data:i,title:"Objectives"})]),O("div",{class:"logout center"},[O("button",{onClick:s},"logout")])]))}},v6=pn(y6,[["__scopeId","data-v-bc3a08ce"]]),x1=FP({history:nP("/Flex/"),routes:[{path:"/",name:"home",component:VF,hasTitle:!1,meta:{requiresAuth:!1}},{path:"/signup",name:"signup",component:ZF,hasTitle:!1,meta:{requiresAuth:!1}},{path:"/login",name:"login",component:f4,hasTitle:!1,meta:{requiresAuth:!1}},{path:"/workouts",name:"workouts",component:Q4,hasTitle:!0,meta:{requiresAuth:!0}},{path:"/stats",name:"stats",component:l6,hasTitle:!0,meta:{requiresAuth:!0}},{path:"/user",name:"user",component:v6,hasTitle:!0,meta:{requiresAuth:!0}}]});x1.beforeEach((e,t,n)=>{e.matched.some(i=>i.meta.requiresAuth)?Ue.currentUser?n():(console.log("forbidden"),n("/")):n()});function t0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t0(Object(n),!0).forEach(function(i){fe(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t0(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Tu(e){"@babel/helpers - typeof";return Tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tu(e)}function b6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e0(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function A6(e,t,n){return t&&e0(e.prototype,t),n&&e0(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cm(e,t){return E6(e)||T6(e,t)||S1(e,t)||S6()}function xl(e){return w6(e)||I6(e)||S1(e)||x6()}function w6(e){if(Array.isArray(e))return lp(e)}function E6(e){if(Array.isArray(e))return e}function I6(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function T6(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],s=!0,r=!1,o,a;try{for(n=n.call(e);!(s=(o=n.next()).done)&&(i.push(o.value),!(t&&i.length===t));s=!0);}catch(l){r=!0,a=l}finally{try{!s&&n.return!=null&&n.return()}finally{if(r)throw a}}return i}}function S1(e,t){if(e){if(typeof e=="string")return lp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lp(e,t)}}function lp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function x6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n0=function(){},Rm={},k1={},P1=null,C1={mark:n0,measure:n0};try{typeof window<"u"&&(Rm=window),typeof document<"u"&&(k1=document),typeof MutationObserver<"u"&&(P1=MutationObserver),typeof performance<"u"&&(C1=performance)}catch{}var k6=Rm.navigator||{},i0=k6.userAgent,s0=i0===void 0?"":i0,es=Rm,Ht=k1,r0=P1,oc=C1;es.document;var Ei=!!Ht.documentElement&&!!Ht.head&&typeof Ht.addEventListener=="function"&&typeof Ht.createElement=="function",R1=~s0.indexOf("MSIE")||~s0.indexOf("Trident/"),ac,lc,cc,uc,hc,yi="___FONT_AWESOME___",cp=16,M1="fa",O1="svg-inline--fa",Ys="data-fa-i2svg",up="data-fa-pseudo-element",P6="data-fa-pseudo-element-pending",Mm="data-prefix",Om="data-icon",o0="fontawesome-i2svg",C6="async",R6=["HTML","HEAD","STYLE","SCRIPT"],D1=function(){try{return!0}catch{return!1}}(),Bt="classic",Qt="sharp",Dm=[Bt,Qt];function Sl(e){return new Proxy(e,{get:function(n,i){return i in n?n[i]:n[Bt]}})}var Wa=Sl((ac={},fe(ac,Bt,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),fe(ac,Qt,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),ac)),qa=Sl((lc={},fe(lc,Bt,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),fe(lc,Qt,{solid:"fass",regular:"fasr",light:"fasl"}),lc)),Ka=Sl((cc={},fe(cc,Bt,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),fe(cc,Qt,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),cc)),M6=Sl((uc={},fe(uc,Bt,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),fe(uc,Qt,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),uc)),O6=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,N1="fa-layers-text",D6=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,N6=Sl((hc={},fe(hc,Bt,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),fe(hc,Qt,{900:"fass",400:"fasr",300:"fasl"}),hc)),L1=[1,2,3,4,5,6,7,8,9,10],L6=L1.concat([11,12,13,14,15,16,17,18,19,20]),V6=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Ss={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Ga=new Set;Object.keys(qa[Bt]).map(Ga.add.bind(Ga));Object.keys(qa[Qt]).map(Ga.add.bind(Ga));var F6=[].concat(Dm,xl(Ga),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Ss.GROUP,Ss.SWAP_OPACITY,Ss.PRIMARY,Ss.SECONDARY]).concat(L1.map(function(e){return"".concat(e,"x")})).concat(L6.map(function(e){return"w-".concat(e)})),la=es.FontAwesomeConfig||{};function B6(e){var t=Ht.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}function U6(e){return e===""?!0:e==="false"?!1:e==="true"?!0:e}if(Ht&&typeof Ht.querySelector=="function"){var z6=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];z6.forEach(function(e){var t=Cm(e,2),n=t[0],i=t[1],s=U6(B6(n));s!=null&&(la[i]=s)})}var V1={styleDefault:"solid",familyDefault:"classic",cssPrefix:M1,replacementClass:O1,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};la.familyPrefix&&(la.cssPrefix=la.familyPrefix);var Jr=H(H({},V1),la);Jr.autoReplaceSvg||(Jr.observeMutations=!1);var Q={};Object.keys(V1).forEach(function(e){Object.defineProperty(Q,e,{enumerable:!0,set:function(n){Jr[e]=n,ca.forEach(function(i){return i(Q)})},get:function(){return Jr[e]}})});Object.defineProperty(Q,"familyPrefix",{enumerable:!0,set:function(t){Jr.cssPrefix=t,ca.forEach(function(n){return n(Q)})},get:function(){return Jr.cssPrefix}});es.FontAwesomeConfig=Q;var ca=[];function j6(e){return ca.push(e),function(){ca.splice(ca.indexOf(e),1)}}var Si=cp,jn={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function $6(e){if(!(!e||!Ei)){var t=Ht.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=Ht.head.childNodes,i=null,s=n.length-1;s>-1;s--){var r=n[s],o=(r.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(i=r)}return Ht.head.insertBefore(t,i),e}}var H6="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Qa(){for(var e=12,t="";e-- >0;)t+=H6[Math.random()*62|0];return t}function go(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function Nm(e){return e.classList?go(e.classList):(e.getAttribute("class")||"").split(" ").filter(function(t){return t})}function F1(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function W6(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,'="').concat(F1(e[n]),'" ')},"").trim()}function Lh(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")},"")}function Lm(e){return e.size!==jn.size||e.x!==jn.x||e.y!==jn.y||e.rotate!==jn.rotate||e.flipX||e.flipY}function q6(e){var t=e.transform,n=e.containerWidth,i=e.iconWidth,s={transform:"translate(".concat(n/2," 256)")},r="translate(".concat(t.x*32,", ").concat(t.y*32,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),a="rotate(".concat(t.rotate," 0 0)"),l={transform:"".concat(r," ").concat(o," ").concat(a)},c={transform:"translate(".concat(i/2*-1," -256)")};return{outer:s,inner:l,path:c}}function K6(e){var t=e.transform,n=e.width,i=n===void 0?cp:n,s=e.height,r=s===void 0?cp:s,o=e.startCentered,a=o===void 0?!1:o,l="";return a&&R1?l+="translate(".concat(t.x/Si-i/2,"em, ").concat(t.y/Si-r/2,"em) "):a?l+="translate(calc(-50% + ".concat(t.x/Si,"em), calc(-50% + ").concat(t.y/Si,"em)) "):l+="translate(".concat(t.x/Si,"em, ").concat(t.y/Si,"em) "),l+="scale(".concat(t.size/Si*(t.flipX?-1:1),", ").concat(t.size/Si*(t.flipY?-1:1),") "),l+="rotate(".concat(t.rotate,"deg) "),l}var G6=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function B1(){var e=M1,t=O1,n=Q.cssPrefix,i=Q.replacementClass,s=G6;if(n!==e||i!==t){var r=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),a=new RegExp("\\.".concat(t),"g");s=s.replace(r,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(i))}return s}var a0=!1;function Ff(){Q.autoAddCss&&!a0&&($6(B1()),a0=!0)}var Q6={mixout:function(){return{dom:{css:B1,insertCss:Ff}}},hooks:function(){return{beforeDOMElementCreation:function(){Ff()},beforeI2svg:function(){Ff()}}}},vi=es||{};vi[yi]||(vi[yi]={});vi[yi].styles||(vi[yi].styles={});vi[yi].hooks||(vi[yi].hooks={});vi[yi].shims||(vi[yi].shims=[]);var bn=vi[yi],U1=[],Y6=function e(){Ht.removeEventListener("DOMContentLoaded",e),xu=1,U1.map(function(t){return t()})},xu=!1;Ei&&(xu=(Ht.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Ht.readyState),xu||Ht.addEventListener("DOMContentLoaded",Y6));function X6(e){Ei&&(xu?setTimeout(e,0):U1.push(e))}function kl(e){var t=e.tag,n=e.attributes,i=n===void 0?{}:n,s=e.children,r=s===void 0?[]:s;return typeof e=="string"?F1(e):"<".concat(t," ").concat(W6(i),">").concat(r.map(kl).join(""),"</").concat(t,">")}function l0(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}var J6=function(t,n){return function(i,s,r,o){return t.call(n,i,s,r,o)}},Bf=function(t,n,i,s){var r=Object.keys(t),o=r.length,a=s!==void 0?J6(n,s):n,l,c,u;for(i===void 0?(l=1,u=t[r[0]]):(l=0,u=i);l<o;l++)c=r[l],u=a(u,t[c],c,t);return u};function Z6(e){for(var t=[],n=0,i=e.length;n<i;){var s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<i){var r=e.charCodeAt(n++);(r&64512)==56320?t.push(((s&1023)<<10)+(r&1023)+65536):(t.push(s),n--)}else t.push(s)}return t}function hp(e){var t=Z6(e);return t.length===1?t[0].toString(16):null}function tz(e,t){var n=e.length,i=e.charCodeAt(t),s;return i>=55296&&i<=56319&&n>t+1&&(s=e.charCodeAt(t+1),s>=56320&&s<=57343)?(i-55296)*1024+s-56320+65536:i}function c0(e){return Object.keys(e).reduce(function(t,n){var i=e[n],s=!!i.icon;return s?t[i.iconName]=i.icon:t[n]=i,t},{})}function fp(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.skipHooks,s=i===void 0?!1:i,r=c0(t);typeof bn.hooks.addPack=="function"&&!s?bn.hooks.addPack(e,c0(t)):bn.styles[e]=H(H({},bn.styles[e]||{}),r),e==="fas"&&fp("fa",t)}var fc,dc,pc,_r=bn.styles,ez=bn.shims,nz=(fc={},fe(fc,Bt,Object.values(Ka[Bt])),fe(fc,Qt,Object.values(Ka[Qt])),fc),Vm=null,z1={},j1={},$1={},H1={},W1={},iz=(dc={},fe(dc,Bt,Object.keys(Wa[Bt])),fe(dc,Qt,Object.keys(Wa[Qt])),dc);function sz(e){return~F6.indexOf(e)}function rz(e,t){var n=t.split("-"),i=n[0],s=n.slice(1).join("-");return i===e&&s!==""&&!sz(s)?s:null}var q1=function(){var t=function(r){return Bf(_r,function(o,a,l){return o[l]=Bf(a,r,{}),o},{})};z1=t(function(s,r,o){if(r[3]&&(s[r[3]]=o),r[2]){var a=r[2].filter(function(l){return typeof l=="number"});a.forEach(function(l){s[l.toString(16)]=o})}return s}),j1=t(function(s,r,o){if(s[o]=o,r[2]){var a=r[2].filter(function(l){return typeof l=="string"});a.forEach(function(l){s[l]=o})}return s}),W1=t(function(s,r,o){var a=r[2];return s[o]=o,a.forEach(function(l){s[l]=o}),s});var n="far"in _r||Q.autoFetchSvg,i=Bf(ez,function(s,r){var o=r[0],a=r[1],l=r[2];return a==="far"&&!n&&(a="fas"),typeof o=="string"&&(s.names[o]={prefix:a,iconName:l}),typeof o=="number"&&(s.unicodes[o.toString(16)]={prefix:a,iconName:l}),s},{names:{},unicodes:{}});$1=i.names,H1=i.unicodes,Vm=Vh(Q.styleDefault,{family:Q.familyDefault})};j6(function(e){Vm=Vh(e.styleDefault,{family:Q.familyDefault})});q1();function Fm(e,t){return(z1[e]||{})[t]}function oz(e,t){return(j1[e]||{})[t]}function ks(e,t){return(W1[e]||{})[t]}function K1(e){return $1[e]||{prefix:null,iconName:null}}function az(e){var t=H1[e],n=Fm("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function ns(){return Vm}var Bm=function(){return{prefix:null,iconName:null,rest:[]}};function Vh(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.family,i=n===void 0?Bt:n,s=Wa[i][e],r=qa[i][e]||qa[i][s],o=e in bn.styles?e:null;return r||o||null}var u0=(pc={},fe(pc,Bt,Object.keys(Ka[Bt])),fe(pc,Qt,Object.keys(Ka[Qt])),pc);function Fh(e){var t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.skipLookups,s=i===void 0?!1:i,r=(t={},fe(t,Bt,"".concat(Q.cssPrefix,"-").concat(Bt)),fe(t,Qt,"".concat(Q.cssPrefix,"-").concat(Qt)),t),o=null,a=Bt;(e.includes(r[Bt])||e.some(function(c){return u0[Bt].includes(c)}))&&(a=Bt),(e.includes(r[Qt])||e.some(function(c){return u0[Qt].includes(c)}))&&(a=Qt);var l=e.reduce(function(c,u){var h=rz(Q.cssPrefix,u);if(_r[u]?(u=nz[a].includes(u)?M6[a][u]:u,o=u,c.prefix=u):iz[a].indexOf(u)>-1?(o=u,c.prefix=Vh(u,{family:a})):h?c.iconName=h:u!==Q.replacementClass&&u!==r[Bt]&&u!==r[Qt]&&c.rest.push(u),!s&&c.prefix&&c.iconName){var f=o==="fa"?K1(c.iconName):{},d=ks(c.prefix,c.iconName);f.prefix&&(o=null),c.iconName=f.iconName||d||c.iconName,c.prefix=f.prefix||c.prefix,c.prefix==="far"&&!_r.far&&_r.fas&&!Q.autoFetchSvg&&(c.prefix="fas")}return c},Bm());return(e.includes("fa-brands")||e.includes("fab"))&&(l.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(l.prefix="fad"),!l.prefix&&a===Qt&&(_r.fass||Q.autoFetchSvg)&&(l.prefix="fass",l.iconName=ks(l.prefix,l.iconName)||l.iconName),(l.prefix==="fa"||o==="fa")&&(l.prefix=ns()||"fas"),l}var lz=function(){function e(){b6(this,e),this.definitions={}}return A6(e,[{key:"add",value:function(){for(var n=this,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];var o=s.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=H(H({},n.definitions[a]||{}),o[a]),fp(a,o[a]);var l=Ka[Bt][a];l&&fp(l,o[a]),q1()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,i){var s=i.prefix&&i.iconName&&i.icon?{0:i}:i;return Object.keys(s).map(function(r){var o=s[r],a=o.prefix,l=o.iconName,c=o.icon,u=c[2];n[a]||(n[a]={}),u.length>0&&u.forEach(function(h){typeof h=="string"&&(n[a][h]=c)}),n[a][l]=c}),n}}]),e}(),h0=[],yr={},Cr={},cz=Object.keys(Cr);function uz(e,t){var n=t.mixoutsTo;return h0=e,yr={},Object.keys(Cr).forEach(function(i){cz.indexOf(i)===-1&&delete Cr[i]}),h0.forEach(function(i){var s=i.mixout?i.mixout():{};if(Object.keys(s).forEach(function(o){typeof s[o]=="function"&&(n[o]=s[o]),Tu(s[o])==="object"&&Object.keys(s[o]).forEach(function(a){n[o]||(n[o]={}),n[o][a]=s[o][a]})}),i.hooks){var r=i.hooks();Object.keys(r).forEach(function(o){yr[o]||(yr[o]=[]),yr[o].push(r[o])})}i.provides&&i.provides(Cr)}),n}function dp(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];var r=yr[e]||[];return r.forEach(function(o){t=o.apply(null,[t].concat(i))}),t}function Xs(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var s=yr[e]||[];s.forEach(function(r){r.apply(null,n)})}function bi(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Cr[e]?Cr[e].apply(null,t):void 0}function pp(e){e.prefix==="fa"&&(e.prefix="fas");var t=e.iconName,n=e.prefix||ns();if(t)return t=ks(n,t)||t,l0(G1.definitions,n,t)||l0(bn.styles,n,t)}var G1=new lz,hz=function(){Q.autoReplaceSvg=!1,Q.observeMutations=!1,Xs("noAuto")},fz={i2svg:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Ei?(Xs("beforeI2svg",t),bi("pseudoElements2svg",t),bi("i2svg",t)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.autoReplaceSvgRoot;Q.autoReplaceSvg===!1&&(Q.autoReplaceSvg=!0),Q.observeMutations=!0,X6(function(){pz({autoReplaceSvgRoot:n}),Xs("watch",t)})}},dz={icon:function(t){if(t===null)return null;if(Tu(t)==="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:ks(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){var n=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],i=Vh(t[0]);return{prefix:i,iconName:ks(i,n)||n}}if(typeof t=="string"&&(t.indexOf("".concat(Q.cssPrefix,"-"))>-1||t.match(O6))){var s=Fh(t.split(" "),{skipLookups:!0});return{prefix:s.prefix||ns(),iconName:ks(s.prefix,s.iconName)||s.iconName}}if(typeof t=="string"){var r=ns();return{prefix:r,iconName:ks(r,t)||t}}}},rn={noAuto:hz,config:Q,dom:fz,parse:dz,library:G1,findIconDefinition:pp,toHtml:kl},pz=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.autoReplaceSvgRoot,i=n===void 0?Ht:n;(Object.keys(bn.styles).length>0||Q.autoFetchSvg)&&Ei&&Q.autoReplaceSvg&&rn.dom.i2svg({node:i})};function Bh(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(function(i){return kl(i)})}}),Object.defineProperty(e,"node",{get:function(){if(Ei){var i=Ht.createElement("div");return i.innerHTML=e.html,i.children}}}),e}function gz(e){var t=e.children,n=e.main,i=e.mask,s=e.attributes,r=e.styles,o=e.transform;if(Lm(o)&&n.found&&!i.found){var a=n.width,l=n.height,c={x:a/l/2,y:.5};s.style=Lh(H(H({},r),{},{"transform-origin":"".concat(c.x+o.x/16,"em ").concat(c.y+o.y/16,"em")}))}return[{tag:"svg",attributes:s,children:t}]}function mz(e){var t=e.prefix,n=e.iconName,i=e.children,s=e.attributes,r=e.symbol,o=r===!0?"".concat(t,"-").concat(Q.cssPrefix,"-").concat(n):r;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:H(H({},s),{},{id:o}),children:i}]}]}function Um(e){var t=e.icons,n=t.main,i=t.mask,s=e.prefix,r=e.iconName,o=e.transform,a=e.symbol,l=e.title,c=e.maskId,u=e.titleId,h=e.extra,f=e.watchable,d=f===void 0?!1:f,p=i.found?i:n,g=p.width,m=p.height,_=s==="fak",y=[Q.replacementClass,r?"".concat(Q.cssPrefix,"-").concat(r):""].filter(function(C){return h.classes.indexOf(C)===-1}).filter(function(C){return C!==""||!!C}).concat(h.classes).join(" "),E={children:[],attributes:H(H({},h.attributes),{},{"data-prefix":s,"data-icon":r,class:y,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(m)})},A=_&&!~h.classes.indexOf("fa-fw")?{width:"".concat(g/m*16*.0625,"em")}:{};d&&(E.attributes[Ys]=""),l&&(E.children.push({tag:"title",attributes:{id:E.attributes["aria-labelledby"]||"title-".concat(u||Qa())},children:[l]}),delete E.attributes.title);var w=H(H({},E),{},{prefix:s,iconName:r,main:n,mask:i,maskId:c,transform:o,symbol:a,styles:H(H({},A),h.styles)}),T=i.found&&n.found?bi("generateAbstractMask",w)||{children:[],attributes:{}}:bi("generateAbstractIcon",w)||{children:[],attributes:{}},S=T.children,x=T.attributes;return w.children=S,w.attributes=x,a?mz(w):gz(w)}function f0(e){var t=e.content,n=e.width,i=e.height,s=e.transform,r=e.title,o=e.extra,a=e.watchable,l=a===void 0?!1:a,c=H(H(H({},o.attributes),r?{title:r}:{}),{},{class:o.classes.join(" ")});l&&(c[Ys]="");var u=H({},o.styles);Lm(s)&&(u.transform=K6({transform:s,startCentered:!0,width:n,height:i}),u["-webkit-transform"]=u.transform);var h=Lh(u);h.length>0&&(c.style=h);var f=[];return f.push({tag:"span",attributes:c,children:[t]}),r&&f.push({tag:"span",attributes:{class:"sr-only"},children:[r]}),f}function _z(e){var t=e.content,n=e.title,i=e.extra,s=H(H(H({},i.attributes),n?{title:n}:{}),{},{class:i.classes.join(" ")}),r=Lh(i.styles);r.length>0&&(s.style=r);var o=[];return o.push({tag:"span",attributes:s,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var Uf=bn.styles;function gp(e){var t=e[0],n=e[1],i=e.slice(4),s=Cm(i,1),r=s[0],o=null;return Array.isArray(r)?o={tag:"g",attributes:{class:"".concat(Q.cssPrefix,"-").concat(Ss.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Q.cssPrefix,"-").concat(Ss.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(Q.cssPrefix,"-").concat(Ss.PRIMARY),fill:"currentColor",d:r[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:t,height:n,icon:o}}var yz={found:!1,width:512,height:512};function vz(e,t){!D1&&!Q.showMissingIcons&&e&&console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}function mp(e,t){var n=t;return t==="fa"&&Q.styleDefault!==null&&(t=ns()),new Promise(function(i,s){if(bi("missingIconAbstract"),n==="fa"){var r=K1(e)||{};e=r.iconName||e,t=r.prefix||t}if(e&&t&&Uf[t]&&Uf[t][e]){var o=Uf[t][e];return i(gp(o))}vz(e,t),i(H(H({},yz),{},{icon:Q.showMissingIcons&&e?bi("missingIconAbstract")||{}:{}}))})}var d0=function(){},_p=Q.measurePerformance&&oc&&oc.mark&&oc.measure?oc:{mark:d0,measure:d0},jo='FA "6.4.2"',bz=function(t){return _p.mark("".concat(jo," ").concat(t," begins")),function(){return Q1(t)}},Q1=function(t){_p.mark("".concat(jo," ").concat(t," ends")),_p.measure("".concat(jo," ").concat(t),"".concat(jo," ").concat(t," begins"),"".concat(jo," ").concat(t," ends"))},zm={begin:bz,end:Q1},Fc=function(){};function p0(e){var t=e.getAttribute?e.getAttribute(Ys):null;return typeof t=="string"}function Az(e){var t=e.getAttribute?e.getAttribute(Mm):null,n=e.getAttribute?e.getAttribute(Om):null;return t&&n}function wz(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(Q.replacementClass)}function Ez(){if(Q.autoReplaceSvg===!0)return Bc.replace;var e=Bc[Q.autoReplaceSvg];return e||Bc.replace}function Iz(e){return Ht.createElementNS("http://www.w3.org/2000/svg",e)}function Tz(e){return Ht.createElement(e)}function Y1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.ceFn,i=n===void 0?e.tag==="svg"?Iz:Tz:n;if(typeof e=="string")return Ht.createTextNode(e);var s=i(e.tag);Object.keys(e.attributes||[]).forEach(function(o){s.setAttribute(o,e.attributes[o])});var r=e.children||[];return r.forEach(function(o){s.appendChild(Y1(o,{ceFn:i}))}),s}function xz(e){var t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}var Bc={replace:function(t){var n=t[0];if(n.parentNode)if(t[1].forEach(function(s){n.parentNode.insertBefore(Y1(s),n)}),n.getAttribute(Ys)===null&&Q.keepOriginalSource){var i=Ht.createComment(xz(n));n.parentNode.replaceChild(i,n)}else n.remove()},nest:function(t){var n=t[0],i=t[1];if(~Nm(n).indexOf(Q.replacementClass))return Bc.replace(t);var s=new RegExp("".concat(Q.cssPrefix,"-.*"));if(delete i[0].attributes.id,i[0].attributes.class){var r=i[0].attributes.class.split(" ").reduce(function(a,l){return l===Q.replacementClass||l.match(s)?a.toSvg.push(l):a.toNode.push(l),a},{toNode:[],toSvg:[]});i[0].attributes.class=r.toSvg.join(" "),r.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",r.toNode.join(" "))}var o=i.map(function(a){return kl(a)}).join(`
`);n.setAttribute(Ys,""),n.innerHTML=o}};function g0(e){e()}function X1(e,t){var n=typeof t=="function"?t:Fc;if(e.length===0)n();else{var i=g0;Q.mutateApproach===C6&&(i=es.requestAnimationFrame||g0),i(function(){var s=Ez(),r=zm.begin("mutate");e.map(s),r(),n()})}}var jm=!1;function J1(){jm=!0}function yp(){jm=!1}var Su=null;function m0(e){if(r0&&Q.observeMutations){var t=e.treeCallback,n=t===void 0?Fc:t,i=e.nodeCallback,s=i===void 0?Fc:i,r=e.pseudoElementsCallback,o=r===void 0?Fc:r,a=e.observeMutationsRoot,l=a===void 0?Ht:a;Su=new r0(function(c){if(!jm){var u=ns();go(c).forEach(function(h){if(h.type==="childList"&&h.addedNodes.length>0&&!p0(h.addedNodes[0])&&(Q.searchPseudoElements&&o(h.target),n(h.target)),h.type==="attributes"&&h.target.parentNode&&Q.searchPseudoElements&&o(h.target.parentNode),h.type==="attributes"&&p0(h.target)&&~V6.indexOf(h.attributeName))if(h.attributeName==="class"&&Az(h.target)){var f=Fh(Nm(h.target)),d=f.prefix,p=f.iconName;h.target.setAttribute(Mm,d||u),p&&h.target.setAttribute(Om,p)}else wz(h.target)&&s(h.target)})}}),Ei&&Su.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Sz(){Su&&Su.disconnect()}function kz(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce(function(i,s){var r=s.split(":"),o=r[0],a=r.slice(1);return o&&a.length>0&&(i[o]=a.join(":").trim()),i},{})),n}function Pz(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),i=e.innerText!==void 0?e.innerText.trim():"",s=Fh(Nm(e));return s.prefix||(s.prefix=ns()),t&&n&&(s.prefix=t,s.iconName=n),s.iconName&&s.prefix||(s.prefix&&i.length>0&&(s.iconName=oz(s.prefix,e.innerText)||Fm(s.prefix,hp(e.innerText))),!s.iconName&&Q.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=e.firstChild.data)),s}function Cz(e){var t=go(e.attributes).reduce(function(s,r){return s.name!=="class"&&s.name!=="style"&&(s[r.name]=r.value),s},{}),n=e.getAttribute("title"),i=e.getAttribute("data-fa-title-id");return Q.autoA11y&&(n?t["aria-labelledby"]="".concat(Q.replacementClass,"-title-").concat(i||Qa()):(t["aria-hidden"]="true",t.focusable="false")),t}function Rz(){return{iconName:null,title:null,titleId:null,prefix:null,transform:jn,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function _0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=Pz(e),i=n.iconName,s=n.prefix,r=n.rest,o=Cz(e),a=dp("parseNodeAttributes",{},e),l=t.styleParser?kz(e):[];return H({iconName:i,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:s,transform:jn,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:r,styles:l,attributes:o}},a)}var Mz=bn.styles;function Z1(e){var t=Q.autoReplaceSvg==="nest"?_0(e,{styleParser:!1}):_0(e);return~t.extra.classes.indexOf(N1)?bi("generateLayersText",e,t):bi("generateSvgReplacementMutation",e,t)}var is=new Set;Dm.map(function(e){is.add("fa-".concat(e))});Object.keys(Wa[Bt]).map(is.add.bind(is));Object.keys(Wa[Qt]).map(is.add.bind(is));is=xl(is);function y0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Ei)return Promise.resolve();var n=Ht.documentElement.classList,i=function(h){return n.add("".concat(o0,"-").concat(h))},s=function(h){return n.remove("".concat(o0,"-").concat(h))},r=Q.autoFetchSvg?is:Dm.map(function(u){return"fa-".concat(u)}).concat(Object.keys(Mz));r.includes("fa")||r.push("fa");var o=[".".concat(N1,":not([").concat(Ys,"])")].concat(r.map(function(u){return".".concat(u,":not([").concat(Ys,"])")})).join(", ");if(o.length===0)return Promise.resolve();var a=[];try{a=go(e.querySelectorAll(o))}catch{}if(a.length>0)i("pending"),s("complete");else return Promise.resolve();var l=zm.begin("onTree"),c=a.reduce(function(u,h){try{var f=Z1(h);f&&u.push(f)}catch(d){D1||d.name==="MissingIcon"&&console.error(d)}return u},[]);return new Promise(function(u,h){Promise.all(c).then(function(f){X1(f,function(){i("active"),i("complete"),s("pending"),typeof t=="function"&&t(),l(),u()})}).catch(function(f){l(),h(f)})})}function Oz(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Z1(e).then(function(n){n&&X1([n],t)})}function Dz(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=(t||{}).icon?t:pp(t||{}),s=n.mask;return s&&(s=(s||{}).icon?s:pp(s||{})),e(i,H(H({},n),{},{mask:s}))}}var Nz=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.transform,s=i===void 0?jn:i,r=n.symbol,o=r===void 0?!1:r,a=n.mask,l=a===void 0?null:a,c=n.maskId,u=c===void 0?null:c,h=n.title,f=h===void 0?null:h,d=n.titleId,p=d===void 0?null:d,g=n.classes,m=g===void 0?[]:g,_=n.attributes,y=_===void 0?{}:_,E=n.styles,A=E===void 0?{}:E;if(t){var w=t.prefix,T=t.iconName,S=t.icon;return Bh(H({type:"icon"},t),function(){return Xs("beforeDOMElementCreation",{iconDefinition:t,params:n}),Q.autoA11y&&(f?y["aria-labelledby"]="".concat(Q.replacementClass,"-title-").concat(p||Qa()):(y["aria-hidden"]="true",y.focusable="false")),Um({icons:{main:gp(S),mask:l?gp(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:w,iconName:T,transform:H(H({},jn),s),symbol:o,title:f,maskId:u,titleId:p,extra:{attributes:y,styles:A,classes:m}})})}},Lz={mixout:function(){return{icon:Dz(Nz)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=y0,n.nodeCallback=Oz,n}}},provides:function(t){t.i2svg=function(n){var i=n.node,s=i===void 0?Ht:i,r=n.callback,o=r===void 0?function(){}:r;return y0(s,o)},t.generateSvgReplacementMutation=function(n,i){var s=i.iconName,r=i.title,o=i.titleId,a=i.prefix,l=i.transform,c=i.symbol,u=i.mask,h=i.maskId,f=i.extra;return new Promise(function(d,p){Promise.all([mp(s,a),u.iconName?mp(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var m=Cm(g,2),_=m[0],y=m[1];d([n,Um({icons:{main:_,mask:y},prefix:a,iconName:s,transform:l,symbol:c,maskId:h,title:r,titleId:o,extra:f,watchable:!0})])}).catch(p)})},t.generateAbstractIcon=function(n){var i=n.children,s=n.attributes,r=n.main,o=n.transform,a=n.styles,l=Lh(a);l.length>0&&(s.style=l);var c;return Lm(o)&&(c=bi("generateAbstractTransformGrouping",{main:r,transform:o,containerWidth:r.width,iconWidth:r.width})),i.push(c||r.icon),{children:i,attributes:s}}}},Vz={mixout:function(){return{layer:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.classes,r=s===void 0?[]:s;return Bh({type:"layer"},function(){Xs("beforeDOMElementCreation",{assembler:n,params:i});var o=[];return n(function(a){Array.isArray(a)?a.map(function(l){o=o.concat(l.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(Q.cssPrefix,"-layers")].concat(xl(r)).join(" ")},children:o}]})}}}},Fz={mixout:function(){return{counter:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.title,r=s===void 0?null:s,o=i.classes,a=o===void 0?[]:o,l=i.attributes,c=l===void 0?{}:l,u=i.styles,h=u===void 0?{}:u;return Bh({type:"counter",content:n},function(){return Xs("beforeDOMElementCreation",{content:n,params:i}),_z({content:n.toString(),title:r,extra:{attributes:c,styles:h,classes:["".concat(Q.cssPrefix,"-layers-counter")].concat(xl(a))}})})}}}},Bz={mixout:function(){return{text:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.transform,r=s===void 0?jn:s,o=i.title,a=o===void 0?null:o,l=i.classes,c=l===void 0?[]:l,u=i.attributes,h=u===void 0?{}:u,f=i.styles,d=f===void 0?{}:f;return Bh({type:"text",content:n},function(){return Xs("beforeDOMElementCreation",{content:n,params:i}),f0({content:n,transform:H(H({},jn),r),title:a,extra:{attributes:h,styles:d,classes:["".concat(Q.cssPrefix,"-layers-text")].concat(xl(c))}})})}}},provides:function(t){t.generateLayersText=function(n,i){var s=i.title,r=i.transform,o=i.extra,a=null,l=null;if(R1){var c=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();a=u.width/c,l=u.height/c}return Q.autoA11y&&!s&&(o.attributes["aria-hidden"]="true"),Promise.resolve([n,f0({content:n.innerHTML,width:a,height:l,transform:r,title:s,extra:o,watchable:!0})])}}},Uz=new RegExp('"',"ug"),v0=[1105920,1112319];function zz(e){var t=e.replace(Uz,""),n=tz(t,0),i=n>=v0[0]&&n<=v0[1],s=t.length===2?t[0]===t[1]:!1;return{value:hp(s?t[0]:t),isSecondary:i||s}}function b0(e,t){var n="".concat(P6).concat(t.replace(":","-"));return new Promise(function(i,s){if(e.getAttribute(n)!==null)return i();var r=go(e.children),o=r.filter(function(S){return S.getAttribute(up)===t})[0],a=es.getComputedStyle(e,t),l=a.getPropertyValue("font-family").match(D6),c=a.getPropertyValue("font-weight"),u=a.getPropertyValue("content");if(o&&!l)return e.removeChild(o),i();if(l&&u!=="none"&&u!==""){var h=a.getPropertyValue("content"),f=~["Sharp"].indexOf(l[2])?Qt:Bt,d=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(l[2])?qa[f][l[2].toLowerCase()]:N6[f][c],p=zz(h),g=p.value,m=p.isSecondary,_=l[0].startsWith("FontAwesome"),y=Fm(d,g),E=y;if(_){var A=az(g);A.iconName&&A.prefix&&(y=A.iconName,d=A.prefix)}if(y&&!m&&(!o||o.getAttribute(Mm)!==d||o.getAttribute(Om)!==E)){e.setAttribute(n,E),o&&e.removeChild(o);var w=Rz(),T=w.extra;T.attributes[up]=t,mp(y,d).then(function(S){var x=Um(H(H({},w),{},{icons:{main:S,mask:Bm()},prefix:d,iconName:E,extra:T,watchable:!0})),C=Ht.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?e.insertBefore(C,e.firstChild):e.appendChild(C),C.outerHTML=x.map(function(j){return kl(j)}).join(`
`),e.removeAttribute(n),i()}).catch(s)}else i()}else i()})}function jz(e){return Promise.all([b0(e,"::before"),b0(e,"::after")])}function $z(e){return e.parentNode!==document.head&&!~R6.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(up)&&(!e.parentNode||e.parentNode.tagName!=="svg")}function A0(e){if(Ei)return new Promise(function(t,n){var i=go(e.querySelectorAll("*")).filter($z).map(jz),s=zm.begin("searchPseudoElements");J1(),Promise.all(i).then(function(){s(),yp(),t()}).catch(function(){s(),yp(),n()})})}var Hz={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=A0,n}}},provides:function(t){t.pseudoElements2svg=function(n){var i=n.node,s=i===void 0?Ht:i;Q.searchPseudoElements&&A0(s)}}},w0=!1,Wz={mixout:function(){return{dom:{unwatch:function(){J1(),w0=!0}}}},hooks:function(){return{bootstrap:function(){m0(dp("mutationObserverCallbacks",{}))},noAuto:function(){Sz()},watch:function(n){var i=n.observeMutationsRoot;w0?yp():m0(dp("mutationObserverCallbacks",{observeMutationsRoot:i}))}}}},E0=function(t){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce(function(i,s){var r=s.toLowerCase().split("-"),o=r[0],a=r.slice(1).join("-");if(o&&a==="h")return i.flipX=!0,i;if(o&&a==="v")return i.flipY=!0,i;if(a=parseFloat(a),isNaN(a))return i;switch(o){case"grow":i.size=i.size+a;break;case"shrink":i.size=i.size-a;break;case"left":i.x=i.x-a;break;case"right":i.x=i.x+a;break;case"up":i.y=i.y-a;break;case"down":i.y=i.y+a;break;case"rotate":i.rotate=i.rotate+a;break}return i},n)},qz={mixout:function(){return{parse:{transform:function(n){return E0(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,i){var s=i.getAttribute("data-fa-transform");return s&&(n.transform=E0(s)),n}}},provides:function(t){t.generateAbstractTransformGrouping=function(n){var i=n.main,s=n.transform,r=n.containerWidth,o=n.iconWidth,a={transform:"translate(".concat(r/2," 256)")},l="translate(".concat(s.x*32,", ").concat(s.y*32,") "),c="scale(".concat(s.size/16*(s.flipX?-1:1),", ").concat(s.size/16*(s.flipY?-1:1),") "),u="rotate(".concat(s.rotate," 0 0)"),h={transform:"".concat(l," ").concat(c," ").concat(u)},f={transform:"translate(".concat(o/2*-1," -256)")},d={outer:a,inner:h,path:f};return{tag:"g",attributes:H({},d.outer),children:[{tag:"g",attributes:H({},d.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:H(H({},i.icon.attributes),d.path)}]}]}}}},zf={x:0,y:0,width:"100%",height:"100%"};function I0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function Kz(e){return e.tag==="g"?e.children:[e]}var Gz={hooks:function(){return{parseNodeAttributes:function(n,i){var s=i.getAttribute("data-fa-mask"),r=s?Fh(s.split(" ").map(function(o){return o.trim()})):Bm();return r.prefix||(r.prefix=ns()),n.mask=r,n.maskId=i.getAttribute("data-fa-mask-id"),n}}},provides:function(t){t.generateAbstractMask=function(n){var i=n.children,s=n.attributes,r=n.main,o=n.mask,a=n.maskId,l=n.transform,c=r.width,u=r.icon,h=o.width,f=o.icon,d=q6({transform:l,containerWidth:h,iconWidth:c}),p={tag:"rect",attributes:H(H({},zf),{},{fill:"white"})},g=u.children?{children:u.children.map(I0)}:{},m={tag:"g",attributes:H({},d.inner),children:[I0(H({tag:u.tag,attributes:H(H({},u.attributes),d.path)},g))]},_={tag:"g",attributes:H({},d.outer),children:[m]},y="mask-".concat(a||Qa()),E="clip-".concat(a||Qa()),A={tag:"mask",attributes:H(H({},zf),{},{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,_]},w={tag:"defs",children:[{tag:"clipPath",attributes:{id:E},children:Kz(f)},A]};return i.push(w,{tag:"rect",attributes:H({fill:"currentColor","clip-path":"url(#".concat(E,")"),mask:"url(#".concat(y,")")},zf)}),{children:i,attributes:s}}}},Qz={provides:function(t){var n=!1;es.matchMedia&&(n=es.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){var i=[],s={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};i.push({tag:"path",attributes:H(H({},s),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=H(H({},r),{},{attributeName:"opacity"}),a={tag:"circle",attributes:H(H({},s),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:H(H({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:H(H({},o),{},{values:"1;0;1;1;0;1;"})}),i.push(a),i.push({tag:"path",attributes:H(H({},s),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:H(H({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||i.push({tag:"path",attributes:H(H({},s),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:H(H({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:i}}}},Yz={hooks:function(){return{parseNodeAttributes:function(n,i){var s=i.getAttribute("data-fa-symbol"),r=s===null?!1:s===""?!0:s;return n.symbol=r,n}}}},Xz=[Q6,Lz,Vz,Fz,Bz,Hz,Wz,qz,Gz,Qz,Yz];uz(Xz,{mixoutsTo:rn});rn.noAuto;rn.config;var Jz=rn.library;rn.dom;var vp=rn.parse;rn.findIconDefinition;rn.toHtml;var Zz=rn.icon;rn.layer;rn.text;rn.counter;function T0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function si(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T0(Object(n),!0).forEach(function(i){He(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T0(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function ku(e){"@babel/helpers - typeof";return ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ku(e)}function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tj(e,t){if(e==null)return{};var n={},i=Object.keys(e),s,r;for(r=0;r<i.length;r++)s=i[r],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function ej(e,t){if(e==null)return{};var n=tj(e,t),i,s;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}var nj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},tx={exports:{}};(function(e){(function(t){var n=function(_,y,E){if(!c(y)||h(y)||f(y)||d(y)||l(y))return y;var A,w=0,T=0;if(u(y))for(A=[],T=y.length;w<T;w++)A.push(n(_,y[w],E));else{A={};for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(A[_(S,E)]=n(_,y[S],E))}return A},i=function(_,y){y=y||{};var E=y.separator||"_",A=y.split||/(?=[A-Z])/;return _.split(A).join(E)},s=function(_){return p(_)?_:(_=_.replace(/[\-_\s]+(.)?/g,function(y,E){return E?E.toUpperCase():""}),_.substr(0,1).toLowerCase()+_.substr(1))},r=function(_){var y=s(_);return y.substr(0,1).toUpperCase()+y.substr(1)},o=function(_,y){return i(_,y).toLowerCase()},a=Object.prototype.toString,l=function(_){return typeof _=="function"},c=function(_){return _===Object(_)},u=function(_){return a.call(_)=="[object Array]"},h=function(_){return a.call(_)=="[object Date]"},f=function(_){return a.call(_)=="[object RegExp]"},d=function(_){return a.call(_)=="[object Boolean]"},p=function(_){return _=_-0,_===_},g=function(_,y){var E=y&&"process"in y?y.process:y;return typeof E!="function"?_:function(A,w){return E(A,_,w)}},m={camelize:s,decamelize:o,pascalize:r,depascalize:o,camelizeKeys:function(_,y){return n(g(s,y),_)},decamelizeKeys:function(_,y){return n(g(o,y),_,y)},pascalizeKeys:function(_,y){return n(g(r,y),_)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};e.exports?e.exports=m:t.humps=m})(nj)})(tx);var ij=tx.exports,sj=["class","style"];function rj(e){return e.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,n){var i=n.indexOf(":"),s=ij.camelize(n.slice(0,i)),r=n.slice(i+1).trim();return t[s]=r,t},{})}function oj(e){return e.split(/\s+/).reduce(function(t,n){return t[n]=!0,t},{})}function ex(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var i=(e.children||[]).map(function(l){return ex(l)}),s=Object.keys(e.attributes||{}).reduce(function(l,c){var u=e.attributes[c];switch(c){case"class":l.class=oj(u);break;case"style":l.style=rj(u);break;default:l.attrs[c]=u}return l},{attrs:{},class:{},style:{}});n.class;var r=n.style,o=r===void 0?{}:r,a=ej(n,sj);return Wp(e.tag,si(si(si({},t),{},{class:s.class,style:si(si({},s.style),o)},s.attrs),a),i)}var nx=!1;try{nx=!0}catch{}function aj(){if(!nx&&console&&typeof console.error=="function"){var e;(e=console).error.apply(e,arguments)}}function jf(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?He({},e,t):{}}function lj(e){var t,n=(t={"fa-spin":e.spin,"fa-pulse":e.pulse,"fa-fw":e.fixedWidth,"fa-border":e.border,"fa-li":e.listItem,"fa-inverse":e.inverse,"fa-flip":e.flip===!0,"fa-flip-horizontal":e.flip==="horizontal"||e.flip==="both","fa-flip-vertical":e.flip==="vertical"||e.flip==="both"},He(t,"fa-".concat(e.size),e.size!==null),He(t,"fa-rotate-".concat(e.rotation),e.rotation!==null),He(t,"fa-pull-".concat(e.pull),e.pull!==null),He(t,"fa-swap-opacity",e.swapOpacity),He(t,"fa-bounce",e.bounce),He(t,"fa-shake",e.shake),He(t,"fa-beat",e.beat),He(t,"fa-fade",e.fade),He(t,"fa-beat-fade",e.beatFade),He(t,"fa-flash",e.flash),He(t,"fa-spin-pulse",e.spinPulse),He(t,"fa-spin-reverse",e.spinReverse),t);return Object.keys(n).map(function(i){return n[i]?i:null}).filter(function(i){return i})}function x0(e){if(e&&ku(e)==="object"&&e.prefix&&e.iconName&&e.icon)return e;if(vp.icon)return vp.icon(e);if(e===null)return null;if(ku(e)==="object"&&e.prefix&&e.iconName)return e;if(Array.isArray(e)&&e.length===2)return{prefix:e[0],iconName:e[1]};if(typeof e=="string")return{prefix:"fas",iconName:e}}var cj=Vp({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:[Boolean,String],default:!1,validator:function(t){return[!0,!1,"horizontal","vertical","both"].indexOf(t)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(t){return["right","left"].indexOf(t)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(t){return[90,180,270].indexOf(Number.parseInt(t,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(t){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(t)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},inverse:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},shake:{type:Boolean,default:!1},beat:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},beatFade:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1}},setup:function(t,n){var i=n.attrs,s=pe(function(){return x0(t.icon)}),r=pe(function(){return jf("classes",lj(t))}),o=pe(function(){return jf("transform",typeof t.transform=="string"?vp.transform(t.transform):t.transform)}),a=pe(function(){return jf("mask",x0(t.mask))}),l=pe(function(){return Zz(s.value,si(si(si(si({},r.value),o.value),a.value),{},{symbol:t.symbol,title:t.title}))});ji(l,function(u){if(!u)return aj("Could not find one or more icon(s)",s.value,a.value)},{immediate:!0});var c=pe(function(){return l.value?ex(l.value.abstract[0],{},i):null});return function(){return c.value}}}),uj={prefix:"fas",iconName:"eye-slash",icon:[640,512,[],"f070","M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z"]},hj={prefix:"fas",iconName:"chart-simple",icon:[448,512,[],"e473","M160 80c0-26.5 21.5-48 48-48h32c26.5 0 48 21.5 48 48V432c0 26.5-21.5 48-48 48H208c-26.5 0-48-21.5-48-48V80zM0 272c0-26.5 21.5-48 48-48H80c26.5 0 48 21.5 48 48V432c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V272zM368 96h32c26.5 0 48 21.5 48 48V432c0 26.5-21.5 48-48 48H368c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48z"]},fj={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"]},dj={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},pj={prefix:"fas",iconName:"dumbbell",icon:[640,512,[],"f44b","M96 64c0-17.7 14.3-32 32-32h32c17.7 0 32 14.3 32 32V224v64V448c0 17.7-14.3 32-32 32H128c-17.7 0-32-14.3-32-32V384H64c-17.7 0-32-14.3-32-32V288c-17.7 0-32-14.3-32-32s14.3-32 32-32V160c0-17.7 14.3-32 32-32H96V64zm448 0v64h32c17.7 0 32 14.3 32 32v64c17.7 0 32 14.3 32 32s-14.3 32-32 32v64c0 17.7-14.3 32-32 32H544v64c0 17.7-14.3 32-32 32H480c-17.7 0-32-14.3-32-32V288 224 64c0-17.7 14.3-32 32-32h32c17.7 0 32 14.3 32 32zM416 224v64H224V224H416z"]},gj={prefix:"fas",iconName:"circle-plus",icon:[512,512,["plus-circle"],"f055","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344V280H168c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V168c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H280v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]};Jz.add(fj,pj,hj,gj,dj,uj);const Uh=Pk(MF);Uh.component("font-awesome-icon",cj);Uh.use(Mk());Uh.use(x1);Uh.mount("#app");
