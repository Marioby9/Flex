var ox=Object.defineProperty;var ax=(e,t,n)=>t in e?ox(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var F=(e,t,n)=>(ax(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function Ip(e,t){const n=Object.create(null),i=e.split(",");for(let s=0;s<i.length;s++)n[i[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const Vt={},wr=[],En=()=>{},lx=()=>!1,cx=/^on[^a-z]/,Ru=e=>cx.test(e),Tp=e=>e.startsWith("onUpdate:"),ye=Object.assign,xp=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},ux=Object.prototype.hasOwnProperty,vt=(e,t)=>ux.call(e,t),nt=Array.isArray,Er=e=>Za(e)==="[object Map]",eo=e=>Za(e)==="[object Set]",Qm=e=>Za(e)==="[object Date]",pt=e=>typeof e=="function",re=e=>typeof e=="string",da=e=>typeof e=="symbol",Lt=e=>e!==null&&typeof e=="object",R0=e=>Lt(e)&&pt(e.then)&&pt(e.catch),M0=Object.prototype.toString,Za=e=>M0.call(e),hx=e=>Za(e).slice(8,-1),O0=e=>Za(e)==="[object Object]",Sp=e=>re(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,yc=Ip(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Mu=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},fx=/-(\w)/g,Yn=Mu(e=>e.replace(fx,(t,n)=>n?n.toUpperCase():"")),dx=/\B([A-Z])/g,no=Mu(e=>e.replace(dx,"-$1").toLowerCase()),Ou=Mu(e=>e.charAt(0).toUpperCase()+e.slice(1)),Wh=Mu(e=>e?`on${Ou(e)}`:""),pa=(e,t)=>!Object.is(e,t),vc=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},jc=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},$c=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ym;const Kf=()=>Ym||(Ym=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function io(e){if(nt(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],s=re(i)?_x(i):io(i);if(s)for(const r in s)t[r]=s[r]}return t}else{if(re(e))return e;if(Lt(e))return e}}const px=/;(?![^(]*\))/g,gx=/:([^]+)/,mx=/\/\*[^]*?\*\//g;function _x(e){const t={};return e.replace(mx,"").split(px).forEach(n=>{if(n){const i=n.split(gx);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function Du(e){let t="";if(re(e))t=e;else if(nt(e))for(let n=0;n<e.length;n++){const i=Du(e[n]);i&&(t+=i+" ")}else if(Lt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const yx="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",vx=Ip(yx);function D0(e){return!!e||e===""}function bx(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=Vs(e[i],t[i]);return n}function Vs(e,t){if(e===t)return!0;let n=Qm(e),i=Qm(t);if(n||i)return n&&i?e.getTime()===t.getTime():!1;if(n=da(e),i=da(t),n||i)return e===t;if(n=nt(e),i=nt(t),n||i)return n&&i?bx(e,t):!1;if(n=Lt(e),i=Lt(t),n||i){if(!n||!i)return!1;const s=Object.keys(e).length,r=Object.keys(t).length;if(s!==r)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!Vs(e[o],t[o]))return!1}}return String(e)===String(t)}function kp(e,t){return e.findIndex(n=>Vs(n,t))}const vn=e=>re(e)?e:e==null?"":nt(e)||Lt(e)&&(e.toString===M0||!pt(e.toString))?JSON.stringify(e,N0,2):String(e),N0=(e,t)=>t&&t.__v_isRef?N0(e,t.value):Er(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,s])=>(n[`${i} =>`]=s,n),{})}:eo(t)?{[`Set(${t.size})`]:[...t.values()]}:Lt(t)&&!nt(t)&&!O0(t)?String(t):t;let Je;class L0{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Je,!t&&Je&&(this.index=(Je.scopes||(Je.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Je;try{return Je=this,t()}finally{Je=n}}}on(){Je=this}off(){Je=this.parent}stop(t){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function V0(e){return new L0(e)}function Ax(e,t=Je){t&&t.active&&t.effects.push(e)}function Cp(){return Je}function F0(e){Je&&Je.cleanups.push(e)}const Pp=e=>{const t=new Set(e);return t.w=0,t.n=0,t},B0=e=>(e.w&Qi)>0,U0=e=>(e.n&Qi)>0,wx=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Qi},Ex=e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const s=t[i];B0(s)&&!U0(s)?s.delete(e):t[n++]=s,s.w&=~Qi,s.n&=~Qi}t.length=n}},Hc=new WeakMap;let Co=0,Qi=1;const Gf=30;let _n;const Ps=Symbol(""),Qf=Symbol("");class Rp{constructor(t,n=null,i){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Ax(this,i)}run(){if(!this.active)return this.fn();let t=_n,n=zi;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=_n,_n=this,zi=!0,Qi=1<<++Co,Co<=Gf?wx(this):Xm(this),this.fn()}finally{Co<=Gf&&Ex(this),Qi=1<<--Co,_n=this.parent,zi=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){_n===this?this.deferStop=!0:this.active&&(Xm(this),this.onStop&&this.onStop(),this.active=!1)}}function Xm(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let zi=!0;const z0=[];function so(){z0.push(zi),zi=!1}function ro(){const e=z0.pop();zi=e===void 0?!0:e}function Qe(e,t,n){if(zi&&_n){let i=Hc.get(e);i||Hc.set(e,i=new Map);let s=i.get(n);s||i.set(n,s=Pp()),j0(s)}}function j0(e,t){let n=!1;Co<=Gf?U0(e)||(e.n|=Qi,n=!B0(e)):n=!e.has(_n),n&&(e.add(_n),_n.deps.push(e))}function pi(e,t,n,i,s,r){const o=Hc.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&nt(e)){const l=Number(i);o.forEach((c,u)=>{(u==="length"||u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),t){case"add":nt(e)?Sp(n)&&a.push(o.get("length")):(a.push(o.get(Ps)),Er(e)&&a.push(o.get(Qf)));break;case"delete":nt(e)||(a.push(o.get(Ps)),Er(e)&&a.push(o.get(Qf)));break;case"set":Er(e)&&a.push(o.get(Ps));break}if(a.length===1)a[0]&&Yf(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);Yf(Pp(l))}}function Yf(e,t){const n=nt(e)?e:[...e];for(const i of n)i.computed&&Jm(i);for(const i of n)i.computed||Jm(i)}function Jm(e,t){(e!==_n||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function Ix(e,t){var n;return(n=Hc.get(e))==null?void 0:n.get(t)}const Tx=Ip("__proto__,__v_isRef,__isVue"),$0=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(da)),xx=Mp(),Sx=Mp(!1,!0),kx=Mp(!0),Zm=Cx();function Cx(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=At(this);for(let r=0,o=this.length;r<o;r++)Qe(i,"get",r+"");const s=i[t](...n);return s===-1||s===!1?i[t](...n.map(At)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){so();const i=At(this)[t].apply(this,n);return ro(),i}}),e}function Px(e){const t=At(this);return Qe(t,"has",e),t.hasOwnProperty(e)}function Mp(e=!1,t=!1){return function(i,s,r){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&r===(e?t?qx:G0:t?K0:q0).get(i))return i;const o=nt(i);if(!e){if(o&&vt(Zm,s))return Reflect.get(Zm,s,r);if(s==="hasOwnProperty")return Px}const a=Reflect.get(i,s,r);return(da(s)?$0.has(s):Tx(s))||(e||Qe(i,"get",s),t)?a:se(a)?o&&Sp(s)?a:a.value:Lt(a)?e?Y0(a):tl(a):a}}const Rx=H0(),Mx=H0(!0);function H0(e=!1){return function(n,i,s,r){let o=n[i];if(Dr(o)&&se(o)&&!se(s))return!1;if(!e&&(!Wc(s)&&!Dr(s)&&(o=At(o),s=At(s)),!nt(n)&&se(o)&&!se(s)))return o.value=s,!0;const a=nt(n)&&Sp(i)?Number(i)<n.length:vt(n,i),l=Reflect.set(n,i,s,r);return n===At(r)&&(a?pa(s,o)&&pi(n,"set",i,s):pi(n,"add",i,s)),l}}function Ox(e,t){const n=vt(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&pi(e,"delete",t,void 0),i}function Dx(e,t){const n=Reflect.has(e,t);return(!da(t)||!$0.has(t))&&Qe(e,"has",t),n}function Nx(e){return Qe(e,"iterate",nt(e)?"length":Ps),Reflect.ownKeys(e)}const W0={get:xx,set:Rx,deleteProperty:Ox,has:Dx,ownKeys:Nx},Lx={get:kx,set(e,t){return!0},deleteProperty(e,t){return!0}},Vx=ye({},W0,{get:Sx,set:Mx}),Op=e=>e,Nu=e=>Reflect.getPrototypeOf(e);function Rl(e,t,n=!1,i=!1){e=e.__v_raw;const s=At(e),r=At(t);n||(t!==r&&Qe(s,"get",t),Qe(s,"get",r));const{has:o}=Nu(s),a=i?Op:n?Lp:ga;if(o.call(s,t))return a(e.get(t));if(o.call(s,r))return a(e.get(r));e!==s&&e.get(t)}function Ml(e,t=!1){const n=this.__v_raw,i=At(n),s=At(e);return t||(e!==s&&Qe(i,"has",e),Qe(i,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function Ol(e,t=!1){return e=e.__v_raw,!t&&Qe(At(e),"iterate",Ps),Reflect.get(e,"size",e)}function t_(e){e=At(e);const t=At(this);return Nu(t).has.call(t,e)||(t.add(e),pi(t,"add",e,e)),this}function e_(e,t){t=At(t);const n=At(this),{has:i,get:s}=Nu(n);let r=i.call(n,e);r||(e=At(e),r=i.call(n,e));const o=s.call(n,e);return n.set(e,t),r?pa(t,o)&&pi(n,"set",e,t):pi(n,"add",e,t),this}function n_(e){const t=At(this),{has:n,get:i}=Nu(t);let s=n.call(t,e);s||(e=At(e),s=n.call(t,e)),i&&i.call(t,e);const r=t.delete(e);return s&&pi(t,"delete",e,void 0),r}function i_(){const e=At(this),t=e.size!==0,n=e.clear();return t&&pi(e,"clear",void 0,void 0),n}function Dl(e,t){return function(i,s){const r=this,o=r.__v_raw,a=At(o),l=t?Op:e?Lp:ga;return!e&&Qe(a,"iterate",Ps),o.forEach((c,u)=>i.call(s,l(c),l(u),r))}}function Nl(e,t,n){return function(...i){const s=this.__v_raw,r=At(s),o=Er(r),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=s[e](...i),u=n?Op:t?Lp:ga;return!t&&Qe(r,"iterate",l?Qf:Ps),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function xi(e){return function(...t){return e==="delete"?!1:this}}function Fx(){const e={get(r){return Rl(this,r)},get size(){return Ol(this)},has:Ml,add:t_,set:e_,delete:n_,clear:i_,forEach:Dl(!1,!1)},t={get(r){return Rl(this,r,!1,!0)},get size(){return Ol(this)},has:Ml,add:t_,set:e_,delete:n_,clear:i_,forEach:Dl(!1,!0)},n={get(r){return Rl(this,r,!0)},get size(){return Ol(this,!0)},has(r){return Ml.call(this,r,!0)},add:xi("add"),set:xi("set"),delete:xi("delete"),clear:xi("clear"),forEach:Dl(!0,!1)},i={get(r){return Rl(this,r,!0,!0)},get size(){return Ol(this,!0)},has(r){return Ml.call(this,r,!0)},add:xi("add"),set:xi("set"),delete:xi("delete"),clear:xi("clear"),forEach:Dl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=Nl(r,!1,!1),n[r]=Nl(r,!0,!1),t[r]=Nl(r,!1,!0),i[r]=Nl(r,!0,!0)}),[e,n,t,i]}const[Bx,Ux,zx,jx]=Fx();function Dp(e,t){const n=t?e?jx:zx:e?Ux:Bx;return(i,s,r)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?i:Reflect.get(vt(n,s)&&s in i?n:i,s,r)}const $x={get:Dp(!1,!1)},Hx={get:Dp(!1,!0)},Wx={get:Dp(!0,!1)},q0=new WeakMap,K0=new WeakMap,G0=new WeakMap,qx=new WeakMap;function Kx(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Gx(e){return e.__v_skip||!Object.isExtensible(e)?0:Kx(hx(e))}function tl(e){return Dr(e)?e:Np(e,!1,W0,$x,q0)}function Q0(e){return Np(e,!1,Vx,Hx,K0)}function Y0(e){return Np(e,!0,Lx,Wx,G0)}function Np(e,t,n,i,s){if(!Lt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=s.get(e);if(r)return r;const o=Gx(e);if(o===0)return e;const a=new Proxy(e,o===2?i:n);return s.set(e,a),a}function ji(e){return Dr(e)?ji(e.__v_raw):!!(e&&e.__v_isReactive)}function Dr(e){return!!(e&&e.__v_isReadonly)}function Wc(e){return!!(e&&e.__v_isShallow)}function X0(e){return ji(e)||Dr(e)}function At(e){const t=e&&e.__v_raw;return t?At(t):e}function Lu(e){return jc(e,"__v_skip",!0),e}const ga=e=>Lt(e)?tl(e):e,Lp=e=>Lt(e)?Y0(e):e;function J0(e){zi&&_n&&(e=At(e),j0(e.dep||(e.dep=Pp())))}function Z0(e,t){e=At(e);const n=e.dep;n&&Yf(n)}function se(e){return!!(e&&e.__v_isRef===!0)}function Et(e){return tA(e,!1)}function Qx(e){return tA(e,!0)}function tA(e,t){return se(e)?e:new Yx(e,t)}class Yx{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:At(t),this._value=n?t:ga(t)}get value(){return J0(this),this._value}set value(t){const n=this.__v_isShallow||Wc(t)||Dr(t);t=n?t:At(t),pa(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:ga(t),Z0(this))}}function qt(e){return se(e)?e.value:e}const Xx={get:(e,t,n)=>qt(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const s=e[t];return se(s)&&!se(n)?(s.value=n,!0):Reflect.set(e,t,n,i)}};function eA(e){return ji(e)?e:new Proxy(e,Xx)}function Jx(e){const t=nt(e)?new Array(e.length):{};for(const n in e)t[n]=tS(e,n);return t}class Zx{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Ix(At(this._object),this._key)}}function tS(e,t,n){const i=e[t];return se(i)?i:new Zx(e,t,n)}class eS{constructor(t,n,i,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Rp(t,()=>{this._dirty||(this._dirty=!0,Z0(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const t=At(this);return J0(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function nS(e,t,n=!1){let i,s;const r=pt(e);return r?(i=e,s=En):(i=e.get,s=e.set),new eS(i,s,r||!s,n)}function $i(e,t,n,i){let s;try{s=i?e(...i):e()}catch(r){Vu(r,t,n)}return s}function In(e,t,n,i){if(pt(e)){const r=$i(e,t,n,i);return r&&R0(r)&&r.catch(o=>{Vu(o,t,n)}),r}const s=[];for(let r=0;r<e.length;r++)s.push(In(e[r],t,n,i));return s}function Vu(e,t,n,i=!0){const s=t?t.vnode:null;if(t){let r=t.parent;const o=t.proxy,a=n;for(;r;){const c=r.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,o,a)===!1)return}r=r.parent}const l=t.appContext.config.errorHandler;if(l){$i(l,null,10,[e,o,a]);return}}iS(e,n,s,i)}function iS(e,t,n,i=!0){console.error(e)}let ma=!1,Xf=!1;const Ce=[];let Vn=0;const Ir=[];let ii=null,vs=0;const nA=Promise.resolve();let Vp=null;function Fp(e){const t=Vp||nA;return e?t.then(this?e.bind(this):e):t}function sS(e){let t=Vn+1,n=Ce.length;for(;t<n;){const i=t+n>>>1;_a(Ce[i])<e?t=i+1:n=i}return t}function Bp(e){(!Ce.length||!Ce.includes(e,ma&&e.allowRecurse?Vn+1:Vn))&&(e.id==null?Ce.push(e):Ce.splice(sS(e.id),0,e),iA())}function iA(){!ma&&!Xf&&(Xf=!0,Vp=nA.then(rA))}function rS(e){const t=Ce.indexOf(e);t>Vn&&Ce.splice(t,1)}function oS(e){nt(e)?Ir.push(...e):(!ii||!ii.includes(e,e.allowRecurse?vs+1:vs))&&Ir.push(e),iA()}function s_(e,t=ma?Vn+1:0){for(;t<Ce.length;t++){const n=Ce[t];n&&n.pre&&(Ce.splice(t,1),t--,n())}}function sA(e){if(Ir.length){const t=[...new Set(Ir)];if(Ir.length=0,ii){ii.push(...t);return}for(ii=t,ii.sort((n,i)=>_a(n)-_a(i)),vs=0;vs<ii.length;vs++)ii[vs]();ii=null,vs=0}}const _a=e=>e.id==null?1/0:e.id,aS=(e,t)=>{const n=_a(e)-_a(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function rA(e){Xf=!1,ma=!0,Ce.sort(aS);const t=En;try{for(Vn=0;Vn<Ce.length;Vn++){const n=Ce[Vn];n&&n.active!==!1&&$i(n,null,14)}}finally{Vn=0,Ce.length=0,sA(),ma=!1,Vp=null,(Ce.length||Ir.length)&&rA()}}function lS(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||Vt;let s=n;const r=t.startsWith("update:"),o=r&&t.slice(7);if(o&&o in i){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=i[u]||Vt;f&&(s=n.map(d=>re(d)?d.trim():d)),h&&(s=n.map($c))}let a,l=i[a=Wh(t)]||i[a=Wh(Yn(t))];!l&&r&&(l=i[a=Wh(no(t))]),l&&In(l,e,6,s);const c=i[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,In(c,e,6,s)}}function oA(e,t,n=!1){const i=t.emitsCache,s=i.get(e);if(s!==void 0)return s;const r=e.emits;let o={},a=!1;if(!pt(e)){const l=c=>{const u=oA(c,t,!0);u&&(a=!0,ye(o,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!r&&!a?(Lt(e)&&i.set(e,null),null):(nt(r)?r.forEach(l=>o[l]=null):ye(o,r),Lt(e)&&i.set(e,o),o)}function Fu(e,t){return!e||!Ru(t)?!1:(t=t.slice(2).replace(/Once$/,""),vt(e,t[0].toLowerCase()+t.slice(1))||vt(e,no(t))||vt(e,t))}let en=null,Bu=null;function qc(e){const t=en;return en=e,Bu=e&&e.type.__scopeId||null,t}function tr(e){Bu=e}function er(){Bu=null}function Fs(e,t=en,n){if(!t||e._n)return e;const i=(...s)=>{i._d&&__(-1);const r=qc(t);let o;try{o=e(...s)}finally{qc(r),i._d&&__(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function qh(e){const{type:t,vnode:n,proxy:i,withProxy:s,props:r,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:h,data:f,setupState:d,ctx:p,inheritAttrs:g}=e;let m,_;const y=qc(e);try{if(n.shapeFlag&4){const A=s||i;m=Ln(u.call(A,A,h,r,d,f,p)),_=l}else{const A=t;m=Ln(A.length>1?A(r,{attrs:l,slots:a,emit:c}):A(r,null)),_=t.props?l:cS(l)}}catch(A){Qo.length=0,Vu(A,e,1),m=Mt(Bs)}let E=m;if(_&&g!==!1){const A=Object.keys(_),{shapeFlag:w}=E;A.length&&w&7&&(o&&A.some(Tp)&&(_=uS(_,o)),E=Nr(E,_))}return n.dirs&&(E=Nr(E),E.dirs=E.dirs?E.dirs.concat(n.dirs):n.dirs),n.transition&&(E.transition=n.transition),m=E,qc(y),m}const cS=e=>{let t;for(const n in e)(n==="class"||n==="style"||Ru(n))&&((t||(t={}))[n]=e[n]);return t},uS=(e,t)=>{const n={};for(const i in e)(!Tp(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function hS(e,t,n){const{props:i,children:s,component:r}=e,{props:o,children:a,patchFlag:l}=t,c=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?r_(i,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==i[f]&&!Fu(c,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?r_(i,o,c):!0:!!o;return!1}function r_(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(t[r]!==e[r]&&!Fu(n,r))return!0}return!1}function fS({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const dS=e=>e.__isSuspense;function pS(e,t){t&&t.pendingBranch?nt(e)?t.effects.push(...e):t.effects.push(e):oS(e)}const Ll={};function $n(e,t,n){return aA(e,t,n)}function aA(e,t,{immediate:n,deep:i,flush:s,onTrack:r,onTrigger:o}=Vt){var a;const l=Cp()===((a=me)==null?void 0:a.scope)?me:null;let c,u=!1,h=!1;if(se(e)?(c=()=>e.value,u=Wc(e)):ji(e)?(c=()=>e,i=!0):nt(e)?(h=!0,u=e.some(A=>ji(A)||Wc(A)),c=()=>e.map(A=>{if(se(A))return A.value;if(ji(A))return As(A);if(pt(A))return $i(A,l,2)})):pt(e)?t?c=()=>$i(e,l,2):c=()=>{if(!(l&&l.isUnmounted))return f&&f(),In(e,l,3,[d])}:c=En,t&&i){const A=c;c=()=>As(A())}let f,d=A=>{f=y.onStop=()=>{$i(A,l,4)}},p;if(ba)if(d=En,t?n&&In(t,l,3,[c(),h?[]:void 0,d]):c(),s==="sync"){const A=lk();p=A.__watcherHandles||(A.__watcherHandles=[])}else return En;let g=h?new Array(e.length).fill(Ll):Ll;const m=()=>{if(y.active)if(t){const A=y.run();(i||u||(h?A.some((w,T)=>pa(w,g[T])):pa(A,g)))&&(f&&f(),In(t,l,3,[A,g===Ll?void 0:h&&g[0]===Ll?[]:g,d]),g=A)}else y.run()};m.allowRecurse=!!t;let _;s==="sync"?_=m:s==="post"?_=()=>We(m,l&&l.suspense):(m.pre=!0,l&&(m.id=l.uid),_=()=>Bp(m));const y=new Rp(c,_);t?n?m():g=y.run():s==="post"?We(y.run.bind(y),l&&l.suspense):y.run();const E=()=>{y.stop(),l&&l.scope&&xp(l.scope.effects,y)};return p&&p.push(E),E}function gS(e,t,n){const i=this.proxy,s=re(e)?e.includes(".")?lA(i,e):()=>i[e]:e.bind(i,i);let r;pt(t)?r=t:(r=t.handler,n=t);const o=me;Vr(this);const a=aA(s,r.bind(i),n);return o?Vr(o):Rs(),a}function lA(e,t){const n=t.split(".");return()=>{let i=e;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}function As(e,t){if(!Lt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),se(e))As(e.value,t);else if(nt(e))for(let n=0;n<e.length;n++)As(e[n],t);else if(eo(e)||Er(e))e.forEach(n=>{As(n,t)});else if(O0(e))for(const n in e)As(e[n],t);return e}function tn(e,t){const n=en;if(n===null)return e;const i=$u(n)||n.proxy,s=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,a,l,c=Vt]=t[r];o&&(pt(o)&&(o={mounted:o,updated:o}),o.deep&&As(a),s.push({dir:o,instance:i,value:a,oldValue:void 0,arg:l,modifiers:c}))}return e}function us(e,t,n,i){const s=e.dirs,r=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];r&&(a.oldValue=r[o].value);let l=a.dir[i];l&&(so(),In(l,n,8,[e.el,a,e,t]),ro())}}function Up(e,t){return pt(e)?(()=>ye({name:e.name},t,{setup:e}))():e}const bc=e=>!!e.type.__asyncLoader,cA=e=>e.type.__isKeepAlive;function mS(e,t){uA(e,"a",t)}function _S(e,t){uA(e,"da",t)}function uA(e,t,n=me){const i=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Uu(t,i,n),n){let s=n.parent;for(;s&&s.parent;)cA(s.parent.vnode)&&yS(i,t,n,s),s=s.parent}}function yS(e,t,n,i){const s=Uu(t,e,i,!0);hA(()=>{xp(i[t],s)},n)}function Uu(e,t,n=me,i=!1){if(n){const s=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;so(),Vr(n);const a=In(t,n,e,o);return Rs(),ro(),a});return i?s.unshift(r):s.push(r),r}}const Ei=e=>(t,n=me)=>(!ba||e==="sp")&&Uu(e,(...i)=>t(...i),n),vS=Ei("bm"),zp=Ei("m"),bS=Ei("bu"),AS=Ei("u"),wS=Ei("bum"),hA=Ei("um"),ES=Ei("sp"),IS=Ei("rtg"),TS=Ei("rtc");function xS(e,t=me){Uu("ec",e,t)}const jp="components";function $p(e,t){return dA(jp,e,!0,t)||e}const fA=Symbol.for("v-ndc");function SS(e){return re(e)?dA(jp,e,!1)||e:e||fA}function dA(e,t,n=!0,i=!1){const s=en||me;if(s){const r=s.type;if(e===jp){const a=rk(r,!1);if(a&&(a===t||a===Yn(t)||a===Ou(Yn(t))))return r}const o=o_(s[e]||r[e],t)||o_(s.appContext[e],t);return!o&&i?r:o}}function o_(e,t){return e&&(e[t]||e[Yn(t)]||e[Ou(Yn(t))])}function qo(e,t,n,i){let s;const r=n&&n[i];if(nt(e)||re(e)){s=new Array(e.length);for(let o=0,a=e.length;o<a;o++)s[o]=t(e[o],o,void 0,r&&r[o])}else if(typeof e=="number"){s=new Array(e);for(let o=0;o<e;o++)s[o]=t(o+1,o,void 0,r&&r[o])}else if(Lt(e))if(e[Symbol.iterator])s=Array.from(e,(o,a)=>t(o,a,void 0,r&&r[a]));else{const o=Object.keys(e);s=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];s[a]=t(e[c],c,a,r&&r[a])}}else s=[];return n&&(n[i]=s),s}const Jf=e=>e?IA(e)?$u(e)||e.proxy:Jf(e.parent):null,Ko=ye(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Jf(e.parent),$root:e=>Jf(e.root),$emit:e=>e.emit,$options:e=>Hp(e),$forceUpdate:e=>e.f||(e.f=()=>Bp(e.update)),$nextTick:e=>e.n||(e.n=Fp.bind(e.proxy)),$watch:e=>gS.bind(e)}),Kh=(e,t)=>e!==Vt&&!e.__isScriptSetup&&vt(e,t),kS={get({_:e},t){const{ctx:n,setupState:i,data:s,props:r,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const d=o[t];if(d!==void 0)switch(d){case 1:return i[t];case 2:return s[t];case 4:return n[t];case 3:return r[t]}else{if(Kh(i,t))return o[t]=1,i[t];if(s!==Vt&&vt(s,t))return o[t]=2,s[t];if((c=e.propsOptions[0])&&vt(c,t))return o[t]=3,r[t];if(n!==Vt&&vt(n,t))return o[t]=4,n[t];Zf&&(o[t]=0)}}const u=Ko[t];let h,f;if(u)return t==="$attrs"&&Qe(e,"get",t),u(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(n!==Vt&&vt(n,t))return o[t]=4,n[t];if(f=l.config.globalProperties,vt(f,t))return f[t]},set({_:e},t,n){const{data:i,setupState:s,ctx:r}=e;return Kh(s,t)?(s[t]=n,!0):i!==Vt&&vt(i,t)?(i[t]=n,!0):vt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:s,propsOptions:r}},o){let a;return!!n[o]||e!==Vt&&vt(e,o)||Kh(t,o)||(a=r[0])&&vt(a,o)||vt(i,o)||vt(Ko,o)||vt(s.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:vt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function a_(e){return nt(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let Zf=!0;function CS(e){const t=Hp(e),n=e.proxy,i=e.ctx;Zf=!1,t.beforeCreate&&l_(t.beforeCreate,e,"bc");const{data:s,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:d,updated:p,activated:g,deactivated:m,beforeDestroy:_,beforeUnmount:y,destroyed:E,unmounted:A,render:w,renderTracked:T,renderTriggered:S,errorCaptured:x,serverPrefetch:R,expose:j,inheritAttrs:K,components:st,directives:xt,filters:ne}=t;if(c&&PS(c,i,null),o)for(const it in o){const ut=o[it];pt(ut)&&(i[it]=ut.bind(n))}if(s){const it=s.call(n,n);Lt(it)&&(e.data=tl(it))}if(Zf=!0,r)for(const it in r){const ut=r[it],Ot=pt(ut)?ut.bind(n,n):pt(ut.get)?ut.get.bind(n,n):En,Fe=!pt(ut)&&pt(ut.set)?ut.set.bind(n):En,Be=pe({get:Ot,set:Fe});Object.defineProperty(i,it,{enumerable:!0,configurable:!0,get:()=>Be.value,set:ie=>Be.value=ie})}if(a)for(const it in a)pA(a[it],i,n,it);if(l){const it=pt(l)?l.call(n):l;Reflect.ownKeys(it).forEach(ut=>{Ac(ut,it[ut])})}u&&l_(u,e,"c");function X(it,ut){nt(ut)?ut.forEach(Ot=>it(Ot.bind(n))):ut&&it(ut.bind(n))}if(X(vS,h),X(zp,f),X(bS,d),X(AS,p),X(mS,g),X(_S,m),X(xS,x),X(TS,T),X(IS,S),X(wS,y),X(hA,A),X(ES,R),nt(j))if(j.length){const it=e.exposed||(e.exposed={});j.forEach(ut=>{Object.defineProperty(it,ut,{get:()=>n[ut],set:Ot=>n[ut]=Ot})})}else e.exposed||(e.exposed={});w&&e.render===En&&(e.render=w),K!=null&&(e.inheritAttrs=K),st&&(e.components=st),xt&&(e.directives=xt)}function PS(e,t,n=En){nt(e)&&(e=td(e));for(const i in e){const s=e[i];let r;Lt(s)?"default"in s?r=hn(s.from||i,s.default,!0):r=hn(s.from||i):r=hn(s),se(r)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[i]=r}}function l_(e,t,n){In(nt(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function pA(e,t,n,i){const s=i.includes(".")?lA(n,i):()=>n[i];if(re(e)){const r=t[e];pt(r)&&$n(s,r)}else if(pt(e))$n(s,e.bind(n));else if(Lt(e))if(nt(e))e.forEach(r=>pA(r,t,n,i));else{const r=pt(e.handler)?e.handler.bind(n):t[e.handler];pt(r)&&$n(s,r,e)}}function Hp(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,a=r.get(t);let l;return a?l=a:!s.length&&!n&&!i?l=t:(l={},s.length&&s.forEach(c=>Kc(l,c,o,!0)),Kc(l,t,o)),Lt(t)&&r.set(t,l),l}function Kc(e,t,n,i=!1){const{mixins:s,extends:r}=t;r&&Kc(e,r,n,!0),s&&s.forEach(o=>Kc(e,o,n,!0));for(const o in t)if(!(i&&o==="expose")){const a=RS[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const RS={data:c_,props:u_,emits:u_,methods:Po,computed:Po,beforeCreate:Ue,created:Ue,beforeMount:Ue,mounted:Ue,beforeUpdate:Ue,updated:Ue,beforeDestroy:Ue,beforeUnmount:Ue,destroyed:Ue,unmounted:Ue,activated:Ue,deactivated:Ue,errorCaptured:Ue,serverPrefetch:Ue,components:Po,directives:Po,watch:OS,provide:c_,inject:MS};function c_(e,t){return t?e?function(){return ye(pt(e)?e.call(this,this):e,pt(t)?t.call(this,this):t)}:t:e}function MS(e,t){return Po(td(e),td(t))}function td(e){if(nt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ue(e,t){return e?[...new Set([].concat(e,t))]:t}function Po(e,t){return e?ye(Object.create(null),e,t):t}function u_(e,t){return e?nt(e)&&nt(t)?[...new Set([...e,...t])]:ye(Object.create(null),a_(e),a_(t??{})):t}function OS(e,t){if(!e)return t;if(!t)return e;const n=ye(Object.create(null),e);for(const i in t)n[i]=Ue(e[i],t[i]);return n}function gA(){return{app:null,config:{isNativeTag:lx,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let DS=0;function NS(e,t){return function(i,s=null){pt(i)||(i=ye({},i)),s!=null&&!Lt(s)&&(s=null);const r=gA(),o=new Set;let a=!1;const l=r.app={_uid:DS++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:ck,get config(){return r.config},set config(c){},use(c,...u){return o.has(c)||(c&&pt(c.install)?(o.add(c),c.install(l,...u)):pt(c)&&(o.add(c),c(l,...u))),l},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),l},component(c,u){return u?(r.components[c]=u,l):r.components[c]},directive(c,u){return u?(r.directives[c]=u,l):r.directives[c]},mount(c,u,h){if(!a){const f=Mt(i,s);return f.appContext=r,u&&t?t(f,c):e(f,c,h),a=!0,l._container=c,c.__vue_app__=l,$u(f.component)||f.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(c,u){return r.provides[c]=u,l},runWithContext(c){ya=l;try{return c()}finally{ya=null}}};return l}}let ya=null;function Ac(e,t){if(me){let n=me.provides;const i=me.parent&&me.parent.provides;i===n&&(n=me.provides=Object.create(i)),n[e]=t}}function hn(e,t,n=!1){const i=me||en;if(i||ya){const s=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:ya._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&pt(t)?t.call(i&&i.proxy):t}}function LS(){return!!(me||en||ya)}function VS(e,t,n,i=!1){const s={},r={};jc(r,ju,1),e.propsDefaults=Object.create(null),mA(e,t,s,r);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=i?s:Q0(s):e.type.props?e.props=s:e.props=r,e.attrs=r}function FS(e,t,n,i){const{props:s,attrs:r,vnode:{patchFlag:o}}=e,a=At(s),[l]=e.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(Fu(e.emitsOptions,f))continue;const d=t[f];if(l)if(vt(r,f))d!==r[f]&&(r[f]=d,c=!0);else{const p=Yn(f);s[p]=ed(l,a,p,d,e,!1)}else d!==r[f]&&(r[f]=d,c=!0)}}}else{mA(e,t,s,r)&&(c=!0);let u;for(const h in a)(!t||!vt(t,h)&&((u=no(h))===h||!vt(t,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(s[h]=ed(l,a,h,void 0,e,!0)):delete s[h]);if(r!==a)for(const h in r)(!t||!vt(t,h))&&(delete r[h],c=!0)}c&&pi(e,"set","$attrs")}function mA(e,t,n,i){const[s,r]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(yc(l))continue;const c=t[l];let u;s&&vt(s,u=Yn(l))?!r||!r.includes(u)?n[u]=c:(a||(a={}))[u]=c:Fu(e.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(r){const l=At(n),c=a||Vt;for(let u=0;u<r.length;u++){const h=r[u];n[h]=ed(s,l,h,c[h],e,!vt(c,h))}}return o}function ed(e,t,n,i,s,r){const o=e[n];if(o!=null){const a=vt(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&pt(l)){const{propsDefaults:c}=s;n in c?i=c[n]:(Vr(s),i=c[n]=l.call(null,t),Rs())}else i=l}o[0]&&(r&&!a?i=!1:o[1]&&(i===""||i===no(n))&&(i=!0))}return i}function _A(e,t,n=!1){const i=t.propsCache,s=i.get(e);if(s)return s;const r=e.props,o={},a=[];let l=!1;if(!pt(e)){const u=h=>{l=!0;const[f,d]=_A(h,t,!0);ye(o,f),d&&a.push(...d)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!r&&!l)return Lt(e)&&i.set(e,wr),wr;if(nt(r))for(let u=0;u<r.length;u++){const h=Yn(r[u]);h_(h)&&(o[h]=Vt)}else if(r)for(const u in r){const h=Yn(u);if(h_(h)){const f=r[u],d=o[h]=nt(f)||pt(f)?{type:f}:ye({},f);if(d){const p=p_(Boolean,d.type),g=p_(String,d.type);d[0]=p>-1,d[1]=g<0||p<g,(p>-1||vt(d,"default"))&&a.push(h)}}}const c=[o,a];return Lt(e)&&i.set(e,c),c}function h_(e){return e[0]!=="$"}function f_(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function d_(e,t){return f_(e)===f_(t)}function p_(e,t){return nt(t)?t.findIndex(n=>d_(n,e)):pt(t)&&d_(t,e)?0:-1}const yA=e=>e[0]==="_"||e==="$stable",Wp=e=>nt(e)?e.map(Ln):[Ln(e)],BS=(e,t,n)=>{if(t._n)return t;const i=Fs((...s)=>Wp(t(...s)),n);return i._c=!1,i},vA=(e,t,n)=>{const i=e._ctx;for(const s in e){if(yA(s))continue;const r=e[s];if(pt(r))t[s]=BS(s,r,i);else if(r!=null){const o=Wp(r);t[s]=()=>o}}},bA=(e,t)=>{const n=Wp(t);e.slots.default=()=>n},US=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=At(t),jc(t,"_",n)):vA(t,e.slots={})}else e.slots={},t&&bA(e,t);jc(e.slots,ju,1)},zS=(e,t,n)=>{const{vnode:i,slots:s}=e;let r=!0,o=Vt;if(i.shapeFlag&32){const a=t._;a?n&&a===1?r=!1:(ye(s,t),!n&&a===1&&delete s._):(r=!t.$stable,vA(t,s)),o=t}else t&&(bA(e,t),o={default:1});if(r)for(const a in s)!yA(a)&&!(a in o)&&delete s[a]};function nd(e,t,n,i,s=!1){if(nt(e)){e.forEach((f,d)=>nd(f,t&&(nt(t)?t[d]:t),n,i,s));return}if(bc(i)&&!s)return;const r=i.shapeFlag&4?$u(i.component)||i.component.proxy:i.el,o=s?null:r,{i:a,r:l}=e,c=t&&t.r,u=a.refs===Vt?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==l&&(re(c)?(u[c]=null,vt(h,c)&&(h[c]=null)):se(c)&&(c.value=null)),pt(l))$i(l,a,12,[o,u]);else{const f=re(l),d=se(l);if(f||d){const p=()=>{if(e.f){const g=f?vt(h,l)?h[l]:u[l]:l.value;s?nt(g)&&xp(g,r):nt(g)?g.includes(r)||g.push(r):f?(u[l]=[r],vt(h,l)&&(h[l]=u[l])):(l.value=[r],e.k&&(u[e.k]=l.value))}else f?(u[l]=o,vt(h,l)&&(h[l]=o)):d&&(l.value=o,e.k&&(u[e.k]=o))};o?(p.id=-1,We(p,n)):p()}}}const We=pS;function jS(e){return $S(e)}function $S(e,t){const n=Kf();n.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:d=En,insertStaticContent:p}=e,g=(v,b,I,k=null,M=null,D=null,$=!1,V=null,B=!!b.dynamicChildren)=>{if(v===b)return;v&&!bo(v,b)&&(k=P(v),ie(v,M,D,!0),v=null),b.patchFlag===-2&&(B=!1,b.dynamicChildren=null);const{type:N,ref:tt,shapeFlag:G}=b;switch(N){case zu:m(v,b,I,k);break;case Bs:_(v,b,I,k);break;case Gh:v==null&&y(b,I,k,$);break;case Se:st(v,b,I,k,M,D,$,V,B);break;default:G&1?w(v,b,I,k,M,D,$,V,B):G&6?xt(v,b,I,k,M,D,$,V,B):(G&64||G&128)&&N.process(v,b,I,k,M,D,$,V,B,U)}tt!=null&&M&&nd(tt,v&&v.ref,D,b||v,!b)},m=(v,b,I,k)=>{if(v==null)i(b.el=a(b.children),I,k);else{const M=b.el=v.el;b.children!==v.children&&c(M,b.children)}},_=(v,b,I,k)=>{v==null?i(b.el=l(b.children||""),I,k):b.el=v.el},y=(v,b,I,k)=>{[v.el,v.anchor]=p(v.children,b,I,k,v.el,v.anchor)},E=({el:v,anchor:b},I,k)=>{let M;for(;v&&v!==b;)M=f(v),i(v,I,k),v=M;i(b,I,k)},A=({el:v,anchor:b})=>{let I;for(;v&&v!==b;)I=f(v),s(v),v=I;s(b)},w=(v,b,I,k,M,D,$,V,B)=>{$=$||b.type==="svg",v==null?T(b,I,k,M,D,$,V,B):R(v,b,M,D,$,V,B)},T=(v,b,I,k,M,D,$,V)=>{let B,N;const{type:tt,props:G,shapeFlag:et,transition:lt,dirs:gt}=v;if(B=v.el=o(v.type,D,G&&G.is,G),et&8?u(B,v.children):et&16&&x(v.children,B,null,k,M,D&&tt!=="foreignObject",$,V),gt&&us(v,null,k,"created"),S(B,v,v.scopeId,$,k),G){for(const Rt in G)Rt!=="value"&&!yc(Rt)&&r(B,Rt,null,G[Rt],D,v.children,k,M,Qt);"value"in G&&r(B,"value",null,G.value),(N=G.onVnodeBeforeMount)&&On(N,k,v)}gt&&us(v,null,k,"beforeMount");const Dt=(!M||M&&!M.pendingBranch)&&lt&&!lt.persisted;Dt&&lt.beforeEnter(B),i(B,b,I),((N=G&&G.onVnodeMounted)||Dt||gt)&&We(()=>{N&&On(N,k,v),Dt&&lt.enter(B),gt&&us(v,null,k,"mounted")},M)},S=(v,b,I,k,M)=>{if(I&&d(v,I),k)for(let D=0;D<k.length;D++)d(v,k[D]);if(M){let D=M.subTree;if(b===D){const $=M.vnode;S(v,$,$.scopeId,$.slotScopeIds,M.parent)}}},x=(v,b,I,k,M,D,$,V,B=0)=>{for(let N=B;N<v.length;N++){const tt=v[N]=V?Ri(v[N]):Ln(v[N]);g(null,tt,b,I,k,M,D,$,V)}},R=(v,b,I,k,M,D,$)=>{const V=b.el=v.el;let{patchFlag:B,dynamicChildren:N,dirs:tt}=b;B|=v.patchFlag&16;const G=v.props||Vt,et=b.props||Vt;let lt;I&&hs(I,!1),(lt=et.onVnodeBeforeUpdate)&&On(lt,I,b,v),tt&&us(b,v,I,"beforeUpdate"),I&&hs(I,!0);const gt=M&&b.type!=="foreignObject";if(N?j(v.dynamicChildren,N,V,I,k,gt,D):$||ut(v,b,V,null,I,k,gt,D,!1),B>0){if(B&16)K(V,b,G,et,I,k,M);else if(B&2&&G.class!==et.class&&r(V,"class",null,et.class,M),B&4&&r(V,"style",G.style,et.style,M),B&8){const Dt=b.dynamicProps;for(let Rt=0;Rt<Dt.length;Rt++){const oe=Dt[Rt],mn=G[oe],ur=et[oe];(ur!==mn||oe==="value")&&r(V,oe,mn,ur,M,v.children,I,k,Qt)}}B&1&&v.children!==b.children&&u(V,b.children)}else!$&&N==null&&K(V,b,G,et,I,k,M);((lt=et.onVnodeUpdated)||tt)&&We(()=>{lt&&On(lt,I,b,v),tt&&us(b,v,I,"updated")},k)},j=(v,b,I,k,M,D,$)=>{for(let V=0;V<b.length;V++){const B=v[V],N=b[V],tt=B.el&&(B.type===Se||!bo(B,N)||B.shapeFlag&70)?h(B.el):I;g(B,N,tt,null,k,M,D,$,!0)}},K=(v,b,I,k,M,D,$)=>{if(I!==k){if(I!==Vt)for(const V in I)!yc(V)&&!(V in k)&&r(v,V,I[V],null,$,b.children,M,D,Qt);for(const V in k){if(yc(V))continue;const B=k[V],N=I[V];B!==N&&V!=="value"&&r(v,V,N,B,$,b.children,M,D,Qt)}"value"in k&&r(v,"value",I.value,k.value)}},st=(v,b,I,k,M,D,$,V,B)=>{const N=b.el=v?v.el:a(""),tt=b.anchor=v?v.anchor:a("");let{patchFlag:G,dynamicChildren:et,slotScopeIds:lt}=b;lt&&(V=V?V.concat(lt):lt),v==null?(i(N,I,k),i(tt,I,k),x(b.children,I,tt,M,D,$,V,B)):G>0&&G&64&&et&&v.dynamicChildren?(j(v.dynamicChildren,et,I,M,D,$,V),(b.key!=null||M&&b===M.subTree)&&qp(v,b,!0)):ut(v,b,I,tt,M,D,$,V,B)},xt=(v,b,I,k,M,D,$,V,B)=>{b.slotScopeIds=V,v==null?b.shapeFlag&512?M.ctx.activate(b,I,k,$,B):ne(b,I,k,M,D,$,B):dt(v,b,B)},ne=(v,b,I,k,M,D,$)=>{const V=v.component=tk(v,k,M);if(cA(v)&&(V.ctx.renderer=U),ek(V),V.asyncDep){if(M&&M.registerDep(V,X),!v.el){const B=V.subTree=Mt(Bs);_(null,B,b,I)}return}X(V,v,b,I,M,D,$)},dt=(v,b,I)=>{const k=b.component=v.component;if(hS(v,b,I))if(k.asyncDep&&!k.asyncResolved){it(k,b,I);return}else k.next=b,rS(k.update),k.update();else b.el=v.el,k.vnode=b},X=(v,b,I,k,M,D,$)=>{const V=()=>{if(v.isMounted){let{next:tt,bu:G,u:et,parent:lt,vnode:gt}=v,Dt=tt,Rt;hs(v,!1),tt?(tt.el=gt.el,it(v,tt,$)):tt=gt,G&&vc(G),(Rt=tt.props&&tt.props.onVnodeBeforeUpdate)&&On(Rt,lt,tt,gt),hs(v,!0);const oe=qh(v),mn=v.subTree;v.subTree=oe,g(mn,oe,h(mn.el),P(mn),v,M,D),tt.el=oe.el,Dt===null&&fS(v,oe.el),et&&We(et,M),(Rt=tt.props&&tt.props.onVnodeUpdated)&&We(()=>On(Rt,lt,tt,gt),M)}else{let tt;const{el:G,props:et}=b,{bm:lt,m:gt,parent:Dt}=v,Rt=bc(b);if(hs(v,!1),lt&&vc(lt),!Rt&&(tt=et&&et.onVnodeBeforeMount)&&On(tt,Dt,b),hs(v,!0),G&&St){const oe=()=>{v.subTree=qh(v),St(G,v.subTree,v,M,null)};Rt?b.type.__asyncLoader().then(()=>!v.isUnmounted&&oe()):oe()}else{const oe=v.subTree=qh(v);g(null,oe,I,k,v,M,D),b.el=oe.el}if(gt&&We(gt,M),!Rt&&(tt=et&&et.onVnodeMounted)){const oe=b;We(()=>On(tt,Dt,oe),M)}(b.shapeFlag&256||Dt&&bc(Dt.vnode)&&Dt.vnode.shapeFlag&256)&&v.a&&We(v.a,M),v.isMounted=!0,b=I=k=null}},B=v.effect=new Rp(V,()=>Bp(N),v.scope),N=v.update=()=>B.run();N.id=v.uid,hs(v,!0),N()},it=(v,b,I)=>{b.component=v;const k=v.vnode.props;v.vnode=b,v.next=null,FS(v,b.props,k,I),zS(v,b.children,I),so(),s_(),ro()},ut=(v,b,I,k,M,D,$,V,B=!1)=>{const N=v&&v.children,tt=v?v.shapeFlag:0,G=b.children,{patchFlag:et,shapeFlag:lt}=b;if(et>0){if(et&128){Fe(N,G,I,k,M,D,$,V,B);return}else if(et&256){Ot(N,G,I,k,M,D,$,V,B);return}}lt&8?(tt&16&&Qt(N,M,D),G!==N&&u(I,G)):tt&16?lt&16?Fe(N,G,I,k,M,D,$,V,B):Qt(N,M,D,!0):(tt&8&&u(I,""),lt&16&&x(G,I,k,M,D,$,V,B))},Ot=(v,b,I,k,M,D,$,V,B)=>{v=v||wr,b=b||wr;const N=v.length,tt=b.length,G=Math.min(N,tt);let et;for(et=0;et<G;et++){const lt=b[et]=B?Ri(b[et]):Ln(b[et]);g(v[et],lt,I,null,M,D,$,V,B)}N>tt?Qt(v,M,D,!0,!1,G):x(b,I,k,M,D,$,V,B,G)},Fe=(v,b,I,k,M,D,$,V,B)=>{let N=0;const tt=b.length;let G=v.length-1,et=tt-1;for(;N<=G&&N<=et;){const lt=v[N],gt=b[N]=B?Ri(b[N]):Ln(b[N]);if(bo(lt,gt))g(lt,gt,I,null,M,D,$,V,B);else break;N++}for(;N<=G&&N<=et;){const lt=v[G],gt=b[et]=B?Ri(b[et]):Ln(b[et]);if(bo(lt,gt))g(lt,gt,I,null,M,D,$,V,B);else break;G--,et--}if(N>G){if(N<=et){const lt=et+1,gt=lt<tt?b[lt].el:k;for(;N<=et;)g(null,b[N]=B?Ri(b[N]):Ln(b[N]),I,gt,M,D,$,V,B),N++}}else if(N>et)for(;N<=G;)ie(v[N],M,D,!0),N++;else{const lt=N,gt=N,Dt=new Map;for(N=gt;N<=et;N++){const Ye=b[N]=B?Ri(b[N]):Ln(b[N]);Ye.key!=null&&Dt.set(Ye.key,N)}let Rt,oe=0;const mn=et-gt+1;let ur=!1,qm=0;const vo=new Array(mn);for(N=0;N<mn;N++)vo[N]=0;for(N=lt;N<=G;N++){const Ye=v[N];if(oe>=mn){ie(Ye,M,D,!0);continue}let Mn;if(Ye.key!=null)Mn=Dt.get(Ye.key);else for(Rt=gt;Rt<=et;Rt++)if(vo[Rt-gt]===0&&bo(Ye,b[Rt])){Mn=Rt;break}Mn===void 0?ie(Ye,M,D,!0):(vo[Mn-gt]=N+1,Mn>=qm?qm=Mn:ur=!0,g(Ye,b[Mn],I,null,M,D,$,V,B),oe++)}const Km=ur?HS(vo):wr;for(Rt=Km.length-1,N=mn-1;N>=0;N--){const Ye=gt+N,Mn=b[Ye],Gm=Ye+1<tt?b[Ye+1].el:k;vo[N]===0?g(null,Mn,I,Gm,M,D,$,V,B):ur&&(Rt<0||N!==Km[Rt]?Be(Mn,I,Gm,2):Rt--)}}},Be=(v,b,I,k,M=null)=>{const{el:D,type:$,transition:V,children:B,shapeFlag:N}=v;if(N&6){Be(v.component.subTree,b,I,k);return}if(N&128){v.suspense.move(b,I,k);return}if(N&64){$.move(v,b,I,U);return}if($===Se){i(D,b,I);for(let G=0;G<B.length;G++)Be(B[G],b,I,k);i(v.anchor,b,I);return}if($===Gh){E(v,b,I);return}if(k!==2&&N&1&&V)if(k===0)V.beforeEnter(D),i(D,b,I),We(()=>V.enter(D),M);else{const{leave:G,delayLeave:et,afterLeave:lt}=V,gt=()=>i(D,b,I),Dt=()=>{G(D,()=>{gt(),lt&&lt()})};et?et(D,gt,Dt):Dt()}else i(D,b,I)},ie=(v,b,I,k=!1,M=!1)=>{const{type:D,props:$,ref:V,children:B,dynamicChildren:N,shapeFlag:tt,patchFlag:G,dirs:et}=v;if(V!=null&&nd(V,null,I,v,!0),tt&256){b.ctx.deactivate(v);return}const lt=tt&1&&et,gt=!bc(v);let Dt;if(gt&&(Dt=$&&$.onVnodeBeforeUnmount)&&On(Dt,b,v),tt&6)Rn(v.component,I,k);else{if(tt&128){v.suspense.unmount(I,k);return}lt&&us(v,null,b,"beforeUnmount"),tt&64?v.type.remove(v,b,I,M,U,k):N&&(D!==Se||G>0&&G&64)?Qt(N,b,I,!1,!0):(D===Se&&G&384||!M&&tt&16)&&Qt(B,b,I),k&&an(v)}(gt&&(Dt=$&&$.onVnodeUnmounted)||lt)&&We(()=>{Dt&&On(Dt,b,v),lt&&us(v,null,b,"unmounted")},I)},an=v=>{const{type:b,el:I,anchor:k,transition:M}=v;if(b===Se){ln(I,k);return}if(b===Gh){A(v);return}const D=()=>{s(I),M&&!M.persisted&&M.afterLeave&&M.afterLeave()};if(v.shapeFlag&1&&M&&!M.persisted){const{leave:$,delayLeave:V}=M,B=()=>$(I,D);V?V(v.el,D,B):B()}else D()},ln=(v,b)=>{let I;for(;v!==b;)I=f(v),s(v),v=I;s(b)},Rn=(v,b,I)=>{const{bum:k,scope:M,update:D,subTree:$,um:V}=v;k&&vc(k),M.stop(),D&&(D.active=!1,ie($,v,b,I)),V&&We(V,b),We(()=>{v.isUnmounted=!0},b),b&&b.pendingBranch&&!b.isUnmounted&&v.asyncDep&&!v.asyncResolved&&v.suspenseId===b.pendingId&&(b.deps--,b.deps===0&&b.resolve())},Qt=(v,b,I,k=!1,M=!1,D=0)=>{for(let $=D;$<v.length;$++)ie(v[$],b,I,k,M)},P=v=>v.shapeFlag&6?P(v.component.subTree):v.shapeFlag&128?v.suspense.next():f(v.anchor||v.el),W=(v,b,I)=>{v==null?b._vnode&&ie(b._vnode,null,null,!0):g(b._vnode||null,v,b,null,null,null,I),s_(),sA(),b._vnode=v},U={p:g,um:ie,m:Be,r:an,mt:ne,mc:x,pc:ut,pbc:j,n:P,o:e};let J,St;return t&&([J,St]=t(U)),{render:W,hydrate:J,createApp:NS(W,J)}}function hs({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function qp(e,t,n=!1){const i=e.children,s=t.children;if(nt(i)&&nt(s))for(let r=0;r<i.length;r++){const o=i[r];let a=s[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[r]=Ri(s[r]),a.el=o.el),n||qp(o,a)),a.type===zu&&(a.el=o.el)}}function HS(e){const t=e.slice(),n=[0];let i,s,r,o,a;const l=e.length;for(i=0;i<l;i++){const c=e[i];if(c!==0){if(s=n[n.length-1],e[s]<c){t[i]=s,n.push(i);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,e[n[a]]<c?r=a+1:o=a;c<e[n[r]]&&(r>0&&(t[i]=n[r-1]),n[r]=i)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=t[o];return n}const WS=e=>e.__isTeleport,Go=e=>e&&(e.disabled||e.disabled===""),g_=e=>typeof SVGElement<"u"&&e instanceof SVGElement,id=(e,t)=>{const n=e&&e.to;return re(n)?t?t(n):null:n},qS={__isTeleport:!0,process(e,t,n,i,s,r,o,a,l,c){const{mc:u,pc:h,pbc:f,o:{insert:d,querySelector:p,createText:g,createComment:m}}=c,_=Go(t.props);let{shapeFlag:y,children:E,dynamicChildren:A}=t;if(e==null){const w=t.el=g(""),T=t.anchor=g("");d(w,n,i),d(T,n,i);const S=t.target=id(t.props,p),x=t.targetAnchor=g("");S&&(d(x,S),o=o||g_(S));const R=(j,K)=>{y&16&&u(E,j,K,s,r,o,a,l)};_?R(n,T):S&&R(S,x)}else{t.el=e.el;const w=t.anchor=e.anchor,T=t.target=e.target,S=t.targetAnchor=e.targetAnchor,x=Go(e.props),R=x?n:T,j=x?w:S;if(o=o||g_(T),A?(f(e.dynamicChildren,A,R,s,r,o,a),qp(e,t,!0)):l||h(e,t,R,j,s,r,o,a,!1),_)x||Vl(t,n,w,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const K=t.target=id(t.props,p);K&&Vl(t,K,null,c,0)}else x&&Vl(t,T,S,c,1)}AA(t)},remove(e,t,n,i,{um:s,o:{remove:r}},o){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:h,props:f}=e;if(h&&r(u),(o||!Go(f))&&(r(c),a&16))for(let d=0;d<l.length;d++){const p=l[d];s(p,t,n,!0,!!p.dynamicChildren)}},move:Vl,hydrate:KS};function Vl(e,t,n,{o:{insert:i},m:s},r=2){r===0&&i(e.targetAnchor,t,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=e,h=r===2;if(h&&i(o,t,n),(!h||Go(u))&&l&16)for(let f=0;f<c.length;f++)s(c[f],t,n,2);h&&i(a,t,n)}function KS(e,t,n,i,s,r,{o:{nextSibling:o,parentNode:a,querySelector:l}},c){const u=t.target=id(t.props,l);if(u){const h=u._lpa||u.firstChild;if(t.shapeFlag&16)if(Go(t.props))t.anchor=c(o(e),t,a(e),n,i,s,r),t.targetAnchor=h;else{t.anchor=o(e);let f=h;for(;f;)if(f=o(f),f&&f.nodeType===8&&f.data==="teleport anchor"){t.targetAnchor=f,u._lpa=t.targetAnchor&&o(t.targetAnchor);break}c(h,t,u,n,i,s,r)}AA(t)}return t.anchor&&o(t.anchor)}const m_=qS;function AA(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const Se=Symbol.for("v-fgt"),zu=Symbol.for("v-txt"),Bs=Symbol.for("v-cmt"),Gh=Symbol.for("v-stc"),Qo=[];let bn=null;function It(e=!1){Qo.push(bn=e?null:[])}function GS(){Qo.pop(),bn=Qo[Qo.length-1]||null}let va=1;function __(e){va+=e}function wA(e){return e.dynamicChildren=va>0?bn||wr:null,GS(),va>0&&bn&&bn.push(e),e}function Ft(e,t,n,i,s,r){return wA(C(e,t,n,i,s,r,!0))}function Tr(e,t,n,i,s){return wA(Mt(e,t,n,i,s,!0))}function sd(e){return e?e.__v_isVNode===!0:!1}function bo(e,t){return e.type===t.type&&e.key===t.key}const ju="__vInternal",EA=({key:e})=>e??null,wc=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?re(e)||se(e)||pt(e)?{i:en,r:e,k:t,f:!!n}:e:null);function C(e,t=null,n=null,i=0,s=null,r=e===Se?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&EA(t),ref:t&&wc(t),scopeId:Bu,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:en};return a?(Kp(l,n),r&128&&e.normalize(l)):n&&(l.shapeFlag|=re(n)?8:16),va>0&&!o&&bn&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&bn.push(l),l}const Mt=QS;function QS(e,t=null,n=null,i=0,s=null,r=!1){if((!e||e===fA)&&(e=Bs),sd(e)){const a=Nr(e,t,!0);return n&&Kp(a,n),va>0&&!r&&bn&&(a.shapeFlag&6?bn[bn.indexOf(e)]=a:bn.push(a)),a.patchFlag|=-2,a}if(ok(e)&&(e=e.__vccOpts),t){t=YS(t);let{class:a,style:l}=t;a&&!re(a)&&(t.class=Du(a)),Lt(l)&&(X0(l)&&!nt(l)&&(l=ye({},l)),t.style=io(l))}const o=re(e)?1:dS(e)?128:WS(e)?64:Lt(e)?4:pt(e)?2:0;return C(e,t,n,i,s,o,r,!0)}function YS(e){return e?X0(e)||ju in e?ye({},e):e:null}function Nr(e,t,n=!1){const{props:i,ref:s,patchFlag:r,children:o}=e,a=t?XS(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&EA(a),ref:t&&t.ref?n&&s?nt(s)?s.concat(wc(t)):[s,wc(t)]:wc(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Se?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Nr(e.ssContent),ssFallback:e.ssFallback&&Nr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function rd(e=" ",t=0){return Mt(zu,null,e,t)}function Lr(e="",t=!1){return t?(It(),Tr(Bs,null,e)):Mt(Bs,null,e)}function Ln(e){return e==null||typeof e=="boolean"?Mt(Bs):nt(e)?Mt(Se,null,e.slice()):typeof e=="object"?Ri(e):Mt(zu,null,String(e))}function Ri(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Nr(e)}function Kp(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(nt(t))n=16;else if(typeof t=="object")if(i&65){const s=t.default;s&&(s._c&&(s._d=!1),Kp(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(ju in t)?t._ctx=en:s===3&&en&&(en.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else pt(t)?(t={default:t,_ctx:en},n=32):(t=String(t),i&64?(n=16,t=[rd(t)]):n=8);e.children=t,e.shapeFlag|=n}function XS(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const s in i)if(s==="class")t.class!==i.class&&(t.class=Du([t.class,i.class]));else if(s==="style")t.style=io([t.style,i.style]);else if(Ru(s)){const r=t[s],o=i[s];o&&r!==o&&!(nt(r)&&r.includes(o))&&(t[s]=r?[].concat(r,o):o)}else s!==""&&(t[s]=i[s])}return t}function On(e,t,n,i=null){In(e,t,7,[n,i])}const JS=gA();let ZS=0;function tk(e,t,n){const i=e.type,s=(t?t.appContext:e.appContext)||JS,r={uid:ZS++,vnode:e,type:i,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new L0(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:_A(i,s),emitsOptions:oA(i,s),emit:null,emitted:null,propsDefaults:Vt,inheritAttrs:i.inheritAttrs,ctx:Vt,data:Vt,props:Vt,attrs:Vt,slots:Vt,refs:Vt,setupState:Vt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=lS.bind(null,r),e.ce&&e.ce(r),r}let me=null,Gp,hr,y_="__VUE_INSTANCE_SETTERS__";(hr=Kf()[y_])||(hr=Kf()[y_]=[]),hr.push(e=>me=e),Gp=e=>{hr.length>1?hr.forEach(t=>t(e)):hr[0](e)};const Vr=e=>{Gp(e),e.scope.on()},Rs=()=>{me&&me.scope.off(),Gp(null)};function IA(e){return e.vnode.shapeFlag&4}let ba=!1;function ek(e,t=!1){ba=t;const{props:n,children:i}=e.vnode,s=IA(e);VS(e,n,s,t),US(e,i);const r=s?nk(e,t):void 0;return ba=!1,r}function nk(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Lu(new Proxy(e.ctx,kS));const{setup:i}=n;if(i){const s=e.setupContext=i.length>1?sk(e):null;Vr(e),so();const r=$i(i,e,0,[e.props,s]);if(ro(),Rs(),R0(r)){if(r.then(Rs,Rs),t)return r.then(o=>{v_(e,o,t)}).catch(o=>{Vu(o,e,0)});e.asyncDep=r}else v_(e,r,t)}else TA(e,t)}function v_(e,t,n){pt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Lt(t)&&(e.setupState=eA(t)),TA(e,n)}let b_;function TA(e,t,n){const i=e.type;if(!e.render){if(!t&&b_&&!i.render){const s=i.template||Hp(e).template;if(s){const{isCustomElement:r,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=i,c=ye(ye({isCustomElement:r,delimiters:a},o),l);i.render=b_(s,c)}}e.render=i.render||En}Vr(e),so(),CS(e),ro(),Rs()}function ik(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Qe(e,"get","$attrs"),t[n]}}))}function sk(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return ik(e)},slots:e.slots,emit:e.emit,expose:t}}function $u(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(eA(Lu(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Ko)return Ko[n](e)},has(t,n){return n in t||n in Ko}}))}function rk(e,t=!0){return pt(e)?e.displayName||e.name:e.name||t&&e.__name}function ok(e){return pt(e)&&"__vccOpts"in e}const pe=(e,t)=>nS(e,t,ba);function Qp(e,t,n){const i=arguments.length;return i===2?Lt(t)&&!nt(t)?sd(t)?Mt(e,null,[t]):Mt(e,t):Mt(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&sd(n)&&(n=[n]),Mt(e,t,n))}const ak=Symbol.for("v-scx"),lk=()=>hn(ak),ck="3.3.4",uk="http://www.w3.org/2000/svg",bs=typeof document<"u"?document:null,A_=bs&&bs.createElement("template"),hk={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const s=t?bs.createElementNS(uk,e):bs.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:e=>bs.createTextNode(e),createComment:e=>bs.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>bs.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,s,r){const o=n?n.previousSibling:t.lastChild;if(s&&(s===r||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{A_.innerHTML=i?`<svg>${e}</svg>`:e;const a=A_.content;if(i){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function fk(e,t,n){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function dk(e,t,n){const i=e.style,s=re(n);if(n&&!s){if(t&&!re(t))for(const r in t)n[r]==null&&od(i,r,"");for(const r in n)od(i,r,n[r])}else{const r=i.display;s?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=r)}}const w_=/\s*!important$/;function od(e,t,n){if(nt(n))n.forEach(i=>od(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=pk(e,t);w_.test(n)?e.setProperty(no(i),n.replace(w_,""),"important"):e[i]=n}}const E_=["Webkit","Moz","ms"],Qh={};function pk(e,t){const n=Qh[t];if(n)return n;let i=Yn(t);if(i!=="filter"&&i in e)return Qh[t]=i;i=Ou(i);for(let s=0;s<E_.length;s++){const r=E_[s]+i;if(r in e)return Qh[t]=r}return t}const I_="http://www.w3.org/1999/xlink";function gk(e,t,n,i,s){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(I_,t.slice(6,t.length)):e.setAttributeNS(I_,t,n);else{const r=vx(t);n==null||r&&!D0(n)?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}function mk(e,t,n,i,s,r,o){if(t==="innerHTML"||t==="textContent"){i&&o(i,s,r),e[t]=n??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=n;const c=a==="OPTION"?e.getAttribute("value"):e.value,u=n??"";c!==u&&(e.value=u),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=D0(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function oi(e,t,n,i){e.addEventListener(t,n,i)}function _k(e,t,n,i){e.removeEventListener(t,n,i)}function yk(e,t,n,i,s=null){const r=e._vei||(e._vei={}),o=r[t];if(i&&o)o.value=i;else{const[a,l]=vk(t);if(i){const c=r[t]=wk(i,s);oi(e,a,c,l)}else o&&(_k(e,a,o,l),r[t]=void 0)}}const T_=/(?:Once|Passive|Capture)$/;function vk(e){let t;if(T_.test(e)){t={};let i;for(;i=e.match(T_);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):no(e.slice(2)),t]}let Yh=0;const bk=Promise.resolve(),Ak=()=>Yh||(bk.then(()=>Yh=0),Yh=Date.now());function wk(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;In(Ek(i,n.value),t,5,[i])};return n.value=e,n.attached=Ak(),n}function Ek(e,t){if(nt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>s=>!s._stopped&&i&&i(s))}else return t}const x_=/^on[a-z]/,Ik=(e,t,n,i,s=!1,r,o,a,l)=>{t==="class"?fk(e,i,s):t==="style"?dk(e,n,i):Ru(t)?Tp(t)||yk(e,t,n,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Tk(e,t,i,s))?mk(e,t,i,r,o,a,l):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),gk(e,t,i,s))};function Tk(e,t,n,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&x_.test(t)&&pt(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||x_.test(t)&&re(n)?!1:t in e}const Yi=e=>{const t=e.props["onUpdate:modelValue"]||!1;return nt(t)?n=>vc(t,n):t};function xk(e){e.target.composing=!0}function S_(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const yn={created(e,{modifiers:{lazy:t,trim:n,number:i}},s){e._assign=Yi(s);const r=i||s.props&&s.props.type==="number";oi(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),r&&(a=$c(a)),e._assign(a)}),n&&oi(e,"change",()=>{e.value=e.value.trim()}),t||(oi(e,"compositionstart",xk),oi(e,"compositionend",S_),oi(e,"change",S_))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:i,number:s}},r){if(e._assign=Yi(r),e.composing||document.activeElement===e&&e.type!=="range"&&(n||i&&e.value.trim()===t||(s||e.type==="number")&&$c(e.value)===t))return;const o=t??"";e.value!==o&&(e.value=o)}},Sk={deep:!0,created(e,t,n){e._assign=Yi(n),oi(e,"change",()=>{const i=e._modelValue,s=Fr(e),r=e.checked,o=e._assign;if(nt(i)){const a=kp(i,s),l=a!==-1;if(r&&!l)o(i.concat(s));else if(!r&&l){const c=[...i];c.splice(a,1),o(c)}}else if(eo(i)){const a=new Set(i);r?a.add(s):a.delete(s),o(a)}else o(SA(e,r))})},mounted:k_,beforeUpdate(e,t,n){e._assign=Yi(n),k_(e,t,n)}};function k_(e,{value:t,oldValue:n},i){e._modelValue=t,nt(t)?e.checked=kp(t,i.props.value)>-1:eo(t)?e.checked=t.has(i.props.value):t!==n&&(e.checked=Vs(t,SA(e,!0)))}const kk={created(e,{value:t},n){e.checked=Vs(t,n.props.value),e._assign=Yi(n),oi(e,"change",()=>{e._assign(Fr(e))})},beforeUpdate(e,{value:t,oldValue:n},i){e._assign=Yi(i),t!==n&&(e.checked=Vs(t,i.props.value))}},xA={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const s=eo(t);oi(e,"change",()=>{const r=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>n?$c(Fr(o)):Fr(o));e._assign(e.multiple?s?new Set(r):r:r[0])}),e._assign=Yi(i)},mounted(e,{value:t}){C_(e,t)},beforeUpdate(e,t,n){e._assign=Yi(n)},updated(e,{value:t}){C_(e,t)}};function C_(e,t){const n=e.multiple;if(!(n&&!nt(t)&&!eo(t))){for(let i=0,s=e.options.length;i<s;i++){const r=e.options[i],o=Fr(r);if(n)nt(t)?r.selected=kp(t,o)>-1:r.selected=t.has(o);else if(Vs(Fr(r),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Fr(e){return"_value"in e?e._value:e.value}function SA(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const ad={created(e,t,n){Fl(e,t,n,null,"created")},mounted(e,t,n){Fl(e,t,n,null,"mounted")},beforeUpdate(e,t,n,i){Fl(e,t,n,i,"beforeUpdate")},updated(e,t,n,i){Fl(e,t,n,i,"updated")}};function Ck(e,t){switch(e){case"SELECT":return xA;case"TEXTAREA":return yn;default:switch(t){case"checkbox":return Sk;case"radio":return kk;default:return yn}}}function Fl(e,t,n,i,s){const o=Ck(e.tagName,n.props&&n.props.type)[s];o&&o(e,t,n,i)}const Pk=ye({patchProp:Ik},hk);let P_;function Rk(){return P_||(P_=jS(Pk))}const Mk=(...e)=>{const t=Rk().createApp(...e),{mount:n}=t;return t.mount=i=>{const s=Ok(i);if(!s)return;const r=t._component;!pt(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function Ok(e){return re(e)?document.querySelector(e):e}var Dk=!1;/*!
  * pinia v2.1.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let kA;const Hu=e=>kA=e,CA=Symbol();function ld(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Yo;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Yo||(Yo={}));function Nk(){const e=V0(!0),t=e.run(()=>Et({}));let n=[],i=[];const s=Lu({install(r){Hu(s),s._a=r,r.provide(CA,s),r.config.globalProperties.$pinia=s,i.forEach(o=>n.push(o)),i=[]},use(r){return!this._a&&!Dk?i.push(r):n.push(r),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}const PA=()=>{};function R_(e,t,n,i=PA){e.push(t);const s=()=>{const r=e.indexOf(t);r>-1&&(e.splice(r,1),i())};return!n&&Cp()&&F0(s),s}function fr(e,...t){e.slice().forEach(n=>{n(...t)})}const Lk=e=>e();function cd(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,i)=>e.set(i,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n],s=e[n];ld(s)&&ld(i)&&e.hasOwnProperty(n)&&!se(i)&&!ji(i)?e[n]=cd(s,i):e[n]=i}return e}const Vk=Symbol();function Fk(e){return!ld(e)||!e.hasOwnProperty(Vk)}const{assign:Pi}=Object;function Bk(e){return!!(se(e)&&e.effect)}function Uk(e,t,n,i){const{state:s,actions:r,getters:o}=t,a=n.state.value[e];let l;function c(){a||(n.state.value[e]=s?s():{});const u=Jx(n.state.value[e]);return Pi(u,r,Object.keys(o||{}).reduce((h,f)=>(h[f]=Lu(pe(()=>{Hu(n);const d=n._s.get(e);return o[f].call(d,d)})),h),{}))}return l=RA(e,c,t,n,i,!0),l}function RA(e,t,n={},i,s,r){let o;const a=Pi({actions:{}},n),l={deep:!0};let c,u,h=[],f=[],d;const p=i.state.value[e];!r&&!p&&(i.state.value[e]={}),Et({});let g;function m(x){let R;c=u=!1,typeof x=="function"?(x(i.state.value[e]),R={type:Yo.patchFunction,storeId:e,events:d}):(cd(i.state.value[e],x),R={type:Yo.patchObject,payload:x,storeId:e,events:d});const j=g=Symbol();Fp().then(()=>{g===j&&(c=!0)}),u=!0,fr(h,R,i.state.value[e])}const _=r?function(){const{state:R}=n,j=R?R():{};this.$patch(K=>{Pi(K,j)})}:PA;function y(){o.stop(),h=[],f=[],i._s.delete(e)}function E(x,R){return function(){Hu(i);const j=Array.from(arguments),K=[],st=[];function xt(X){K.push(X)}function ne(X){st.push(X)}fr(f,{args:j,name:x,store:w,after:xt,onError:ne});let dt;try{dt=R.apply(this&&this.$id===e?this:w,j)}catch(X){throw fr(st,X),X}return dt instanceof Promise?dt.then(X=>(fr(K,X),X)).catch(X=>(fr(st,X),Promise.reject(X))):(fr(K,dt),dt)}}const A={_p:i,$id:e,$onAction:R_.bind(null,f),$patch:m,$reset:_,$subscribe(x,R={}){const j=R_(h,x,R.detached,()=>K()),K=o.run(()=>$n(()=>i.state.value[e],st=>{(R.flush==="sync"?u:c)&&x({storeId:e,type:Yo.direct,events:d},st)},Pi({},l,R)));return j},$dispose:y},w=tl(A);i._s.set(e,w);const T=i._a&&i._a.runWithContext||Lk,S=i._e.run(()=>(o=V0(),T(()=>o.run(t))));for(const x in S){const R=S[x];if(se(R)&&!Bk(R)||ji(R))r||(p&&Fk(R)&&(se(R)?R.value=p[x]:cd(R,p[x])),i.state.value[e][x]=R);else if(typeof R=="function"){const j=E(x,R);S[x]=j,a.actions[x]=R}}return Pi(w,S),Pi(At(w),S),Object.defineProperty(w,"$state",{get:()=>i.state.value[e],set:x=>{m(R=>{Pi(R,x)})}}),i._p.forEach(x=>{Pi(w,o.run(()=>x({store:w,app:i._a,pinia:i,options:a})))}),p&&r&&n.hydrate&&n.hydrate(w.$state,p),c=!0,u=!0,w}function zk(e,t,n){let i,s;const r=typeof t=="function";typeof e=="string"?(i=e,s=r?n:t):(s=e,i=e.id);function o(a,l){const c=LS();return a=a||(c?hn(CA,null):null),a&&Hu(a),a=kA,a._s.has(i)||(r?RA(i,t,s,a):Uk(i,s,a)),a._s.get(i)}return o.$id=i,o}/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const mr=typeof window<"u";function jk(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const kt=Object.assign;function Xh(e,t){const n={};for(const i in t){const s=t[i];n[i]=xn(s)?s.map(e):e(s)}return n}const Xo=()=>{},xn=Array.isArray,$k=/\/$/,Hk=e=>e.replace($k,"");function Jh(e,t,n="/"){let i,s={},r="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=t.slice(0,l),r=t.slice(l+1,a>-1?a:t.length),s=e(r)),a>-1&&(i=i||t.slice(0,a),o=t.slice(a,t.length)),i=Gk(i??t,n),{fullPath:i+(r&&"?")+r+o,path:i,query:s,hash:o}}function Wk(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function M_(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function qk(e,t,n){const i=t.matched.length-1,s=n.matched.length-1;return i>-1&&i===s&&Br(t.matched[i],n.matched[s])&&MA(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Br(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function MA(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Kk(e[n],t[n]))return!1;return!0}function Kk(e,t){return xn(e)?O_(e,t):xn(t)?O_(t,e):e===t}function O_(e,t){return xn(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function Gk(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let r=n.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+i.slice(o-(o===i.length?1:0)).join("/")}var Aa;(function(e){e.pop="pop",e.push="push"})(Aa||(Aa={}));var Jo;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Jo||(Jo={}));function Qk(e){if(!e)if(mr){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Hk(e)}const Yk=/^[^#]+#/;function Xk(e,t){return e.replace(Yk,"#")+t}function Jk(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const Wu=()=>({left:window.pageXOffset,top:window.pageYOffset});function Zk(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=Jk(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function D_(e,t){return(history.state?history.state.position-t:-1)+e}const ud=new Map;function tC(e,t){ud.set(e,t)}function eC(e){const t=ud.get(e);return ud.delete(e),t}let nC=()=>location.protocol+"//"+location.host;function OA(e,t){const{pathname:n,search:i,hash:s}=t,r=e.indexOf("#");if(r>-1){let a=s.includes(e.slice(r))?e.slice(r).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),M_(l,"")}return M_(n,e)+i+s}function iC(e,t,n,i){let s=[],r=[],o=null;const a=({state:f})=>{const d=OA(e,location),p=n.value,g=t.value;let m=0;if(f){if(n.value=d,t.value=f,o&&o===p){o=null;return}m=g?f.position-g.position:0}else i(d);s.forEach(_=>{_(n.value,p,{delta:m,type:Aa.pop,direction:m?m>0?Jo.forward:Jo.back:Jo.unknown})})};function l(){o=n.value}function c(f){s.push(f);const d=()=>{const p=s.indexOf(f);p>-1&&s.splice(p,1)};return r.push(d),d}function u(){const{history:f}=window;f.state&&f.replaceState(kt({},f.state,{scroll:Wu()}),"")}function h(){for(const f of r)f();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function N_(e,t,n,i=!1,s=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:s?Wu():null}}function sC(e){const{history:t,location:n}=window,i={value:OA(e,n)},s={value:t.state};s.value||r(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const h=e.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+l:nC()+e+l;try{t[u?"replaceState":"pushState"](c,"",f),s.value=c}catch(d){console.error(d),n[u?"replace":"assign"](f)}}function o(l,c){const u=kt({},t.state,N_(s.value.back,l,s.value.forward,!0),c,{position:s.value.position});r(l,u,!0),i.value=l}function a(l,c){const u=kt({},s.value,t.state,{forward:l,scroll:Wu()});r(u.current,u,!0);const h=kt({},N_(i.value,l,null),{position:u.position+1},c);r(l,h,!1),i.value=l}return{location:i,state:s,push:a,replace:o}}function rC(e){e=Qk(e);const t=sC(e),n=iC(e,t.state,t.location,t.replace);function i(r,o=!0){o||n.pauseListeners(),history.go(r)}const s=kt({location:"",base:e,go:i,createHref:Xk.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function oC(e){return typeof e=="string"||e&&typeof e=="object"}function DA(e){return typeof e=="string"||typeof e=="symbol"}const Si={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NA=Symbol("");var L_;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(L_||(L_={}));function Ur(e,t){return kt(new Error,{type:e,[NA]:!0},t)}function Zn(e,t){return e instanceof Error&&NA in e&&(t==null||!!(e.type&t))}const V_="[^/]+?",aC={sensitive:!1,strict:!1,start:!0,end:!0},lC=/[.+*?^${}()[\]/\\]/g;function cC(e,t){const n=kt({},aC,t),i=[];let s=n.start?"^":"";const r=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let h=0;h<c.length;h++){const f=c[h];let d=40+(n.sensitive?.25:0);if(f.type===0)h||(s+="/"),s+=f.value.replace(lC,"\\$&"),d+=40;else if(f.type===1){const{value:p,repeatable:g,optional:m,regexp:_}=f;r.push({name:p,repeatable:g,optional:m});const y=_||V_;if(y!==V_){d+=10;try{new RegExp(`(${y})`)}catch(A){throw new Error(`Invalid custom RegExp for param "${p}" (${y}): `+A.message)}}let E=g?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;h||(E=m&&c.length<2?`(?:/${E})`:"/"+E),m&&(E+="?"),s+=E,d+=20,m&&(d+=-8),g&&(d+=-20),y===".*"&&(d+=-50)}u.push(d)}i.push(u)}if(n.strict&&n.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const d=u[f]||"",p=r[f-1];h[p.name]=d&&p.repeatable?d.split("/"):d}return h}function l(c){let u="",h=!1;for(const f of e){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const d of f)if(d.type===0)u+=d.value;else if(d.type===1){const{value:p,repeatable:g,optional:m}=d,_=p in c?c[p]:"";if(xn(_)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const y=xn(_)?_.join("/"):_;if(!y)if(m)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${p}"`);u+=y}}return u||"/"}return{re:o,score:i,keys:r,parse:a,stringify:l}}function uC(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function hC(e,t){let n=0;const i=e.score,s=t.score;for(;n<i.length&&n<s.length;){const r=uC(i[n],s[n]);if(r)return r;n++}if(Math.abs(s.length-i.length)===1){if(F_(i))return 1;if(F_(s))return-1}return s.length-i.length}function F_(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const fC={type:0,value:""},dC=/[a-zA-Z0-9_]/;function pC(e){if(!e)return[[]];if(e==="/")return[[fC]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(d){throw new Error(`ERR (${n})/"${c}": ${d}`)}let n=0,i=n;const s=[];let r;function o(){r&&s.push(r),r=[]}let a=0,l,c="",u="";function h(){c&&(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),n=1):f();break;case 4:f(),n=i;break;case 1:l==="("?n=2:dC.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),h(),o(),s}function gC(e,t,n){const i=cC(pC(e.path),n),s=kt(i,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function mC(e,t){const n=[],i=new Map;t=z_({strict:!1,end:!0,sensitive:!1},t);function s(u){return i.get(u)}function r(u,h,f){const d=!f,p=_C(u);p.aliasOf=f&&f.record;const g=z_(t,u),m=[p];if("alias"in u){const E=typeof u.alias=="string"?[u.alias]:u.alias;for(const A of E)m.push(kt({},p,{components:f?f.record.components:p.components,path:A,aliasOf:f?f.record:p}))}let _,y;for(const E of m){const{path:A}=E;if(h&&A[0]!=="/"){const w=h.record.path,T=w[w.length-1]==="/"?"":"/";E.path=h.record.path+(A&&T+A)}if(_=gC(E,h,g),f?f.alias.push(_):(y=y||_,y!==_&&y.alias.push(_),d&&u.name&&!U_(_)&&o(u.name)),p.children){const w=p.children;for(let T=0;T<w.length;T++)r(w[T],_,f&&f.children[T])}f=f||_,(_.record.components&&Object.keys(_.record.components).length||_.record.name||_.record.redirect)&&l(_)}return y?()=>{o(y)}:Xo}function o(u){if(DA(u)){const h=i.get(u);h&&(i.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&i.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let h=0;for(;h<n.length&&hC(u,n[h])>=0&&(u.record.path!==n[h].record.path||!LA(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!U_(u)&&i.set(u.record.name,u)}function c(u,h){let f,d={},p,g;if("name"in u&&u.name){if(f=i.get(u.name),!f)throw Ur(1,{location:u});g=f.record.name,d=kt(B_(h.params,f.keys.filter(y=>!y.optional).map(y=>y.name)),u.params&&B_(u.params,f.keys.map(y=>y.name))),p=f.stringify(d)}else if("path"in u)p=u.path,f=n.find(y=>y.re.test(p)),f&&(d=f.parse(p),g=f.record.name);else{if(f=h.name?i.get(h.name):n.find(y=>y.re.test(h.path)),!f)throw Ur(1,{location:u,currentLocation:h});g=f.record.name,d=kt({},h.params,u.params),p=f.stringify(d)}const m=[];let _=f;for(;_;)m.unshift(_.record),_=_.parent;return{name:g,path:p,params:d,matched:m,meta:vC(m)}}return e.forEach(u=>r(u)),{addRoute:r,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function B_(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function _C(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:yC(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function yC(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="object"?n[i]:n;return t}function U_(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function vC(e){return e.reduce((t,n)=>kt(t,n.meta),{})}function z_(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function LA(e,t){return t.children.some(n=>n===e||LA(e,n))}const VA=/#/g,bC=/&/g,AC=/\//g,wC=/=/g,EC=/\?/g,FA=/\+/g,IC=/%5B/g,TC=/%5D/g,BA=/%5E/g,xC=/%60/g,UA=/%7B/g,SC=/%7C/g,zA=/%7D/g,kC=/%20/g;function Yp(e){return encodeURI(""+e).replace(SC,"|").replace(IC,"[").replace(TC,"]")}function CC(e){return Yp(e).replace(UA,"{").replace(zA,"}").replace(BA,"^")}function hd(e){return Yp(e).replace(FA,"%2B").replace(kC,"+").replace(VA,"%23").replace(bC,"%26").replace(xC,"`").replace(UA,"{").replace(zA,"}").replace(BA,"^")}function PC(e){return hd(e).replace(wC,"%3D")}function RC(e){return Yp(e).replace(VA,"%23").replace(EC,"%3F")}function MC(e){return e==null?"":RC(e).replace(AC,"%2F")}function Gc(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function OC(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<i.length;++s){const r=i[s].replace(FA," "),o=r.indexOf("="),a=Gc(o<0?r:r.slice(0,o)),l=o<0?null:Gc(r.slice(o+1));if(a in t){let c=t[a];xn(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function j_(e){let t="";for(let n in e){const i=e[n];if(n=PC(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(xn(i)?i.map(r=>r&&hd(r)):[i&&hd(i)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+n,r!=null&&(t+="="+r))})}return t}function DC(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=xn(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return t}const NC=Symbol(""),$_=Symbol(""),qu=Symbol(""),Xp=Symbol(""),fd=Symbol("");function Ao(){let e=[];function t(i){return e.push(i),()=>{const s=e.indexOf(i);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Mi(e,t,n,i,s){const r=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((o,a)=>{const l=h=>{h===!1?a(Ur(4,{from:n,to:t})):h instanceof Error?a(h):oC(h)?a(Ur(2,{from:t,to:h})):(r&&i.enterCallbacks[s]===r&&typeof h=="function"&&r.push(h),o())},c=e.call(i&&i.instances[s],t,n,l);let u=Promise.resolve(c);e.length<3&&(u=u.then(l)),u.catch(h=>a(h))})}function Zh(e,t,n,i){const s=[];for(const r of e)for(const o in r.components){let a=r.components[o];if(!(t!=="beforeRouteEnter"&&!r.instances[o]))if(LC(a)){const c=(a.__vccOpts||a)[t];c&&s.push(Mi(c,n,i,r,o))}else{let l=a();s.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${r.path}"`));const u=jk(c)?c.default:c;r.components[o]=u;const f=(u.__vccOpts||u)[t];return f&&Mi(f,n,i,r,o)()}))}}return s}function LC(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function H_(e){const t=hn(qu),n=hn(Xp),i=pe(()=>t.resolve(qt(e.to))),s=pe(()=>{const{matched:l}=i.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex(Br.bind(null,u));if(f>-1)return f;const d=W_(l[c-2]);return c>1&&W_(u)===d&&h[h.length-1].path!==d?h.findIndex(Br.bind(null,l[c-2])):f}),r=pe(()=>s.value>-1&&BC(n.params,i.value.params)),o=pe(()=>s.value>-1&&s.value===n.matched.length-1&&MA(n.params,i.value.params));function a(l={}){return FC(l)?t[qt(e.replace)?"replace":"push"](qt(e.to)).catch(Xo):Promise.resolve()}return{route:i,href:pe(()=>i.value.href),isActive:r,isExactActive:o,navigate:a}}const VC=Up({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:H_,setup(e,{slots:t}){const n=tl(H_(e)),{options:i}=hn(qu),s=pe(()=>({[q_(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[q_(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=t.default&&t.default(n);return e.custom?r:Qp("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},r)}}}),zr=VC;function FC(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function BC(e,t){for(const n in t){const i=t[n],s=e[n];if(typeof i=="string"){if(i!==s)return!1}else if(!xn(s)||s.length!==i.length||i.some((r,o)=>r!==s[o]))return!1}return!0}function W_(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const q_=(e,t,n)=>e??t??n,UC=Up({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=hn(fd),s=pe(()=>e.route||i.value),r=hn($_,0),o=pe(()=>{let c=qt(r);const{matched:u}=s.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=pe(()=>s.value.matched[o.value]);Ac($_,pe(()=>o.value+1)),Ac(NC,a),Ac(fd,s);const l=Et();return $n(()=>[l.value,a.value,e.name],([c,u,h],[f,d,p])=>{u&&(u.instances[h]=c,d&&d!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=d.leaveGuards),u.updateGuards.size||(u.updateGuards=d.updateGuards))),c&&u&&(!d||!Br(u,d)||!f)&&(u.enterCallbacks[h]||[]).forEach(g=>g(c))},{flush:"post"}),()=>{const c=s.value,u=e.name,h=a.value,f=h&&h.components[u];if(!f)return K_(n.default,{Component:f,route:c});const d=h.props[u],p=d?d===!0?c.params:typeof d=="function"?d(c):d:null,m=Qp(f,kt({},p,t,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return K_(n.default,{Component:m,route:c})||m}}});function K_(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const jA=UC;function zC(e){const t=mC(e.routes,e),n=e.parseQuery||OC,i=e.stringifyQuery||j_,s=e.history,r=Ao(),o=Ao(),a=Ao(),l=Qx(Si);let c=Si;mr&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Xh.bind(null,P=>""+P),h=Xh.bind(null,MC),f=Xh.bind(null,Gc);function d(P,W){let U,J;return DA(P)?(U=t.getRecordMatcher(P),J=W):J=P,t.addRoute(J,U)}function p(P){const W=t.getRecordMatcher(P);W&&t.removeRoute(W)}function g(){return t.getRoutes().map(P=>P.record)}function m(P){return!!t.getRecordMatcher(P)}function _(P,W){if(W=kt({},W||l.value),typeof P=="string"){const I=Jh(n,P,W.path),k=t.resolve({path:I.path},W),M=s.createHref(I.fullPath);return kt(I,k,{params:f(k.params),hash:Gc(I.hash),redirectedFrom:void 0,href:M})}let U;if("path"in P)U=kt({},P,{path:Jh(n,P.path,W.path).path});else{const I=kt({},P.params);for(const k in I)I[k]==null&&delete I[k];U=kt({},P,{params:h(I)}),W.params=h(W.params)}const J=t.resolve(U,W),St=P.hash||"";J.params=u(f(J.params));const v=Wk(i,kt({},P,{hash:CC(St),path:J.path})),b=s.createHref(v);return kt({fullPath:v,hash:St,query:i===j_?DC(P.query):P.query||{}},J,{redirectedFrom:void 0,href:b})}function y(P){return typeof P=="string"?Jh(n,P,l.value.path):kt({},P)}function E(P,W){if(c!==P)return Ur(8,{from:W,to:P})}function A(P){return S(P)}function w(P){return A(kt(y(P),{replace:!0}))}function T(P){const W=P.matched[P.matched.length-1];if(W&&W.redirect){const{redirect:U}=W;let J=typeof U=="function"?U(P):U;return typeof J=="string"&&(J=J.includes("?")||J.includes("#")?J=y(J):{path:J},J.params={}),kt({query:P.query,hash:P.hash,params:"path"in J?{}:P.params},J)}}function S(P,W){const U=c=_(P),J=l.value,St=P.state,v=P.force,b=P.replace===!0,I=T(U);if(I)return S(kt(y(I),{state:typeof I=="object"?kt({},St,I.state):St,force:v,replace:b}),W||U);const k=U;k.redirectedFrom=W;let M;return!v&&qk(i,J,U)&&(M=Ur(16,{to:k,from:J}),Be(J,J,!0,!1)),(M?Promise.resolve(M):j(k,J)).catch(D=>Zn(D)?Zn(D,2)?D:Fe(D):ut(D,k,J)).then(D=>{if(D){if(Zn(D,2))return S(kt({replace:b},y(D.to),{state:typeof D.to=="object"?kt({},St,D.to.state):St,force:v}),W||k)}else D=st(k,J,!0,b,St);return K(k,J,D),D})}function x(P,W){const U=E(P,W);return U?Promise.reject(U):Promise.resolve()}function R(P){const W=ln.values().next().value;return W&&typeof W.runWithContext=="function"?W.runWithContext(P):P()}function j(P,W){let U;const[J,St,v]=jC(P,W);U=Zh(J.reverse(),"beforeRouteLeave",P,W);for(const I of J)I.leaveGuards.forEach(k=>{U.push(Mi(k,P,W))});const b=x.bind(null,P,W);return U.push(b),Qt(U).then(()=>{U=[];for(const I of r.list())U.push(Mi(I,P,W));return U.push(b),Qt(U)}).then(()=>{U=Zh(St,"beforeRouteUpdate",P,W);for(const I of St)I.updateGuards.forEach(k=>{U.push(Mi(k,P,W))});return U.push(b),Qt(U)}).then(()=>{U=[];for(const I of v)if(I.beforeEnter)if(xn(I.beforeEnter))for(const k of I.beforeEnter)U.push(Mi(k,P,W));else U.push(Mi(I.beforeEnter,P,W));return U.push(b),Qt(U)}).then(()=>(P.matched.forEach(I=>I.enterCallbacks={}),U=Zh(v,"beforeRouteEnter",P,W),U.push(b),Qt(U))).then(()=>{U=[];for(const I of o.list())U.push(Mi(I,P,W));return U.push(b),Qt(U)}).catch(I=>Zn(I,8)?I:Promise.reject(I))}function K(P,W,U){a.list().forEach(J=>R(()=>J(P,W,U)))}function st(P,W,U,J,St){const v=E(P,W);if(v)return v;const b=W===Si,I=mr?history.state:{};U&&(J||b?s.replace(P.fullPath,kt({scroll:b&&I&&I.scroll},St)):s.push(P.fullPath,St)),l.value=P,Be(P,W,U,b),Fe()}let xt;function ne(){xt||(xt=s.listen((P,W,U)=>{if(!Rn.listening)return;const J=_(P),St=T(J);if(St){S(kt(St,{replace:!0}),J).catch(Xo);return}c=J;const v=l.value;mr&&tC(D_(v.fullPath,U.delta),Wu()),j(J,v).catch(b=>Zn(b,12)?b:Zn(b,2)?(S(b.to,J).then(I=>{Zn(I,20)&&!U.delta&&U.type===Aa.pop&&s.go(-1,!1)}).catch(Xo),Promise.reject()):(U.delta&&s.go(-U.delta,!1),ut(b,J,v))).then(b=>{b=b||st(J,v,!1),b&&(U.delta&&!Zn(b,8)?s.go(-U.delta,!1):U.type===Aa.pop&&Zn(b,20)&&s.go(-1,!1)),K(J,v,b)}).catch(Xo)}))}let dt=Ao(),X=Ao(),it;function ut(P,W,U){Fe(P);const J=X.list();return J.length?J.forEach(St=>St(P,W,U)):console.error(P),Promise.reject(P)}function Ot(){return it&&l.value!==Si?Promise.resolve():new Promise((P,W)=>{dt.add([P,W])})}function Fe(P){return it||(it=!P,ne(),dt.list().forEach(([W,U])=>P?U(P):W()),dt.reset()),P}function Be(P,W,U,J){const{scrollBehavior:St}=e;if(!mr||!St)return Promise.resolve();const v=!U&&eC(D_(P.fullPath,0))||(J||!U)&&history.state&&history.state.scroll||null;return Fp().then(()=>St(P,W,v)).then(b=>b&&Zk(b)).catch(b=>ut(b,P,W))}const ie=P=>s.go(P);let an;const ln=new Set,Rn={currentRoute:l,listening:!0,addRoute:d,removeRoute:p,hasRoute:m,getRoutes:g,resolve:_,options:e,push:A,replace:w,go:ie,back:()=>ie(-1),forward:()=>ie(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:X.add,isReady:Ot,install(P){const W=this;P.component("RouterLink",zr),P.component("RouterView",jA),P.config.globalProperties.$router=W,Object.defineProperty(P.config.globalProperties,"$route",{enumerable:!0,get:()=>qt(l)}),mr&&!an&&l.value===Si&&(an=!0,A(s.location).catch(St=>{}));const U={};for(const St in Si)Object.defineProperty(U,St,{get:()=>l.value[St],enumerable:!0});P.provide(qu,W),P.provide(Xp,Q0(U)),P.provide(fd,l);const J=P.unmount;ln.add(P),P.unmount=function(){ln.delete(P),ln.size<1&&(c=Si,xt&&xt(),xt=null,l.value=Si,an=!1,it=!1),J()}}};function Qt(P){return P.reduce((W,U)=>W.then(()=>R(U)),Promise.resolve())}return Rn}function jC(e,t){const n=[],i=[],s=[],r=Math.max(t.matched.length,e.matched.length);for(let o=0;o<r;o++){const a=t.matched[o];a&&(e.matched.find(c=>Br(c,a))?i.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(c=>Br(c,l))||s.push(l))}return[n,i,s]}function Ku(){return hn(qu)}function $A(){return hn(Xp)}const nr=zk("user",()=>{const e=Et(""),t=Et("#ff8800"),n=()=>{console.log({username:e.value})};return $n(t,i=>{}),{username:e,color:t,showUser:n}});const gn=(e,t)=>{const n=e.__vccOpts||e;for(const[i,s]of t)n[i]=s;return n},$C={class:"menu"},HC=["title"],WC={__name:"Menu",setup(e){const t=$A(),n=nr(),i=[{path:"/workouts",name:"home",icon:"dumbbell"},{path:"/stats",name:"stats",icon:"chart-simple"},{path:"/user",name:"user",icon:"user"}];return(s,r)=>{const o=$p("font-awesome-icon");return It(),Ft("nav",$C,[(It(),Ft(Se,null,qo(i,a=>Mt(qt(zr),{class:"icon",to:a.path},{default:Fs(()=>[C("abbr",{class:"center",title:a.name},[Mt(o,{icon:a.icon,style:io({color:qt(t).path==a.path?qt(n).color:"#aeaeae"}),alt:"elm.name"},null,8,["icon","style"])],8,HC)]),_:2},1032,["to"])),64))])}}},qC=gn(WC,[["__scopeId","data-v-9cb2f071"]]),HA="/Flex/assets/flex_white-961ad9e8.png";const KC=e=>(tr("data-v-e50adecf"),e=e(),er(),e),GC=KC(()=>C("img",{src:HA,alt:"FLEX",class:"w-10"},null,-1)),QC=[GC],YC={__name:"Header",props:{title:"title",color:"color"},setup(e){const t=nr();return console.log(t.color),(n,i)=>(It(),Ft("div",{class:"header center",style:io({borderColor:qt(t).color})},QC,4))}},XC=gn(YC,[["__scopeId","data-v-e50adecf"]]);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},JC=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=e[n++];t[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=e[n++],o=e[n++],a=e[n++],l=((s&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(l&1023))}else{const r=e[n++],o=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|o&63)}}return t.join("")},qA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const r=e[s],o=s+1<e.length,a=o?e[s+1]:0,l=s+2<e.length,c=l?e[s+2]:0,u=r>>2,h=(r&3)<<4|a>>4;let f=(a&15)<<2|c>>6,d=c&63;l||(d=64,o||(f=64)),i.push(n[u],n[h],n[f],n[d])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(WA(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):JC(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const r=n[e.charAt(s++)],a=s<e.length?n[e.charAt(s)]:0;++s;const c=s<e.length?n[e.charAt(s)]:64;++s;const h=s<e.length?n[e.charAt(s)]:64;if(++s,r==null||a==null||c==null||h==null)throw new ZC;const f=r<<2|a>>4;if(i.push(f),c!==64){const d=a<<4&240|c>>2;if(i.push(d),h!==64){const p=c<<6&192|h;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ZC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tP=function(e){const t=WA(e);return qA.encodeByteArray(t,!0)},Qc=function(e){return tP(e).replace(/\./g,"")},KA=function(e){try{return qA.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP=()=>eP().__FIREBASE_DEFAULTS__,iP=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},sP=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&KA(e[1]);return t&&JSON.parse(t)},Jp=()=>{try{return nP()||iP()||sP()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},GA=e=>{var t,n;return(n=(t=Jp())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},rP=e=>{const t=GA(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},QA=()=>{var e;return(e=Jp())===null||e===void 0?void 0:e.config},YA=e=>{var t;return(t=Jp())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aP(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",s=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[Qc(JSON.stringify(n)),Qc(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function XA(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function cP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function uP(){const e=Ne();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function JA(){try{return typeof indexedDB=="object"}catch{return!1}}function ZA(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;t(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){t(n)}})}function hP(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP="FirebaseError";class Pn extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=fP,Object.setPrototypeOf(this,Pn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ir.prototype.create)}}class ir{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,r=this.errors[t],o=r?dP(r,i):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Pn(s,a,i)}}function dP(e,t){return e.replace(pP,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const pP=/\{\$([^}]+)}/g;function gP(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function wa(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const r=e[s],o=t[s];if(G_(r)&&G_(o)){if(!wa(r,o))return!1}else if(r!==o)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function G_(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Ro(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");t[decodeURIComponent(s)]=decodeURIComponent(r)}}),t}function Mo(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function mP(e,t){const n=new _P(e,t);return n.subscribe.bind(n)}class _P{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");yP(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=tf),s.error===void 0&&(s.error=tf),s.complete===void 0&&(s.complete=tf);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yP(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function tf(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=1e3,bP=2,AP=4*60*60*1e3,wP=.5;function Q_(e,t=vP,n=bP){const i=t*Math.pow(n,e),s=Math.round(wP*i*(Math.random()-.5)*2);return Math.min(AP,i+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(e){return e&&e._delegate?e._delegate:e}class Sn{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new oP;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(TP(t))try{this.getOrInitializeService({instanceIdentifier:ms})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(t=ms){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ms){return this.instances.has(t)}getOptions(t=ms){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);i===a&&o.resolve(s)}return s}onInit(t,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(t),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&t(o,s),()=>{r.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:IP(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=ms){return this.component?this.component.multipleInstances?t:ms:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IP(e){return e===ms?void 0:e}function TP(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new EP(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(wt||(wt={}));const SP={debug:wt.DEBUG,verbose:wt.VERBOSE,info:wt.INFO,warn:wt.WARN,error:wt.ERROR,silent:wt.SILENT},kP=wt.INFO,CP={[wt.DEBUG]:"log",[wt.VERBOSE]:"log",[wt.INFO]:"info",[wt.WARN]:"warn",[wt.ERROR]:"error"},PP=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=CP[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Gu{constructor(t){this.name=t,this._logLevel=kP,this._logHandler=PP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in wt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?SP[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,wt.DEBUG,...t),this._logHandler(this,wt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,wt.VERBOSE,...t),this._logHandler(this,wt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,wt.INFO,...t),this._logHandler(this,wt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,wt.WARN,...t),this._logHandler(this,wt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,wt.ERROR,...t),this._logHandler(this,wt.ERROR,...t)}}const RP=(e,t)=>t.some(n=>e instanceof n);let Y_,X_;function MP(){return Y_||(Y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OP(){return X_||(X_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tw=new WeakMap,dd=new WeakMap,ew=new WeakMap,ef=new WeakMap,Zp=new WeakMap;function DP(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",r),e.removeEventListener("error",o)},r=()=>{n(Hi(e.result)),s()},o=()=>{i(e.error),s()};e.addEventListener("success",r),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&tw.set(n,e)}).catch(()=>{}),Zp.set(t,e),t}function NP(e){if(dd.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",o),e.removeEventListener("abort",o)},r=()=>{n(),s()},o=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",r),e.addEventListener("error",o),e.addEventListener("abort",o)});dd.set(e,t)}let pd={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return dd.get(e);if(t==="objectStoreNames")return e.objectStoreNames||ew.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function LP(e){pd=e(pd)}function VP(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(nf(this),t,...n);return ew.set(i,t.sort?t.sort():[t]),Hi(i)}:OP().includes(e)?function(...t){return e.apply(nf(this),t),Hi(tw.get(this))}:function(...t){return Hi(e.apply(nf(this),t))}}function FP(e){return typeof e=="function"?VP(e):(e instanceof IDBTransaction&&NP(e),RP(e,MP())?new Proxy(e,pd):e)}function Hi(e){if(e instanceof IDBRequest)return DP(e);if(ef.has(e))return ef.get(e);const t=FP(e);return t!==e&&(ef.set(e,t),Zp.set(t,e)),t}const nf=e=>Zp.get(e);function BP(e,t,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(e,t),a=Hi(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Hi(o.result),l.oldVersion,l.newVersion,Hi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const UP=["get","getKey","getAll","getAllKeys","count"],zP=["put","add","delete","clear"],sf=new Map;function J_(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(sf.get(t))return sf.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=zP.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||UP.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return sf.set(t,r),r}LP(e=>({...e,get:(t,n,i)=>J_(t,n)||e.get(t,n,i),has:(t,n)=>!!J_(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($P(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function $P(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const gd="@firebase/app",Z_="0.9.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new Gu("@firebase/app"),HP="@firebase/app-compat",WP="@firebase/analytics-compat",qP="@firebase/analytics",KP="@firebase/app-check-compat",GP="@firebase/app-check",QP="@firebase/auth",YP="@firebase/auth-compat",XP="@firebase/database",JP="@firebase/database-compat",ZP="@firebase/functions",tR="@firebase/functions-compat",eR="@firebase/installations",nR="@firebase/installations-compat",iR="@firebase/messaging",sR="@firebase/messaging-compat",rR="@firebase/performance",oR="@firebase/performance-compat",aR="@firebase/remote-config",lR="@firebase/remote-config-compat",cR="@firebase/storage",uR="@firebase/storage-compat",hR="@firebase/firestore",fR="@firebase/firestore-compat",dR="firebase",pR="10.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md="[DEFAULT]",gR={[gd]:"fire-core",[HP]:"fire-core-compat",[qP]:"fire-analytics",[WP]:"fire-analytics-compat",[GP]:"fire-app-check",[KP]:"fire-app-check-compat",[QP]:"fire-auth",[YP]:"fire-auth-compat",[XP]:"fire-rtdb",[JP]:"fire-rtdb-compat",[ZP]:"fire-fn",[tR]:"fire-fn-compat",[eR]:"fire-iid",[nR]:"fire-iid-compat",[iR]:"fire-fcm",[sR]:"fire-fcm-compat",[rR]:"fire-perf",[oR]:"fire-perf-compat",[aR]:"fire-rc",[lR]:"fire-rc-compat",[cR]:"fire-gcs",[uR]:"fire-gcs-compat",[hR]:"fire-fst",[fR]:"fire-fst-compat","fire-js":"fire-js",[dR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc=new Map,_d=new Map;function mR(e,t){try{e.container.addComponent(t)}catch(n){Us.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Xn(e){const t=e.name;if(_d.has(t))return Us.debug(`There were multiple attempts to register component ${t}.`),!1;_d.set(t,e);for(const n of Yc.values())mR(n,e);return!0}function sr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Wi=new ir("app","Firebase",_R);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Sn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=pR;function nw(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:md,automaticDataCollectionEnabled:!1},t),s=i.name;if(typeof s!="string"||!s)throw Wi.create("bad-app-name",{appName:String(s)});if(n||(n=QA()),!n)throw Wi.create("no-options");const r=Yc.get(s);if(r){if(wa(n,r.options)&&wa(i,r.config))return r;throw Wi.create("duplicate-app",{appName:s})}const o=new xP(s);for(const l of _d.values())o.addComponent(l);const a=new yR(n,i,o);return Yc.set(s,a),a}function tg(e=md){const t=Yc.get(e);if(!t&&e===md&&QA())return nw();if(!t)throw Wi.create("no-app",{appName:e});return t}function fn(e,t,n){var i;let s=(i=gR[e])!==null&&i!==void 0?i:e;n&&(s+=`-${n}`);const r=s.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const a=[`Unable to register library "${s}" with version "${t}":`];r&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Us.warn(a.join(" "));return}Xn(new Sn(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR="firebase-heartbeat-database",bR=1,Ea="firebase-heartbeat-store";let rf=null;function iw(){return rf||(rf=BP(vR,bR,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Ea)}}}).catch(e=>{throw Wi.create("idb-open",{originalErrorMessage:e.message})})),rf}async function AR(e){try{return await(await iw()).transaction(Ea).objectStore(Ea).get(sw(e))}catch(t){if(t instanceof Pn)Us.warn(t.message);else{const n=Wi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Us.warn(n.message)}}}async function ty(e,t){try{const i=(await iw()).transaction(Ea,"readwrite");await i.objectStore(Ea).put(t,sw(e)),await i.done}catch(n){if(n instanceof Pn)Us.warn(n.message);else{const i=Wi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Us.warn(i.message)}}}function sw(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=1024,ER=30*24*60*60*1e3;class IR{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xR(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ey();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const r=new Date(s.date).valueOf();return Date.now()-r<=ER}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ey(),{heartbeatsToSend:n,unsentEntries:i}=TR(this._heartbeatsCache.heartbeats),s=Qc(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function ey(){return new Date().toISOString().substring(0,10)}function TR(e,t=wR){const n=[];let i=e.slice();for(const s of e){const r=n.find(o=>o.agent===s.agent);if(r){if(r.dates.push(s.date),ny(n)>t){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ny(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class xR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JA()?ZA().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await AR(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ty(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ty(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function ny(e){return Qc(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(e){Xn(new Sn("platform-logger",t=>new jP(t),"PRIVATE")),Xn(new Sn("heartbeat",t=>new IR(t),"PRIVATE")),fn(gd,Z_,e),fn(gd,Z_,"esm2017"),fn("fire-js","")}SR("");var kR="firebase",CR="10.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn(kR,CR,"app");const PR=(e,t)=>t.some(n=>e instanceof n);let iy,sy;function RR(){return iy||(iy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MR(){return sy||(sy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rw=new WeakMap,yd=new WeakMap,ow=new WeakMap,of=new WeakMap,eg=new WeakMap;function OR(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",r),e.removeEventListener("error",o)},r=()=>{n(qi(e.result)),s()},o=()=>{i(e.error),s()};e.addEventListener("success",r),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&rw.set(n,e)}).catch(()=>{}),eg.set(t,e),t}function DR(e){if(yd.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",o),e.removeEventListener("abort",o)},r=()=>{n(),s()},o=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",r),e.addEventListener("error",o),e.addEventListener("abort",o)});yd.set(e,t)}let vd={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return yd.get(e);if(t==="objectStoreNames")return e.objectStoreNames||ow.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function NR(e){vd=e(vd)}function LR(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(af(this),t,...n);return ow.set(i,t.sort?t.sort():[t]),qi(i)}:MR().includes(e)?function(...t){return e.apply(af(this),t),qi(rw.get(this))}:function(...t){return qi(e.apply(af(this),t))}}function VR(e){return typeof e=="function"?LR(e):(e instanceof IDBTransaction&&DR(e),PR(e,RR())?new Proxy(e,vd):e)}function qi(e){if(e instanceof IDBRequest)return OR(e);if(of.has(e))return of.get(e);const t=VR(e);return t!==e&&(of.set(e,t),eg.set(t,e)),t}const af=e=>eg.get(e);function FR(e,t,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(e,t),a=qi(o);return i&&o.addEventListener("upgradeneeded",l=>{i(qi(o.result),l.oldVersion,l.newVersion,qi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",()=>s())}).catch(()=>{}),a}const BR=["get","getKey","getAll","getAllKeys","count"],UR=["put","add","delete","clear"],lf=new Map;function ry(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(lf.get(t))return lf.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=UR.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||BR.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return lf.set(t,r),r}NR(e=>({...e,get:(t,n,i)=>ry(t,n)||e.get(t,n,i),has:(t,n)=>!!ry(t,n)||e.has(t,n)}));const aw="@firebase/installations",ng="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=1e4,cw=`w:${ng}`,uw="FIS_v2",zR="https://firebaseinstallations.googleapis.com/v1",jR=60*60*1e3,$R="installations",HR="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},zs=new ir($R,HR,WR);function hw(e){return e instanceof Pn&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw({projectId:e}){return`${zR}/projects/${e}/installations`}function dw(e){return{token:e.token,requestStatus:2,expiresIn:KR(e.expiresIn),creationTime:Date.now()}}async function pw(e,t){const i=(await t.json()).error;return zs.create("request-failed",{requestName:e,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function gw({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function qR(e,{refreshToken:t}){const n=gw(e);return n.append("Authorization",GR(t)),n}async function mw(e){const t=await e();return t.status>=500&&t.status<600?e():t}function KR(e){return Number(e.replace("s","000"))}function GR(e){return`${uw} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const i=fw(e),s=gw(e),r=t.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:uw,appId:e.appId,sdkVersion:cw},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await mw(()=>fetch(i,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:dw(c.authToken)}}else throw await pw("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=/^[cdef][\w-]{21}$/,bd="";function JR(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=ZR(e);return XR.test(n)?n:bd}catch{return bd}}function ZR(e){return YR(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=new Map;function vw(e,t){const n=Qu(e);bw(n,t),tM(n,t)}function bw(e,t){const n=yw.get(e);if(n)for(const i of n)i(t)}function tM(e,t){const n=eM();n&&n.postMessage({key:e,fid:t}),nM()}let ws=null;function eM(){return!ws&&"BroadcastChannel"in self&&(ws=new BroadcastChannel("[Firebase] FID Change"),ws.onmessage=e=>{bw(e.data.key,e.data.fid)}),ws}function nM(){yw.size===0&&ws&&(ws.close(),ws=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM="firebase-installations-database",sM=1,js="firebase-installations-store";let cf=null;function ig(){return cf||(cf=FR(iM,sM,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(js)}}})),cf}async function Xc(e,t){const n=Qu(e),s=(await ig()).transaction(js,"readwrite"),r=s.objectStore(js),o=await r.get(n);return await r.put(t,n),await s.done,(!o||o.fid!==t.fid)&&vw(e,t.fid),t}async function Aw(e){const t=Qu(e),i=(await ig()).transaction(js,"readwrite");await i.objectStore(js).delete(t),await i.done}async function Yu(e,t){const n=Qu(e),s=(await ig()).transaction(js,"readwrite"),r=s.objectStore(js),o=await r.get(n),a=t(o);return a===void 0?await r.delete(n):await r.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&vw(e,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sg(e){let t;const n=await Yu(e.appConfig,i=>{const s=rM(i),r=oM(e,s);return t=r.registrationPromise,r.installationEntry});return n.fid===bd?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function rM(e){const t=e||{fid:JR(),registrationStatus:0};return ww(t)}function oM(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(zs.create("app-offline"));return{installationEntry:t,registrationPromise:s}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=aM(e,n);return{installationEntry:n,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:lM(e)}:{installationEntry:t}}async function aM(e,t){try{const n=await QR(e,t);return Xc(e.appConfig,n)}catch(n){throw hw(n)&&n.customData.serverCode===409?await Aw(e.appConfig):await Xc(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function lM(e){let t=await oy(e.appConfig);for(;t.registrationStatus===1;)await _w(100),t=await oy(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await sg(e);return i||n}return t}function oy(e){return Yu(e,t=>{if(!t)throw zs.create("installation-not-found");return ww(t)})}function ww(e){return cM(e)?{fid:e.fid,registrationStatus:0}:e}function cM(e){return e.registrationStatus===1&&e.registrationTime+lw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uM({appConfig:e,heartbeatServiceProvider:t},n){const i=hM(e,n),s=qR(e,n),r=t.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:cw,appId:e.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await mw(()=>fetch(i,a));if(l.ok){const c=await l.json();return dw(c)}else throw await pw("Generate Auth Token",l)}function hM(e,{fid:t}){return`${fw(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rg(e,t=!1){let n;const i=await Yu(e.appConfig,r=>{if(!Ew(r))throw zs.create("not-registered");const o=r.authToken;if(!t&&pM(o))return r;if(o.requestStatus===1)return n=fM(e,t),r;{if(!navigator.onLine)throw zs.create("app-offline");const a=mM(r);return n=dM(e,a),a}});return n?await n:i.authToken}async function fM(e,t){let n=await ay(e.appConfig);for(;n.authToken.requestStatus===1;)await _w(100),n=await ay(e.appConfig);const i=n.authToken;return i.requestStatus===0?rg(e,t):i}function ay(e){return Yu(e,t=>{if(!Ew(t))throw zs.create("not-registered");const n=t.authToken;return _M(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function dM(e,t){try{const n=await uM(e,t),i=Object.assign(Object.assign({},t),{authToken:n});return await Xc(e.appConfig,i),n}catch(n){if(hw(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Aw(e.appConfig);else{const i=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Xc(e.appConfig,i)}throw n}}function Ew(e){return e!==void 0&&e.registrationStatus===2}function pM(e){return e.requestStatus===2&&!gM(e)}function gM(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+jR}function mM(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function _M(e){return e.requestStatus===1&&e.requestTime+lw<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yM(e){const t=e,{installationEntry:n,registrationPromise:i}=await sg(t);return i?i.catch(console.error):rg(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vM(e,t=!1){const n=e;return await bM(n),(await rg(n,t)).token}async function bM(e){const{registrationPromise:t}=await sg(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(e){if(!e||!e.options)throw uf("App Configuration");if(!e.name)throw uf("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw uf(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function uf(e){return zs.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iw="installations",wM="installations-internal",EM=e=>{const t=e.getProvider("app").getImmediate(),n=AM(t),i=sr(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},IM=e=>{const t=e.getProvider("app").getImmediate(),n=sr(t,Iw).getImmediate();return{getId:()=>yM(n),getToken:s=>vM(n,s)}};function TM(){Xn(new Sn(Iw,EM,"PUBLIC")),Xn(new Sn(wM,IM,"PRIVATE"))}TM();fn(aw,ng);fn(aw,ng,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc="analytics",xM="firebase_id",SM="origin",kM=60*1e3,CM="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",og="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge=new Gu("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},sn=new ir("analytics","Analytics",PM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(e){if(!e.startsWith(og)){const t=sn.create("invalid-gtag-resource",{gtagURL:e});return Ge.warn(t.message),""}return e}function Tw(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function MM(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function OM(e,t){const n=MM("firebase-js-sdk-policy",{createScriptURL:RM}),i=document.createElement("script"),s=`${og}?l=${e}&id=${t}`;i.src=n?n==null?void 0:n.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function DM(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function NM(e,t,n,i,s,r){const o=i[s];try{if(o)await t[o];else{const l=(await Tw(n)).find(c=>c.measurementId===s);l&&await t[l.appId]}}catch(a){Ge.error(a)}e("config",s,r)}async function LM(e,t,n,i,s){try{let r=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await Tw(n);for(const l of o){const c=a.find(h=>h.measurementId===l),u=c&&t[c.appId];if(u)r.push(u);else{r=[];break}}}r.length===0&&(r=Object.values(t)),await Promise.all(r),e("event",i,s||{})}catch(r){Ge.error(r)}}function VM(e,t,n,i){async function s(r,...o){try{if(r==="event"){const[a,l]=o;await LM(e,t,n,a,l)}else if(r==="config"){const[a,l]=o;await NM(e,t,n,i,a,l)}else if(r==="consent"){const[a]=o;e("consent","update",a)}else if(r==="get"){const[a,l,c]=o;e("get",a,l,c)}else if(r==="set"){const[a]=o;e("set",a)}else e(r,...o)}catch(a){Ge.error(a)}}return s}function FM(e,t,n,i,s){let r=function(...o){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(r=window[s]),window[s]=VM(r,e,t,n),{gtagCore:r,wrappedGtag:window[s]}}function BM(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(og)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM=30,zM=1e3;class jM{constructor(t={},n=zM){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const xw=new jM;function $M(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function HM(e){var t;const{appId:n,apiKey:i}=e,s={method:"GET",headers:$M(i)},r=CM.replace("{app-id}",n),o=await fetch(r,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((t=l.error)===null||t===void 0)&&t.message&&(a=l.error.message)}catch{}throw sn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function WM(e,t=xw,n){const{appId:i,apiKey:s,measurementId:r}=e.options;if(!i)throw sn.create("no-app-id");if(!s){if(r)return{measurementId:r,appId:i};throw sn.create("no-api-key")}const o=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new GM;return setTimeout(async()=>{a.abort()},n!==void 0?n:kM),Sw({appId:i,apiKey:s,measurementId:r},o,a,t)}async function Sw(e,{throttleEndTimeMillis:t,backoffCount:n},i,s=xw){var r;const{appId:o,measurementId:a}=e;try{await qM(i,t)}catch(l){if(a)return Ge.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await HM(e);return s.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!KM(c)){if(s.deleteThrottleMetadata(o),a)return Ge.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const u=Number((r=c==null?void 0:c.customData)===null||r===void 0?void 0:r.httpStatus)===503?Q_(n,s.intervalMillis,UM):Q_(n,s.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return s.setThrottleMetadata(o,h),Ge.debug(`Calling attemptFetch again in ${u} millis`),Sw(e,h,i,s)}}function qM(e,t){return new Promise((n,i)=>{const s=Math.max(t-Date.now(),0),r=setTimeout(n,s);e.addEventListener(()=>{clearTimeout(r),i(sn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function KM(e){if(!(e instanceof Pn)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class GM{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function QM(e,t,n,i,s){if(s&&s.global){e("event",n,i);return}else{const r=await t,o=Object.assign(Object.assign({},i),{send_to:r});e("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YM(){if(JA())try{await ZA()}catch(e){return Ge.warn(sn.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Ge.warn(sn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function XM(e,t,n,i,s,r,o){var a;const l=WM(e);l.then(d=>{n[d.measurementId]=d.appId,e.options.measurementId&&d.measurementId!==e.options.measurementId&&Ge.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${d.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(d=>Ge.error(d)),t.push(l);const c=YM().then(d=>{if(d)return i.getId()}),[u,h]=await Promise.all([l,c]);BM(r)||OM(r,u.measurementId),s("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[SM]="firebase",f.update=!0,h!=null&&(f[xM]=h),s("config",u.measurementId,f),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(t){this.app=t}_delete(){return delete Zo[this.app.options.appId],Promise.resolve()}}let Zo={},ly=[];const cy={};let hf="dataLayer",ZM="gtag",uy,kw,hy=!1;function t2(){const e=[];if(XA()&&e.push("This is a browser extension environment."),hP()||e.push("Cookies are not available."),e.length>0){const t=e.map((i,s)=>`(${s+1}) ${i}`).join(" "),n=sn.create("invalid-analytics-context",{errorInfo:t});Ge.warn(n.message)}}function e2(e,t,n){t2();const i=e.options.appId;if(!i)throw sn.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Ge.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw sn.create("no-api-key");if(Zo[i]!=null)throw sn.create("already-exists",{id:i});if(!hy){DM(hf);const{wrappedGtag:r,gtagCore:o}=FM(Zo,ly,cy,hf,ZM);kw=r,uy=o,hy=!0}return Zo[i]=XM(e,ly,cy,t,uy,hf,n),new JM(e)}function n2(e=tg()){e=te(e);const t=sr(e,Jc);return t.isInitialized()?t.getImmediate():i2(e)}function i2(e,t={}){const n=sr(e,Jc);if(n.isInitialized()){const s=n.getImmediate();if(wa(t,n.getOptions()))return s;throw sn.create("already-initialized")}return n.initialize({options:t})}function s2(e,t,n,i){e=te(e),QM(kw,Zo[e.app.options.appId],t,n,i).catch(s=>Ge.error(s))}const fy="@firebase/analytics",dy="0.10.0";function r2(){Xn(new Sn(Jc,(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("installations-internal").getImmediate();return e2(i,s,n)},"PUBLIC")),Xn(new Sn("analytics-internal",e,"PRIVATE")),fn(fy,dy),fn(fy,dy,"esm2017");function e(t){try{const n=t.getProvider(Jc).getImmediate();return{logEvent:(i,s,r)=>s2(n,i,s,r)}}catch(n){throw sn.create("interop-component-reg-failed",{reason:n})}}}r2();var o2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},z,ag=ag||{},at=o2||self;function Xu(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function nl(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function a2(e){return Object.prototype.hasOwnProperty.call(e,ff)&&e[ff]||(e[ff]=++l2)}var ff="closure_uid_"+(1e9*Math.random()>>>0),l2=0;function c2(e,t,n){return e.call.apply(e.bind,arguments)}function u2(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,i),e.apply(t,s)}}return function(){return e.apply(t,arguments)}}function Me(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Me=c2:Me=u2,Me.apply(null,arguments)}function Bl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function be(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(i,s,r){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[s].apply(i,o)}}function rs(){this.s=this.s,this.o=this.o}var h2=0;rs.prototype.s=!1;rs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),h2!=0)&&a2(this)};rs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Cw=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function lg(e){const t=e.length;if(0<t){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function py(e,t){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(Xu(i)){const s=e.length||0,r=i.length||0;e.length=s+r;for(let o=0;o<r;o++)e[s+o]=i[o]}else e.push(i)}}function Oe(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Oe.prototype.h=function(){this.defaultPrevented=!0};var f2=function(){if(!at.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{at.addEventListener("test",()=>{},t),at.removeEventListener("test",()=>{},t)}catch{}return e}();function Ia(e){return/^[\s\xa0]*$/.test(e)}function Ju(){var e=at.navigator;return e&&(e=e.userAgent)?e:""}function Fn(e){return Ju().indexOf(e)!=-1}function cg(e){return cg[" "](e),e}cg[" "]=function(){};function d2(e,t){var n=rO;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var p2=Fn("Opera"),jr=Fn("Trident")||Fn("MSIE"),Pw=Fn("Edge"),Ad=Pw||jr,Rw=Fn("Gecko")&&!(Ju().toLowerCase().indexOf("webkit")!=-1&&!Fn("Edge"))&&!(Fn("Trident")||Fn("MSIE"))&&!Fn("Edge"),g2=Ju().toLowerCase().indexOf("webkit")!=-1&&!Fn("Edge");function Mw(){var e=at.document;return e?e.documentMode:void 0}var wd;t:{var df="",pf=function(){var e=Ju();if(Rw)return/rv:([^\);]+)(\)|;)/.exec(e);if(Pw)return/Edge\/([\d\.]+)/.exec(e);if(jr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(g2)return/WebKit\/(\S+)/.exec(e);if(p2)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(pf&&(df=pf?pf[1]:""),jr){var gf=Mw();if(gf!=null&&gf>parseFloat(df)){wd=String(gf);break t}}wd=df}var Ed;if(at.document&&jr){var gy=Mw();Ed=gy||parseInt(wd,10)||void 0}else Ed=void 0;var m2=Ed;function Ta(e,t){if(Oe.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Rw){t:{try{cg(t.nodeName);var s=!0;break t}catch{}s=!1}s||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:_2[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ta.$.h.call(this)}}be(Ta,Oe);var _2={2:"touch",3:"pen",4:"mouse"};Ta.prototype.h=function(){Ta.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var il="closure_listenable_"+(1e6*Math.random()|0),y2=0;function v2(e,t,n,i,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.la=s,this.key=++y2,this.fa=this.ia=!1}function Zu(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function ug(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function b2(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function Ow(e){const t={};for(const n in e)t[n]=e[n];return t}const my="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Dw(e,t){let n,i;for(let s=1;s<arguments.length;s++){i=arguments[s];for(n in i)e[n]=i[n];for(let r=0;r<my.length;r++)n=my[r],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function th(e){this.src=e,this.g={},this.h=0}th.prototype.add=function(e,t,n,i,s){var r=e.toString();e=this.g[r],e||(e=this.g[r]=[],this.h++);var o=Td(e,t,i,s);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new v2(t,this.src,r,!!i,s),t.ia=n,e.push(t)),t};function Id(e,t){var n=t.type;if(n in e.g){var i=e.g[n],s=Cw(i,t),r;(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Zu(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Td(e,t,n,i){for(var s=0;s<e.length;++s){var r=e[s];if(!r.fa&&r.listener==t&&r.capture==!!n&&r.la==i)return s}return-1}var hg="closure_lm_"+(1e6*Math.random()|0),mf={};function Nw(e,t,n,i,s){if(i&&i.once)return Vw(e,t,n,i,s);if(Array.isArray(t)){for(var r=0;r<t.length;r++)Nw(e,t[r],n,i,s);return null}return n=pg(n),e&&e[il]?e.O(t,n,nl(i)?!!i.capture:!!i,s):Lw(e,t,n,!1,i,s)}function Lw(e,t,n,i,s,r){if(!t)throw Error("Invalid event type");var o=nl(s)?!!s.capture:!!s,a=dg(e);if(a||(e[hg]=a=new th(e)),n=a.add(t,n,i,o,r),n.proxy)return n;if(i=A2(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)f2||(s=o),s===void 0&&(s=!1),e.addEventListener(t.toString(),i,s);else if(e.attachEvent)e.attachEvent(Bw(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function A2(){function e(n){return t.call(e.src,e.listener,n)}const t=w2;return e}function Vw(e,t,n,i,s){if(Array.isArray(t)){for(var r=0;r<t.length;r++)Vw(e,t[r],n,i,s);return null}return n=pg(n),e&&e[il]?e.P(t,n,nl(i)?!!i.capture:!!i,s):Lw(e,t,n,!0,i,s)}function Fw(e,t,n,i,s){if(Array.isArray(t))for(var r=0;r<t.length;r++)Fw(e,t[r],n,i,s);else i=nl(i)?!!i.capture:!!i,n=pg(n),e&&e[il]?(e=e.i,t=String(t).toString(),t in e.g&&(r=e.g[t],n=Td(r,n,i,s),-1<n&&(Zu(r[n]),Array.prototype.splice.call(r,n,1),r.length==0&&(delete e.g[t],e.h--)))):e&&(e=dg(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Td(t,n,i,s)),(n=-1<e?t[e]:null)&&fg(n))}function fg(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[il])Id(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(Bw(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=dg(t))?(Id(n,e),n.h==0&&(n.src=null,t[hg]=null)):Zu(e)}}}function Bw(e){return e in mf?mf[e]:mf[e]="on"+e}function w2(e,t){if(e.fa)e=!0;else{t=new Ta(t,this);var n=e.listener,i=e.la||e.src;e.ia&&fg(e),e=n.call(i,t)}return e}function dg(e){return e=e[hg],e instanceof th?e:null}var _f="__closure_events_fn_"+(1e9*Math.random()>>>0);function pg(e){return typeof e=="function"?e:(e[_f]||(e[_f]=function(t){return e.handleEvent(t)}),e[_f])}function ve(){rs.call(this),this.i=new th(this),this.S=this,this.J=null}be(ve,rs);ve.prototype[il]=!0;ve.prototype.removeEventListener=function(e,t,n,i){Fw(this,e,t,n,i)};function Ee(e,t){var n,i=e.J;if(i)for(n=[];i;i=i.J)n.push(i);if(e=e.S,i=t.type||t,typeof t=="string")t=new Oe(t,e);else if(t instanceof Oe)t.target=t.target||e;else{var s=t;t=new Oe(i,e),Dw(t,s)}if(s=!0,n)for(var r=n.length-1;0<=r;r--){var o=t.g=n[r];s=Ul(o,i,!0,t)&&s}if(o=t.g=e,s=Ul(o,i,!0,t)&&s,s=Ul(o,i,!1,t)&&s,n)for(r=0;r<n.length;r++)o=t.g=n[r],s=Ul(o,i,!1,t)&&s}ve.prototype.N=function(){if(ve.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)Zu(n[i]);delete e.g[t],e.h--}}this.J=null};ve.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};ve.prototype.P=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};function Ul(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var s=!0,r=0;r<t.length;++r){var o=t[r];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Id(e.i,o),s=a.call(l,i)!==!1&&s}}return s&&!i.defaultPrevented}var gg=at.JSON.stringify;class E2{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function I2(){var e=mg;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class T2{constructor(){this.h=this.g=null}add(t,n){const i=Uw.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i}}var Uw=new E2(()=>new x2,e=>e.reset());class x2{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function S2(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function k2(e){at.setTimeout(()=>{throw e},0)}let xa,Sa=!1,mg=new T2,zw=()=>{const e=at.Promise.resolve(void 0);xa=()=>{e.then(C2)}};var C2=()=>{for(var e;e=I2();){try{e.h.call(e.g)}catch(n){k2(n)}var t=Uw;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Sa=!1};function eh(e,t){ve.call(this),this.h=e||1,this.g=t||at,this.j=Me(this.qb,this),this.l=Date.now()}be(eh,ve);z=eh.prototype;z.ga=!1;z.T=null;z.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ee(this,"tick"),this.ga&&(_g(this),this.start()))}};z.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function _g(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}z.N=function(){eh.$.N.call(this),_g(this),delete this.g};function yg(e,t,n){if(typeof e=="function")n&&(e=Me(e,n));else if(e&&typeof e.handleEvent=="function")e=Me(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:at.setTimeout(e,t||0)}function jw(e){e.g=yg(()=>{e.g=null,e.i&&(e.i=!1,jw(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class P2 extends rs{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:jw(this)}N(){super.N(),this.g&&(at.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ka(e){rs.call(this),this.h=e,this.g={}}be(ka,rs);var _y=[];function $w(e,t,n,i){Array.isArray(n)||(n&&(_y[0]=n.toString()),n=_y);for(var s=0;s<n.length;s++){var r=Nw(t,n[s],i||e.handleEvent,!1,e.h||e);if(!r)break;e.g[r.key]=r}}function Hw(e){ug(e.g,function(t,n){this.g.hasOwnProperty(n)&&fg(t)},e),e.g={}}ka.prototype.N=function(){ka.$.N.call(this),Hw(this)};ka.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function nh(){this.g=!0}nh.prototype.Ea=function(){this.g=!1};function R2(e,t,n,i,s,r){e.info(function(){if(e.g)if(r)for(var o="",a=r.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=r;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+t+`
`+n+`
`+o})}function M2(e,t,n,i,s,r,o){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+t+`
`+n+`
`+r+" "+o})}function vr(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+D2(e,n)+(i?" "+i:"")})}function O2(e,t){e.info(function(){return"TIMEOUT: "+t})}nh.prototype.info=function(){};function D2(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var r=s[0];if(r!="noop"&&r!="stop"&&r!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return gg(n)}catch{return t}}var rr={},yy=null;function ih(){return yy=yy||new ve}rr.Ta="serverreachability";function Ww(e){Oe.call(this,rr.Ta,e)}be(Ww,Oe);function Ca(e){const t=ih();Ee(t,new Ww(t))}rr.STAT_EVENT="statevent";function qw(e,t){Oe.call(this,rr.STAT_EVENT,e),this.stat=t}be(qw,Oe);function ze(e){const t=ih();Ee(t,new qw(t,e))}rr.Ua="timingevent";function Kw(e,t){Oe.call(this,rr.Ua,e),this.size=t}be(Kw,Oe);function sl(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return at.setTimeout(function(){e()},t)}var sh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Gw={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function vg(){}vg.prototype.h=null;function vy(e){return e.h||(e.h=e.i())}function Qw(){}var rl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function bg(){Oe.call(this,"d")}be(bg,Oe);function Ag(){Oe.call(this,"c")}be(Ag,Oe);var xd;function rh(){}be(rh,vg);rh.prototype.g=function(){return new XMLHttpRequest};rh.prototype.i=function(){return{}};xd=new rh;function ol(e,t,n,i){this.l=e,this.j=t,this.m=n,this.W=i||1,this.U=new ka(this),this.P=N2,e=Ad?125:void 0,this.V=new eh(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Yw}function Yw(){this.i=null,this.g="",this.h=!1}var N2=45e3,Sd={},Zc={};z=ol.prototype;z.setTimeout=function(e){this.P=e};function kd(e,t,n){e.L=1,e.v=ah(gi(t)),e.s=n,e.S=!0,Xw(e,null)}function Xw(e,t){e.G=Date.now(),al(e),e.A=gi(e.v);var n=e.A,i=e.W;Array.isArray(i)||(i=[String(i)]),rE(n.i,"t",i),e.C=0,n=e.l.J,e.h=new Yw,e.g=xE(e.l,n?t:null,!e.s),0<e.O&&(e.M=new P2(Me(e.Pa,e,e.g),e.O)),$w(e.U,e.g,"readystatechange",e.nb),t=e.I?Ow(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Ca(),R2(e.j,e.u,e.A,e.m,e.W,e.s)}z.nb=function(e){e=e.target;const t=this.M;t&&Un(e)==3?t.l():this.Pa(e)};z.Pa=function(e){try{if(e==this.g)t:{const u=Un(this.g);var t=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||Ad||this.g&&(this.h.h||this.g.ja()||Ey(this.g)))){this.J||u!=4||t==7||(t==8||0>=h?Ca(3):Ca(2)),oh(this);var n=this.g.da();this.ca=n;e:if(Jw(this)){var i=Ey(this.g);e="";var s=i.length,r=Un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Es(this),ta(this);var o="";break e}this.h.i=new at.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(i[t],{stream:r&&t==s-1});i.splice(0,s),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,M2(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){e:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ia(a)){var c=a;break e}}c=null}if(n=c)vr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cd(this,n);else{this.i=!1,this.o=3,ze(12),Es(this),ta(this);break t}}this.S?(Zw(this,u,o),Ad&&this.i&&u==3&&($w(this.U,this.V,"tick",this.mb),this.V.start())):(vr(this.j,this.m,o,null),Cd(this,o)),u==4&&Es(this),this.i&&!this.J&&(u==4?wE(this.l,this):(this.i=!1,al(this)))}else nO(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,ze(12)):(this.o=0,ze(13)),Es(this),ta(this)}}}catch{}finally{}};function Jw(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function Zw(e,t,n){let i=!0,s;for(;!e.J&&e.C<n.length;)if(s=L2(e,n),s==Zc){t==4&&(e.o=4,ze(14),i=!1),vr(e.j,e.m,null,"[Incomplete Response]");break}else if(s==Sd){e.o=4,ze(15),vr(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else vr(e.j,e.m,s,null),Cd(e,s);Jw(e)&&s!=Zc&&s!=Sd&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,ze(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Sg(t),t.M=!0,ze(11))):(vr(e.j,e.m,n,"[Invalid Chunked Response]"),Es(e),ta(e))}z.mb=function(){if(this.g){var e=Un(this.g),t=this.g.ja();this.C<t.length&&(oh(this),Zw(this,e,t),this.i&&e!=4&&al(this))}};function L2(e,t){var n=e.C,i=t.indexOf(`
`,n);return i==-1?Zc:(n=Number(t.substring(n,i)),isNaN(n)?Sd:(i+=1,i+n>t.length?Zc:(t=t.slice(i,i+n),e.C=i+n,t)))}z.cancel=function(){this.J=!0,Es(this)};function al(e){e.Y=Date.now()+e.P,tE(e,e.P)}function tE(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=sl(Me(e.lb,e),t)}function oh(e){e.B&&(at.clearTimeout(e.B),e.B=null)}z.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(O2(this.j,this.A),this.L!=2&&(Ca(),ze(17)),Es(this),this.o=2,ta(this)):tE(this,this.Y-e)};function ta(e){e.l.H==0||e.J||wE(e.l,e)}function Es(e){oh(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,_g(e.V),Hw(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Cd(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||Pd(n.i,e))){if(!e.K&&Pd(n.i,e)&&n.H==3){try{var i=n.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var s=i;if(s[0]==0){t:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)nu(n),uh(n);else break t;xg(n),ze(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=sl(Me(n.ib,n),6e3));if(1>=lE(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Is(n,11)}else if((e.K||n.g==e)&&nu(n),!Ia(t))for(s=n.Ja.g.parse(t),t=0;t<s.length;t++){let c=s[t];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const d=e.g;if(d){const p=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var r=i.i;r.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(r.j=r.l,r.g=new Set,r.h&&(wg(r,r.h),r.h=null))}if(i.F){const g=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(i.Da=g,Ut(i.I,i.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var o=e;if(i.wa=TE(i,i.J?i.pa:null,i.Y),o.K){cE(i.i,o);var a=o,l=i.L;l&&a.setTimeout(l),a.B&&(oh(a),al(a)),i.g=o}else bE(i);0<n.j.length&&hh(n)}else c[0]!="stop"&&c[0]!="close"||Is(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Is(n,7):Tg(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}Ca(4)}catch{}}function V2(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(Xu(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function F2(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Xu(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const i in e)t[n++]=i;return t}}}function eE(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(Xu(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=F2(e),i=V2(e),s=i.length,r=0;r<s;r++)t.call(void 0,i[r],n&&n[r],e)}var nE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function B2(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),s=null;if(0<=i){var r=e[n].substring(0,i);s=e[n].substring(i+1)}else r=e[n];t(r,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Ms(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ms){this.h=e.h,tu(this,e.j),this.s=e.s,this.g=e.g,eu(this,e.m),this.l=e.l;var t=e.i,n=new Pa;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),by(this,n),this.o=e.o}else e&&(t=String(e).match(nE))?(this.h=!1,tu(this,t[1]||"",!0),this.s=Oo(t[2]||""),this.g=Oo(t[3]||"",!0),eu(this,t[4]),this.l=Oo(t[5]||"",!0),by(this,t[6]||"",!0),this.o=Oo(t[7]||"")):(this.h=!1,this.i=new Pa(null,this.h))}Ms.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Do(t,Ay,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Do(t,Ay,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Do(n,n.charAt(0)=="/"?j2:z2,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Do(n,H2)),e.join("")};function gi(e){return new Ms(e)}function tu(e,t,n){e.j=n?Oo(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function eu(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function by(e,t,n){t instanceof Pa?(e.i=t,W2(e.i,e.h)):(n||(t=Do(t,$2)),e.i=new Pa(t,e.h))}function Ut(e,t,n){e.i.set(t,n)}function ah(e){return Ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Oo(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Do(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,U2),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function U2(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Ay=/[#\/\?@]/g,z2=/[#\?:]/g,j2=/[#\?]/g,$2=/[#\?@]/g,H2=/#/g;function Pa(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function os(e){e.g||(e.g=new Map,e.h=0,e.i&&B2(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}z=Pa.prototype;z.add=function(e,t){os(this),this.i=null,e=ao(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function iE(e,t){os(e),t=ao(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function sE(e,t){return os(e),t=ao(e,t),e.g.has(t)}z.forEach=function(e,t){os(this),this.g.forEach(function(n,i){n.forEach(function(s){e.call(t,s,i,this)},this)},this)};z.ta=function(){os(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let i=0;i<t.length;i++){const s=e[i];for(let r=0;r<s.length;r++)n.push(t[i])}return n};z.Z=function(e){os(this);let t=[];if(typeof e=="string")sE(this,e)&&(t=t.concat(this.g.get(ao(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};z.set=function(e,t){return os(this),this.i=null,e=ao(this,e),sE(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};z.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function rE(e,t,n){iE(e,t),0<n.length&&(e.i=null,e.g.set(ao(e,t),lg(n)),e.h+=n.length)}z.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var i=t[n];const r=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var s=r;o[i]!==""&&(s+="="+encodeURIComponent(String(o[i]))),e.push(s)}}return this.i=e.join("&")};function ao(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function W2(e,t){t&&!e.j&&(os(e),e.i=null,e.g.forEach(function(n,i){var s=i.toLowerCase();i!=s&&(iE(this,i),rE(this,s,n))},e)),e.j=t}var q2=class{constructor(e,t){this.g=e,this.map=t}};function oE(e){this.l=e||K2,at.PerformanceNavigationTiming?(e=at.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(at.g&&at.g.Ka&&at.g.Ka()&&at.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var K2=10;function aE(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function lE(e){return e.h?1:e.g?e.g.size:0}function Pd(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function wg(e,t){e.g?e.g.add(t):e.h=t}function cE(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}oE.prototype.cancel=function(){if(this.i=uE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function uE(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return lg(e.i)}var G2=class{stringify(e){return at.JSON.stringify(e,void 0)}parse(e){return at.JSON.parse(e,void 0)}};function Q2(){this.g=new G2}function Y2(e,t,n){const i=n||"";try{eE(e,function(s,r){let o=s;nl(s)&&(o=gg(s)),t.push(i+r+"="+encodeURIComponent(o))})}catch(s){throw t.push(i+"type="+encodeURIComponent("_badmap")),s}}function X2(e,t){const n=new nh;if(at.Image){const i=new Image;i.onload=Bl(zl,n,i,"TestLoadImage: loaded",!0,t),i.onerror=Bl(zl,n,i,"TestLoadImage: error",!1,t),i.onabort=Bl(zl,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=Bl(zl,n,i,"TestLoadImage: timeout",!1,t),at.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function zl(e,t,n,i,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(i)}catch{}}function ll(e){this.l=e.fc||null,this.j=e.ob||!1}be(ll,vg);ll.prototype.g=function(){return new lh(this.l,this.j)};ll.prototype.i=function(e){return function(){return e}}({});function lh(e,t){ve.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Eg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}be(lh,ve);var Eg=0;z=lh.prototype;z.open=function(e,t){if(this.readyState!=Eg)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ra(this)};z.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||at).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cl(this)),this.readyState=Eg};z.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ra(this)),this.g&&(this.readyState=3,Ra(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof at.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hE(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function hE(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}z.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?cl(this):Ra(this),this.readyState==3&&hE(this)}};z.Za=function(e){this.g&&(this.response=this.responseText=e,cl(this))};z.Ya=function(e){this.g&&(this.response=e,cl(this))};z.ka=function(){this.g&&cl(this)};function cl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ra(e)}z.setRequestHeader=function(e,t){this.v.append(e,t)};z.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};z.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Ra(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(lh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var J2=at.JSON.parse;function ee(e){ve.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=fE,this.L=this.M=!1}be(ee,ve);var fE="",Z2=/^https?$/i,tO=["POST","PUT"];z=ee.prototype;z.Oa=function(e){this.M=e};z.ha=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():xd.g(),this.C=this.u?vy(this.u):vy(xd),this.g.onreadystatechange=Me(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(r){wy(this,r);return}if(e=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)n.set(s,i[s]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const r of i.keys())n.set(r,i.get(r));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(r=>r.toLowerCase()=="content-type"),s=at.FormData&&e instanceof at.FormData,!(0<=Cw(tO,t))||i||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[r,o]of n)this.g.setRequestHeader(r,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{gE(this),0<this.B&&((this.L=eO(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Me(this.ua,this)):this.A=yg(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(r){wy(this,r)}};function eO(e){return jr&&typeof e.timeout=="number"&&e.ontimeout!==void 0}z.ua=function(){typeof ag<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ee(this,"timeout"),this.abort(8))};function wy(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,dE(e),ch(e)}function dE(e){e.F||(e.F=!0,Ee(e,"complete"),Ee(e,"error"))}z.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ee(this,"complete"),Ee(this,"abort"),ch(this))};z.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ch(this,!0)),ee.$.N.call(this)};z.La=function(){this.s||(this.G||this.v||this.l?pE(this):this.kb())};z.kb=function(){pE(this)};function pE(e){if(e.h&&typeof ag<"u"&&(!e.C[1]||Un(e)!=4||e.da()!=2)){if(e.v&&Un(e)==4)yg(e.La,0,e);else if(Ee(e,"readystatechange"),Un(e)==4){e.h=!1;try{const o=e.da();t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break t;default:t=!1}var n;if(!(n=t)){var i;if(i=o===0){var s=String(e.I).match(nE)[1]||null;!s&&at.self&&at.self.location&&(s=at.self.location.protocol.slice(0,-1)),i=!Z2.test(s?s.toLowerCase():"")}n=i}if(n)Ee(e,"complete"),Ee(e,"success");else{e.m=6;try{var r=2<Un(e)?e.g.statusText:""}catch{r=""}e.j=r+" ["+e.da()+"]",dE(e)}}finally{ch(e)}}}}function ch(e,t){if(e.g){gE(e);const n=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Ee(e,"ready");try{n.onreadystatechange=i}catch{}}}function gE(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(at.clearTimeout(e.A),e.A=null)}z.isActive=function(){return!!this.g};function Un(e){return e.g?e.g.readyState:0}z.da=function(){try{return 2<Un(this)?this.g.status:-1}catch{return-1}};z.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};z.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),J2(t)}};function Ey(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case fE:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function nO(e){const t={};e=(e.g&&2<=Un(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<e.length;i++){if(Ia(e[i]))continue;var n=S2(e[i]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const r=t[s]||[];t[s]=r,r.push(n)}b2(t,function(i){return i.join(", ")})}z.Ia=function(){return this.m};z.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function mE(e){let t="";return ug(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function Ig(e,t,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=mE(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):Ut(e,t,n))}function wo(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function _E(e){this.Ga=0,this.j=[],this.l=new nh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=wo("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=wo("baseRetryDelayMs",5e3,e),this.hb=wo("retryDelaySeedMs",1e4,e),this.eb=wo("forwardChannelMaxRetries",2,e),this.xa=wo("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new oE(e&&e.concurrentRequestLimit),this.Ja=new Q2,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}z=_E.prototype;z.ra=8;z.H=1;function Tg(e){if(yE(e),e.H==3){var t=e.W++,n=gi(e.I);if(Ut(n,"SID",e.K),Ut(n,"RID",t),Ut(n,"TYPE","terminate"),ul(e,n),t=new ol(e,e.l,t),t.L=2,t.v=ah(gi(n)),n=!1,at.navigator&&at.navigator.sendBeacon)try{n=at.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&at.Image&&(new Image().src=t.v,n=!0),n||(t.g=xE(t.l,null),t.g.ha(t.v)),t.G=Date.now(),al(t)}IE(e)}function uh(e){e.g&&(Sg(e),e.g.cancel(),e.g=null)}function yE(e){uh(e),e.u&&(at.clearTimeout(e.u),e.u=null),nu(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&at.clearTimeout(e.m),e.m=null)}function hh(e){if(!aE(e.i)&&!e.m){e.m=!0;var t=e.Na;xa||zw(),Sa||(xa(),Sa=!0),mg.add(t,e),e.C=0}}function iO(e,t){return lE(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=sl(Me(e.Na,e,t),EE(e,e.C)),e.C++,!0)}z.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const s=new ol(this,this.l,e);let r=this.s;if(this.U&&(r?(r=Ow(r),Dw(r,this.U)):r=this.U),this.o!==null||this.O||(s.I=r,r=null),this.P)t:{for(var t=0,n=0;n<this.j.length;n++){e:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break e}i=void 0}if(i===void 0)break;if(t+=i,4096<t){t=n;break t}if(t===4096||n===this.j.length-1){t=n+1;break t}}t=1e3}else t=1e3;t=vE(this,s,t),n=gi(this.I),Ut(n,"RID",e),Ut(n,"CVER",22),this.F&&Ut(n,"X-HTTP-Session-Id",this.F),ul(this,n),r&&(this.O?t="headers="+encodeURIComponent(String(mE(r)))+"&"+t:this.o&&Ig(n,this.o,r)),wg(this.i,s),this.bb&&Ut(n,"TYPE","init"),this.P?(Ut(n,"$req",t),Ut(n,"SID","null"),s.aa=!0,kd(s,n,null)):kd(s,n,t),this.H=2}}else this.H==3&&(e?Iy(this,e):this.j.length==0||aE(this.i)||Iy(this))};function Iy(e,t){var n;t?n=t.m:n=e.W++;const i=gi(e.I);Ut(i,"SID",e.K),Ut(i,"RID",n),Ut(i,"AID",e.V),ul(e,i),e.o&&e.s&&Ig(i,e.o,e.s),n=new ol(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=vE(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),wg(e.i,n),kd(n,i,t)}function ul(e,t){e.na&&ug(e.na,function(n,i){Ut(t,i,n)}),e.h&&eE({},function(n,i){Ut(t,i,n)})}function vE(e,t,n){n=Math.min(e.j.length,n);var i=e.h?Me(e.h.Va,e.h,e):null;t:{var s=e.j;let r=-1;for(;;){const o=["count="+n];r==-1?0<n?(r=s[0].g,o.push("ofs="+r)):r=0:o.push("ofs="+r);let a=!0;for(let l=0;l<n;l++){let c=s[l].g;const u=s[l].map;if(c-=r,0>c)r=Math.max(0,s[l].g-100),a=!1;else try{Y2(u,o,"req"+c+"_")}catch{i&&i(u)}}if(a){i=o.join("&");break t}}}return e=e.j.splice(0,n),t.F=e,i}function bE(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;xa||zw(),Sa||(xa(),Sa=!0),mg.add(t,e),e.A=0}}function xg(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=sl(Me(e.Ma,e),EE(e,e.A)),e.A++,!0)}z.Ma=function(){if(this.u=null,AE(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=sl(Me(this.jb,this),e)}};z.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,ze(10),uh(this),AE(this))};function Sg(e){e.B!=null&&(at.clearTimeout(e.B),e.B=null)}function AE(e){e.g=new ol(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=gi(e.wa);Ut(t,"RID","rpc"),Ut(t,"SID",e.K),Ut(t,"AID",e.V),Ut(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Ut(t,"TO",e.qa),Ut(t,"TYPE","xmlhttp"),ul(e,t),e.o&&e.s&&Ig(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=ah(gi(t)),n.s=null,n.S=!0,Xw(n,e)}z.ib=function(){this.v!=null&&(this.v=null,uh(this),xg(this),ze(19))};function nu(e){e.v!=null&&(at.clearTimeout(e.v),e.v=null)}function wE(e,t){var n=null;if(e.g==t){nu(e),Sg(e),e.g=null;var i=2}else if(Pd(e.i,t))n=t.F,cE(e.i,t),i=1;else return;if(e.H!=0){if(t.i)if(i==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var s=e.C;i=ih(),Ee(i,new Kw(i,n)),hh(e)}else bE(e);else if(s=t.o,s==3||s==0&&0<t.ca||!(i==1&&iO(e,t)||i==2&&xg(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),s){case 1:Is(e,5);break;case 4:Is(e,10);break;case 3:Is(e,6);break;default:Is(e,2)}}}function EE(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Is(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var i=Me(e.pb,e);n||(n=new Ms("//www.google.com/images/cleardot.gif"),at.location&&at.location.protocol=="http"||tu(n,"https"),ah(n)),X2(n.toString(),i)}else ze(2);e.H=0,e.h&&e.h.za(t),IE(e),yE(e)}z.pb=function(e){e?(this.l.info("Successfully pinged google.com"),ze(2)):(this.l.info("Failed to ping google.com"),ze(1))};function IE(e){if(e.H=0,e.ma=[],e.h){const t=uE(e.i);(t.length!=0||e.j.length!=0)&&(py(e.ma,t),py(e.ma,e.j),e.i.i.length=0,lg(e.j),e.j.length=0),e.h.ya()}}function TE(e,t,n){var i=n instanceof Ms?gi(n):new Ms(n);if(i.g!="")t&&(i.g=t+"."+i.g),eu(i,i.m);else{var s=at.location;i=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var r=new Ms(null);i&&tu(r,i),t&&(r.g=t),s&&eu(r,s),n&&(r.l=n),i=r}return n=e.F,t=e.Da,n&&t&&Ut(i,n,t),Ut(i,"VER",e.ra),ul(e,i),i}function xE(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new ee(new ll({ob:!0})):new ee(e.va),t.Oa(e.J),t}z.isActive=function(){return!!this.h&&this.h.isActive(this)};function SE(){}z=SE.prototype;z.Ba=function(){};z.Aa=function(){};z.za=function(){};z.ya=function(){};z.isActive=function(){return!0};z.Va=function(){};function iu(){if(jr&&!(10<=Number(m2)))throw Error("Environmental error: no available transport.")}iu.prototype.g=function(e,t){return new rn(e,t)};function rn(e,t){ve.call(this),this.g=new _E(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Ia(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ia(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new lo(this)}be(rn,ve);rn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;ze(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=TE(e,null,e.Y),hh(e)};rn.prototype.close=function(){Tg(this.g)};rn.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=gg(e),e=n);t.j.push(new q2(t.fb++,e)),t.H==3&&hh(t)};rn.prototype.N=function(){this.g.h=null,delete this.j,Tg(this.g),delete this.g,rn.$.N.call(this)};function kE(e){bg.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){t:{for(const n in t){e=n;break t}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}be(kE,bg);function CE(){Ag.call(this),this.status=1}be(CE,Ag);function lo(e){this.g=e}be(lo,SE);lo.prototype.Ba=function(){Ee(this.g,"a")};lo.prototype.Aa=function(e){Ee(this.g,new kE(e))};lo.prototype.za=function(e){Ee(this.g,new CE)};lo.prototype.ya=function(){Ee(this.g,"b")};function sO(){this.blockSize=-1}function kn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}be(kn,sO);kn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function yf(e,t,n){n||(n=0);var i=Array(16);if(typeof t=="string")for(var s=0;16>s;++s)i[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)i[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var r=e.g[3],o=t+(r^n&(s^r))+i[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=r+(s^t&(n^s))+i[1]+3905402710&4294967295,r=t+(o<<12&4294967295|o>>>20),o=s+(n^r&(t^n))+i[2]+606105819&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(t^s&(r^t))+i[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(r^n&(s^r))+i[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=r+(s^t&(n^s))+i[5]+1200080426&4294967295,r=t+(o<<12&4294967295|o>>>20),o=s+(n^r&(t^n))+i[6]+2821735955&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(t^s&(r^t))+i[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(r^n&(s^r))+i[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=r+(s^t&(n^s))+i[9]+2336552879&4294967295,r=t+(o<<12&4294967295|o>>>20),o=s+(n^r&(t^n))+i[10]+4294925233&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(t^s&(r^t))+i[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(r^n&(s^r))+i[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=r+(s^t&(n^s))+i[13]+4254626195&4294967295,r=t+(o<<12&4294967295|o>>>20),o=s+(n^r&(t^n))+i[14]+2792965006&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(t^s&(r^t))+i[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(s^r&(n^s))+i[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(t^n))+i[6]+3225465664&4294967295,r=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(r^t))+i[11]+643717713&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^t&(s^r))+i[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^r&(n^s))+i[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(t^n))+i[10]+38016083&4294967295,r=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(r^t))+i[15]+3634488961&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^t&(s^r))+i[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^r&(n^s))+i[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(t^n))+i[14]+3275163606&4294967295,r=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(r^t))+i[3]+4107603335&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^t&(s^r))+i[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^r&(n^s))+i[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(t^n))+i[2]+4243563512&4294967295,r=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(r^t))+i[7]+1735328473&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^t&(s^r))+i[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(n^s^r)+i[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=r+(t^n^s)+i[8]+2272392833&4294967295,r=t+(o<<11&4294967295|o>>>21),o=s+(r^t^n)+i[11]+1839030562&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^t)+i[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^r)+i[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=r+(t^n^s)+i[4]+1272893353&4294967295,r=t+(o<<11&4294967295|o>>>21),o=s+(r^t^n)+i[7]+4139469664&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^t)+i[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^r)+i[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=r+(t^n^s)+i[0]+3936430074&4294967295,r=t+(o<<11&4294967295|o>>>21),o=s+(r^t^n)+i[3]+3572445317&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^t)+i[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^r)+i[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=r+(t^n^s)+i[12]+3873151461&4294967295,r=t+(o<<11&4294967295|o>>>21),o=s+(r^t^n)+i[15]+530742520&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^t)+i[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(s^(n|~r))+i[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=r+(n^(t|~s))+i[7]+1126891415&4294967295,r=t+(o<<10&4294967295|o>>>22),o=s+(t^(r|~n))+i[14]+2878612391&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~t))+i[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~r))+i[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=r+(n^(t|~s))+i[3]+2399980690&4294967295,r=t+(o<<10&4294967295|o>>>22),o=s+(t^(r|~n))+i[10]+4293915773&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~t))+i[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~r))+i[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=r+(n^(t|~s))+i[15]+4264355552&4294967295,r=t+(o<<10&4294967295|o>>>22),o=s+(t^(r|~n))+i[6]+2734768916&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~t))+i[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~r))+i[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=r+(n^(t|~s))+i[11]+3174756917&4294967295,r=t+(o<<10&4294967295|o>>>22),o=s+(t^(r|~n))+i[2]+718787259&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~t))+i[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+r&4294967295}kn.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,i=this.m,s=this.h,r=0;r<t;){if(s==0)for(;r<=n;)yf(this,e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<t;)if(i[s++]=e.charCodeAt(r++),s==this.blockSize){yf(this,i),s=0;break}}else for(;r<t;)if(i[s++]=e[r++],s==this.blockSize){yf(this,i),s=0;break}}this.h=s,this.i+=t};kn.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var i=0;32>i;i+=8)e[n++]=this.g[t]>>>i&255;return e};function Pt(e,t){this.h=t;for(var n=[],i=!0,s=e.length-1;0<=s;s--){var r=e[s]|0;i&&r==t||(n[s]=r,i=!1)}this.g=n}var rO={};function kg(e){return-128<=e&&128>e?d2(e,function(t){return new Pt([t|0],0>t?-1:0)}):new Pt([e|0],0>e?-1:0)}function zn(e){if(isNaN(e)||!isFinite(e))return xr;if(0>e)return we(zn(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=Rd;return new Pt(t,0)}function PE(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return we(PE(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=zn(Math.pow(t,8)),i=xr,s=0;s<e.length;s+=8){var r=Math.min(8,e.length-s),o=parseInt(e.substring(s,s+r),t);8>r?(r=zn(Math.pow(t,r)),i=i.R(r).add(zn(o))):(i=i.R(n),i=i.add(zn(o)))}return i}var Rd=4294967296,xr=kg(0),Md=kg(1),Ty=kg(16777216);z=Pt.prototype;z.ea=function(){if(un(this))return-we(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var i=this.D(n);e+=(0<=i?i:Rd+i)*t,t*=Rd}return e};z.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(li(this))return"0";if(un(this))return"-"+we(this).toString(e);for(var t=zn(Math.pow(e,6)),n=this,i="";;){var s=ru(n,t).g;n=su(n,s.R(t));var r=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=s,li(n))return r+i;for(;6>r.length;)r="0"+r;i=r+i}};z.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function li(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function un(e){return e.h==-1}z.X=function(e){return e=su(this,e),un(e)?-1:li(e)?0:1};function we(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new Pt(n,~e.h).add(Md)}z.abs=function(){return un(this)?we(this):this};z.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var r=i+(this.D(s)&65535)+(e.D(s)&65535),o=(r>>>16)+(this.D(s)>>>16)+(e.D(s)>>>16);i=o>>>16,r&=65535,o&=65535,n[s]=o<<16|r}return new Pt(n,n[n.length-1]&-2147483648?-1:0)};function su(e,t){return e.add(we(t))}z.R=function(e){if(li(this)||li(e))return xr;if(un(this))return un(e)?we(this).R(we(e)):we(we(this).R(e));if(un(e))return we(this.R(we(e)));if(0>this.X(Ty)&&0>e.X(Ty))return zn(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var r=this.D(i)>>>16,o=this.D(i)&65535,a=e.D(s)>>>16,l=e.D(s)&65535;n[2*i+2*s]+=o*l,jl(n,2*i+2*s),n[2*i+2*s+1]+=r*l,jl(n,2*i+2*s+1),n[2*i+2*s+1]+=o*a,jl(n,2*i+2*s+1),n[2*i+2*s+2]+=r*a,jl(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new Pt(n,0)};function jl(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Eo(e,t){this.g=e,this.h=t}function ru(e,t){if(li(t))throw Error("division by zero");if(li(e))return new Eo(xr,xr);if(un(e))return t=ru(we(e),t),new Eo(we(t.g),we(t.h));if(un(t))return t=ru(e,we(t)),new Eo(we(t.g),t.h);if(30<e.g.length){if(un(e)||un(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Md,i=t;0>=i.X(e);)n=xy(n),i=xy(i);var s=dr(n,1),r=dr(i,1);for(i=dr(i,2),n=dr(n,2);!li(i);){var o=r.add(i);0>=o.X(e)&&(s=s.add(n),r=o),i=dr(i,1),n=dr(n,1)}return t=su(e,s.R(t)),new Eo(s,t)}for(s=xr;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),r=zn(n),o=r.R(t);un(o)||0<o.X(e);)n-=i,r=zn(n),o=r.R(t);li(r)&&(r=Md),s=s.add(r),e=su(e,o)}return new Eo(s,e)}z.gb=function(e){return ru(this,e).h};z.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)&e.D(i);return new Pt(n,this.h&e.h)};z.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)|e.D(i);return new Pt(n,this.h|e.h)};z.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)^e.D(i);return new Pt(n,this.h^e.h)};function xy(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.D(i)<<1|e.D(i-1)>>>31;return new Pt(n,e.h)}function dr(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],r=0;r<i;r++)s[r]=0<t?e.D(r+n)>>>t|e.D(r+n+1)<<32-t:e.D(r+n);return new Pt(s,e.h)}iu.prototype.createWebChannel=iu.prototype.g;rn.prototype.send=rn.prototype.u;rn.prototype.open=rn.prototype.m;rn.prototype.close=rn.prototype.close;sh.NO_ERROR=0;sh.TIMEOUT=8;sh.HTTP_ERROR=6;Gw.COMPLETE="complete";Qw.EventType=rl;rl.OPEN="a";rl.CLOSE="b";rl.ERROR="c";rl.MESSAGE="d";ve.prototype.listen=ve.prototype.O;ee.prototype.listenOnce=ee.prototype.P;ee.prototype.getLastError=ee.prototype.Sa;ee.prototype.getLastErrorCode=ee.prototype.Ia;ee.prototype.getStatus=ee.prototype.da;ee.prototype.getResponseJson=ee.prototype.Wa;ee.prototype.getResponseText=ee.prototype.ja;ee.prototype.send=ee.prototype.ha;ee.prototype.setWithCredentials=ee.prototype.Oa;kn.prototype.digest=kn.prototype.l;kn.prototype.reset=kn.prototype.reset;kn.prototype.update=kn.prototype.j;Pt.prototype.add=Pt.prototype.add;Pt.prototype.multiply=Pt.prototype.R;Pt.prototype.modulo=Pt.prototype.gb;Pt.prototype.compare=Pt.prototype.X;Pt.prototype.toNumber=Pt.prototype.ea;Pt.prototype.toString=Pt.prototype.toString;Pt.prototype.getBits=Pt.prototype.D;Pt.fromNumber=zn;Pt.fromString=PE;var oO=function(){return new iu},aO=function(){return ih()},vf=sh,lO=Gw,cO=rr,Sy={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},uO=ll,$l=Qw,hO=ee,fO=kn,Sr=Pt;const ky="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xe=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};xe.UNAUTHENTICATED=new xe(null),xe.GOOGLE_CREDENTIALS=new xe("google-credentials-uid"),xe.FIRST_PARTY=new xe("first-party-uid"),xe.MOCK_USER=new xe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let co="10.1.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new Gu("@firebase/firestore");function Cy(){return $s.logLevel}function Y(e,...t){if($s.logLevel<=wt.DEBUG){const n=t.map(Cg);$s.debug(`Firestore (${co}): ${e}`,...n)}}function mi(e,...t){if($s.logLevel<=wt.ERROR){const n=t.map(Cg);$s.error(`Firestore (${co}): ${e}`,...n)}}function $r(e,...t){if($s.logLevel<=wt.WARN){const n=t.map(Cg);$s.warn(`Firestore (${co}): ${e}`,...n)}}function Cg(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(e="Unexpected state"){const t=`FIRESTORE (${co}) INTERNAL ASSERTION FAILED: `+e;throw mi(t),new Error(t)}function Wt(e,t){e||ot()}function ft(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends Pn{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class dO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(xe.UNAUTHENTICATED))}shutdown(){}}class pO{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class gO{constructor(t){this.t=t,this.currentUser=xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let r=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Os,t.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=r;t.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Os)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Wt(typeof i.accessToken=="string"),new RE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Wt(t===null||typeof t=="string"),new xe(t)}}class mO{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=xe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class _O{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new mO(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(xe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yO{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vO{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const i=r=>{r.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.R;return this.R=r.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(r.token):Promise.resolve()};this.o=r=>{t.enqueueRetryable(()=>i(r))};const s=r=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.appCheck.addTokenListener(this.o)};this.A.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.A.getImmediate({optional:!0});r?s(r):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Wt(typeof n.token=="string"),this.R=n.token,new yO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{static V(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const s=bO(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=t.charAt(s[r]%t.length))}return i}}function Tt(e,t){return e<t?-1:e>t?1:0}function Hr(e,t,n){return e.length===t.length&&e.every((i,s)=>n(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new q(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new q(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new q(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new q(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return he.fromMillis(Date.now())}static fromDate(t){return he.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*n));return new he(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Tt(this.nanoseconds,t.nanoseconds):Tt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ct(t)}static min(){return new ct(new he(0,0))}static max(){return new ct(new he(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(t,n,i){n===void 0?n=0:n>t.length&&ot(),i===void 0?i=t.length-n:i>t.length-n&&ot(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return Ma.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ma?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let s=0;s<i;s++){const r=t.get(s),o=n.get(s);if(r<o)return-1;if(r>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class zt extends Ma{construct(t,n,i){return new zt(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new q(O.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new zt(n)}static emptyPath(){return new zt([])}}const AO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pe extends Ma{construct(t,n,i){return new Pe(t,n,i)}static isValidIdentifier(t){return AO.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Pe(["__name__"])}static fromServerFormat(t){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new q(O.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;s<t.length;){const a=t[s];if(a==="\\"){if(s+1===t.length)throw new q(O.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(i+=a,s++):(r(),s++)}if(r(),o)throw new q(O.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Pe(n)}static emptyPath(){return new Pe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(t){this.path=t}static fromPath(t){return new Z(zt.fromString(t))}static fromName(t){return new Z(zt.fromString(t).popFirst(5))}static empty(){return new Z(zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&zt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return zt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Z(new zt(t.slice()))}}function wO(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,s=ct.fromTimestamp(i===1e9?new he(n+1,0):new he(n,i));return new Xi(s,Z.empty(),t)}function EO(e){return new Xi(e.readTime,e.key,-1)}class Xi{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new Xi(ct.min(),Z.empty(),-1)}static max(){return new Xi(ct.max(),Z.empty(),-1)}}function IO(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Z.comparator(e.documentKey,t.documentKey),n!==0?n:Tt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hl(e){if(e.code!==O.FAILED_PRECONDITION||e.message!==TO)throw e;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&ot(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new L((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(t,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):L.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):L.reject(n)}static resolve(t){return new L((n,i)=>{n(t)})}static reject(t){return new L((n,i)=>{i(t)})}static waitFor(t){return new L((n,i)=>{let s=0,r=0,o=!1;t.forEach(a=>{++s,a.next(()=>{++r,o&&r===s&&n()},l=>i(l))}),o=!0,r===s&&n()})}static or(t){let n=L.resolve(!1);for(const i of t)n=n.next(s=>s?L.resolve(s):i());return n}static forEach(t,n){const i=[];return t.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(t,n){return new L((i,s)=>{const r=t.length,o=new Array(r);let a=0;for(let l=0;l<r;l++){const c=l;n(t[c]).next(u=>{o[c]=u,++a,a===r&&i(o)},u=>s(u))}})}static doWhile(t,n){return new L((i,s)=>{const r=()=>{t()===!0?n().next(()=>{r()},s):i()};r()})}}function fl(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Pg.ae=-1;function fh(e){return e==null}function ou(e){return e===0&&1/e==-1/0}function SO(e){return typeof e=="number"&&Number.isInteger(e)&&!ou(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Py(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function or(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function OE(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(t,n){this.comparator=t,this.root=n||Ae.EMPTY}insert(t,n){return new Gt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ae.BLACK,null,null))}remove(t){return new Gt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ae.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Hl(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Hl(this.root,t,this.comparator,!1)}getReverseIterator(){return new Hl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Hl(this.root,t,this.comparator,!0)}}class Hl{constructor(t,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=n?i(t.key,n):1,n&&s&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(r===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ae{constructor(t,n,i,s,r){this.key=t,this.value=n,this.color=i??Ae.RED,this.left=s??Ae.EMPTY,this.right=r??Ae.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,s,r){return new Ae(t??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let s=this;const r=i(t,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(t,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ae.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return Ae.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ae.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ae.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const t=this.left.check();if(t!==this.right.check())throw ot();return t+(this.isRed()?0:1)}}Ae.EMPTY=null,Ae.RED=!0,Ae.BLACK=!1;Ae.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(t,n,i,s,r){return this}insert(t,n,i){return new Ae(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(t){this.comparator=t,this.data=new Gt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ry(this.data.getIterator())}getIteratorFrom(t){return new Ry(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof De)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new De(this.comparator);return n.data=t,n}}class Ry{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.fields=t,t.sort(Pe.comparator)}static empty(){return new nn([])}unionWith(t){let n=new De(Pe.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new nn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Hr(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new DE("Invalid base64 string: "+r):r}}(t);return new Le(n)}static fromUint8Array(t){const n=function(s){let r="";for(let o=0;o<s.length;++o)r+=String.fromCharCode(s[o]);return r}(t);return new Le(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Tt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Le.EMPTY_BYTE_STRING=new Le("");const kO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ji(e){if(Wt(!!e),typeof e=="string"){let t=0;const n=kO.exec(e);if(Wt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:le(e.seconds),nanos:le(e.nanos)}}function le(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Hs(e){return typeof e=="string"?Le.fromBase64String(e):Le.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Mg(e){const t=e.mapValue.fields.__previous_value__;return Rg(t)?Mg(t):t}function Oa(e){const t=Ji(e.mapValue.fields.__local_write_time__.timestampValue);return new he(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(t,n,i,s,r,o,a,l,c){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Da{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Da("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Da&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ws(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Rg(e)?4:PO(e)?9007199254740991:10:ot()}function Jn(e,t){if(e===t)return!0;const n=Ws(e);if(n!==Ws(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Oa(e).isEqual(Oa(t));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const o=Ji(s.timestampValue),a=Ji(r.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,r){return Hs(s.bytesValue).isEqual(Hs(r.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,r){return le(s.geoPointValue.latitude)===le(r.geoPointValue.latitude)&&le(s.geoPointValue.longitude)===le(r.geoPointValue.longitude)}(e,t);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return le(s.integerValue)===le(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const o=le(s.doubleValue),a=le(r.doubleValue);return o===a?ou(o)===ou(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return Hr(e.arrayValue.values||[],t.arrayValue.values||[],Jn);case 10:return function(s,r){const o=s.mapValue.fields||{},a=r.mapValue.fields||{};if(Py(o)!==Py(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Jn(o[l],a[l])))return!1;return!0}(e,t);default:return ot()}}function Na(e,t){return(e.values||[]).find(n=>Jn(n,t))!==void 0}function Wr(e,t){if(e===t)return 0;const n=Ws(e),i=Ws(t);if(n!==i)return Tt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Tt(e.booleanValue,t.booleanValue);case 2:return function(r,o){const a=le(r.integerValue||r.doubleValue),l=le(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return My(e.timestampValue,t.timestampValue);case 4:return My(Oa(e),Oa(t));case 5:return Tt(e.stringValue,t.stringValue);case 6:return function(r,o){const a=Hs(r),l=Hs(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(r,o){const a=r.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Tt(a[c],l[c]);if(u!==0)return u}return Tt(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(r,o){const a=Tt(le(r.latitude),le(o.latitude));return a!==0?a:Tt(le(r.longitude),le(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(r,o){const a=r.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=Wr(a[c],l[c]);if(u)return u}return Tt(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===Wl.mapValue&&o===Wl.mapValue)return 0;if(r===Wl.mapValue)return 1;if(o===Wl.mapValue)return-1;const a=r.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const f=Tt(l[h],u[h]);if(f!==0)return f;const d=Wr(a[l[h]],c[u[h]]);if(d!==0)return d}return Tt(l.length,u.length)}(e.mapValue,t.mapValue);default:throw ot()}}function My(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Tt(e,t);const n=Ji(e),i=Ji(t),s=Tt(n.seconds,i.seconds);return s!==0?s:Tt(n.nanos,i.nanos)}function qr(e){return Od(e)}function Od(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=Ji(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Hs(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Z.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",s=!0;for(const r of n.values||[])s?s=!1:i+=",",i+=Od(r);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",r=!0;for(const o of i)r?r=!1:s+=",",s+=`${o}:${Od(n.fields[o])}`;return s+"}"}(e.mapValue):ot()}function Oy(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Dd(e){return!!e&&"integerValue"in e}function Og(e){return!!e&&"arrayValue"in e}function Dy(e){return!!e&&"nullValue"in e}function Ny(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ec(e){return!!e&&"mapValue"in e}function ea(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return or(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=ea(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ea(e.arrayValue.values[n]);return t}return Object.assign({},e)}function PO(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t){this.value=t}static empty(){return new qe({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Ec(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ea(n)}setAll(t){let n=Pe.emptyPath(),i={},s=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,s),i={},s=[],n=a.popLast()}o?i[a.lastSegment()]=ea(o):s.push(a.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(t){const n=this.field(t.popLast());Ec(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Jn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=n.mapValue.fields[t.get(i)];Ec(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,i){or(n,(s,r)=>t[s]=r);for(const s of i)delete t[s]}clone(){return new qe(ea(this.value))}}function NE(e){const t=[];return or(e.fields,(n,i)=>{const s=new Pe([n]);if(Ec(i)){const r=NE(i.mapValue).fields;if(r.length===0)t.push(s);else for(const o of r)t.push(s.child(o))}else t.push(s)}),new nn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(t,n,i,s,r,o,a){this.key=t,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=o,this.documentState=a}static newInvalidDocument(t){return new ke(t,0,ct.min(),ct.min(),ct.min(),qe.empty(),0)}static newFoundDocument(t,n,i,s){return new ke(t,1,n,ct.min(),i,s,0)}static newNoDocument(t,n){return new ke(t,2,n,ct.min(),ct.min(),qe.empty(),0)}static newUnknownDocument(t,n){return new ke(t,3,n,ct.min(),ct.min(),qe.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=qe.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=qe.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ct.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ke&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(t,n){this.position=t,this.inclusive=n}}function Ly(e,t,n){let i=0;for(let s=0;s<e.position.length;s++){const r=t[s],o=e.position[s];if(r.field.isKeyField()?i=Z.comparator(Z.fromName(o.referenceValue),n.key):i=Wr(o,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function Vy(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Jn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(t,n="asc"){this.field=t,this.dir=n}}function RO(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{}class ce extends LE{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new OO(t,n,i):n==="array-contains"?new LO(t,i):n==="in"?new VO(t,i):n==="not-in"?new FO(t,i):n==="array-contains-any"?new BO(t,i):new ce(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new DO(t,i):new NO(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Wr(n,this.value)):n!==null&&Ws(this.value)===Ws(n)&&this.matchesComparison(Wr(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ot()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Cn extends LE{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new Cn(t,n)}matches(t){return VE(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.le(n=>n.isInequality());return t!==null?t.field:null}le(t){for(const n of this.getFlattenedFilters())if(t(n))return n;return null}}function VE(e){return e.op==="and"}function FE(e){return MO(e)&&VE(e)}function MO(e){for(const t of e.filters)if(t instanceof Cn)return!1;return!0}function Nd(e){if(e instanceof ce)return e.field.canonicalString()+e.op.toString()+qr(e.value);if(FE(e))return e.filters.map(t=>Nd(t)).join(",");{const t=e.filters.map(n=>Nd(n)).join(",");return`${e.op}(${t})`}}function BE(e,t){return e instanceof ce?function(i,s){return s instanceof ce&&i.op===s.op&&i.field.isEqual(s.field)&&Jn(i.value,s.value)}(e,t):e instanceof Cn?function(i,s){return s instanceof Cn&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,o,a)=>r&&BE(o,s.filters[a]),!0):!1}(e,t):void ot()}function UE(e){return e instanceof ce?function(n){return`${n.field.canonicalString()} ${n.op} ${qr(n.value)}`}(e):e instanceof Cn?function(n){return n.op.toString()+" {"+n.getFilters().map(UE).join(" ,")+"}"}(e):"Filter"}class OO extends ce{constructor(t,n,i){super(t,n,i),this.key=Z.fromName(i.referenceValue)}matches(t){const n=Z.comparator(t.key,this.key);return this.matchesComparison(n)}}class DO extends ce{constructor(t,n){super(t,"in",n),this.keys=zE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class NO extends ce{constructor(t,n){super(t,"not-in",n),this.keys=zE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function zE(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Z.fromName(i.referenceValue))}class LO extends ce{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Og(n)&&Na(n.arrayValue,this.value)}}class VO extends ce{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Na(this.value.arrayValue,n)}}class FO extends ce{constructor(t,n){super(t,"not-in",n)}matches(t){if(Na(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Na(this.value.arrayValue,n)}}class BO extends ce{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Og(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Na(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(t,n=null,i=[],s=[],r=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=o,this.endAt=a,this.he=null}}function Fy(e,t=null,n=[],i=[],s=null,r=null,o=null){return new UO(e,t,n,i,s,r,o)}function Dg(e){const t=ft(e);if(t.he===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>Nd(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),fh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>qr(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>qr(i)).join(",")),t.he=n}return t.he}function Ng(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!RO(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!BE(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Vy(e.startAt,t.startAt)&&Vy(e.endAt,t.endAt)}function Ld(e){return Z.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(t,n=null,i=[],s=[],r=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=o,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function zO(e,t,n,i,s,r,o,a){return new dl(e,t,n,i,s,r,o,a)}function Lg(e){return new dl(e)}function By(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function jE(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Vg(e){for(const t of e.filters){const n=t.getFirstInequalityField();if(n!==null)return n}return null}function $E(e){return e.collectionGroup!==null}function kr(e){const t=ft(e);if(t.Pe===null){t.Pe=[];const n=Vg(t),i=jE(t);if(n!==null&&i===null)n.isKeyField()||t.Pe.push(new na(n)),t.Pe.push(new na(Pe.keyField(),"asc"));else{let s=!1;for(const r of t.explicitOrderBy)t.Pe.push(r),r.field.isKeyField()&&(s=!0);if(!s){const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new na(Pe.keyField(),r))}}}return t.Pe}function _i(e){const t=ft(e);if(!t.Ie)if(t.limitType==="F")t.Ie=Fy(t.path,t.collectionGroup,kr(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const r of kr(t)){const o=r.dir==="desc"?"asc":"desc";n.push(new na(r.field,o))}const i=t.endAt?new au(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new au(t.startAt.position,t.startAt.inclusive):null;t.Ie=Fy(t.path,t.collectionGroup,n,t.filters,t.limit,i,s)}return t.Ie}function Vd(e,t){t.getFirstInequalityField(),Vg(e);const n=e.filters.concat([t]);return new dl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Fd(e,t,n){return new dl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function dh(e,t){return Ng(_i(e),_i(t))&&e.limitType===t.limitType}function HE(e){return`${Dg(_i(e))}|lt:${e.limitType}`}function Bd(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>UE(s)).join(", ")}]`),fh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>qr(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>qr(s)).join(",")),`Target(${i})`}(_i(e))}; limitType=${e.limitType})`}function ph(e,t){return t.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):Z.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(e,t)&&function(i,s){for(const r of kr(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(e,t)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(e,t)&&function(i,s){return!(i.startAt&&!function(o,a,l){const c=Ly(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,kr(i),s)||i.endAt&&!function(o,a,l){const c=Ly(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,kr(i),s))}(e,t)}function jO(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function WE(e){return(t,n)=>{let i=!1;for(const s of kr(e)){const r=$O(s,t,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function $O(e,t,n){const i=e.field.isKeyField()?Z.comparator(t.key,n.key):function(r,o,a){const l=o.data.field(r),c=a.data.field(r);return l!==null&&c!==null?Wr(l,c):ot()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return ot()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,t))return r}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],t))return void(s[r]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){or(this.inner,(n,i)=>{for(const[s,r]of i)t(s,r)})}isEmpty(){return OE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=new Gt(Z.comparator);function yi(){return HO}const qE=new Gt(Z.comparator);function No(...e){let t=qE;for(const n of e)t=t.insert(n.key,n);return t}function KE(e){let t=qE;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Ts(){return ia()}function GE(){return ia()}function ia(){return new uo(e=>e.toString(),(e,t)=>e.isEqual(t))}const WO=new Gt(Z.comparator),qO=new De(Z.comparator);function mt(...e){let t=qO;for(const n of e)t=t.add(n);return t}const KO=new De(Tt);function GO(){return KO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ou(t)?"-0":t}}function YE(e){return{integerValue:""+e}}function QO(e,t){return SO(t)?YE(t):QE(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(){this._=void 0}}function YO(e,t,n){return e instanceof lu?function(s,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&Rg(r)&&(r=Mg(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(n,t):e instanceof Kr?JE(e,t):e instanceof La?ZE(e,t):function(s,r){const o=XE(s,r),a=Uy(o)+Uy(s.Te);return Dd(o)&&Dd(s.Te)?YE(a):QE(s.serializer,a)}(e,t)}function XO(e,t,n){return e instanceof Kr?JE(e,t):e instanceof La?ZE(e,t):n}function XE(e,t){return e instanceof cu?function(i){return Dd(i)||function(r){return!!r&&"doubleValue"in r}(i)}(t)?t:{integerValue:0}:null}class lu extends gh{}class Kr extends gh{constructor(t){super(),this.elements=t}}function JE(e,t){const n=tI(t);for(const i of e.elements)n.some(s=>Jn(s,i))||n.push(i);return{arrayValue:{values:n}}}class La extends gh{constructor(t){super(),this.elements=t}}function ZE(e,t){let n=tI(t);for(const i of e.elements)n=n.filter(s=>!Jn(s,i));return{arrayValue:{values:n}}}class cu extends gh{constructor(t,n){super(),this.serializer=t,this.Te=n}}function Uy(e){return le(e.integerValue||e.doubleValue)}function tI(e){return Og(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(t,n){this.field=t,this.transform=n}}function ZO(e,t){return e.field.isEqual(t.field)&&function(i,s){return i instanceof Kr&&s instanceof Kr||i instanceof La&&s instanceof La?Hr(i.elements,s.elements,Jn):i instanceof cu&&s instanceof cu?Jn(i.Te,s.Te):i instanceof lu&&s instanceof lu}(e.transform,t.transform)}class tD{constructor(t,n){this.version=t,this.transformResults=n}}class dn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new dn}static exists(t){return new dn(void 0,t)}static updateTime(t){return new dn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ic(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class mh{}function eI(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Fg(e.key,dn.none()):new pl(e.key,e.data,dn.none());{const n=e.data,i=qe.empty();let s=new De(Pe.comparator);for(let r of t.fields)if(!s.has(r)){let o=n.field(r);o===null&&r.length>1&&(r=r.popLast(),o=n.field(r)),o===null?i.delete(r):i.set(r,o),s=s.add(r)}return new as(e.key,i,new nn(s.toArray()),dn.none())}}function eD(e,t,n){e instanceof pl?function(s,r,o){const a=s.value.clone(),l=jy(s.fieldTransforms,r,o.transformResults);a.setAll(l),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof as?function(s,r,o){if(!Ic(s.precondition,r))return void r.convertToUnknownDocument(o.version);const a=jy(s.fieldTransforms,r,o.transformResults),l=r.data;l.setAll(nI(s)),l.setAll(a),r.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(s,r,o){r.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function sa(e,t,n,i){return e instanceof pl?function(r,o,a,l){if(!Ic(r.precondition,o))return a;const c=r.value.clone(),u=$y(r.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(e,t,n,i):e instanceof as?function(r,o,a,l){if(!Ic(r.precondition,o))return a;const c=$y(r.fieldTransforms,l,o),u=o.data;return u.setAll(nI(r)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(h=>h.field))}(e,t,n,i):function(r,o,a){return Ic(r.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function nD(e,t){let n=null;for(const i of e.fieldTransforms){const s=t.data.field(i.field),r=XE(i.transform,s||null);r!=null&&(n===null&&(n=qe.empty()),n.set(i.field,r))}return n||null}function zy(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Hr(i,s,(r,o)=>ZO(r,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class pl extends mh{constructor(t,n,i,s=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class as extends mh{constructor(t,n,i,s,r=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function nI(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function jy(e,t,n){const i=new Map;Wt(e.length===n.length);for(let s=0;s<n.length;s++){const r=e[s],o=r.transform,a=t.data.field(r.field);i.set(r.field,XO(o,a,n[s]))}return i}function $y(e,t,n){const i=new Map;for(const s of e){const r=s.transform,o=n.data.field(s.field);i.set(s.field,YO(r,o,t))}return i}class Fg extends mh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iD extends mh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(t,n,i,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(t.key)&&eD(r,t,i[s])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=sa(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=sa(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=GE();return this.mutations.forEach(s=>{const r=t.get(s.key),o=r.overlayedDocument;let a=this.applyToLocalView(o,r.mutatedFields);a=n.has(s.key)?null:a;const l=eI(o,a);l!==null&&i.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ct.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),mt())}isEqual(t){return this.batchId===t.batchId&&Hr(this.mutations,t.mutations,(n,i)=>zy(n,i))&&Hr(this.baseMutations,t.baseMutations,(n,i)=>zy(n,i))}}class Bg{constructor(t,n,i,s){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(t,n,i){Wt(t.mutations.length===i.length);let s=function(){return WO}();const r=t.mutations;for(let o=0;o<r.length;o++)s=s.insert(r[o].key,i[o].version);return new Bg(t,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae,yt;function aD(e){switch(e){default:return ot();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function iI(e){if(e===void 0)return mi("GRPC error has no .code"),O.UNKNOWN;switch(e){case ae.OK:return O.OK;case ae.CANCELLED:return O.CANCELLED;case ae.UNKNOWN:return O.UNKNOWN;case ae.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case ae.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case ae.INTERNAL:return O.INTERNAL;case ae.UNAVAILABLE:return O.UNAVAILABLE;case ae.UNAUTHENTICATED:return O.UNAUTHENTICATED;case ae.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case ae.NOT_FOUND:return O.NOT_FOUND;case ae.ALREADY_EXISTS:return O.ALREADY_EXISTS;case ae.PERMISSION_DENIED:return O.PERMISSION_DENIED;case ae.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case ae.ABORTED:return O.ABORTED;case ae.OUT_OF_RANGE:return O.OUT_OF_RANGE;case ae.UNIMPLEMENTED:return O.UNIMPLEMENTED;case ae.DATA_LOSS:return O.DATA_LOSS;default:return ot()}}(yt=ae||(ae={}))[yt.OK=0]="OK",yt[yt.CANCELLED=1]="CANCELLED",yt[yt.UNKNOWN=2]="UNKNOWN",yt[yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yt[yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yt[yt.NOT_FOUND=5]="NOT_FOUND",yt[yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",yt[yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",yt[yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",yt[yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yt[yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yt[yt.ABORTED=10]="ABORTED",yt[yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",yt[yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",yt[yt.INTERNAL=13]="INTERNAL",yt[yt.UNAVAILABLE=14]="UNAVAILABLE",yt[yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return ql}static getOrCreateInstance(){return ql===null&&(ql=new Ug),ql}onExistenceFilterMismatch(t){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,t),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(t))}}let ql=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=new Sr([4294967295,4294967295],0);function Hy(e){const t=lD().encode(e),n=new fO;return n.update(t),new Uint8Array(n.digest())}function Wy(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),r=t.getUint32(12,!0);return[new Sr([n,i],0),new Sr([s,r],0)]}class zg{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Lo(`Invalid padding: ${n}`);if(i<0)throw new Lo(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Lo(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Lo(`Invalid padding when bitmap length is 0: ${n}`);this.de=8*t.length-n,this.Ae=Sr.fromNumber(this.de)}Re(t,n,i){let s=t.add(n.multiply(Sr.fromNumber(i)));return s.compare(cD)===1&&(s=new Sr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ae).toNumber()}Ve(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.de===0)return!1;const n=Hy(t),[i,s]=Wy(n);for(let r=0;r<this.hashCount;r++){const o=this.Re(i,s,r);if(!this.Ve(o))return!1}return!0}static create(t,n,i){const s=t%8==0?0:8-t%8,r=new Uint8Array(Math.ceil(t/8)),o=new zg(r,s,n);return i.forEach(a=>o.insert(a)),o}insert(t){if(this.de===0)return;const n=Hy(t),[i,s]=Wy(n);for(let r=0;r<this.hashCount;r++){const o=this.Re(i,s,r);this.me(o)}}me(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Lo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(t,n,i,s,r){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const s=new Map;return s.set(t,gl.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new _h(ct.min(),s,new Gt(Tt),yi(),mt())}}class gl{constructor(t,n,i,s,r){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new gl(i,n,mt(),mt(),mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(t,n,i,s){this.fe=t,this.removedTargetIds=n,this.key=i,this.ge=s}}class sI{constructor(t,n){this.targetId=t,this.pe=n}}class rI{constructor(t,n,i=Le.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=s}}class qy{constructor(){this.ye=0,this.we=Gy(),this.Se=Le.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}get current(){return this.be}get resumeToken(){return this.Se}get ve(){return this.ye!==0}get Ce(){return this.De}Fe(t){t.approximateByteSize()>0&&(this.De=!0,this.Se=t)}Me(){let t=mt(),n=mt(),i=mt();return this.we.forEach((s,r)=>{switch(r){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:ot()}}),new gl(this.Se,this.be,t,n,i)}xe(){this.De=!1,this.we=Gy()}Oe(t,n){this.De=!0,this.we=this.we.insert(t,n)}Ne(t){this.De=!0,this.we=this.we.remove(t)}Be(){this.ye+=1}Le(){this.ye-=1}ke(){this.De=!0,this.be=!0}}class uD{constructor(t){this.qe=t,this.Qe=new Map,this.Ke=yi(),this.$e=Ky(),this.Ue=new Gt(Tt)}We(t){for(const n of t.fe)t.ge&&t.ge.isFoundDocument()?this.Ge(n,t.ge):this.ze(n,t.key,t.ge);for(const n of t.removedTargetIds)this.ze(n,t.key,t.ge)}je(t){this.forEachTarget(t,n=>{const i=this.He(n);switch(t.state){case 0:this.Je(n)&&i.Fe(t.resumeToken);break;case 1:i.Le(),i.ve||i.xe(),i.Fe(t.resumeToken);break;case 2:i.Le(),i.ve||this.removeTarget(n);break;case 3:this.Je(n)&&(i.ke(),i.Fe(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Fe(t.resumeToken));break;default:ot()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Qe.forEach((i,s)=>{this.Je(s)&&n(s)})}Ze(t){var n,i;const s=t.targetId,r=t.pe.count,o=this.Xe(s);if(o){const a=o.target;if(Ld(a))if(r===0){const l=new Z(a.path);this.ze(s,l,ke.newNoDocument(l,ct.min()))}else Wt(r===1);else{const l=this.et(s);if(l!==r){const c=this.tt(t,l);if(c.status!==0){this.Ye(s);const u=c.status===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(s,u)}(n=Ug.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(h,f,d,p){var g,m,_,y,E,A;const w={localCacheCount:d,existenceFilterCount:p.count},T=p.unchangedNames;return T&&(w.bloomFilter={applied:h===0,hashCount:(g=T==null?void 0:T.hashCount)!==null&&g!==void 0?g:0,bitmapLength:(y=(_=(m=T==null?void 0:T.bits)===null||m===void 0?void 0:m.bitmap)===null||_===void 0?void 0:_.length)!==null&&y!==void 0?y:0,padding:(A=(E=T==null?void 0:T.bits)===null||E===void 0?void 0:E.padding)!==null&&A!==void 0?A:0},f&&(w.bloomFilter.mightContain=f)),w}(c.status,(i=c.nt)!==null&&i!==void 0?i:null,l,t.pe))}}}}tt(t,n){const{unchangedNames:i,count:s}=t.pe;if(!i||!i.bits)return{status:1};const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=i;let l,c;try{l=Hs(r).toUint8Array()}catch(h){if(h instanceof DE)return $r("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw h}try{c=new zg(l,o,a)}catch(h){return $r(h instanceof Lo?"BloomFilter error: ":"Applying bloom filter failed: ",h),{status:1}}const u=h=>{const f=this.qe.rt();return c.mightContain(`projects/${f.projectId}/databases/${f.database}/documents/${h}`)};return c.de===0?{status:1}:{status:s===n-this.it(t.targetId,u)?0:2,nt:u}}it(t,n){const i=this.qe.getRemoteKeysForTarget(t);let s=0;return i.forEach(r=>{n(r.path.canonicalString())||(this.ze(t,r,null),s++)}),s}st(t){const n=new Map;this.Qe.forEach((r,o)=>{const a=this.Xe(o);if(a){if(r.current&&Ld(a.target)){const l=new Z(a.target.path);this.Ke.get(l)!==null||this.ot(o,l)||this.ze(o,l,ke.newNoDocument(l,t))}r.Ce&&(n.set(o,r.Me()),r.xe())}});let i=mt();this.$e.forEach((r,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Xe(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(r))}),this.Ke.forEach((r,o)=>o.setReadTime(t));const s=new _h(t,n,this.Ue,this.Ke,i);return this.Ke=yi(),this.$e=Ky(),this.Ue=new Gt(Tt),s}Ge(t,n){if(!this.Je(t))return;const i=this.ot(t,n.key)?2:0;this.He(t).Oe(n.key,i),this.Ke=this.Ke.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t))}ze(t,n,i){if(!this.Je(t))return;const s=this.He(t);this.ot(t,n)?s.Oe(n,1):s.Ne(n),this.$e=this.$e.insert(n,this._t(n).delete(t)),i&&(this.Ke=this.Ke.insert(n,i))}removeTarget(t){this.Qe.delete(t)}et(t){const n=this.He(t).Me();return this.qe.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Be(t){this.He(t).Be()}He(t){let n=this.Qe.get(t);return n||(n=new qy,this.Qe.set(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new De(Tt),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.Qe.get(t);return n&&n.ve?null:this.qe.ut(t)}Ye(t){this.Qe.set(t,new qy),this.qe.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ot(t,n){return this.qe.getRemoteKeysForTarget(t).has(n)}}function Ky(){return new Gt(Z.comparator)}function Gy(){return new Gt(Z.comparator)}const hD=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),fD=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),dD=(()=>({and:"AND",or:"OR"}))();class pD{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Ud(e,t){return e.useProto3Json||fh(t)?t:{value:t}}function uu(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function oI(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function gD(e,t){return uu(e,t.toTimestamp())}function Hn(e){return Wt(!!e),ct.fromTimestamp(function(n){const i=Ji(n);return new he(i.seconds,i.nanos)}(e))}function jg(e,t){return function(i){return new zt(["projects",i.projectId,"databases",i.database])}(e).child("documents").child(t).canonicalString()}function aI(e){const t=zt.fromString(e);return Wt(hI(t)),t}function zd(e,t){return jg(e.databaseId,t.path)}function bf(e,t){const n=aI(t);if(n.get(1)!==e.databaseId.projectId)throw new q(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new q(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Z(lI(n))}function jd(e,t){return jg(e.databaseId,t)}function mD(e){const t=aI(e);return t.length===4?zt.emptyPath():lI(t)}function $d(e){return new zt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function lI(e){return Wt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Qy(e,t,n){return{name:zd(e,t),fields:n.value.mapValue.fields}}function _D(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ot()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],r=function(c,u){return c.useProto3Json?(Wt(u===void 0||typeof u=="string"),Le.fromBase64String(u||"")):(Wt(u===void 0||u instanceof Uint8Array),Le.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(c){const u=c.code===void 0?O.UNKNOWN:iI(c.code);return new q(u,c.message||"")}(o);n=new rI(i,s,r,a||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=bf(e,i.document.name),r=Hn(i.document.updateTime),o=i.document.createTime?Hn(i.document.createTime):ct.min(),a=new qe({mapValue:{fields:i.document.fields}}),l=ke.newFoundDocument(s,r,o,a),c=i.targetIds||[],u=i.removedTargetIds||[];n=new Tc(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=bf(e,i.document),r=i.readTime?Hn(i.readTime):ct.min(),o=ke.newNoDocument(s,r),a=i.removedTargetIds||[];n=new Tc([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=bf(e,i.document),r=i.removedTargetIds||[];n=new Tc([],r,s,null)}else{if(!("filter"in t))return ot();{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,o=new oD(s,r),a=i.targetId;n=new sI(a,o)}}return n}function yD(e,t){let n;if(t instanceof pl)n={update:Qy(e,t.key,t.value)};else if(t instanceof Fg)n={delete:zd(e,t.key)};else if(t instanceof as)n={update:Qy(e,t.key,t.data),updateMask:SD(t.fieldMask)};else{if(!(t instanceof iD))return ot();n={verify:zd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const a=o.transform;if(a instanceof lu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Kr)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof La)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof cu)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw ot()}(0,i))),t.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:gD(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:ot()}(e,t.precondition)),n}function vD(e,t){return e&&e.length>0?(Wt(t!==void 0),e.map(n=>function(s,r){let o=s.updateTime?Hn(s.updateTime):Hn(r);return o.isEqual(ct.min())&&(o=Hn(r)),new tD(o,s.transformResults||[])}(n,t))):[]}function bD(e,t){return{documents:[jd(e,t.path)]}}function AD(e,t){const n={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(n.parent=jd(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=jd(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const s=function(l){if(l.length!==0)return uI(Cn.create(l,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const r=function(l){if(l.length!==0)return l.map(c=>function(h){return{field:_r(h.field),direction:ID(h.dir)}}(c))}(t.orderBy);r&&(n.structuredQuery.orderBy=r);const o=Ud(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function wD(e){let t=mD(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){Wt(i===1);const u=n.from[0];u.allDescendants?s=u.collectionId:t=t.child(u.collectionId)}let r=[];n.where&&(r=function(h){const f=cI(h);return f instanceof Cn&&FE(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(p){return new na(yr(p.field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,fh(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,d=h.values||[];return new au(d,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,d=h.values||[];return new au(d,f)}(n.endAt)),zO(t,s,o,r,a,"F",l,c)}function ED(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ot()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function cI(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=yr(n.unaryFilter.field);return ce.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=yr(n.unaryFilter.field);return ce.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=yr(n.unaryFilter.field);return ce.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=yr(n.unaryFilter.field);return ce.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ot()}}(e):e.fieldFilter!==void 0?function(n){return ce.create(yr(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ot()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Cn.create(n.compositeFilter.filters.map(i=>cI(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ot()}}(n.compositeFilter.op))}(e):ot()}function ID(e){return hD[e]}function TD(e){return fD[e]}function xD(e){return dD[e]}function _r(e){return{fieldPath:e.canonicalString()}}function yr(e){return Pe.fromServerFormat(e.fieldPath)}function uI(e){return e instanceof ce?function(n){if(n.op==="=="){if(Ny(n.value))return{unaryFilter:{field:_r(n.field),op:"IS_NAN"}};if(Dy(n.value))return{unaryFilter:{field:_r(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ny(n.value))return{unaryFilter:{field:_r(n.field),op:"IS_NOT_NAN"}};if(Dy(n.value))return{unaryFilter:{field:_r(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_r(n.field),op:TD(n.op),value:n.value}}}(e):e instanceof Cn?function(n){const i=n.getFilters().map(s=>uI(s));return i.length===1?i[0]:{compositeFilter:{op:xD(n.op),filters:i}}}(e):ot()}function SD(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function hI(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(t,n,i,s,r=ct.min(),o=ct.min(),a=Le.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Li(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(t){this.ct=t}}function CD(e){const t=wD({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Fd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(){this.sn=new RD}addToCollectionParentIndex(t,n){return this.sn.add(n),L.resolve()}getCollectionParents(t,n){return L.resolve(this.sn.getEntries(n))}addFieldIndex(t,n){return L.resolve()}deleteFieldIndex(t,n){return L.resolve()}getDocumentsMatchingTarget(t,n){return L.resolve(null)}getIndexType(t,n){return L.resolve(0)}getFieldIndexes(t,n){return L.resolve([])}getNextCollectionGroupToUpdate(t){return L.resolve(null)}getMinOffset(t,n){return L.resolve(Xi.min())}getMinOffsetFromCollectionGroup(t,n){return L.resolve(Xi.min())}updateCollectionGroup(t,n,i){return L.resolve()}updateIndexEntries(t,n){return L.resolve()}}class RD{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n]||new De(zt.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(t){return(this.index[t]||new De(zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(t){this.Mn=t}next(){return this.Mn+=2,this.Mn}static xn(){return new Gr(0)}static On(){return new Gr(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this.changes=new uo(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,ke.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?L.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(t,n,i,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(i!==null&&sa(i.mutation,s,nn.empty(),he.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,mt()).next(()=>i))}getLocalViewOfDocuments(t,n,i=mt()){const s=Ts();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,i).next(r=>{let o=No();return r.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const i=Ts();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,mt()))}populateOverlays(t,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(t,s).next(r=>{r.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,i,s){let r=yi();const o=ia(),a=function(){return ia()}();return n.forEach((l,c)=>{const u=i.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof as)?r=r.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),sa(u.mutation,c,u.mutation.getFieldMask(),he.now())):o.set(c.key,nn.empty())}),this.recalculateAndSaveOverlays(t,r).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new OD(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const i=ia();let s=new Gt((o,a)=>o-a),r=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=i.get(l)||nn.empty();u=a.applyToLocalView(c,u),i.set(l,u);const h=(s.get(a.batchId)||mt()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=GE();u.forEach(f=>{if(!r.has(f)){const d=eI(n.get(f),i.get(f));d!==null&&h.set(f,d),r=r.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,c,h))}return L.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i){return function(r){return Z.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):$E(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i):this.getDocumentsMatchingCollectionQuery(t,n,i)}getNextDocuments(t,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,s).next(r=>{const o=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,s-r.size):L.resolve(Ts());let a=-1,l=r;return o.next(c=>L.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),r.get(u)?L.resolve():this.remoteDocumentCache.getEntry(t,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(t,c,r)).next(()=>this.computeViews(t,l,c,mt())).next(u=>({batchId:a,changes:KE(u)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Z(n)).next(i=>{let s=No();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,i){const s=n.collectionGroup;let r=No();return this.indexManager.getCollectionParents(t,s).next(o=>L.forEach(o,a=>{const l=function(u,h){return new dl(h,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(t,l,i).next(c=>{c.forEach((u,h)=>{r=r.insert(u,h)})})}).next(()=>r))}getDocumentsMatchingCollectionQuery(t,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(r=>(s=r,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s))).next(r=>{s.forEach((a,l)=>{const c=l.getKey();r.get(c)===null&&(r=r.insert(c,ke.newInvalidDocument(c)))});let o=No();return r.forEach((a,l)=>{const c=s.get(a);c!==void 0&&sa(c.mutation,l,nn.empty(),he.now()),ph(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(t){this.serializer=t,this.ar=new Map,this.ur=new Map}getBundleMetadata(t,n){return L.resolve(this.ar.get(n))}saveBundleMetadata(t,n){return this.ar.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Hn(s.createTime)}}(n)),L.resolve()}getNamedQuery(t,n){return L.resolve(this.ur.get(n))}saveNamedQuery(t,n){return this.ur.set(n.name,function(s){return{name:s.name,query:CD(s.bundledQuery),readTime:Hn(s.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(){this.overlays=new Gt(Z.comparator),this.cr=new Map}getOverlay(t,n){return L.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Ts();return L.forEach(n,s=>this.getOverlay(t,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((s,r)=>{this.ht(t,n,r)}),L.resolve()}removeOverlaysForBatchId(t,n,i){const s=this.cr.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.cr.delete(i)),L.resolve()}getOverlaysForCollection(t,n,i){const s=Ts(),r=n.length+1,o=new Z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===r&&l.largestBatchId>i&&s.set(l.getKey(),l)}return L.resolve(s)}getOverlaysForCollectionGroup(t,n,i,s){let r=new Gt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let u=r.get(c.largestBatchId);u===null&&(u=Ts(),r=r.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Ts(),l=r.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return L.resolve(a)}ht(t,n,i){const s=this.overlays.get(i.key);if(s!==null){const o=this.cr.get(s.largestBatchId).delete(i.key);this.cr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new rD(n,i));let r=this.cr.get(n);r===void 0&&(r=mt(),this.cr.set(n,r)),this.cr.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(){this.lr=new De(de.hr),this.Pr=new De(de.Ir)}isEmpty(){return this.lr.isEmpty()}addReference(t,n){const i=new de(t,n);this.lr=this.lr.add(i),this.Pr=this.Pr.add(i)}Tr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Er(new de(t,n))}dr(t,n){t.forEach(i=>this.removeReference(i,n))}Ar(t){const n=new Z(new zt([])),i=new de(n,t),s=new de(n,t+1),r=[];return this.Pr.forEachInRange([i,s],o=>{this.Er(o),r.push(o.key)}),r}Rr(){this.lr.forEach(t=>this.Er(t))}Er(t){this.lr=this.lr.delete(t),this.Pr=this.Pr.delete(t)}Vr(t){const n=new Z(new zt([])),i=new de(n,t),s=new de(n,t+1);let r=mt();return this.Pr.forEachInRange([i,s],o=>{r=r.add(o.key)}),r}containsKey(t){const n=new de(t,0),i=this.lr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class de{constructor(t,n){this.key=t,this.mr=n}static hr(t,n){return Z.comparator(t.key,n.key)||Tt(t.mr,n.mr)}static Ir(t,n){return Tt(t.mr,n.mr)||Z.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.gr=1,this.pr=new De(de.hr)}checkEmpty(t){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,s){const r=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new sD(r,n,i,s);this.mutationQueue.push(o);for(const a of s)this.pr=this.pr.add(new de(a.key,r)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return L.resolve(o)}lookupMutationBatch(t,n){return L.resolve(this.yr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,s=this.wr(i),r=s<0?0:s;return L.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.gr-1)}getAllMutationBatches(t){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new de(n,0),s=new de(n,Number.POSITIVE_INFINITY),r=[];return this.pr.forEachInRange([i,s],o=>{const a=this.yr(o.mr);r.push(a)}),L.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new De(Tt);return n.forEach(s=>{const r=new de(s,0),o=new de(s,Number.POSITIVE_INFINITY);this.pr.forEachInRange([r,o],a=>{i=i.add(a.mr)})}),L.resolve(this.Sr(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,s=i.length+1;let r=i;Z.isDocumentKey(r)||(r=r.child(""));const o=new de(new Z(r),0);let a=new De(Tt);return this.pr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.mr)),!0)},o),L.resolve(this.Sr(a))}Sr(t){const n=[];return t.forEach(i=>{const s=this.yr(i);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){Wt(this.br(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.pr;return L.forEach(n.mutations,s=>{const r=new de(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.pr=i})}Cn(t){}containsKey(t,n){const i=new de(n,0),s=this.pr.firstAfterOrEqual(i);return L.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,L.resolve()}br(t,n){return this.wr(t)}wr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}yr(t){const n=this.wr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(t){this.Dr=t,this.docs=function(){return new Gt(Z.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,o=this.Dr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return L.resolve(i?i.document.mutableCopy():ke.newInvalidDocument(n))}getEntries(t,n){let i=yi();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():ke.newInvalidDocument(s))}),L.resolve(i)}getDocumentsMatchingQuery(t,n,i,s){let r=yi();const o=n.path,a=new Z(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||IO(EO(u),i)<=0||(s.has(u.key)||ph(n,u))&&(r=r.insert(u.key,u.mutableCopy()))}return L.resolve(r)}getAllFromCollectionGroup(t,n,i,s){ot()}vr(t,n){return L.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new BD(this)}getSize(t){return L.resolve(this.size)}}class BD extends MD{constructor(t){super(),this.sr=t}applyChanges(t){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.sr.addEntry(t,s)):this.sr.removeEntry(i)}),L.waitFor(n)}getFromCache(t,n){return this.sr.getEntry(t,n)}getAllFromCache(t,n){return this.sr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(t){this.persistence=t,this.Cr=new uo(n=>Dg(n),Ng),this.lastRemoteSnapshotVersion=ct.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new $g,this.targetCount=0,this.Or=Gr.xn()}forEachTarget(t,n){return this.Cr.forEach((i,s)=>n(s)),L.resolve()}getLastRemoteSnapshotVersion(t){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return L.resolve(this.Fr)}allocateTargetId(t){return this.highestTargetId=this.Or.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Fr&&(this.Fr=n),L.resolve()}Ln(t){this.Cr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Or=new Gr(n),this.highestTargetId=n),t.sequenceNumber>this.Fr&&(this.Fr=t.sequenceNumber)}addTargetData(t,n){return this.Ln(n),this.targetCount+=1,L.resolve()}updateTargetData(t,n){return this.Ln(n),L.resolve()}removeTargetData(t,n){return this.Cr.delete(n.target),this.Mr.Ar(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(t,n,i){let s=0;const r=[];return this.Cr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Cr.delete(o),r.push(this.removeMatchingKeysForTargetId(t,a.targetId)),s++)}),L.waitFor(r).next(()=>s)}getTargetCount(t){return L.resolve(this.targetCount)}getTargetData(t,n){const i=this.Cr.get(n)||null;return L.resolve(i)}addMatchingKeys(t,n,i){return this.Mr.Tr(n,i),L.resolve()}removeMatchingKeys(t,n,i){this.Mr.dr(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(o=>{r.push(s.markPotentiallyOrphaned(t,o))}),L.waitFor(r)}removeMatchingKeysForTargetId(t,n){return this.Mr.Ar(n),L.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Mr.Vr(n);return L.resolve(i)}containsKey(t,n){return L.resolve(this.Mr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(t,n){this.Nr={},this.overlays={},this.Br=new Pg(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=t(this),this.kr=new UD(this),this.indexManager=new PD,this.remoteDocumentCache=function(s){return new FD(s)}(i=>this.referenceDelegate.qr(i)),this.serializer=new kD(n),this.Qr=new ND(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Lr=!1,Promise.resolve()}get started(){return this.Lr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new LD,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.Nr[t.toKey()];return i||(i=new VD(n,this.referenceDelegate),this.Nr[t.toKey()]=i),i}getTargetCache(){return this.kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Qr}runTransaction(t,n,i){Y("MemoryPersistence","Starting transaction:",t);const s=new jD(this.Br.next());return this.referenceDelegate.Kr(),i(s).next(r=>this.referenceDelegate.$r(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Ur(t,n){return L.or(Object.values(this.Nr).map(i=>()=>i.containsKey(t,n)))}}class jD extends xO{constructor(t){super(),this.currentSequenceNumber=t}}class Hg{constructor(t){this.persistence=t,this.Wr=new $g,this.Gr=null}static zr(t){return new Hg(t)}get jr(){if(this.Gr)return this.Gr;throw ot()}addReference(t,n,i){return this.Wr.addReference(i,n),this.jr.delete(i.toString()),L.resolve()}removeReference(t,n,i){return this.Wr.removeReference(i,n),this.jr.add(i.toString()),L.resolve()}markPotentiallyOrphaned(t,n){return this.jr.add(n.toString()),L.resolve()}removeTarget(t,n){this.Wr.Ar(n.targetId).forEach(s=>this.jr.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(r=>this.jr.add(r.toString()))}).next(()=>i.removeTargetData(t,n))}Kr(){this.Gr=new Set}$r(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.jr,i=>{const s=Z.fromPath(i);return this.Hr(t,s).next(r=>{r||n.removeEntry(s,ct.min())})}).next(()=>(this.Gr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Hr(t,n).next(i=>{i?this.jr.delete(n.toString()):this.jr.add(n.toString())})}qr(t){return 0}Hr(t,n){return L.or([()=>L.resolve(this.Wr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ur(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(t,n,i,s){this.targetId=t,this.fromCache=n,this.Li=i,this.ki=s}static qi(t,n){let i=mt(),s=mt();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new Wg(t,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this.Qi=!1}initialize(t,n){this.Ki=t,this.indexManager=n,this.Qi=!0}getDocumentsMatchingQuery(t,n,i,s){return this.$i(t,n).next(r=>r||this.Ui(t,n,s,i)).next(r=>r||this.Wi(t,n))}$i(t,n){if(By(n))return L.resolve(null);let i=_i(n);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Fd(n,null,"F"),i=_i(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(r=>{const o=mt(...r);return this.Ki.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const c=this.Gi(n,a);return this.zi(n,c,o,l.readTime)?this.$i(t,Fd(n,null,"F")):this.ji(t,c,n,l)}))})))}Ui(t,n,i,s){return By(n)||s.isEqual(ct.min())?this.Wi(t,n):this.Ki.getDocuments(t,i).next(r=>{const o=this.Gi(n,r);return this.zi(n,o,i,s)?this.Wi(t,n):(Cy()<=wt.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Bd(n)),this.ji(t,o,n,wO(s,-1)))})}Gi(t,n){let i=new De(WE(t));return n.forEach((s,r)=>{ph(t,r)&&(i=i.add(r))}),i}zi(t,n,i,s){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const r=t.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}Wi(t,n){return Cy()<=wt.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Bd(n)),this.Ki.getDocumentsMatchingQuery(t,n,Xi.min())}ji(t,n,i,s){return this.Ki.getDocumentsMatchingQuery(t,i,s).next(r=>(n.forEach(o=>{r=r.insert(o.key,o)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(t,n,i,s){this.persistence=t,this.Hi=n,this.serializer=s,this.Ji=new Gt(Tt),this.Yi=new uo(r=>Dg(r),Ng),this.Zi=new Map,this.Xi=t.getRemoteDocumentCache(),this.kr=t.getTargetCache(),this.Qr=t.getBundleCache(),this.es(i)}es(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new DD(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ji))}}function WD(e,t,n,i){return new HD(e,t,n,i)}async function fI(e,t){const n=ft(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.es(t),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const o=[],a=[];let l=mt();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of r){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(i,l).next(c=>({ts:c,removedBatchIds:o,addedBatchIds:a}))})})}function qD(e,t){const n=ft(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),r=n.Xi.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,f=h.keys();let d=L.resolve();return f.forEach(p=>{d=d.next(()=>u.getEntry(l,p)).next(g=>{const m=c.docVersions.get(p);Wt(m!==null),g.version.compareTo(m)<0&&(h.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),d.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,i,t,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=mt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>n.localDocuments.getDocuments(i,s))})}function dI(e){const t=ft(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.kr.getLastRemoteSnapshotVersion(n))}function KD(e,t){const n=ft(e),i=t.snapshotVersion;let s=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=n.Xi.newChangeBuffer({trackRemovals:!0});s=n.Ji;const a=[];t.targetChanges.forEach((u,h)=>{const f=s.get(h);if(!f)return;a.push(n.kr.removeMatchingKeys(r,u.removedDocuments,h).next(()=>n.kr.addMatchingKeys(r,u.addedDocuments,h)));let d=f.withSequenceNumber(r.currentSequenceNumber);t.targetMismatches.get(h)!==null?d=d.withResumeToken(Le.EMPTY_BYTE_STRING,ct.min()).withLastLimboFreeSnapshotVersion(ct.min()):u.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(u.resumeToken,i)),s=s.insert(h,d),function(g,m,_){return g.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,d,u)&&a.push(n.kr.updateTargetData(r,d))});let l=yi(),c=mt();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(r,u))}),a.push(GD(r,o,t.documentUpdates).next(u=>{l=u.ns,c=u.rs})),!i.isEqual(ct.min())){const u=n.kr.getLastRemoteSnapshotVersion(r).next(h=>n.kr.setTargetsMetadata(r,r.currentSequenceNumber,i));a.push(u)}return L.waitFor(a).next(()=>o.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,l,c)).next(()=>l)}).then(r=>(n.Ji=s,r))}function GD(e,t,n){let i=mt(),s=mt();return n.forEach(r=>i=i.add(r)),t.getEntries(e,i).next(r=>{let o=yi();return n.forEach((a,l)=>{const c=r.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ct.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):Y("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ns:o,rs:s}})}function QD(e,t){const n=ft(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function YD(e,t){const n=ft(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.kr.getTargetData(i,t).next(r=>r?(s=r,L.resolve(s)):n.kr.allocateTargetId(i).next(o=>(s=new Li(t,o,"TargetPurposeListen",i.currentSequenceNumber),n.kr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.Ji.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(i.targetId,i),n.Yi.set(t,i.targetId)),i})}async function Hd(e,t,n){const i=ft(e),s=i.Ji.get(t),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,o=>i.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!fl(o))throw o;Y("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}i.Ji=i.Ji.remove(t),i.Yi.delete(s.target)}function Yy(e,t,n){const i=ft(e);let s=ct.min(),r=mt();return i.persistence.runTransaction("Execute query","readonly",o=>function(l,c,u){const h=ft(l),f=h.Yi.get(u);return f!==void 0?L.resolve(h.Ji.get(f)):h.kr.getTargetData(c,u)}(i,o,_i(t)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,i.kr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{r=l})}).next(()=>i.Hi.getDocumentsMatchingQuery(o,t,n?s:ct.min(),n?r:mt())).next(a=>(XD(i,jO(t),a),{documents:a,ss:r})))}function XD(e,t,n){let i=e.Zi.get(t)||ct.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),e.Zi.set(t,i)}class Xy{constructor(){this.activeTargetIds=GO()}hs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ps(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ls(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class JD{constructor(){this.Hs=new Xy,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t){return this.Hs.hs(t),this.Js[t]||"not-current"}updateQueryState(t,n,i){this.Js[t]=n}removeLocalQueryTarget(t){this.Hs.Ps(t)}isLocalQueryTarget(t){return this.Hs.activeTargetIds.has(t)}clearQueryState(t){delete this.Js[t]}getAllActiveQueryTargets(){return this.Hs.activeTargetIds}isActiveQueryTarget(t){return this.Hs.activeTargetIds.has(t)}start(){return this.Hs=new Xy,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{Ys(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(){this.Zs=()=>this.Xs(),this.eo=()=>this.no(),this.ro=[],this.io()}Ys(t){this.ro.push(t)}shutdown(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}Xs(){Y("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ro)t(0)}no(){Y("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ro)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kl=null;function Af(){return Kl===null?Kl=function(){return 268435456+Math.round(2147483648*Math.random())}():Kl++,"0x"+Kl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(t){this.so=t.so,this.oo=t.oo}_o(t){this.ao=t}uo(t){this.co=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.so(t)}ho(){this.ao()}Po(t){this.co(t)}Io(t){this.lo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ie="WebChannelConnection";class nN extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.To=i+"://"+n.host,this.Eo=`projects/${s}/databases/${r}`,this.Ao=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${r}`}get Ro(){return!1}Vo(n,i,s,r,o){const a=Af(),l=this.mo(n,i);Y("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.Eo,"x-goog-request-params":this.Ao};return this.fo(c,r,o),this.po(n,l,c,s).then(u=>(Y("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw $r("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}yo(n,i,s,r,o,a){return this.Vo(n,i,s,r,o)}fo(n,i,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+co}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((r,o)=>n[o]=r),s&&s.headers.forEach((r,o)=>n[o]=r)}mo(n,i){const s=tN[n];return`${this.To}/v1/${i}:${s}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}po(t,n,i,s){const r=Af();return new Promise((o,a)=>{const l=new hO;l.setWithCredentials(!0),l.listenOnce(lO.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case vf.NO_ERROR:const u=l.getResponseJson();Y(Ie,`XHR for RPC '${t}' ${r} received:`,JSON.stringify(u)),o(u);break;case vf.TIMEOUT:Y(Ie,`RPC '${t}' ${r} timed out`),a(new q(O.DEADLINE_EXCEEDED,"Request time out"));break;case vf.HTTP_ERROR:const h=l.getStatus();if(Y(Ie,`RPC '${t}' ${r} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const d=f==null?void 0:f.error;if(d&&d.status&&d.message){const p=function(m){const _=m.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(_)>=0?_:O.UNKNOWN}(d.status);a(new q(p,d.message))}else a(new q(O.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new q(O.UNAVAILABLE,"Connection failed."));break;default:ot()}}finally{Y(Ie,`RPC '${t}' ${r} completed.`)}});const c=JSON.stringify(s);Y(Ie,`RPC '${t}' ${r} sending request:`,s),l.send(n,"POST",c,i,15)})}wo(t,n,i){const s=Af(),r=[this.To,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=oO(),a=aO(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new uO({})),this.fo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const u=r.join("");Y(Ie,`Creating RPC '${t}' stream ${s}: ${u}`,l);const h=o.createWebChannel(u,l);let f=!1,d=!1;const p=new eN({so:m=>{d?Y(Ie,`Not sending because RPC '${t}' stream ${s} is closed:`,m):(f||(Y(Ie,`Opening RPC '${t}' stream ${s} transport.`),h.open(),f=!0),Y(Ie,`RPC '${t}' stream ${s} sending:`,m),h.send(m))},oo:()=>h.close()}),g=(m,_,y)=>{m.listen(_,E=>{try{y(E)}catch(A){setTimeout(()=>{throw A},0)}})};return g(h,$l.EventType.OPEN,()=>{d||Y(Ie,`RPC '${t}' stream ${s} transport opened.`)}),g(h,$l.EventType.CLOSE,()=>{d||(d=!0,Y(Ie,`RPC '${t}' stream ${s} transport closed`),p.Po())}),g(h,$l.EventType.ERROR,m=>{d||(d=!0,$r(Ie,`RPC '${t}' stream ${s} transport errored:`,m),p.Po(new q(O.UNAVAILABLE,"The operation could not be completed")))}),g(h,$l.EventType.MESSAGE,m=>{var _;if(!d){const y=m.data[0];Wt(!!y);const E=y,A=E.error||((_=E[0])===null||_===void 0?void 0:_.error);if(A){Y(Ie,`RPC '${t}' stream ${s} received error:`,A);const w=A.status;let T=function(R){const j=ae[R];if(j!==void 0)return iI(j)}(w),S=A.message;T===void 0&&(T=O.INTERNAL,S="Unknown error status: "+w+" with message "+A.message),d=!0,p.Po(new q(T,S)),h.close()}else Y(Ie,`RPC '${t}' stream ${s} received:`,y),p.Io(y)}}),g(a,cO.STAT_EVENT,m=>{m.stat===Sy.PROXY?Y(Ie,`RPC '${t}' stream ${s} detected buffering proxy`):m.stat===Sy.NOPROXY&&Y(Ie,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{p.ho()},0),p}}function wf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(e){return new pD(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(t,n,i=1e3,s=1.5,r=6e4){this.ii=t,this.timerId=n,this.So=i,this.bo=s,this.Do=r,this.vo=0,this.Co=null,this.Fo=Date.now(),this.reset()}reset(){this.vo=0}Mo(){this.vo=this.Do}xo(t){this.cancel();const n=Math.floor(this.vo+this.Oo()),i=Math.max(0,Date.now()-this.Fo),s=Math.max(0,n-i);s>0&&Y("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.vo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Co=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Fo=Date.now(),t())),this.vo*=this.bo,this.vo<this.So&&(this.vo=this.So),this.vo>this.Do&&(this.vo=this.Do)}No(){this.Co!==null&&(this.Co.skipDelay(),this.Co=null)}cancel(){this.Co!==null&&(this.Co.cancel(),this.Co=null)}Oo(){return(Math.random()-.5)*this.vo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(t,n,i,s,r,o,a,l){this.ii=t,this.Bo=i,this.Lo=s,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.ko=0,this.qo=null,this.Qo=null,this.stream=null,this.Ko=new pI(t,n)}$o(){return this.state===1||this.state===5||this.Uo()}Uo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Wo()}async stop(){this.$o()&&await this.close(0)}Go(){this.state=0,this.Ko.reset()}zo(){this.Uo()&&this.qo===null&&(this.qo=this.ii.enqueueAfterDelay(this.Bo,6e4,()=>this.jo()))}Ho(t){this.Jo(),this.stream.send(t)}async jo(){if(this.Uo())return this.close(0)}Jo(){this.qo&&(this.qo.cancel(),this.qo=null)}Yo(){this.Qo&&(this.Qo.cancel(),this.Qo=null)}async close(t,n){this.Jo(),this.Yo(),this.Ko.cancel(),this.ko++,t!==4?this.Ko.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(mi(n.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),this.Ko.Mo()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Zo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.uo(n)}Zo(){}auth(){this.state=1;const t=this.Xo(this.ko),n=this.ko;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.ko===n&&this.e_(i,s)},i=>{t(()=>{const s=new q(O.UNKNOWN,"Fetching auth token failed: "+i.message);return this.t_(s)})})}e_(t,n){const i=this.Xo(this.ko);this.stream=this.n_(t,n),this.stream._o(()=>{i(()=>(this.state=2,this.Qo=this.ii.enqueueAfterDelay(this.Lo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener._o()))}),this.stream.uo(s=>{i(()=>this.t_(s))}),this.stream.onMessage(s=>{i(()=>this.onMessage(s))})}Wo(){this.state=5,this.Ko.xo(async()=>{this.state=0,this.start()})}t_(t){return Y("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return n=>{this.ii.enqueueAndForget(()=>this.ko===t?n():(Y("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iN extends gI{constructor(t,n,i,s,r,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,o),this.serializer=r}n_(t,n){return this.connection.wo("Listen",t,n)}onMessage(t){this.Ko.reset();const n=_D(this.serializer,t),i=function(r){if(!("targetChange"in r))return ct.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?ct.min():o.readTime?Hn(o.readTime):ct.min()}(t);return this.listener.r_(n,i)}i_(t){const n={};n.database=$d(this.serializer),n.addTarget=function(r,o){let a;const l=o.target;if(a=Ld(l)?{documents:bD(r,l)}:{query:AD(r,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=oI(r,o.resumeToken);const c=Ud(r,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ct.min())>0){a.readTime=uu(r,o.snapshotVersion.toTimestamp());const c=Ud(r,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,t);const i=ED(this.serializer,t);i&&(n.labels=i),this.Ho(n)}s_(t){const n={};n.database=$d(this.serializer),n.removeTarget=t,this.Ho(n)}}class sN extends gI{constructor(t,n,i,s,r,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,o),this.serializer=r,this.o_=!1}get __(){return this.o_}start(){this.o_=!1,this.lastStreamToken=void 0,super.start()}Zo(){this.o_&&this.a_([])}n_(t,n){return this.connection.wo("Write",t,n)}onMessage(t){if(Wt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.o_){this.Ko.reset();const n=vD(t.writeResults,t.commitTime),i=Hn(t.commitTime);return this.listener.u_(i,n)}return Wt(!t.writeResults||t.writeResults.length===0),this.o_=!0,this.listener.c_()}l_(){const t={};t.database=$d(this.serializer),this.Ho(t)}a_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>yD(this.serializer,i))};this.Ho(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN extends class{}{constructor(t,n,i,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.h_=!1}P_(){if(this.h_)throw new q(O.FAILED_PRECONDITION,"The client has already been terminated.")}Vo(t,n,i){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,r])=>this.connection.Vo(t,n,i,s,r)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(O.UNKNOWN,s.toString())})}yo(t,n,i,s){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.yo(t,n,i,r,o,s)).catch(r=>{throw r.name==="FirebaseError"?(r.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new q(O.UNKNOWN,r.toString())})}terminate(){this.h_=!0}}class oN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.T_=0,this.E_=null,this.d_=!0}A_(){this.T_===0&&(this.R_("Unknown"),this.E_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.E_=null,this.V_("Backend didn't respond within 10 seconds."),this.R_("Offline"),Promise.resolve())))}m_(t){this.state==="Online"?this.R_("Unknown"):(this.T_++,this.T_>=1&&(this.f_(),this.V_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.R_("Offline")))}set(t){this.f_(),this.T_=0,t==="Online"&&(this.d_=!1),this.R_(t)}R_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}V_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.d_?(mi(n),this.d_=!1):Y("OnlineStateTracker",n)}f_(){this.E_!==null&&(this.E_.cancel(),this.E_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(t,n,i,s,r){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.g_=[],this.p_=new Map,this.y_=new Set,this.w_=[],this.S_=r,this.S_.Ys(o=>{i.enqueueAndForget(async()=>{ar(this)&&(Y("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ft(l);c.y_.add(4),await ml(c),c.b_.set("Unknown"),c.y_.delete(4),await vh(c)}(this))})}),this.b_=new oN(i,s)}}async function vh(e){if(ar(e))for(const t of e.w_)await t(!0)}async function ml(e){for(const t of e.w_)await t(!1)}function mI(e,t){const n=ft(e);n.p_.has(t.targetId)||(n.p_.set(t.targetId,t),Gg(n)?Kg(n):ho(n).Uo()&&qg(n,t))}function _I(e,t){const n=ft(e),i=ho(n);n.p_.delete(t),i.Uo()&&yI(n,t),n.p_.size===0&&(i.Uo()?i.zo():ar(n)&&n.b_.set("Unknown"))}function qg(e,t){if(e.D_.Be(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ct.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ho(e).i_(t)}function yI(e,t){e.D_.Be(t),ho(e).s_(t)}function Kg(e){e.D_=new uD({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>e.p_.get(t)||null,rt:()=>e.datastore.serializer.databaseId}),ho(e).start(),e.b_.A_()}function Gg(e){return ar(e)&&!ho(e).$o()&&e.p_.size>0}function ar(e){return ft(e).y_.size===0}function vI(e){e.D_=void 0}async function lN(e){e.p_.forEach((t,n)=>{qg(e,t)})}async function cN(e,t){vI(e),Gg(e)?(e.b_.m_(t),Kg(e)):e.b_.set("Unknown")}async function uN(e,t,n){if(e.b_.set("Online"),t instanceof rI&&t.state===2&&t.cause)try{await async function(s,r){const o=r.cause;for(const a of r.targetIds)s.p_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.p_.delete(a),s.D_.removeTarget(a))}(e,t)}catch(i){Y("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await hu(e,i)}else if(t instanceof Tc?e.D_.We(t):t instanceof sI?e.D_.Ze(t):e.D_.je(t),!n.isEqual(ct.min()))try{const i=await dI(e.localStore);n.compareTo(i)>=0&&await function(r,o){const a=r.D_.st(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=r.p_.get(c);u&&r.p_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=r.p_.get(l);if(!u)return;r.p_.set(l,u.withResumeToken(Le.EMPTY_BYTE_STRING,u.snapshotVersion)),yI(r,l);const h=new Li(u.target,l,c,u.sequenceNumber);qg(r,h)}),r.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(i){Y("RemoteStore","Failed to raise snapshot:",i),await hu(e,i)}}async function hu(e,t,n){if(!fl(t))throw t;e.y_.add(1),await ml(e),e.b_.set("Offline"),n||(n=()=>dI(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Y("RemoteStore","Retrying IndexedDB access"),await n(),e.y_.delete(1),await vh(e)})}function bI(e,t){return t().catch(n=>hu(e,n,t))}async function bh(e){const t=ft(e),n=Zi(t);let i=t.g_.length>0?t.g_[t.g_.length-1].batchId:-1;for(;hN(t);)try{const s=await QD(t.localStore,i);if(s===null){t.g_.length===0&&n.zo();break}i=s.batchId,fN(t,s)}catch(s){await hu(t,s)}AI(t)&&wI(t)}function hN(e){return ar(e)&&e.g_.length<10}function fN(e,t){e.g_.push(t);const n=Zi(e);n.Uo()&&n.__&&n.a_(t.mutations)}function AI(e){return ar(e)&&!Zi(e).$o()&&e.g_.length>0}function wI(e){Zi(e).start()}async function dN(e){Zi(e).l_()}async function pN(e){const t=Zi(e);for(const n of e.g_)t.a_(n.mutations)}async function gN(e,t,n){const i=e.g_.shift(),s=Bg.from(i,t,n);await bI(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await bh(e)}async function mN(e,t){t&&Zi(e).__&&await async function(i,s){if(function(o){return aD(o)&&o!==O.ABORTED}(s.code)){const r=i.g_.shift();Zi(i).Go(),await bI(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await bh(i)}}(e,t),AI(e)&&wI(e)}async function Zy(e,t){const n=ft(e);n.asyncQueue.verifyOperationInProgress(),Y("RemoteStore","RemoteStore received new credentials");const i=ar(n);n.y_.add(3),await ml(n),i&&n.b_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.y_.delete(3),await vh(n)}async function _N(e,t){const n=ft(e);t?(n.y_.delete(2),await vh(n)):t||(n.y_.add(2),await ml(n),n.b_.set("Unknown"))}function ho(e){return e.v_||(e.v_=function(n,i,s){const r=ft(n);return r.P_(),new iN(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(e.datastore,e.asyncQueue,{_o:lN.bind(null,e),uo:cN.bind(null,e),r_:uN.bind(null,e)}),e.w_.push(async t=>{t?(e.v_.Go(),Gg(e)?Kg(e):e.b_.set("Unknown")):(await e.v_.stop(),vI(e))})),e.v_}function Zi(e){return e.C_||(e.C_=function(n,i,s){const r=ft(n);return r.P_(),new sN(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(e.datastore,e.asyncQueue,{_o:dN.bind(null,e),uo:mN.bind(null,e),c_:pN.bind(null,e),u_:gN.bind(null,e)}),e.w_.push(async t=>{t?(e.C_.Go(),await bh(e)):(await e.C_.stop(),e.g_.length>0&&(Y("RemoteStore",`Stopping write stream with ${e.g_.length} pending writes`),e.g_=[]))})),e.C_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(t,n,i,s,r){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,n,i,s,r){const o=Date.now()+i,a=new Qg(t,n,o,s,r);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(O.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yg(e,t){if(mi("AsyncQueue",`${t}: ${e}`),fl(e))return new q(O.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(t){this.comparator=t?(n,i)=>t(n,i)||Z.comparator(n.key,i.key):(n,i)=>Z.comparator(n.key,i.key),this.keyedMap=No(),this.sortedSet=new Gt(this.comparator)}static emptySet(t){return new Cr(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Cr)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new Cr;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(){this.F_=new Gt(Z.comparator)}track(t){const n=t.doc.key,i=this.F_.get(n);i?t.type!==0&&i.type===3?this.F_=this.F_.insert(n,t):t.type===3&&i.type!==1?this.F_=this.F_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.F_=this.F_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.F_=this.F_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.F_=this.F_.remove(n):t.type===1&&i.type===2?this.F_=this.F_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.F_=this.F_.insert(n,{type:2,doc:t.doc}):ot():this.F_=this.F_.insert(n,t)}M_(){const t=[];return this.F_.inorderTraversal((n,i)=>{t.push(i)}),t}}class Qr{constructor(t,n,i,s,r,o,a,l,c){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,n,i,s,r){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Qr(t,n,Cr.emptySet(n),o,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&dh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(){this.x_=void 0,this.listeners=[]}}class vN{constructor(){this.queries=new uo(t=>HE(t),dh),this.onlineState="Unknown",this.O_=new Set}}async function bN(e,t){const n=ft(e),i=t.query;let s=!1,r=n.queries.get(i);if(r||(s=!0,r=new yN),s)try{r.x_=await n.onListen(i)}catch(o){const a=Yg(o,`Initialization of query '${Bd(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,r),r.listeners.push(t),t.N_(n.onlineState),r.x_&&t.B_(r.x_)&&Xg(n)}async function AN(e,t){const n=ft(e),i=t.query;let s=!1;const r=n.queries.get(i);if(r){const o=r.listeners.indexOf(t);o>=0&&(r.listeners.splice(o,1),s=r.listeners.length===0)}if(s)return n.queries.delete(i),n.onUnlisten(i)}function wN(e,t){const n=ft(e);let i=!1;for(const s of t){const r=s.query,o=n.queries.get(r);if(o){for(const a of o.listeners)a.B_(s)&&(i=!0);o.x_=s}}i&&Xg(n)}function EN(e,t,n){const i=ft(e),s=i.queries.get(t);if(s)for(const r of s.listeners)r.onError(n);i.queries.delete(t)}function Xg(e){e.O_.forEach(t=>{t.next()})}class IN{constructor(t,n,i){this.query=t,this.L_=n,this.k_=!1,this.q_=null,this.onlineState="Unknown",this.options=i||{}}B_(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new Qr(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.k_?this.Q_(t)&&(this.L_.next(t),n=!0):this.K_(t,this.onlineState)&&(this.U_(t),n=!0),this.q_=t,n}onError(t){this.L_.error(t)}N_(t){this.onlineState=t;let n=!1;return this.q_&&!this.k_&&this.K_(this.q_,t)&&(this.U_(this.q_),n=!0),n}K_(t,n){if(!t.fromCache)return!0;const i=n!=="Offline";return(!this.options.W_||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Q_(t){if(t.docChanges.length>0)return!0;const n=this.q_&&this.q_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}U_(t){t=Qr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.k_=!0,this.L_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(t){this.key=t}}class II{constructor(t){this.key=t}}class TN{constructor(t,n){this.query=t,this.X_=n,this.ea=null,this.hasCachedResults=!1,this.current=!1,this.ta=mt(),this.mutatedKeys=mt(),this.na=WE(t),this.ra=new Cr(this.na)}get ia(){return this.X_}sa(t,n){const i=n?n.oa:new tv,s=n?n.ra:this.ra;let r=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((u,h)=>{const f=s.get(u),d=ph(this.query,h)?h:null,p=!!f&&this.mutatedKeys.has(f.key),g=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let m=!1;f&&d?f.data.isEqual(d.data)?p!==g&&(i.track({type:3,doc:d}),m=!0):this._a(f,d)||(i.track({type:2,doc:d}),m=!0,(l&&this.na(d,l)>0||c&&this.na(d,c)<0)&&(a=!0)):!f&&d?(i.track({type:0,doc:d}),m=!0):f&&!d&&(i.track({type:1,doc:f}),m=!0,(l||c)&&(a=!0)),m&&(d?(o=o.add(d),r=g?r.add(u):r.delete(u)):(o=o.delete(u),r=r.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),r=r.delete(u.key),i.track({type:1,doc:u})}return{ra:o,oa:i,zi:a,mutatedKeys:r}}_a(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i){const s=this.ra;this.ra=t.ra,this.mutatedKeys=t.mutatedKeys;const r=t.oa.M_();r.sort((c,u)=>function(f,d){const p=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ot()}};return p(f)-p(d)}(c.type,u.type)||this.na(c.doc,u.doc)),this.aa(i);const o=n?this.ua():[],a=this.ta.size===0&&this.current?1:0,l=a!==this.ea;return this.ea=a,r.length!==0||l?{snapshot:new Qr(this.query,t.ra,s,r,t.mutatedKeys,a===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),ca:o}:{ca:o}}N_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ra:this.ra,oa:new tv,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ca:[]}}la(t){return!this.X_.has(t)&&!!this.ra.has(t)&&!this.ra.get(t).hasLocalMutations}aa(t){t&&(t.addedDocuments.forEach(n=>this.X_=this.X_.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.X_=this.X_.delete(n)),this.current=t.current)}ua(){if(!this.current)return[];const t=this.ta;this.ta=mt(),this.ra.forEach(i=>{this.la(i.key)&&(this.ta=this.ta.add(i.key))});const n=[];return t.forEach(i=>{this.ta.has(i)||n.push(new II(i))}),this.ta.forEach(i=>{t.has(i)||n.push(new EI(i))}),n}ha(t){this.X_=t.ss,this.ta=mt();const n=this.sa(t.documents);return this.applyChanges(n,!0)}Pa(){return Qr.fromInitialDocuments(this.query,this.ra,this.mutatedKeys,this.ea===0,this.hasCachedResults)}}class xN{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class SN{constructor(t){this.key=t,this.Ia=!1}}class kN{constructor(t,n,i,s,r,o){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.Ta={},this.Ea=new uo(a=>HE(a),dh),this.da=new Map,this.Aa=new Set,this.Ra=new Gt(Z.comparator),this.Va=new Map,this.ma=new $g,this.fa={},this.ga=new Map,this.pa=Gr.On(),this.onlineState="Unknown",this.ya=void 0}get isPrimaryClient(){return this.ya===!0}}async function CN(e,t){const n=BN(e);let i,s;const r=n.Ea.get(t);if(r)i=r.targetId,n.sharedClientState.addLocalQueryTarget(i),s=r.view.Pa();else{const o=await YD(n.localStore,_i(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,s=await PN(n,t,i,a==="current",o.resumeToken),n.isPrimaryClient&&mI(n.remoteStore,o)}return s}async function PN(e,t,n,i,s){e.wa=(h,f,d)=>async function(g,m,_,y){let E=m.view.sa(_);E.zi&&(E=await Yy(g.localStore,m.query,!1).then(({documents:T})=>m.view.sa(T,E)));const A=y&&y.targetChanges.get(m.targetId),w=m.view.applyChanges(E,g.isPrimaryClient,A);return nv(g,m.targetId,w.ca),w.snapshot}(e,h,f,d);const r=await Yy(e.localStore,t,!0),o=new TN(t,r.ss),a=o.sa(r.documents),l=gl.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",s),c=o.applyChanges(a,e.isPrimaryClient,l);nv(e,n,c.ca);const u=new xN(t,n,o);return e.Ea.set(t,u),e.da.has(n)?e.da.get(n).push(t):e.da.set(n,[t]),c.snapshot}async function RN(e,t){const n=ft(e),i=n.Ea.get(t),s=n.da.get(i.targetId);if(s.length>1)return n.da.set(i.targetId,s.filter(r=>!dh(r,t))),void n.Ea.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Hd(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),_I(n.remoteStore,i.targetId),Wd(n,i.targetId)}).catch(hl)):(Wd(n,i.targetId),await Hd(n.localStore,i.targetId,!0))}async function MN(e,t,n){const i=UN(e);try{const s=await function(o,a){const l=ft(o),c=he.now(),u=a.reduce((d,p)=>d.add(p.key),mt());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",d=>{let p=yi(),g=mt();return l.Xi.getEntries(d,u).next(m=>{p=m,p.forEach((_,y)=>{y.isValidDocument()||(g=g.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(d,p)).next(m=>{h=m;const _=[];for(const y of a){const E=nD(y,h.get(y.key).overlayedDocument);E!=null&&_.push(new as(y.key,E,NE(E.value.mapValue),dn.exists(!0)))}return l.mutationQueue.addMutationBatch(d,c,_,a)}).next(m=>{f=m;const _=m.applyToLocalDocumentSet(h,g);return l.documentOverlayCache.saveOverlays(d,m.batchId,_)})}).then(()=>({batchId:f.batchId,changes:KE(h)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.fa[o.currentUser.toKey()];c||(c=new Gt(Tt)),c=c.insert(a,l),o.fa[o.currentUser.toKey()]=c}(i,s.batchId,n),await _l(i,s.changes),await bh(i.remoteStore)}catch(s){const r=Yg(s,"Failed to persist write");n.reject(r)}}async function TI(e,t){const n=ft(e);try{const i=await KD(n.localStore,t);t.targetChanges.forEach((s,r)=>{const o=n.Va.get(r);o&&(Wt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ia=!0:s.modifiedDocuments.size>0?Wt(o.Ia):s.removedDocuments.size>0&&(Wt(o.Ia),o.Ia=!1))}),await _l(n,i,t)}catch(i){await hl(i)}}function ev(e,t,n){const i=ft(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Ea.forEach((r,o)=>{const a=o.view.N_(t);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ft(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const f of h.listeners)f.N_(a)&&(c=!0)}),c&&Xg(l)}(i.eventManager,t),s.length&&i.Ta.r_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function ON(e,t,n){const i=ft(e);i.sharedClientState.updateQueryState(t,"rejected",n);const s=i.Va.get(t),r=s&&s.key;if(r){let o=new Gt(Z.comparator);o=o.insert(r,ke.newNoDocument(r,ct.min()));const a=mt().add(r),l=new _h(ct.min(),new Map,new Gt(Tt),o,a);await TI(i,l),i.Ra=i.Ra.remove(r),i.Va.delete(t),Jg(i)}else await Hd(i.localStore,t,!1).then(()=>Wd(i,t,n)).catch(hl)}async function DN(e,t){const n=ft(e),i=t.batch.batchId;try{const s=await qD(n.localStore,t);SI(n,i,null),xI(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await _l(n,s)}catch(s){await hl(s)}}async function NN(e,t,n){const i=ft(e);try{const s=await function(o,a){const l=ft(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Wt(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(i.localStore,t);SI(i,t,n),xI(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await _l(i,s)}catch(s){await hl(s)}}function xI(e,t){(e.ga.get(t)||[]).forEach(n=>{n.resolve()}),e.ga.delete(t)}function SI(e,t,n){const i=ft(e);let s=i.fa[i.currentUser.toKey()];if(s){const r=s.get(t);r&&(n?r.reject(n):r.resolve(),s=s.remove(t)),i.fa[i.currentUser.toKey()]=s}}function Wd(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.da.get(t))e.Ea.delete(i),n&&e.Ta.Sa(i,n);e.da.delete(t),e.isPrimaryClient&&e.ma.Ar(t).forEach(i=>{e.ma.containsKey(i)||kI(e,i)})}function kI(e,t){e.Aa.delete(t.path.canonicalString());const n=e.Ra.get(t);n!==null&&(_I(e.remoteStore,n),e.Ra=e.Ra.remove(t),e.Va.delete(n),Jg(e))}function nv(e,t,n){for(const i of n)i instanceof EI?(e.ma.addReference(i.key,t),LN(e,i)):i instanceof II?(Y("SyncEngine","Document no longer in limbo: "+i.key),e.ma.removeReference(i.key,t),e.ma.containsKey(i.key)||kI(e,i.key)):ot()}function LN(e,t){const n=t.key,i=n.path.canonicalString();e.Ra.get(n)||e.Aa.has(i)||(Y("SyncEngine","New document in limbo: "+n),e.Aa.add(i),Jg(e))}function Jg(e){for(;e.Aa.size>0&&e.Ra.size<e.maxConcurrentLimboResolutions;){const t=e.Aa.values().next().value;e.Aa.delete(t);const n=new Z(zt.fromString(t)),i=e.pa.next();e.Va.set(i,new SN(n)),e.Ra=e.Ra.insert(n,i),mI(e.remoteStore,new Li(_i(Lg(n.path)),i,"TargetPurposeLimboResolution",Pg.ae))}}async function _l(e,t,n){const i=ft(e),s=[],r=[],o=[];i.Ea.isEmpty()||(i.Ea.forEach((a,l)=>{o.push(i.wa(l,t,n).then(c=>{if((c||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const u=Wg.qi(l.targetId,c);r.push(u)}}))}),await Promise.all(o),i.Ta.r_(s),await async function(l,c){const u=ft(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>L.forEach(c,f=>L.forEach(f.Li,d=>u.persistence.referenceDelegate.addReference(h,f.targetId,d)).next(()=>L.forEach(f.ki,d=>u.persistence.referenceDelegate.removeReference(h,f.targetId,d)))))}catch(h){if(!fl(h))throw h;Y("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const d=u.Ji.get(f),p=d.snapshotVersion,g=d.withLastLimboFreeSnapshotVersion(p);u.Ji=u.Ji.insert(f,g)}}}(i.localStore,r))}async function VN(e,t){const n=ft(e);if(!n.currentUser.isEqual(t)){Y("SyncEngine","User change. New user:",t.toKey());const i=await fI(n.localStore,t);n.currentUser=t,function(r,o){r.ga.forEach(a=>{a.forEach(l=>{l.reject(new q(O.CANCELLED,o))})}),r.ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await _l(n,i.ts)}}function FN(e,t){const n=ft(e),i=n.Va.get(t);if(i&&i.Ia)return mt().add(i.key);{let s=mt();const r=n.da.get(t);if(!r)return s;for(const o of r){const a=n.Ea.get(o);s=s.unionWith(a.view.ia)}return s}}function BN(e){const t=ft(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=TI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=FN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ON.bind(null,t),t.Ta.r_=wN.bind(null,t.eventManager),t.Ta.Sa=EN.bind(null,t.eventManager),t}function UN(e){const t=ft(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=DN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=NN.bind(null,t),t}class iv{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=yh(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return WD(this.persistence,new $D,t.initialUser,this.serializer)}createPersistence(t){return new zD(Hg.zr,this.serializer)}createSharedClientState(t){return new JD}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class zN{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ev(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=VN.bind(null,this.syncEngine),await _N(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new vN}()}createDatastore(t){const n=yh(t.databaseInfo.databaseId),i=function(r){return new nN(r)}(t.databaseInfo);return function(r,o,a,l){return new rN(r,o,a,l)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,s,r,o,a){return new aN(i,s,r,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>ev(this.syncEngine,n,0),function(){return Jy.v()?new Jy:new ZD}())}createSyncEngine(t,n){return function(s,r,o,a,l,c,u){const h=new kN(s,r,o,a,l,c);return u&&(h.ya=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const i=ft(n);Y("RemoteStore","RemoteStore shutting down."),i.y_.add(5),await ml(i),i.S_.shutdown(),i.b_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.va(this.observer.next,t)}error(t){this.observer.error?this.va(this.observer.error,t):mi("Uncaught Error in snapshot listener:",t.toString())}Ca(){this.muted=!0}va(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(t,n,i,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=xe.UNAUTHENTICATED,this.clientId=ME.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async r=>{Y("FirestoreClient","Received user=",r.uid),await this.authCredentialListener(r),this.user=r}),this.appCheckCredentials.start(i,r=>(Y("FirestoreClient","Received new app check token=",r),this.appCheckCredentialListener(r,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new q(O.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=Yg(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Ef(e,t){e.asyncQueue.verifyOperationInProgress(),Y("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async s=>{i.isEqual(s)||(await fI(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function sv(e,t){e.asyncQueue.verifyOperationInProgress();const n=await WN(e);Y("FirestoreClient","Initializing OnlineComponentProvider");const i=await e.getConfiguration();await t.initialize(n,i),e.setCredentialChangeListener(s=>Zy(t.remoteStore,s)),e.setAppCheckTokenChangeListener((s,r)=>Zy(t.remoteStore,r)),e._onlineComponents=t}function HN(e){return e.name==="FirebaseError"?e.code===O.FAILED_PRECONDITION||e.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function WN(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Y("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ef(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!HN(n))throw n;$r("Error using user provided cache. Falling back to memory cache: "+n),await Ef(e,new iv)}}else Y("FirestoreClient","Using default OfflineComponentProvider"),await Ef(e,new iv);return e._offlineComponents}async function CI(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Y("FirestoreClient","Using user provided OnlineComponentProvider"),await sv(e,e._uninitializedComponentsProvider._online)):(Y("FirestoreClient","Using default OnlineComponentProvider"),await sv(e,new zN))),e._onlineComponents}function qN(e){return CI(e).then(t=>t.syncEngine)}async function rv(e){const t=await CI(e),n=t.eventManager;return n.onListen=CN.bind(null,t.syncEngine),n.onUnlisten=RN.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(e,t,n){if(!n)throw new q(O.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function KN(e,t,n,i){if(t===!0&&i===!0)throw new q(O.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function av(e){if(!Z.isDocumentKey(e))throw new q(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function lv(e){if(Z.isDocumentKey(e))throw new q(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Ah(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":ot()}function Wn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new q(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ah(e);throw new q(O.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new q(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new q(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}KN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PI((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new q(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new q(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new q(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class wh{constructor(t,n,i,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new q(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new q(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cv(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new dO;switch(i.type){case"firstParty":return new _O(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new q(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=ov.get(n);i&&(Y("ComponentProvider","Removing Datastore"),ov.delete(n),i.terminate())}(this),Promise.resolve()}}function GN(e,t,n,i={}){var s;const r=(e=Wn(e,wh))._getSettings(),o=`${t}:${n}`;if(r.host!=="firestore.googleapis.com"&&r.host!==o&&$r("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},r),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=xe.MOCK_USER;else{a=aP(i.mockUserToken,(s=e._app)===null||s===void 0?void 0:s.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new q(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new xe(c)}e._authCredentials=new pO(new RE(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new fo(this.firestore,t,this._query)}}class je{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new je(this.firestore,t,this._key)}}class Ki extends fo{constructor(t,n,i){super(t,n,Lg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new je(this.firestore,null,new Z(t))}withConverter(t){return new Ki(this.firestore,t,this._path)}}function yl(e,t,...n){if(e=te(e),RI("collection","path",t),e instanceof wh){const i=zt.fromString(t,...n);return lv(i),new Ki(e,null,i)}{if(!(e instanceof je||e instanceof Ki))throw new q(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(zt.fromString(t,...n));return lv(i),new Ki(e.firestore,null,i)}}function qs(e,t,...n){if(e=te(e),arguments.length===1&&(t=ME.V()),RI("doc","path",t),e instanceof wh){const i=zt.fromString(t,...n);return av(i),new je(e,null,new Z(i))}{if(!(e instanceof je||e instanceof Ki))throw new q(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(zt.fromString(t,...n));return av(i),new je(e.firestore,e instanceof Ki?e.converter:null,new Z(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this.Wa=Promise.resolve(),this.Ga=[],this.za=!1,this.ja=[],this.Ha=null,this.Ja=!1,this.Ya=!1,this.Za=[],this.Ko=new pI(this,"async_queue_retry"),this.Xa=()=>{const n=wf();n&&Y("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ko.No()};const t=wf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Xa)}get isShuttingDown(){return this.za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.eu(),this.tu(t)}enterRestrictedMode(t){if(!this.za){this.za=!0,this.Ya=t||!1;const n=wf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xa)}}enqueue(t){if(this.eu(),this.za)return new Promise(()=>{});const n=new Os;return this.tu(()=>this.za&&this.Ya?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ga.push(t),this.nu()))}async nu(){if(this.Ga.length!==0){try{await this.Ga[0](),this.Ga.shift(),this.Ko.reset()}catch(t){if(!fl(t))throw t;Y("AsyncQueue","Operation failed with retryable error: "+t)}this.Ga.length>0&&this.Ko.xo(()=>this.nu())}}tu(t){const n=this.Wa.then(()=>(this.Ja=!0,t().catch(i=>{this.Ha=i,this.Ja=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw mi("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.Ja=!1,i))));return this.Wa=n,n}enqueueAfterDelay(t,n,i){this.eu(),this.Za.indexOf(t)>-1&&(n=0);const s=Qg.createAndSchedule(this,t,n,i,r=>this.ru(r));return this.ja.push(s),s}eu(){this.Ha&&ot()}verifyOperationInProgress(){}async iu(){let t;do t=this.Wa,await t;while(t!==this.Wa)}su(t){for(const n of this.ja)if(n.timerId===t)return!0;return!1}ou(t){return this.iu().then(()=>{this.ja.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.ja)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.iu()})}_u(t){this.Za.push(t)}ru(t){const n=this.ja.indexOf(t);this.ja.splice(n,1)}}function uv(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const r of i)if(r in s&&typeof s[r]=="function")return!0;return!1}(e,["next","error","complete"])}class Ks extends wh{constructor(t,n,i,s){super(t,n,i,s),this.type="firestore",this._queue=function(){return new QN}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||OI(this),this._firestoreClient.terminate()}}function YN(e,t){const n=typeof e=="object"?e:tg(),i=typeof e=="string"?e:t||"(default)",s=sr(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=rP("firestore");r&&GN(s,...r)}return s}function MI(e){return e._firestoreClient||OI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function OI(e){var t,n,i;const s=e._freezeSettings(),r=function(a,l,c,u){return new CO(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,PI(u.experimentalLongPollingOptions),u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,s);e._firestoreClient=new $N(e._authCredentials,e._appCheckCredentials,e._queue,r),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Yr(Le.fromBase64String(t))}catch(n){throw new q(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Yr(Le.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new q(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new q(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new q(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Tt(this._lat,t._lat)||Tt(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=/^__.*__$/;class JN{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new as(t,this.data,this.fieldMask,n,this.fieldTransforms):new pl(t,this.data,n,this.fieldTransforms)}}class DI{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new as(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function NI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ot()}}class Th{constructor(t,n,i,s,r,o){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.au(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get uu(){return this.settings.uu}cu(t){return new Th(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}lu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.cu({path:i,hu:!1});return s.Pu(t),s}Iu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.cu({path:i,hu:!1});return s.au(),s}Tu(t){return this.cu({path:void 0,hu:!0})}Eu(t){return fu(t,this.settings.methodName,this.settings.du||!1,this.path,this.settings.Au)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}au(){if(this.path)for(let t=0;t<this.path.length;t++)this.Pu(this.path.get(t))}Pu(t){if(t.length===0)throw this.Eu("Document fields must not be empty");if(NI(this.uu)&&XN.test(t))throw this.Eu('Document fields cannot begin and end with "__"')}}class ZN{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||yh(t)}Ru(t,n,i,s=!1){return new Th({uu:t,methodName:n,Au:i,path:Pe.emptyPath(),hu:!1,du:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xh(e){const t=e._freezeSettings(),n=yh(e._databaseId);return new ZN(e._databaseId,!!t.ignoreUndefinedProperties,n)}function LI(e,t,n,i,s,r={}){const o=e.Ru(r.merge||r.mergeFields?2:0,t,n,s);tm("Data must be an object, but it was:",o,i);const a=VI(i,o);let l,c;if(r.merge)l=new nn(o.fieldMask),c=o.fieldTransforms;else if(r.mergeFields){const u=[];for(const h of r.mergeFields){const f=qd(t,h,n);if(!o.contains(f))throw new q(O.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);BI(u,f)||u.push(f)}l=new nn(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new JN(new qe(a),l,c)}class Sh extends Ih{_toFieldTransform(t){if(t.uu!==2)throw t.uu===1?t.Eu(`${this._methodName}() can only appear at the top level of your update data`):t.Eu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Sh}}function tL(e,t,n){return new Th({uu:3,Au:t.settings.Au,methodName:e._methodName,hu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class eL extends Ih{constructor(t,n){super(t),this.Vu=n}_toFieldTransform(t){const n=tL(this,t,!0),i=this.Vu.map(r=>po(r,n)),s=new Kr(i);return new JO(t.path,s)}isEqual(t){return this===t}}function nL(e,t,n,i){const s=e.Ru(1,t,n);tm("Data must be an object, but it was:",s,i);const r=[],o=qe.empty();or(i,(l,c)=>{const u=em(t,l,n);c=te(c);const h=s.Iu(u);if(c instanceof Sh)r.push(u);else{const f=po(c,h);f!=null&&(r.push(u),o.set(u,f))}});const a=new nn(r);return new DI(o,a,s.fieldTransforms)}function iL(e,t,n,i,s,r){const o=e.Ru(1,t,n),a=[qd(t,i,n)],l=[s];if(r.length%2!=0)throw new q(O.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<r.length;f+=2)a.push(qd(t,r[f])),l.push(r[f+1]);const c=[],u=qe.empty();for(let f=a.length-1;f>=0;--f)if(!BI(c,a[f])){const d=a[f];let p=l[f];p=te(p);const g=o.Iu(d);if(p instanceof Sh)c.push(d);else{const m=po(p,g);m!=null&&(c.push(d),u.set(d,m))}}const h=new nn(c);return new DI(u,h,o.fieldTransforms)}function sL(e,t,n,i=!1){return po(n,e.Ru(i?4:3,t))}function po(e,t){if(FI(e=te(e)))return tm("Unsupported field value:",t,e),VI(e,t);if(e instanceof Ih)return function(i,s){if(!NI(s.uu))throw s.Eu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Eu(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.hu&&t.uu!==4)throw t.Eu("Nested arrays are not supported");return function(i,s){const r=[];let o=0;for(const a of i){let l=po(a,s.Tu(o));l==null&&(l={nullValue:"NULL_VALUE"}),r.push(l),o++}return{arrayValue:{values:r}}}(e,t)}return function(i,s){if((i=te(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return QO(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=he.fromDate(i);return{timestampValue:uu(s.serializer,r)}}if(i instanceof he){const r=new he(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:uu(s.serializer,r)}}if(i instanceof Zg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Yr)return{bytesValue:oI(s.serializer,i._byteString)};if(i instanceof je){const r=s.databaseId,o=i.firestore._databaseId;if(!o.isEqual(r))throw s.Eu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:jg(i.firestore._databaseId||s.databaseId,i._key.path)}}throw s.Eu(`Unsupported field value: ${Ah(i)}`)}(e,t)}function VI(e,t){const n={};return OE(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):or(e,(i,s)=>{const r=po(s,t.lu(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function FI(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof he||e instanceof Zg||e instanceof Yr||e instanceof je||e instanceof Ih)}function tm(e,t,n){if(!FI(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=Ah(n);throw i==="an object"?t.Eu(e+" a custom object"):t.Eu(e+" "+i)}}function qd(e,t,n){if((t=te(t))instanceof Eh)return t._internalPath;if(typeof t=="string")return em(e,t);throw fu("Field path arguments must be of type string or ",e,!1,void 0,n)}const rL=new RegExp("[~\\*/\\[\\]]");function em(e,t,n){if(t.search(rL)>=0)throw fu(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Eh(...t.split("."))._internalPath}catch{throw fu(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function fu(e,t,n,i,s){const r=i&&!i.isEmpty(),o=s!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(r||o)&&(l+=" (found",r&&(l+=` in field ${i}`),o&&(l+=` in document ${s}`),l+=")"),new q(O.INVALID_ARGUMENT,a+e+l)}function BI(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(t,n,i,s,r){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new je(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new oL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(nm("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class oL extends UI{data(){return super.data()}}function nm(e,t){return typeof t=="string"?em(e,t):t instanceof Eh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new q(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class im{}class lL extends im{}function sm(e,t,...n){let i=[];t instanceof im&&i.push(t),i=i.concat(n),function(r){const o=r.filter(l=>l instanceof rm).length,a=r.filter(l=>l instanceof kh).length;if(o>1||o>0&&a>0)throw new q(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)e=s._apply(e);return e}class kh extends lL{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new kh(t,n,i)}_apply(t){const n=this._parse(t);return jI(t._query,n),new fo(t.firestore,t.converter,Vd(t._query,n))}_parse(t){const n=xh(t.firestore);return function(r,o,a,l,c,u,h){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new q(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){fv(h,u);const d=[];for(const p of h)d.push(hv(l,r,p));f={arrayValue:{values:d}}}else f=hv(l,r,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||fv(h,u),f=sL(a,o,h,u==="in"||u==="not-in");return ce.create(c,u,f)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function zI(e,t,n){const i=t,s=nm("where",e);return kh._create(s,i,n)}class rm extends im{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new rm(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Cn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(s,r){let o=s;const a=r.getFlattenedFilters();for(const l of a)jI(o,l),o=Vd(o,l)}(t._query,n),new fo(t.firestore,t.converter,Vd(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function hv(e,t,n){if(typeof(n=te(n))=="string"){if(n==="")throw new q(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$E(t)&&n.indexOf("/")!==-1)throw new q(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(zt.fromString(n));if(!Z.isDocumentKey(i))throw new q(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Oy(e,new Z(i))}if(n instanceof je)return Oy(e,n._key);throw new q(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ah(n)}.`)}function fv(e,t){if(!Array.isArray(e)||e.length===0)throw new q(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function jI(e,t){if(t.isInequality()){const i=Vg(e),s=t.field;if(i!==null&&!i.isEqual(s))throw new q(O.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${s.toString()}'`);const r=jE(e);r!==null&&cL(e,s,r)}const n=function(s,r){for(const o of s)for(const a of o.getFlattenedFilters())if(r.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new q(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new q(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function cL(e,t,n){if(!n.isEqual(t))throw new q(O.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class uL{convertValue(t,n="none"){switch(Ws(t)){case 0:return null;case 1:return t.booleanValue;case 2:return le(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Hs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw ot()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return or(t,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertGeoPoint(t){return new Zg(le(t.latitude),le(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Mg(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Oa(t));default:return null}}convertTimestamp(t){const n=Ji(t);return new he(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=zt.fromString(t);Wt(hI(i));const s=new Da(i.get(1),i.get(3)),r=new Z(i.popFirst(5));return s.isEqual(n)||mi(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class HI extends UI{constructor(t,n,i,s,r,o){super(t,n,i,s,o),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(nm("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class xc extends HI{data(t={}){return super.data(t)}}class hL{constructor(t,n,i,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new Vo(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new xc(this._firestore,this._userDataWriter,i.key,i,new Vo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new q(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new xc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Vo(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>r||a.type!==3).map(a=>{const l=new xc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Vo(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:fL(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function fL(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ot()}}class WI extends uL{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yr(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new je(this.firestore,null,n)}}function dL(e,t,n){e=Wn(e,je);const i=Wn(e.firestore,Ks),s=$I(e.converter,t,n);return Ph(i,[LI(xh(i),"setDoc",e._key,s,e.converter!==null,n).toMutation(e._key,dn.none())])}function pL(e,t,n,...i){e=Wn(e,je);const s=Wn(e.firestore,Ks),r=xh(s);let o;return o=typeof(t=te(t))=="string"||t instanceof Eh?iL(r,"updateDoc",e._key,t,n,i):nL(r,"updateDoc",e._key,t),Ph(s,[o.toMutation(e._key,dn.exists(!0))])}function dv(e){return Ph(Wn(e.firestore,Ks),[new Fg(e._key,dn.none())])}function qI(e,t){const n=Wn(e.firestore,Ks),i=qs(e),s=$I(e.converter,t);return Ph(n,[LI(xh(e.firestore),"addDoc",i._key,s,e.converter!==null,{}).toMutation(i._key,dn.exists(!1))]).then(()=>i)}function Ch(e,...t){var n,i,s;e=te(e);let r={includeMetadataChanges:!1},o=0;typeof t[o]!="object"||uv(t[o])||(r=t[o],o++);const a={includeMetadataChanges:r.includeMetadataChanges};if(uv(t[o])){const h=t[o];t[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),t[o+1]=(i=h.error)===null||i===void 0?void 0:i.bind(h),t[o+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let l,c,u;if(e instanceof je)c=Wn(e.firestore,Ks),u=Lg(e._key.path),l={next:h=>{t[o]&&t[o](gL(c,e,h))},error:t[o+1],complete:t[o+2]};else{const h=Wn(e,fo);c=Wn(h.firestore,Ks),u=h._query;const f=new WI(c);l={next:d=>{t[o]&&t[o](new hL(c,f,h,d))},error:t[o+1],complete:t[o+2]},aL(e._query)}return function(f,d,p,g){const m=new jN(g),_=new IN(d,m,p);return f.asyncQueue.enqueueAndForget(async()=>bN(await rv(f),_)),()=>{m.Ca(),f.asyncQueue.enqueueAndForget(async()=>AN(await rv(f),_))}}(MI(c),u,a,l)}function Ph(e,t){return function(i,s){const r=new Os;return i.asyncQueue.enqueueAndForget(async()=>MN(await qN(i),s,r)),r.promise}(MI(e),t)}function gL(e,t,n){const i=n.docs.get(t._key),s=new WI(e);return new HI(e,s,t._key,i,new Vo(n.hasPendingWrites,n.fromCache),t.converter)}function mL(...e){return new eL("arrayUnion",e)}(function(t,n=!0){(function(s){co=s})(oo),Xn(new Sn("firestore",(i,{instanceIdentifier:s,options:r})=>{const o=i.getProvider("app").getImmediate(),a=new Ks(new gO(i.getProvider("auth-internal")),new vO(i.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new q(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Da(c.options.projectId,u)}(o,s),o);return r=Object.assign({useFetchStreams:n},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),fn(ky,"4.1.0",t),fn(ky,"4.1.0","esm2017")})();function om(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n}function KI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _L=KI,GI=new ir("auth","Firebase",KI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=new Gu("@firebase/auth");function yL(e,...t){du.logLevel<=wt.WARN&&du.warn(`Auth (${oo}): ${e}`,...t)}function Sc(e,...t){du.logLevel<=wt.ERROR&&du.error(`Auth (${oo}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(e,...t){throw am(e,...t)}function qn(e,...t){return am(e,...t)}function QI(e,t,n){const i=Object.assign(Object.assign({},_L()),{[t]:n});return new ir("auth","Firebase",i).create(t,{appName:e.name})}function vL(e,t,n){const i=n;if(!(t instanceof i))throw i.name!==t.constructor.name&&pn(e,"argument-error"),QI(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function am(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return GI.create(e,...t)}function rt(e,t,...n){if(!e)throw am(t,...n)}function ci(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Sc(t),new Error(t)}function vi(e,t){e||ci(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function bL(){return pv()==="http:"||pv()==="https:"}function pv(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bL()||XA()||"connection"in navigator)?navigator.onLine:!0}function wL(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(t,n){this.shortDelay=t,this.longDelay=n,vi(n>t,"Short delay should be less than long delay!"),this.isMobile=lP()||cP()}get(){return AL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(e,t){vi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL=new vl(3e4,6e4);function go(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function mo(e,t,n,i,s={}){return XI(e,s,async()=>{let r={},o={};i&&(t==="GET"?o=i:r={body:JSON.stringify(i)});const a=el(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),YI.fetch()(JI(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},r))})}async function XI(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},EL),t);try{const s=new TL(e),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw Gl(e,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gl(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Gl(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw Gl(e,"user-disabled",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw QI(e,u,c);pn(e,u)}}catch(s){if(s instanceof Pn)throw s;pn(e,"network-request-failed",{message:String(s)})}}async function bl(e,t,n,i,s={}){const r=await mo(e,t,n,i,s);return"mfaPendingCredential"in r&&pn(e,"multi-factor-auth-required",{_serverResponse:r}),r}function JI(e,t,n,i){const s=`${t}${n}?${i}`;return e.config.emulator?lm(e.config,s):`${e.config.apiScheme}://${s}`}class TL{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(qn(this.auth,"network-request-failed")),IL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Gl(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=qn(e,t,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xL(e,t){return mo(e,"POST","/v1/accounts:delete",t)}async function SL(e,t){return mo(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function kL(e,t=!1){const n=te(e),i=await n.getIdToken(t),s=cm(i);rt(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:ra(If(s.auth_time)),issuedAtTime:ra(If(s.iat)),expirationTime:ra(If(s.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function If(e){return Number(e)*1e3}function cm(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Sc("JWT malformed, contained fewer than 3 sections"),null;try{const s=KA(n);return s?JSON.parse(s):(Sc("Failed to decode base64 JWT payload"),null)}catch(s){return Sc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function CL(e){const t=cm(e);return rt(t,"internal-error"),rt(typeof t.exp<"u","internal-error"),rt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Va(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof Pn&&PL(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function PL({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ra(this.lastLoginAt),this.creationTime=ra(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pu(e){var t;const n=e.auth,i=await e.getIdToken(),s=await Va(e,SL(n,{idToken:i}));rt(s==null?void 0:s.users.length,n,"internal-error");const r=s.users[0];e._notifyReloadListener(r);const o=!((t=r.providerUserInfo)===null||t===void 0)&&t.length?DL(r.providerUserInfo):[],a=OL(e.providerData,o),l=e.isAnonymous,c=!(e.email&&r.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new ZI(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(e,h)}async function ML(e){const t=te(e);await pu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function OL(e,t){return[...e.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function DL(e){return e.map(t=>{var{providerId:n}=t,i=om(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NL(e,t){const n=await XI(e,{},async()=>{const i=el({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:r}=e.config,o=JI(e,s,"/v1/token",`key=${r}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",YI.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){rt(t.idToken,"internal-error"),rt(typeof t.idToken<"u","internal-error"),rt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):CL(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return rt(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await NL(t,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,o=new Fa;return i&&(rt(typeof i=="string","internal-error",{appName:t}),o.refreshToken=i),s&&(rt(typeof s=="string","internal-error",{appName:t}),o.accessToken=s),r&&(rt(typeof r=="number","internal-error",{appName:t}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Fa,this.toJSON())}_performRefresh(){return ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(e,t){rt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Ds{constructor(t){var{uid:n,auth:i,stsTokenManager:s}=t,r=om(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new RL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new ZI(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const n=await Va(this,this.stsTokenManager.getToken(this.auth,t));return rt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return kL(this,t)}reload(){return ML(this)}_assign(t){this!==t&&(rt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Ds(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){rt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await pu(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await Va(this,xL(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,s,r,o,a,l,c,u;const h=(i=n.displayName)!==null&&i!==void 0?i:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,d=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,m=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:E,emailVerified:A,isAnonymous:w,providerData:T,stsTokenManager:S}=n;rt(E&&S,t,"internal-error");const x=Fa.fromJSON(this.name,S);rt(typeof E=="string",t,"internal-error"),ki(h,t.name),ki(f,t.name),rt(typeof A=="boolean",t,"internal-error"),rt(typeof w=="boolean",t,"internal-error"),ki(d,t.name),ki(p,t.name),ki(g,t.name),ki(m,t.name),ki(_,t.name),ki(y,t.name);const R=new Ds({uid:E,auth:t,email:f,emailVerified:A,displayName:h,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:g,stsTokenManager:x,createdAt:_,lastLoginAt:y});return T&&Array.isArray(T)&&(R.providerData=T.map(j=>Object.assign({},j))),m&&(R._redirectEventId=m),R}static async _fromIdTokenResponse(t,n,i=!1){const s=new Fa;s.updateFromServerResponse(n);const r=new Ds({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await pu(r),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv=new Map;function ui(e){vi(e instanceof Function,"Expected a class definition");let t=gv.get(e);return t?(vi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,gv.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}tT.type="NONE";const mv=tT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(e,t,n){return`firebase:${e}:${t}:${n}`}class Pr{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=kc(this.userKey,s.apiKey,r),this.fullPersistenceKey=kc("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Ds._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new Pr(ui(mv),t,i);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=s[0]||ui(mv);const o=kc(i,t.config.apiKey,t.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=Ds._fromJSON(t,u);c!==r&&(a=h),r=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new Pr(r,t,i):(r=l[0],a&&await r._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==r)try{await c._remove(o)}catch{}})),new Pr(r,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(iT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(eT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(rT(t))return"Blackberry";if(oT(t))return"Webos";if(um(t))return"Safari";if((t.includes("chrome/")||nT(t))&&!t.includes("edge/"))return"Chrome";if(sT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function eT(e=Ne()){return/firefox\//i.test(e)}function um(e=Ne()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function nT(e=Ne()){return/crios\//i.test(e)}function iT(e=Ne()){return/iemobile/i.test(e)}function sT(e=Ne()){return/android/i.test(e)}function rT(e=Ne()){return/blackberry/i.test(e)}function oT(e=Ne()){return/webos/i.test(e)}function Rh(e=Ne()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function LL(e=Ne()){var t;return Rh(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function VL(){return uP()&&document.documentMode===10}function aT(e=Ne()){return Rh(e)||sT(e)||oT(e)||rT(e)||/windows phone/i.test(e)||iT(e)}function FL(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(e,t=[]){let n;switch(e){case"Browser":n=_v(Ne());break;case"Worker":n=`${_v(Ne())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${oo}/${i}`}async function cT(e,t){return mo(e,"GET","/v2/recaptchaConfig",go(e,t))}function yv(e){return e!==void 0&&e.enterprise!==void 0}class uT{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function hT(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=s=>{const r=qn("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",BL().appendChild(i)})}function UL(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const zL="https://www.google.com/recaptcha/enterprise.js?render=",jL="recaptcha-enterprise",$L="NO_RECAPTCHA";class fT{constructor(t){this.type=jL,this.auth=lr(t)}async verify(t="verify",n=!1){async function i(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,a)=>{cT(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new uT(l);return r.tenantId==null?r._agentRecaptchaConfig=c:r._tenantRecaptchaConfigs[r.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(r,o,a){const l=window.grecaptcha;yv(l)?l.enterprise.ready(()=>{l.enterprise.execute(r,{action:t}).then(c=>{o(c)}).catch(()=>{o($L)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((r,o)=>{i(this.auth).then(a=>{if(!n&&yv(window.grecaptcha))s(a,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}hT(zL+a).then(()=>{s(a,r,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function gu(e,t,n,i=!1){const s=new fT(e);let r;try{r=await s.verify(n)}catch{r=await s.verify(n,!0)}const o=Object.assign({},t);return i?Object.assign(o,{captchaResp:r}):Object.assign(o,{captchaResponse:r}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=r=>new Promise((o,a)=>{try{const l=t(r);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(t,n,i,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vv(this),this.idTokenSubscription=new vv(this),this.beforeStateQueue=new HL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ui(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Pr.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return rt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await pu(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=wL()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?te(t):null;return n&&rt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&rt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ui(t))})}async initializeRecaptchaConfig(){const t=await cT(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new uT(t);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new fT(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new ir("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ui(t)||this._popupRedirectResolver;rt(n,this,"argument-error"),this.redirectPersistenceManager=await Pr.create(this,[ui(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return rt(o,this,"internal-error"),o.then(()=>r(this.currentUser)),typeof n=="function"?t.addObserver(n,i,s):t.addObserver(n)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return rt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=lT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&yL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function lr(e){return te(e)}class vv{constructor(t){this.auth=t,this.observer=null,this.addObserver=mP(n=>this.observer=n)}get next(){return rt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(e,t){const n=sr(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(wa(r,t??{}))return s;pn(s,"already-initialized")}return n.initialize({options:t})}function KL(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(ui);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function GL(e,t,n){const i=lr(e);rt(i._canInitEmulator,i,"emulator-config-failed"),rt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),r=dT(t),{host:o,port:a}=QL(t),l=a===null?"":`:${a}`;i.config.emulator={url:`${r}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||YL()}function dT(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function QL(e){const t=dT(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:bv(i.substr(r.length+1))}}else{const[r,o]=i.split(":");return{host:r,port:bv(o)}}}function bv(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function YL(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ci("not implemented")}_getIdTokenResponse(t){return ci("not implemented")}_linkToIdToken(t,n){return ci("not implemented")}_getReauthenticationResolver(t){return ci("not implemented")}}async function XL(e,t){return mo(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tf(e,t){return bl(e,"POST","/v1/accounts:signInWithPassword",go(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JL(e,t){return bl(e,"POST","/v1/accounts:signInWithEmailLink",go(e,t))}async function ZL(e,t){return bl(e,"POST","/v1/accounts:signInWithEmailLink",go(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends hm{constructor(t,n,i,s=null){super("password",i),this._email=t,this._password=n,this._tenantId=s}static _fromEmailAndPassword(t,n){return new Ba(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new Ba(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){var n;switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=t._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const s=await gu(t,i,"signInWithPassword");return Tf(t,s)}else return Tf(t,i).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const r=await gu(t,i,"signInWithPassword");return Tf(t,r)}else return Promise.reject(s)});case"emailLink":return JL(t,{email:this._email,oobCode:this._password});default:pn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":return XL(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return ZL(t,{idToken:n,email:this._email,oobCode:this._password});default:pn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rr(e,t){return bl(e,"POST","/v1/accounts:signInWithIdp",go(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV="http://localhost";class Gs extends hm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Gs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):pn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s}=n,r=om(n,["providerId","signInMethod"]);if(!i||!s)return null;const o=new Gs(i,s);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Rr(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,Rr(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Rr(t,n)}buildRequest(){const t={requestUri:tV,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=el(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nV(e){const t=Ro(Mo(e)).link,n=t?Ro(Mo(t)).deep_link_id:null,i=Ro(Mo(e)).deep_link_id;return(i?Ro(Mo(i)).link:null)||i||n||t||e}class fm{constructor(t){var n,i,s,r,o,a;const l=Ro(Mo(t)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(i=l.oobCode)!==null&&i!==void 0?i:null,h=eV((s=l.mode)!==null&&s!==void 0?s:null);rt(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(r=l.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){const n=nV(t);try{return new fm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.providerId=_o.PROVIDER_ID}static credential(t,n){return Ba._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=fm.parseLink(n);return rt(i,"argument-error"),Ba._fromEmailAndCode(t,i.code,i.tenantId)}}_o.PROVIDER_ID="password";_o.EMAIL_PASSWORD_SIGN_IN_METHOD="password";_o.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al extends dm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Al{constructor(){super("facebook.com")}static credential(t){return Gs._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Oi.credentialFromTaggedObject(t)}static credentialFromError(t){return Oi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Oi.credential(t.oauthAccessToken)}catch{return null}}}Oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn extends Al{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Gs._fromParams({providerId:Bn.PROVIDER_ID,signInMethod:Bn.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Bn.credentialFromTaggedObject(t)}static credentialFromError(t){return Bn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Bn.credential(n,i)}catch{return null}}}Bn.GOOGLE_SIGN_IN_METHOD="google.com";Bn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends Al{constructor(){super("github.com")}static credential(t){return Gs._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Di.credentialFromTaggedObject(t)}static credentialFromError(t){return Di.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Di.credential(t.oauthAccessToken)}catch{return null}}}Di.GITHUB_SIGN_IN_METHOD="github.com";Di.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends Al{constructor(){super("twitter.com")}static credential(t,n){return Gs._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Ni.credentialFromTaggedObject(t)}static credentialFromError(t){return Ni.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Ni.credential(n,i)}catch{return null}}}Ni.TWITTER_SIGN_IN_METHOD="twitter.com";Ni.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xf(e,t){return bl(e,"POST","/v1/accounts:signUp",go(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,s=!1){const r=await Ds._fromIdTokenResponse(t,i,s),o=Av(i);return new Qs({user:r,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const s=Av(i);return new Qs({user:t,providerId:s,_tokenResponse:i,operationType:n})}}function Av(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends Pn{constructor(t,n,i,s){var r;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,mu.prototype),this.customData={appName:t.name,tenantId:(r=t.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,s){return new mu(t,n,i,s)}}function pT(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?mu._fromErrorAndOperation(e,r,t,i):r})}async function iV(e,t,n=!1){const i=await Va(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Qs._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sV(e,t,n=!1){const{auth:i}=e,s="reauthenticate";try{const r=await Va(e,pT(i,s,t,e),n);rt(r.idToken,i,"internal-error");const o=cm(r.idToken);rt(o,i,"internal-error");const{sub:a}=o;return rt(e.uid===a,i,"user-mismatch"),Qs._forOperation(e,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&pn(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gT(e,t,n=!1){const i="signIn",s=await pT(e,i,t),r=await Qs._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(r.user),r}async function rV(e,t){return gT(lr(e),t)}async function oV(e,t,n){var i;const s=lr(e),r={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((i=s._getRecaptchaConfig())===null||i===void 0)&&i.emailPasswordEnabled){const c=await gu(s,r,"signUpPassword");o=xf(s,c)}else o=xf(s,r).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const u=await gu(s,r,"signUpPassword");return xf(s,u)}else return Promise.reject(c)});const a=await o.catch(c=>Promise.reject(c)),l=await Qs._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(l.user),l}function aV(e,t,n){return rV(te(e),_o.credential(t,n))}function lV(e,t,n,i){return te(e).onIdTokenChanged(t,n,i)}function cV(e,t,n){return te(e).beforeAuthStateChanged(t,n)}function uV(e,t,n,i){return te(e).onAuthStateChanged(t,n,i)}function hV(e){return te(e).signOut()}async function fV(e){return te(e).delete()}const _u="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_u,"1"),this.storage.removeItem(_u),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(){const e=Ne();return um(e)||Rh(e)}const pV=1e3,gV=10;class _T extends mT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=dV()&&FL(),this.fallbackToPolling=aT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&t(n,s,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(i);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},r=this.storage.getItem(i);VL()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,gV):s()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},pV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}_T.type="LOCAL";const mV=_T;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT extends mT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}yT.type="SESSION";const vT=yT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const i=new Mh(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:s,data:r}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,r)),l=await _V(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,o;return new Promise((a,l)=>{const c=pm("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(f.data.response);break;default:clearTimeout(u),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(){return window}function vV(e){Kn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(){return typeof Kn().WorkerGlobalScope<"u"&&typeof Kn().importScripts=="function"}async function bV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AV(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function wV(){return bT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="firebaseLocalStorageDb",EV=1,yu="firebaseLocalStorage",wT="fbase_key";class wl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Oh(e,t){return e.transaction([yu],t?"readwrite":"readonly").objectStore(yu)}function IV(){const e=indexedDB.deleteDatabase(AT);return new wl(e).toPromise()}function Gd(){const e=indexedDB.open(AT,EV);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(yu,{keyPath:wT})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(yu)?t(i):(i.close(),await IV(),t(await Gd()))})})}async function wv(e,t,n){const i=Oh(e,!0).put({[wT]:t,value:n});return new wl(i).toPromise()}async function TV(e,t){const n=Oh(e,!1).get(t),i=await new wl(n).toPromise();return i===void 0?null:i.value}function Ev(e,t){const n=Oh(e,!0).delete(t);return new wl(n).toPromise()}const xV=800,SV=3;class ET{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>SV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mh._getInstance(wV()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await bV(),!this.activeServiceWorker)return;this.sender=new yV(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||AV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Gd();return await wv(t,_u,"1"),await Ev(t,_u),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>wv(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>TV(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ev(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const r=Oh(s,!1).getAll();return new wl(r).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:s,value:r}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ET.type="LOCAL";const kV=ET;new vl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(e,t){return t?ui(t):(rt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm extends hm{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Rr(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Rr(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Rr(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function CV(e){return gT(e.auth,new gm(e),e.bypassAuthState)}function PV(e){const{auth:t,user:n}=e;return rt(n,t,"internal-error"),sV(n,new gm(e),e.bypassAuthState)}async function RV(e){const{auth:t,user:n}=e;return rt(n,t,"internal-error"),iV(n,new gm(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(t,n,i,s,r=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return CV;case"linkViaPopup":case"linkViaRedirect":return RV;case"reauthViaPopup":case"reauthViaRedirect":return PV;default:pn(this.auth,"internal-error")}}resolve(t){vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=new vl(2e3,1e4);async function xT(e,t,n){const i=lr(e);vL(e,t,dm);const s=IT(i,n);return new xs(i,"signInViaPopup",t,s).executeNotNull()}class xs extends TT{constructor(t,n,i,s,r){super(t,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,xs.currentPopupAction&&xs.currentPopupAction.cancel(),xs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return rt(t,this.auth,"internal-error"),t}async onExecution(){vi(this.filter.length===1,"Popup operations only handle one event");const t=pm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xs.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,MV.get())};t()}}xs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV="pendingRedirect",Cc=new Map;class DV extends TT{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Cc.get(this.auth._key());if(!t){try{const i=await NV(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Cc.set(this.auth._key(),t)}return this.bypassAuthState||Cc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function NV(e,t){const n=FV(t),i=VV(e);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function LV(e,t){Cc.set(e._key(),t)}function VV(e){return ui(e._redirectPersistence)}function FV(e){return kc(OV,e.config.apiKey,e.name)}async function BV(e,t,n=!1){const i=lr(e),s=IT(i,t),o=await new DV(i,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV=10*60*1e3;class zV{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!jV(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!ST(t)){const s=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(qn(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=UV&&this.cachedEventUids.clear(),this.cachedEventUids.has(Iv(t))}saveEventToCache(t){this.cachedEventUids.add(Iv(t)),this.lastProcessedEventTime=Date.now()}}function Iv(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function ST({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function jV(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ST(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $V(e,t={}){return mo(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WV=/^https?/;async function qV(e){if(e.config.emulator)return;const{authorizedDomains:t}=await $V(e);for(const n of t)try{if(KV(n))return}catch{}pn(e,"unauthorized-domain")}function KV(e){const t=Kd(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!WV.test(n))return!1;if(HV.test(e))return i===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV=new vl(3e4,6e4);function Tv(){const e=Kn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function QV(e){return new Promise((t,n)=>{var i,s,r;function o(){Tv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Tv(),n(qn(e,"network-request-failed"))},timeout:GV.get()})}if(!((s=(i=Kn().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((r=Kn().gapi)===null||r===void 0)&&r.load)o();else{const a=UL("iframefcb");return Kn()[a]=()=>{gapi.load?o():n(qn(e,"network-request-failed"))},hT(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw Pc=null,t})}let Pc=null;function YV(e){return Pc=Pc||QV(e),Pc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV=new vl(5e3,15e3),JV="__/auth/iframe",ZV="emulator/auth/iframe",tF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nF(e){const t=e.config;rt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?lm(t,ZV):`https://${e.config.authDomain}/${JV}`,i={apiKey:t.apiKey,appName:e.name,v:oo},s=eF.get(e.config.apiHost);s&&(i.eid=s);const r=e._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${el(i).slice(1)}`}async function iF(e){const t=await YV(e),n=Kn().gapi;return rt(n,e,"internal-error"),t.open({where:document.body,url:nF(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tF,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const o=qn(e,"network-request-failed"),a=Kn().setTimeout(()=>{r(o)},XV.get());function l(){Kn().clearTimeout(a),s(i)}i.ping(l).then(l,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rF=500,oF=600,aF="_blank",lF="http://localhost";class xv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cF(e,t,n,i=rF,s=oF){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},sF),{width:i.toString(),height:s.toString(),top:r,left:o}),c=Ne().toLowerCase();n&&(a=nT(c)?aF:n),eT(c)&&(t=t||lF,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[d,p])=>`${f}${d}=${p},`,"");if(LL(c)&&a!=="_self")return uF(t||"",a),new xv(null);const h=window.open(t||"",a,u);rt(h,e,"popup-blocked");try{h.focus()}catch{}return new xv(h)}function uF(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hF="__/auth/handler",fF="emulator/auth/handler",dF=encodeURIComponent("fac");async function Sv(e,t,n,i,s,r){rt(e.config.authDomain,e,"auth-domain-config-required"),rt(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:oo,eventId:s};if(t instanceof dm){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",gP(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,h]of Object.entries(r||{}))o[u]=h}if(t instanceof Al){const u=t.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await e._getAppCheckToken(),c=l?`#${dF}=${encodeURIComponent(l)}`:"";return`${pF(e)}?${el(a).slice(1)}${c}`}function pF({config:e}){return e.emulator?lm(e,fF):`https://${e.authDomain}/${hF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf="webStorageSupport";class gF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vT,this._completeRedirectFn=BV,this._overrideRedirectResult=LV}async _openPopup(t,n,i,s){var r;vi((r=this.eventManagers[t._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await Sv(t,n,i,Kd(),s);return cF(t,o,pm())}async _openRedirect(t,n,i,s){await this._originValidation(t);const r=await Sv(t,n,i,Kd(),s);return vV(r),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(vi(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await iF(t),i=new zV(t);return n.register("authEvent",s=>(rt(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Sf,{type:Sf},s=>{var r;const o=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[Sf];o!==void 0&&n(!!o),pn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qV(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return aT()||um()||Rh()}}const mF=gF;var kv="@firebase/auth",Cv="1.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){rt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function vF(e){Xn(new Sn("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),r=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;rt(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lT(e)},c=new WL(i,s,r,l);return KL(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Xn(new Sn("auth-internal",t=>{const n=lr(t.getProvider("auth").getImmediate());return(i=>new _F(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fn(kv,Cv,yF(e)),fn(kv,Cv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF=5*60,AF=YA("authIdTokenMaxAge")||bF;let Pv=null;const wF=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>AF)return;const s=n==null?void 0:n.token;Pv!==s&&(Pv=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function EF(e=tg()){const t=sr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=qL(e,{popupRedirectResolver:mF,persistence:[kV,mV,vT]}),i=YA("authTokenSyncURL");if(i){const r=wF(i);cV(n,r,()=>r(n.currentUser)),lV(n,o=>r(o))}const s=GA("auth");return s&&GL(n,`http://${s}`),n}vF("Browser");const IF={apiKey:"AIzaSyDPHqqYyhuEJ7fIpRksToVYC5zbM1onZ3w",authDomain:"flex-fa8c8.firebaseapp.com",projectId:"flex-fa8c8",storageBucket:"flex-fa8c8.appspot.com",messagingSenderId:"824163771541",appId:"1:824163771541:web:83622e1bb9f3aada3f679c",measurementId:"G-SY23L7GKQC"},TF=nw(IF),Gn=YN();n2(TF);const ge=EF(),Rv=(e,t)=>dL(qs(yl(Gn,"users"),e),t),xF=(e,t)=>Ch(sm(qs(Gn,"users",e)),t),SF=e=>{dv(qs(Gn,"users",e)),Ch(sm(yl(Gn,"routines"),zI("uid","==",e)),t=>{t.forEach(n=>{dv(qs(Gn,"routines",n.id))})}),fV(ge.currentUser)},kF=e=>qI(yl(Gn,"routines"),e),CF=(e,t)=>Ch(sm(yl(Gn,"routines"),zI("uid","==",e)),t),PF=async(e,t)=>{const n=await qI(yl(Gn,"exercises"),e);await pL(qs(Gn,"routines",t),{exercises:mL(n.id)})},RF=(e,t)=>Ch(qs(Gn,"exercises",e),t);const MF={class:"view"},OF={key:1,class:"footer"},DF={__name:"App",setup(e){const t=$A(),n=Ku(),i=nr(),s=["workouts","stats","user"],r=Et(!1);return uV(ge,o=>{o?(r.value=!0,xF(ge.currentUser.uid,a=>{i.username=ge.currentUser.providerData[0].providerId=="google.com"?ge.currentUser.displayName:a.data().username}),n.push({path:"/workouts"})):(r.value=!1,n.push({path:"/"}))}),(o,a)=>(It(),Ft(Se,null,[s.includes(qt(t).name)?(It(),Tr(XC,{key:0,title:qt(t).name},null,8,["title"])):Lr("",!0),C("div",MF,[Mt(qt(jA),null,{default:Fs(({Component:l,route:c})=>[(It(),Tr(SS(l)))]),_:1})]),r.value?(It(),Ft("div",OF,[Mt(qC)])):Lr("",!0)],64))}},NF=gn(DF,[["__scopeId","data-v-8f691449"]]);const LF=e=>(tr("data-v-d2ad9a4c"),e=e(),er(),e),VF={class:"page"},FF=LF(()=>C("header",{class:"center"},[C("img",{src:HA,alt:"FLEX",class:"w-32"}),C("h1",null,"FLEX"),C("p",null,"Sculpt your success")],-1)),BF={__name:"Home",setup(e){return(t,n)=>(It(),Ft("div",VF,[FF,Mt(qt(zr),{class:"button signup",to:"/signup"},{default:Fs(()=>[rd(" Sign-Up ")]),_:1}),Mt(qt(zr),{class:"button login",to:"/login"},{default:Fs(()=>[rd(" Log-in ")]),_:1})]))}},UF=gn(BF,[["__scopeId","data-v-d2ad9a4c"]]);const El=e=>(tr("data-v-7fcde5a8"),e=e(),er(),e),zF={class:"page"},jF=El(()=>C("header",{class:"center"},[C("h1",null,"Welcome!"),C("h3",null,"SignUp to create an account")],-1)),$F={class:"field"},HF={class:"field"},WF={class:"field"},qF=["type"],KF={class:"field"},GF=["type"],QF=El(()=>C("hr",null,null,-1)),YF={key:0},XF=El(()=>C("p",null,"continue with Google",-1)),JF=El(()=>C("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/706px-Google_%22G%22_Logo.svg.png",className:"w-8"},null,-1)),ZF=[XF,JF],t4=El(()=>C("p",null,"back",-1)),e4={__name:"Signup",setup(e){const t=Ku(),n=nr(),i=Et(""),s=Et(""),r=Et(""),o=Et(""),a=Et(!1),l=Et(!1),c=()=>{r.value==o.value?oV(ge,s.value,r.value).then(h=>{Rv(ge.currentUser.uid,{username:i.value}),n.username.value=i.value,t.push({path:"/workouts"})}).catch(h=>{l.value=!0}):(l.value=!0,r.value="",o.value="")},u=()=>{xT(ge,new Bn).then(h=>{Rv(ge.currentUser.uid,{username:ge.currentUser.displayName}),n.username.value=ge.currentUser.displayName}).catch(h=>{l.value=!0})};return(h,f)=>{const d=$p("font-awesome-icon");return It(),Ft("div",zF,[jF,C("div",$F,[tn(C("input",{placeholder:"username",type:"username","onUpdate:modelValue":f[0]||(f[0]=p=>i.value=p)},null,512),[[yn,i.value]])]),C("div",HF,[tn(C("input",{placeholder:"email",type:"email","onUpdate:modelValue":f[1]||(f[1]=p=>s.value=p)},null,512),[[yn,s.value]])]),C("div",WF,[tn(C("input",{placeholder:"password",type:a.value?"text":"password","onUpdate:modelValue":f[2]||(f[2]=p=>r.value=p)},null,8,qF),[[ad,r.value]]),Mt(d,{class:"eye",icon:a.value?"eye-slash":"eye",onClick:f[3]||(f[3]=p=>a.value=!a.value),alt:"eyePassword"},null,8,["icon"])]),C("div",KF,[tn(C("input",{placeholder:"confirm password",type:a.value?"text":"password","onUpdate:modelValue":f[4]||(f[4]=p=>o.value=p)},null,8,GF),[[ad,o.value]])]),C("button",{class:"login",onClick:f[5]||(f[5]=p=>c())},"SignUp"),QF,l.value?(It(),Ft("h3",YF,"Vaya, ha ocurrido un error...")):Lr("",!0),C("button",{class:"google",onClick:u},ZF),Mt(qt(zr),{to:"/"},{default:Fs(()=>[t4]),_:1})])}}},n4=gn(e4,[["__scopeId","data-v-7fcde5a8"]]);const Il=e=>(tr("data-v-3e8a0e07"),e=e(),er(),e),i4={class:"page"},s4=Il(()=>C("header",{class:"center"},[C("h1",null,"Welcome!"),C("h3",null,"Login to start using Flex")],-1)),r4={class:"field"},o4={class:"field"},a4=["type"],l4=Il(()=>C("hr",null,null,-1)),c4={key:0},u4=Il(()=>C("p",null,"continue with Google",-1)),h4=Il(()=>C("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/706px-Google_%22G%22_Logo.svg.png",className:"w-8"},null,-1)),f4=[u4,h4],d4=Il(()=>C("p",null,"back",-1)),p4={__name:"Login",setup(e){Ku();const t=Et(""),n=Et(""),i=Et(!1),s=Et(!1),r=()=>{aV(ge,t.value,n.value).then(o=>{}).catch(o=>{s.value=!0})};return(o,a)=>{const l=$p("font-awesome-icon");return It(),Ft("div",i4,[s4,C("div",r4,[tn(C("input",{placeholder:"email",type:"text","onUpdate:modelValue":a[0]||(a[0]=c=>t.value=c)},null,512),[[yn,t.value]])]),C("div",o4,[tn(C("input",{placeholder:"password",type:i.value?"text":"password","onUpdate:modelValue":a[1]||(a[1]=c=>n.value=c)},null,8,a4),[[ad,n.value]]),Mt(l,{class:"eye",icon:i.value?"eye-slash":"eye",onClick:a[2]||(a[2]=c=>i.value=!i.value),alt:"eyePassword"},null,8,["icon"])]),C("button",{class:"login",onClick:a[3]||(a[3]=c=>r())},"LogIn"),l4,s.value?(It(),Ft("h3",c4,"Vaya, ha ocurrido un error...")):Lr("",!0),C("button",{class:"google",onClick:a[4]||(a[4]=c=>qt(xT)(qt(ge),new qt(Bn)()))},f4),Mt(qt(zr),{class:"absolute bottom-12",to:"/"},{default:Fs(()=>[d4]),_:1})])}}},g4=gn(p4,[["__scopeId","data-v-3e8a0e07"]]),m4="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAA2eSURBVHhe7d3bjttGFgXQli+JE8Tzu/Yn2N8bZJyLnZ5SRCB2j9ySKF7q1F4LMEg9BAjI6jq7TpHSAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAOg7TEbr2+OHhcTqF7h3em1vpn0HKrhR2kgkK7MngYxMKPVxPMGALBhmrUPBhOQIBazCoWISCD9sRCFiCQcQsCj70QyBgDoOGqyn60D9hgGsZKFyk8EM9ggCXGCCcpejDOIQBzjEo+IbCD+MSBPiawcDRi1b4v0znQABhAAMgmNU+IAjkcuMDKfzAU4JAHjc8iMIPXCII5HgxHRnbcY9f8QcumuYKtSGApDc4hR+YSzdgbG7uoBR+YCmCwJi0ecbzWvEHljTNKa9OnxiFVDcQhR9Ym27AONzIASj8wNYEgfrcwOIUf2AvQkBtngGo66XiD+xpmoNenj5RjfRWkMIP9EY3oB43rBjFH+iVEFCLLYA6tPyBrtkSqEVaK0DhB6rRDeifG9Q5xR+oSgjom5vTMcUfqE4I6Jcb0ynFHxiFENAnDwH256D4AyOZ5jT1pjNuSF+OP+Tz93QOMIw2t31pBz8o1BEBoB8/tD+QP6dzgOG0Oe6vdnhz+sTeBIA+/Nz+MP6YzgGG1ea6T+3wy+kTexIA9ve2/UH8Np0DDK/Neb+2w9vTJ/biycx9HVf+ij8Q6fD+n06AOXAnAsB+jnv+2v5AtBYCjs8EmAt3IADs4/i9/p+nc4BoLQS8bgdz4sYEgO29aMX/+DoMAJMWAo4/IuQ16A0JABtrxd+X/ACc4RsDt+Vib0jxB3ieELAdF3ojij/AdYSAbbjIG1D8AW4jBKzPBV6Z4g8wjxCwLt8EuC7XF2C+45sBrES6WpHVP8B9dAHW48KuRPEHWIYQsA4XdQWKP8CyhIDl2aNenmsKsDzPAyxMolqY1T/AOnQBluViLkjxB1iXELAc7eqFKP4Am/hpOnInAQCAMtpi67/TKXfSSlmA1T/AtmwF3E8H4H6vpiMA2zH33kmCupPVP8A+dAHu4+LdQfEH2JcQMJ8tAAAIJDnNZPUP0AddgHl0AOZx3QD6IQDM4KLNYPUP0BddgNu5YDdS/AH6JATcRisbAAJJSzew+gfomy7A9XQAACCQpHQlq3+AGnQBrqMDAACBBIDrSJMAdahtV1DYrqD9D1CLbYDLpCQACCQhXWD1D1CTLsDzdAAAIJB09Ayrf4DadAG+TwcAAAIJAAAQSGvkO7T/AcZgG+A8HQAACCQAnGH1D8DoBAAAhmZRd54AAACBPBjxhKQIMCYPA35LBwAAAgkAABBIAACAQPZDvmL/H2BsngP4lw4AAAQSAAAgkAAAAIHshUzs/wNk8BzAiQ4AAAQSAAAgkAAAAIHsgzT2/wGyeA5ABwAAIgkAABBIAACAQAIAAAQSAAAgUPxTkN4AAMiU/iaADgAABBIAACCQAAAAgQQAAAgkAABAIAEAAAIJAJDo3eO3/4A4vgfA9wCQ4NYi/9EPhTI+3wMAjGvuCl9nAIYXHQCs/hnaEgVcCIBhRbc/BACGtFbRti3AgJK3AWwBwEjWXLHrBsBQBAAYxRYFWgiAYQgAABBIAIARbLky1wWAIQgAUN0eBVkIgPIEAAAIJABAZXuuxHUBoDQBAAACCQAAEEgAAIBAAgBU1cMevOcAoCwBAAACCQAAEEgAAIBAAgAABBIAACCQAAAAgQQAAAgkAABAIAEAAAIJAAAQSAAAgEACAAAEEgAAIJAAAACBBAAACCQAAEAgAQAAAgkAABBIAACAQAIAAAQSAAAgkAAAAIEEAAAIJAAAQCABAAACCQAAEEgAAIBAAgAABBIAACCQAAAAgQQAAAgkAABAIAEAAAIJAAAQSAAAgEACAAAEEgAAIJAAAACBBAAACCQAAEAgAQAAAgkAABBIAACAQAIAAAQSAAAgkAAAAIEEAAAIJAAAQCABAAACCQAAEEgAAIBAAgAABBIAACCQAAAAgQQAAAgkAABAoMN0jPT44eFxOmU079xaFvQxeqoc2uF9bh0UABiDgs+WBIJhJAcAWwDUdiz8ij9bM+4YgABAXSZg9mYMUpgAQD1WX/TEeKQoAYBaTLT0ytikGAGAOkyw9M4YpRABAAACCQDUYGVFFcYqRQgA9M+ESjXGLAUIAAAQSACgb1ZSVGXs0jkBAAACCQAAEEgAAIBAAgD9sodKdcYwHRMAACCQAAAAgQQAAAgkANCvj4fpBIoyhumYAAAAgQQAAAgkAABAIAGAvtlDpSpjl84JAAAQSACgf1ZSVGPMUoAAQA0mVKowVilCAACAQAIAdVhZ0TtjlEIEAGoxwdIrY5NiBADqOU60Jlt6YTxSlABAXSZd9mYMUpgAQG1WX+zBuGMA0SP48cPD43TKaN65tSxIsR/W4X1uHRQAoKpeQo7iSGHJAcAWAAAEEgAAIJAAAACBBAAACCQAAEAgAQAAAgkAABBIAACAQAIAAAQSAAAgkAAAAIEEAAAIJAAAQCABAAACCQAAEEgAAIBAAgAABBIAACCQAAAAgQQAAAgkAABAIAEAAAIJAAAQSAAAgEACAAAEEgAAIJAAAACBBAAACCQAAEAgAQAAAgkAABBIAACAQAIAAAQSAAAgkAAAAIEEAAAIJAAAQCABAAACCQAAEEgAAIBAAgAABBIAACCQAAAAgQQAAAgkAABAIAEAAAIJAAAQSAAAgEACAAAEEgAAIJAAAACBBAAACCQAAEAgAQAAAgkAABBIAACAQAIAVPXxMJ3sqIf/B2AWAQAAAgkAABBIAACAQAIAVLbnHrz9fyhNAACAQAIAVLfHStzqH8oTAGAEWxZkxR+GIAAAQCABAEaxxcrc6h+GIQDASNYs0Io/DCX6L/rxw8PjdArjebfQ8Fb4GdThfXYNjO4ApN98BrdE4Vb8YVi2AGBkxwI+p4jP/e+AMuL/wm0DEOnp9oBiT6D0LrAAIAAARPIMAAAQRwAAgEACAAAEEgAAIJAAAACBBAAACOTl38argABZfBOsDgAARBIAACCQAAAAgQQAAAgkAABAIG8BTLwJAJDBGwAnOgAAEEgAAIBAAgAABLIP8hXPAQCMzf7/v3QAACCQAAAAgQQAAAhkL+QJzwEAjMn+/7d0AAAgkAAAAIEEAAAIZD/kDM8BAIzF/v//0wEAgEACAABDs/o/TwA4w2ABYHQCAAAEstJ9hocBAWrT0f0+HQAACCQAAEAgrZELbAMA1KT9/zwdAAAIJB1dQRcAoBar/8t0AAAgkABwhZYkXSeAIszZ13GRrmMLAKAOc/YVBAAACOQhiRt4GBCgbx7+u54OAAAEkpRupAsA0Cer/9voAABAIGlpBl0AgL5Y/d9OB2AG75gC9MOcPI+LNo8OAEA/zMkzaJncwVYAwL60/ufTAQCAQJLTnXQBAPZh9X8fHYA7tQH4ejoFYCNt7n01nTKTAHC/z9MRgO18mY7MpH2yEFsBANvQ+l+GDgAAZbTi/9N0yp0EgIVIpACb+H06cidFa2G2AgDWYaG1LB2AhbUB+nI6BWAhbW711P/CBIDl/T0dAViOp/4Xpp2yElsBAMvQ+l+Hi7oiIQDgPor/emwBrMjzAADz2fdflwCwLs8DAMxn339FWisbsBUAcBut//W5wBsRAgCuo/hvw0XekBAA8DzFfzsu9MaEAIDzFP9teQhwY22AezMA4Ik2N6pHG3PBt/d3G+hebQGYtDnxdTvojm5MANjHlzbgf5zOAWK1ufBNO3w+fWJLAsB+/mwD/+fpHCBOmwN/aYc/Tp/YmgCwr0/tD+A/0zlAjDb3vW2H306f2IMnLvvw4+OHh9+nc4ChTd3PT6dP7EUA6McPLQRohQFDa8X/uOdvruuAANCXVy0E/DWdAwylFf/jG1C+378TAkB/Di0E+BEhYCit+B+/A8Xc1hEBoFO+MRAYRSv+ak2H3JSOCQFAdYp/v9yYzgkBQFWKf9/cnAKEAKAaxb9/blAdHg4EuudhvzoEgGJ0A4BeWfXX4mYVJAQAvVH863HD6rIlAOxOy78uAaA43QBgL1b9tbl5Y3jTgoAf1gA20Qr/8Wd8/ZJfcQLAQHQDgLVZ9Y/DjRzPyxYEPk/nAItohd8P+QxGABiUbgCwFKv+MbmpgxMEgLkU/rG5uRm8MghcrRX+F+1g8TA4ASCIbgBwiVV/Djc6kCAAPKXw53HDgwkCgMKfy43nH8IAZFH4MQD4hiAA41L0+ZrBwFmCAIxD4eccg4KLhAGoR9HnEgOEmwgD0C9Fn1sYLMwiCEA/FH7mMGhYhEAA21HwWYJBxCoEAliOgs8aDCo2IRDA9RR8tmCQsSvBgGQKPXsy+ChBUKAShR0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgFgPD/8DZqUz3JyENfkAAAAASUVORK5CYII=",kT="/Flex/assets/addExe-bbc541e7.png";const mm=e=>(tr("data-v-d6528b1b"),e=e(),er(),e),_4={class:"text-xl self-start"},y4={class:"props"},v4={class:"prop-cont"},b4=mm(()=>C("p",null,"Series",-1)),A4={class:"prop-cont"},w4=mm(()=>C("p",null,"Reps",-1)),E4={class:"prop-cont"},I4=mm(()=>C("p",null,"Weight",-1)),T4={__name:"ExeCard",props:{name:"Exercise",series:0,reps:"0",weight:"0"},setup(e){const t=e,n=nr();return(i,s)=>(It(),Ft("div",{class:"center exeCard",style:io({borderColor:qt(n).color})},[C("h3",_4,vn(t.name),1),C("div",y4,[C("div",v4,[b4,C("p",null,vn(t.series),1)]),C("div",A4,[w4,C("p",null,vn(t.reps),1)]),C("div",E4,[I4,C("p",null,vn(t.weight),1)])])],4))}},x4=gn(T4,[["__scopeId","data-v-d6528b1b"]]);function S4(e){return Cp()?(F0(e),!0):!1}function CT(e){return typeof e=="function"?e():qt(e)}const PT=typeof window<"u",Qd=()=>{},k4=C4();function C4(){var e;return PT&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent)}function Fo(e){var t;const n=CT(e);return(t=n==null?void 0:n.$el)!=null?t:n}const RT=PT?window:void 0;function kf(...e){let t,n,i,s;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,i,s]=e,t=RT):[t,n,i,s]=e,!t)return Qd;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const r=[],o=()=>{r.forEach(u=>u()),r.length=0},a=(u,h,f,d)=>(u.addEventListener(h,f,d),()=>u.removeEventListener(h,f,d)),l=$n(()=>[Fo(t),CT(s)],([u,h])=>{o(),u&&r.push(...n.flatMap(f=>i.map(d=>a(u,f,d,h))))},{immediate:!0,flush:"post"}),c=()=>{l(),o()};return S4(c),c}let Mv=!1;function Ov(e,t,n={}){const{window:i=RT,ignore:s=[],capture:r=!0,detectIframe:o=!1}=n;if(!i)return;k4&&!Mv&&(Mv=!0,Array.from(i.document.body.children).forEach(f=>f.addEventListener("click",Qd)),i.document.documentElement.addEventListener("click",Qd));let a=!0;const l=f=>s.some(d=>{if(typeof d=="string")return Array.from(i.document.querySelectorAll(d)).some(p=>p===f.target||f.composedPath().includes(p));{const p=Fo(d);return p&&(f.target===p||f.composedPath().includes(p))}}),u=[kf(i,"click",f=>{const d=Fo(e);if(!(!d||d===f.target||f.composedPath().includes(d))){if(f.detail===0&&(a=!l(f)),!a){a=!0;return}t(f)}},{passive:!0,capture:r}),kf(i,"pointerdown",f=>{const d=Fo(e);d&&(a=!f.composedPath().includes(d)&&!l(f))},{passive:!0}),o&&kf(i,"blur",f=>{setTimeout(()=>{var d;const p=Fo(e);((d=i.document.activeElement)==null?void 0:d.tagName)==="IFRAME"&&!(p!=null&&p.contains(i.document.activeElement))&&t(f)},0)})].filter(Boolean);return()=>u.forEach(f=>f())}const ls=e=>(tr("data-v-1c5df91d"),e=e(),er(),e),P4={class:"page"},R4={class:"selector-container"},M4=["value"],O4={class:"exercises-container"},D4={key:0,class:"modal-bg"},N4=ls(()=>C("header",{class:"center"},[C("img",{src:kT,alt:"addExercise"})],-1)),L4={class:"exNameData"},V4=ls(()=>C("label",{for:"name"},"Exercise name",-1)),F4={class:"center exercise-data"},B4=ls(()=>C("label",{for:"series"},"series",-1)),U4=ls(()=>C("label",{for:"reps"},"reps",-1)),z4=ls(()=>C("label",{for:"weight"},"weight",-1)),j4={key:0,class:"modal-bg"},$4=ls(()=>C("header",{class:"center"},[C("img",{src:kT,alt:"addExercise"})],-1)),H4={class:"exNameData"},W4=ls(()=>C("label",{for:"name"},"Workout name",-1)),q4={class:"center frequency"},K4=ls(()=>C("h1",null,"Frequency:",-1)),G4={class:"days"},Q4=["onClick"],Y4={__name:"Workouts",setup(e){nr();const t=Et([]),n=Et({}),i=Et([]),s=()=>{CF(ge.currentUser.uid,A=>{A.forEach(w=>{t.value.push({id:w.id,...w.data()})}),t.value[0]&&(n.value=t.value[0])})},r=()=>{i.value=[],n.value[["exercises"]].forEach(A=>{RF(A,w=>{i.value.push({id:w.id,...w.data()})})})};$n(n,A=>r()),zp(()=>s());const o=Et(!1),a=Et(!1),l=Et(null),c=Et(null);Ov(l,()=>E()),Ov(c,()=>_());const u=Et(""),h=Et(null),f=Et(""),d=Et(""),p=Et(""),g=Et([{name:"M",isSelected:!1},{name:"TU",isSelected:!1},{name:"W",isSelected:!1},{name:"TH",isSelected:!1},{name:"F",isSelected:!1},{name:"SA",isSelected:!1},{name:"SU",isSelected:!1}]),m=()=>{if(p=="")console.log("No ha rellenado el campo");else try{kF({name:p.value,exercises:[],frequency:g.value.filter(A=>A.isSelected).map(A=>A.name),uid:ge.currentUser.uid}),t.value=[],_()}catch(A){console.log("Error al aadir: ",A)}},_=()=>{a.value=!1,p.value="",g.value.forEach(A=>{A.isSelected=!1})},y=()=>{const A={name:u.value,reps:f.value,series:h.value,weight:d.value};PF(A,n.value.id),t.value=[],E()},E=()=>{o.value=!1,u.value="",h.value=null,f.value="",d.value=""};return(A,w)=>(It(),Ft(Se,null,[C("div",P4,[C("div",R4,[tn(C("select",{class:"selector","onUpdate:modelValue":w[0]||(w[0]=T=>n.value=T)},[(It(!0),Ft(Se,null,qo(t.value,T=>(It(),Ft("option",{value:T},vn(T.name),9,M4))),256))],512),[[xA,n.value]]),C("img",{class:"w-10",src:m4,alt:"add",onClick:w[1]||(w[1]=T=>a.value=!a.value)})]),C("div",O4,[(It(!0),Ft(Se,null,qo(i.value,T=>(It(),Tr(x4,{name:T.name,series:T.series,reps:T.reps},null,8,["name","series","reps"]))),256)),C("button",{class:"add center",onClick:w[2]||(w[2]=T=>o.value=!o.value)},"add exercise +")])]),(It(),Tr(m_,{to:"#addExercise"},[o.value?(It(),Ft("div",D4,[C("div",{class:"modal",ref_key:"exeModal",ref:l},[N4,C("div",L4,[V4,tn(C("input",{type:"text",id:"name",placeholder:"Ex: Bench Press","onUpdate:modelValue":w[3]||(w[3]=T=>u.value=T)},null,512),[[yn,u.value]])]),C("div",F4,[C("div",null,[B4,tn(C("input",{type:"number",id:"series","onUpdate:modelValue":w[4]||(w[4]=T=>h.value=T),placeholder:"0"},null,512),[[yn,h.value]])]),C("div",null,[U4,tn(C("input",{type:"text",id:"reps","onUpdate:modelValue":w[5]||(w[5]=T=>f.value=T),placeholder:"0-0-0"},null,512),[[yn,f.value]])]),C("div",null,[z4,tn(C("input",{type:"text",id:"weight","onUpdate:modelValue":w[6]||(w[6]=T=>d.value=T),placeholder:"0"},null,512),[[yn,d.value]])])]),C("div",{class:"buttons"},[C("button",{onClick:y},"save"),C("button",{onClick:E},"cancel")])],512)])):Lr("",!0)])),(It(),Tr(m_,{to:"#addWorkout"},[a.value?(It(),Ft("div",j4,[C("div",{class:"modal",ref_key:"workModal",ref:c},[$4,C("div",H4,[W4,tn(C("input",{type:"text",id:"name",placeholder:"Ex: Push B","onUpdate:modelValue":w[7]||(w[7]=T=>p.value=T)},null,512),[[yn,p.value]])]),C("div",q4,[K4,C("div",G4,[(It(!0),Ft(Se,null,qo(g.value,T=>(It(),Ft("button",{class:Du(["day",T.isSelected?"bg-orange":"bg-salmon"]),onClick:S=>T.isSelected=!T.isSelected},vn(T.name),11,Q4))),256))])]),C("div",{class:"buttons"},[C("button",{onClick:m},"save"),C("button",{onClick:_},"cancel")])],512)])):Lr("",!0)]))],64))}},X4=gn(Y4,[["__scopeId","data-v-1c5df91d"]]);/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Tl(e){return e+.5|0}const Vi=(e,t,n)=>Math.max(Math.min(e,n),t);function Bo(e){return Vi(Tl(e*2.55),0,255)}function Gi(e){return Vi(Tl(e*255),0,255)}function si(e){return Vi(Tl(e/2.55)/100,0,1)}function Dv(e){return Vi(Tl(e*100),0,100)}const cn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Yd=[..."0123456789ABCDEF"],J4=e=>Yd[e&15],Z4=e=>Yd[(e&240)>>4]+Yd[e&15],Ql=e=>(e&240)>>4===(e&15),tB=e=>Ql(e.r)&&Ql(e.g)&&Ql(e.b)&&Ql(e.a);function eB(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&cn[e[1]]*17,g:255&cn[e[2]]*17,b:255&cn[e[3]]*17,a:t===5?cn[e[4]]*17:255}:(t===7||t===9)&&(n={r:cn[e[1]]<<4|cn[e[2]],g:cn[e[3]]<<4|cn[e[4]],b:cn[e[5]]<<4|cn[e[6]],a:t===9?cn[e[7]]<<4|cn[e[8]]:255})),n}const nB=(e,t)=>e<255?t(e):"";function iB(e){var t=tB(e)?J4:Z4;return e?"#"+t(e.r)+t(e.g)+t(e.b)+nB(e.a,t):void 0}const sB=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function MT(e,t,n){const i=t*Math.min(n,1-n),s=(r,o=(r+e/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function rB(e,t,n){const i=(s,r=(s+e/60)%6)=>n-n*t*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function oB(e,t,n){const i=MT(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)i[s]*=1-t-n,i[s]+=t;return i}function aB(e,t,n,i,s){return e===s?(t-n)/i+(t<n?6:0):t===s?(n-e)/i+2:(e-t)/i+4}function _m(e){const n=e.r/255,i=e.g/255,s=e.b/255,r=Math.max(n,i,s),o=Math.min(n,i,s),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=aB(n,i,s,u,r),l=l*60+.5),[l|0,c||0,a]}function ym(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(Gi)}function vm(e,t,n){return ym(MT,e,t,n)}function lB(e,t,n){return ym(oB,e,t,n)}function cB(e,t,n){return ym(rB,e,t,n)}function OT(e){return(e%360+360)%360}function uB(e){const t=sB.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?Bo(+t[5]):Gi(+t[5]));const s=OT(+t[2]),r=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?i=lB(s,r,o):t[1]==="hsv"?i=cB(s,r,o):i=vm(s,r,o),{r:i[0],g:i[1],b:i[2],a:n}}function hB(e,t){var n=_m(e);n[0]=OT(n[0]+t),n=vm(n),e.r=n[0],e.g=n[1],e.b=n[2]}function fB(e){if(!e)return;const t=_m(e),n=t[0],i=Dv(t[1]),s=Dv(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${s}%, ${si(e.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const Nv={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Lv={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function dB(){const e={},t=Object.keys(Lv),n=Object.keys(Nv);let i,s,r,o,a;for(i=0;i<t.length;i++){for(o=a=t[i],s=0;s<n.length;s++)r=n[s],a=a.replace(r,Nv[r]);r=parseInt(Lv[o],16),e[a]=[r>>16&255,r>>8&255,r&255]}return e}let Yl;function pB(e){Yl||(Yl=dB(),Yl.transparent=[0,0,0,0]);const t=Yl[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const gB=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function mB(e){const t=gB.exec(e);let n=255,i,s,r;if(t){if(t[7]!==i){const o=+t[7];n=t[8]?Bo(o):Vi(o*255,0,255)}return i=+t[1],s=+t[3],r=+t[5],i=255&(t[2]?Bo(i):Vi(i,0,255)),s=255&(t[4]?Bo(s):Vi(s,0,255)),r=255&(t[6]?Bo(r):Vi(r,0,255)),{r:i,g:s,b:r,a:n}}}function _B(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${si(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Cf=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,pr=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function yB(e,t,n){const i=pr(si(e.r)),s=pr(si(e.g)),r=pr(si(e.b));return{r:Gi(Cf(i+n*(pr(si(t.r))-i))),g:Gi(Cf(s+n*(pr(si(t.g))-s))),b:Gi(Cf(r+n*(pr(si(t.b))-r))),a:e.a+n*(t.a-e.a)}}function Xl(e,t,n){if(e){let i=_m(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=vm(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function DT(e,t){return e&&Object.assign(t||{},e)}function Vv(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Gi(e[3]))):(t=DT(e,{r:0,g:0,b:0,a:1}),t.a=Gi(t.a)),t}function vB(e){return e.charAt(0)==="r"?mB(e):uB(e)}class Ua{constructor(t){if(t instanceof Ua)return t;const n=typeof t;let i;n==="object"?i=Vv(t):n==="string"&&(i=eB(t)||pB(t)||vB(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=DT(this._rgb);return t&&(t.a=si(t.a)),t}set rgb(t){this._rgb=Vv(t)}rgbString(){return this._valid?_B(this._rgb):void 0}hexString(){return this._valid?iB(this._rgb):void 0}hslString(){return this._valid?fB(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,s=t.rgb;let r;const o=n===r?.5:n,a=2*o-1,l=i.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,i.r=255&c*i.r+r*s.r+.5,i.g=255&c*i.g+r*s.g+.5,i.b=255&c*i.b+r*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=yB(this._rgb,t._rgb,n)),this}clone(){return new Ua(this.rgb)}alpha(t){return this._rgb.a=Gi(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Tl(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Xl(this._rgb,2,t),this}darken(t){return Xl(this._rgb,2,-t),this}saturate(t){return Xl(this._rgb,1,t),this}desaturate(t){return Xl(this._rgb,1,-t),this}rotate(t){return hB(this._rgb,t),this}}/*!
 * Chart.js v4.3.3
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function ti(){}const bB=(()=>{let e=0;return()=>e++})();function bt(e){return e===null||typeof e>"u"}function jt(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function _t(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Xt(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Xe(e,t){return Xt(e)?e:t}function ht(e,t){return typeof e>"u"?t:e}const AB=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,NT=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Nt(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function Ct(e,t,n,i){let s,r,o;if(jt(e))if(r=e.length,i)for(s=r-1;s>=0;s--)t.call(n,e[s],s);else for(s=0;s<r;s++)t.call(n,e[s],s);else if(_t(e))for(o=Object.keys(e),r=o.length,s=0;s<r;s++)t.call(n,e[o[s]],o[s])}function vu(e,t){let n,i,s,r;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(s=e[n],r=t[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function bu(e){if(jt(e))return e.map(bu);if(_t(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let s=0;for(;s<i;++s)t[n[s]]=bu(e[n[s]]);return t}return e}function LT(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function wB(e,t,n,i){if(!LT(e))return;const s=t[e],r=n[e];_t(s)&&_t(r)?za(s,r,i):t[e]=bu(r)}function za(e,t,n){const i=jt(t)?t:[t],s=i.length;if(!_t(e))return e;n=n||{};const r=n.merger||wB;let o;for(let a=0;a<s;++a){if(o=i[a],!_t(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],e,o,n)}return e}function oa(e,t){return za(e,t,{merger:EB})}function EB(e,t,n){if(!LT(e))return;const i=t[e],s=n[e];_t(i)&&_t(s)?oa(i,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=bu(s))}const Fv={"":e=>e,x:e=>e.x,y:e=>e.y};function IB(e){const t=e.split("."),n=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function TB(e){const t=IB(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function ts(e,t){return(Fv[t]||(Fv[t]=TB(t)))(e)}function bm(e){return e.charAt(0).toUpperCase()+e.slice(1)}const ja=e=>typeof e<"u",es=e=>typeof e=="function",Bv=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function xB(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Kt=Math.PI,$t=2*Kt,SB=$t+Kt,Au=Number.POSITIVE_INFINITY,kB=Kt/180,Jt=Kt/2,fs=Kt/4,Uv=Kt*2/3,Fi=Math.log10,Qn=Math.sign;function aa(e,t,n){return Math.abs(e-t)<n}function zv(e){const t=Math.round(e);e=aa(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Fi(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function CB(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((s,r)=>s-r).pop(),t}function Xr(e){return!isNaN(parseFloat(e))&&isFinite(e)}function PB(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function VT(e,t,n){let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i][n],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function An(e){return e*(Kt/180)}function Am(e){return e*(180/Kt)}function jv(e){if(!Xt(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function FT(e,t){const n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*Kt&&(r+=$t),{angle:r,distance:s}}function Xd(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function RB(e,t){return(e-t+SB)%$t-Kt}function Ze(e){return(e%$t+$t)%$t}function $a(e,t,n,i){const s=Ze(e),r=Ze(t),o=Ze(n),a=Ze(r-s),l=Ze(o-s),c=Ze(s-r),u=Ze(s-o);return s===r||s===o||i&&r===o||a>l&&c<u}function _e(e,t,n){return Math.max(t,Math.min(n,e))}function MB(e){return _e(e,-32768,32767)}function hi(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function wm(e,t,n){n=n||(o=>e[o]<t);let i=e.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const fi=(e,t,n,i)=>wm(e,n,i?s=>{const r=e[s][t];return r<n||r===n&&e[s+1][t]===n}:s=>e[s][t]<n),OB=(e,t,n)=>wm(e,n,i=>e[i][t]>=n);function DB(e,t,n){let i=0,s=e.length;for(;i<s&&e[i]<t;)i++;for(;s>i&&e[s-1]>n;)s--;return i>0||s<e.length?e.slice(i,s):e}const BT=["push","pop","shift","splice","unshift"];function NB(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),BT.forEach(n=>{const i="_onData"+bm(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...r){const o=s.apply(this,r);return e._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...r)}),o}})})}function $v(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(BT.forEach(r=>{delete e[r]}),delete e._chartjs)}function UT(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const zT=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function jT(e,t){let n=[],i=!1;return function(...s){n=s,i||(i=!0,zT.call(window,()=>{i=!1,e.apply(t,n)}))}}function LB(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const Em=e=>e==="start"?"left":e==="end"?"right":"center",Te=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,VB=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t;function $T(e,t,n){const i=t.length;let s=0,r=i;if(e._sorted){const{iScale:o,_parsed:a}=e,l=o.axis,{min:c,max:u,minDefined:h,maxDefined:f}=o.getUserBounds();h&&(s=_e(Math.min(fi(a,l,c).lo,n?i:fi(t,l,o.getPixelForValue(c)).lo),0,i-1)),f?r=_e(Math.max(fi(a,o.axis,u,!0).hi+1,n?0:fi(t,l,o.getPixelForValue(u),!0).hi+1),s,i)-s:r=i-s}return{start:s,count:r}}function HT(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,s={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=s,!0;const r=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),r}const Jl=e=>e===0||e===1,Hv=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*$t/n)),Wv=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*$t/n)+1,la={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Jt)+1,easeOutSine:e=>Math.sin(e*Jt),easeInOutSine:e=>-.5*(Math.cos(Kt*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Jl(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Jl(e)?e:Hv(e,.075,.3),easeOutElastic:e=>Jl(e)?e:Wv(e,.075,.3),easeInOutElastic(e){return Jl(e)?e:e<.5?.5*Hv(e*2,.1125,.45):.5+.5*Wv(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-la.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?la.easeInBounce(e*2)*.5:la.easeOutBounce(e*2-1)*.5+.5};function Im(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function qv(e){return Im(e)?e:new Ua(e)}function Pf(e){return Im(e)?e:new Ua(e).saturate(.5).darken(.1).hexString()}const FB=["x","y","borderWidth","radius","tension"],BB=["color","borderColor","backgroundColor"];function UB(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:BB},numbers:{type:"number",properties:FB}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function zB(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Kv=new Map;function jB(e,t){t=t||{};const n=e+JSON.stringify(t);let i=Kv.get(n);return i||(i=new Intl.NumberFormat(e,t),Kv.set(n,i)),i}function xl(e,t,n){return jB(t,n).format(e)}const WT={values(e){return jt(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let s,r=e;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),r=$B(e,n)}const o=Fi(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),xl(e,i,l)},logarithmic(e,t,n){if(e===0)return"0";const i=n[t].significand||e/Math.pow(10,Math.floor(Fi(e)));return[1,2,3,5,10,15].includes(i)||t>.8*n.length?WT.numeric.call(this,e,t,n):""}};function $B(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Dh={formatters:WT};function HB(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Dh.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ys=Object.create(null),Jd=Object.create(null);function ca(e,t){if(!t)return e;const n=t.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];e=e[r]||(e[r]=Object.create(null))}return e}function Rf(e,t,n){return typeof t=="string"?za(ca(e,t),n):za(ca(e,""),t)}class WB{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Pf(s.backgroundColor),this.hoverBorderColor=(i,s)=>Pf(s.borderColor),this.hoverColor=(i,s)=>Pf(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Rf(this,t,n)}get(t){return ca(this,t)}describe(t,n){return Rf(Jd,t,n)}override(t,n){return Rf(Ys,t,n)}route(t,n,i,s){const r=ca(this,t),o=ca(this,i),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[s];return _t(l)?Object.assign({},c,l):ht(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(n=>n(this))}}var Zt=new WB({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[UB,zB,HB]);function qB(e){return!e||bt(e.size)||bt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function wu(e,t,n,i,s){let r=t[s];return r||(r=t[s]=e.measureText(s).width,n.push(s)),r>i&&(i=r),i}function KB(e,t,n,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(s=i.data={},r=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let o=0;const a=n.length;let l,c,u,h,f;for(l=0;l<a;l++)if(h=n[l],h!=null&&!jt(h))o=wu(e,s,r,o,h);else if(jt(h))for(c=0,u=h.length;c<u;c++)f=h[c],f!=null&&!jt(f)&&(o=wu(e,s,r,o,f));e.restore();const d=r.length/2;if(d>n.length){for(l=0;l<d;l++)delete s[r[l]];r.splice(0,d)}return o}function ds(e,t,n){const i=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*i)/i+s}function Gv(e,t){t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function Zd(e,t,n,i){qT(e,t,n,i,null)}function qT(e,t,n,i,s){let r,o,a,l,c,u,h,f;const d=t.pointStyle,p=t.rotation,g=t.radius;let m=(p||0)*kB;if(d&&typeof d=="object"&&(r=d.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(m),e.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),d){default:s?e.ellipse(n,i,s/2,g,0,0,$t):e.arc(n,i,g,0,$t),e.closePath();break;case"triangle":u=s?s/2:g,e.moveTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=Uv,e.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=Uv,e.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),e.closePath();break;case"rectRounded":c=g*.516,l=g-c,o=Math.cos(m+fs)*l,h=Math.cos(m+fs)*(s?s/2-c:l),a=Math.sin(m+fs)*l,f=Math.sin(m+fs)*(s?s/2-c:l),e.arc(n-h,i-a,c,m-Kt,m-Jt),e.arc(n+f,i-o,c,m-Jt,m),e.arc(n+h,i+a,c,m,m+Jt),e.arc(n-f,i+o,c,m+Jt,m+Kt),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=s?s/2:l,e.rect(n-u,i-l,2*u,2*l);break}m+=fs;case"rectRot":h=Math.cos(m)*(s?s/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(s?s/2:g),e.moveTo(n-h,i-a),e.lineTo(n+f,i-o),e.lineTo(n+h,i+a),e.lineTo(n-f,i+o),e.closePath();break;case"crossRot":m+=fs;case"cross":h=Math.cos(m)*(s?s/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(s?s/2:g),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+f,i-o),e.lineTo(n-f,i+o);break;case"star":h=Math.cos(m)*(s?s/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(s?s/2:g),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+f,i-o),e.lineTo(n-f,i+o),m+=fs,h=Math.cos(m)*(s?s/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(s?s/2:g),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+f,i-o),e.lineTo(n-f,i+o);break;case"line":o=s?s/2:Math.cos(m)*g,a=Math.sin(m)*g,e.moveTo(n-o,i-a),e.lineTo(n+o,i+a);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(m)*(s?s/2:g),i+Math.sin(m)*g);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function di(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Nh(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Lh(e){e.restore()}function GB(e,t,n,i,s){if(!t)return e.lineTo(n.x,n.y);if(s==="middle"){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else s==="after"!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function QB(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function YB(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),bt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function XB(e,t,n,i,s){if(s.strikethrough||s.underline){const r=e.measureText(i),o=t-r.actualBoundingBoxLeft,a=t+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(o,u),e.lineTo(a,u),e.stroke()}}function JB(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Xs(e,t,n,i,s,r={}){const o=jt(t)?t:[t],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(e.save(),e.font=s.string,YB(e,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&JB(e,r.backdrop),a&&(r.strokeColor&&(e.strokeStyle=r.strokeColor),bt(r.strokeWidth)||(e.lineWidth=r.strokeWidth),e.strokeText(c,n,i,r.maxWidth)),e.fillText(c,n,i,r.maxWidth),XB(e,n,i,c,r),i+=Number(s.lineHeight);e.restore()}function Ha(e,t){const{x:n,y:i,w:s,h:r,radius:o}=t;e.arc(n+o.topLeft,i+o.topLeft,o.topLeft,-Jt,Kt,!0),e.lineTo(n,i+r-o.bottomLeft),e.arc(n+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,Kt,Jt,!0),e.lineTo(n+s-o.bottomRight,i+r),e.arc(n+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,Jt,0,!0),e.lineTo(n+s,i+o.topRight),e.arc(n+s-o.topRight,i+o.topRight,o.topRight,0,-Jt,!0),e.lineTo(n+o.topLeft,i)}const ZB=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,t5=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function e5(e,t){const n=(""+e).match(ZB);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const n5=e=>+e||0;function Tm(e,t){const n={},i=_t(t),s=i?Object.keys(t):t,r=_t(e)?i?o=>ht(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of s)n[o]=n5(r(o));return n}function KT(e){return Tm(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Ns(e){return Tm(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Ve(e){const t=KT(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ue(e,t){e=e||{},t=t||Zt.font;let n=ht(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=ht(e.style,t.style);i&&!(""+i).match(t5)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:ht(e.family,t.family),lineHeight:e5(ht(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:ht(e.weight,t.weight),string:""};return s.string=qB(s),s}function Uo(e,t,n,i){let s=!0,r,o,a;for(r=0,o=e.length;r<o;++r)if(a=e[r],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),s=!1),n!==void 0&&jt(a)&&(a=a[n%a.length],s=!1),a!==void 0))return i&&!s&&(i.cacheable=!1),a}function i5(e,t,n){const{min:i,max:s}=e,r=NT(t,(s-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(r)),max:o(s,r)}}function cs(e,t){return Object.assign(Object.create(e),t)}function xm(e,t=[""],n,i,s=()=>e[0]){const r=n||e;typeof i>"u"&&(i=XT("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:i,_getTarget:s,override:a=>xm([a,...e],t,r,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return QT(a,l,()=>h5(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return Yv(a).includes(l)},ownKeys(a){return Yv(a)},set(a,l,c){const u=a._storage||(a._storage=s());return a[l]=u[l]=c,delete a._keys,!0}})}function Jr(e,t,n,i){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:GT(e,i),setContext:r=>Jr(e,r,n,i),override:r=>Jr(e.override(r),t,n,i)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete e[o],!0},get(r,o,a){return QT(r,o,()=>r5(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(r,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(r,o,a){return e[o]=a,delete r[o],!0}})}function GT(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:i,isScriptable:es(n)?n:()=>n,isIndexable:es(i)?i:()=>i}}const s5=(e,t)=>e?e+bm(t):t,Sm=(e,t)=>_t(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function QT(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const i=n();return e[t]=i,i}function r5(e,t,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=e;let a=i[t];return es(a)&&o.isScriptable(t)&&(a=o5(t,a,e,n)),jt(a)&&a.length&&(a=a5(t,a,e,o.isIndexable)),Sm(t,a)&&(a=Jr(a,s,r&&r[t],o)),a}function o5(e,t,n,i){const{_proxy:s,_context:r,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(r,o||i);return a.delete(e),Sm(e,l)&&(l=km(s._scopes,s,e,l)),l}function a5(e,t,n,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&i(e))return t[r.index%t.length];if(_t(t[0])){const l=t,c=s._scopes.filter(u=>u!==l);t=[];for(const u of l){const h=km(c,s,e,u);t.push(Jr(h,r,o&&o[e],a))}}return t}function YT(e,t,n){return es(e)?e(t,n):e}const l5=(e,t)=>e===!0?t:typeof e=="string"?ts(t,e):void 0;function c5(e,t,n,i,s){for(const r of t){const o=l5(n,r);if(o){e.add(o);const a=YT(o._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function km(e,t,n,i){const s=t._rootScopes,r=YT(t._fallback,n,i),o=[...e,...s],a=new Set;a.add(i);let l=Qv(a,o,n,r||n,i);return l===null||typeof r<"u"&&r!==n&&(l=Qv(a,o,r,l,i),l===null)?!1:xm(Array.from(a),[""],s,r,()=>u5(t,n,i))}function Qv(e,t,n,i,s){for(;n;)n=c5(e,t,n,i,s);return n}function u5(e,t,n){const i=e._getTarget();t in i||(i[t]={});const s=i[t];return jt(s)&&_t(n)?n:s||{}}function h5(e,t,n,i){let s;for(const r of t)if(s=XT(s5(r,e),n),typeof s<"u")return Sm(e,s)?km(n,i,e,s):s}function XT(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function Yv(e){let t=e._keys;return t||(t=e._keys=f5(e._scopes)),t}function f5(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}function JT(e,t,n,i){const{iScale:s}=e,{key:r="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=t[c],o[a]={r:s.parse(ts(u,r),c)};return o}const d5=Number.EPSILON||1e-14,Zr=(e,t)=>t<e.length&&!e[t].skip&&e[t],ZT=e=>e==="x"?"y":"x";function p5(e,t,n,i){const s=e.skip?t:e,r=t,o=n.skip?t:n,a=Xd(r,s),l=Xd(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,f=i*u;return{previous:{x:r.x-h*(o.x-s.x),y:r.y-h*(o.y-s.y)},next:{x:r.x+f*(o.x-s.x),y:r.y+f*(o.y-s.y)}}}function g5(e,t,n){const i=e.length;let s,r,o,a,l,c=Zr(e,0);for(let u=0;u<i-1;++u)if(l=c,c=Zr(e,u+1),!(!l||!c)){if(aa(t[u],0,d5)){n[u]=n[u+1]=0;continue}s=n[u]/t[u],r=n[u+1]/t[u],a=Math.pow(s,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=s*o*t[u],n[u+1]=r*o*t[u])}}function m5(e,t,n="x"){const i=ZT(n),s=e.length;let r,o,a,l=Zr(e,0);for(let c=0;c<s;++c){if(o=a,a=l,l=Zr(e,c+1),!a)continue;const u=a[n],h=a[i];o&&(r=(u-o[n])/3,a[`cp1${n}`]=u-r,a[`cp1${i}`]=h-r*t[c]),l&&(r=(l[n]-u)/3,a[`cp2${n}`]=u+r,a[`cp2${i}`]=h+r*t[c])}}function _5(e,t="x"){const n=ZT(t),i=e.length,s=Array(i).fill(0),r=Array(i);let o,a,l,c=Zr(e,0);for(o=0;o<i;++o)if(a=l,l=c,c=Zr(e,o+1),!!l){if(c){const u=c[t]-l[t];s[o]=u!==0?(c[n]-l[n])/u:0}r[o]=a?c?Qn(s[o-1])!==Qn(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}g5(e,s,r),m5(e,r,t)}function Zl(e,t,n){return Math.max(Math.min(e,n),t)}function y5(e,t){let n,i,s,r,o,a=di(e[0],t);for(n=0,i=e.length;n<i;++n)o=r,r=a,a=n<i-1&&di(e[n+1],t),r&&(s=e[n],o&&(s.cp1x=Zl(s.cp1x,t.left,t.right),s.cp1y=Zl(s.cp1y,t.top,t.bottom)),a&&(s.cp2x=Zl(s.cp2x,t.left,t.right),s.cp2y=Zl(s.cp2y,t.top,t.bottom)))}function v5(e,t,n,i,s){let r,o,a,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")_5(e,s);else{let c=i?e[e.length-1]:e[0];for(r=0,o=e.length;r<o;++r)a=e[r],l=p5(c,a,e[Math.min(r+1,o-(i?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&y5(e,n)}function t1(){return typeof window<"u"&&typeof document<"u"}function Cm(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Eu(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const Vh=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function b5(e,t){return Vh(e).getPropertyValue(t)}const A5=["top","right","bottom","left"];function Ls(e,t,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=A5[s];i[r]=parseFloat(e[t+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const w5=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function E5(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:s,offsetY:r}=i;let o=!1,a,l;if(w5(s,r,e.target))a=s,l=r;else{const c=t.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function _s(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,s=Vh(n),r=s.boxSizing==="border-box",o=Ls(s,"padding"),a=Ls(s,"border","width"),{x:l,y:c,box:u}=E5(e,n),h=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:d,height:p}=t;return r&&(d-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-h)/d*n.width/i),y:Math.round((c-f)/p*n.height/i)}}function I5(e,t,n){let i,s;if(t===void 0||n===void 0){const r=Cm(e);if(!r)t=e.clientWidth,n=e.clientHeight;else{const o=r.getBoundingClientRect(),a=Vh(r),l=Ls(a,"border","width"),c=Ls(a,"padding");t=o.width-c.width-l.width,n=o.height-c.height-l.height,i=Eu(a.maxWidth,r,"clientWidth"),s=Eu(a.maxHeight,r,"clientHeight")}}return{width:t,height:n,maxWidth:i||Au,maxHeight:s||Au}}const tc=e=>Math.round(e*10)/10;function T5(e,t,n,i){const s=Vh(e),r=Ls(s,"margin"),o=Eu(s.maxWidth,e,"clientWidth")||Au,a=Eu(s.maxHeight,e,"clientHeight")||Au,l=I5(e,t,n);let{width:c,height:u}=l;if(s.boxSizing==="content-box"){const f=Ls(s,"border","width"),d=Ls(s,"padding");c-=d.width+f.width,u-=d.height+f.height}return c=Math.max(0,c-r.width),u=Math.max(0,i?c/i:u-r.height),c=tc(Math.min(c,o,l.maxWidth)),u=tc(Math.min(u,a,l.maxHeight)),c&&!u&&(u=tc(c/2)),(t!==void 0||n!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=tc(Math.floor(u*i))),{width:c,height:u}}function Xv(e,t,n){const i=t||1,s=Math.floor(e.height*i),r=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||o.height!==s||o.width!==r?(e.currentDevicePixelRatio=i,o.height=s,o.width=r,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const x5=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return e}();function Jv(e,t){const n=b5(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function ys(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function S5(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:i==="middle"?n<.5?e.y:t.y:i==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function k5(e,t,n,i){const s={x:e.cp2x,y:e.cp2y},r={x:t.cp1x,y:t.cp1y},o=ys(e,s,n),a=ys(s,r,n),l=ys(r,t,n),c=ys(o,a,n),u=ys(a,l,n);return ys(c,u,n)}const C5=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},P5=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Mr(e,t,n){return e?C5(t,n):P5()}function e1(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function n1(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function i1(e){return e==="angle"?{between:$a,compare:RB,normalize:Ze}:{between:hi,compare:(t,n)=>t-n,normalize:t=>t}}function Zv({start:e,end:t,count:n,loop:i,style:s}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n===0,style:s}}function R5(e,t,n){const{property:i,start:s,end:r}=n,{between:o,normalize:a}=i1(i),l=t.length;let{start:c,end:u,loop:h}=e,f,d;if(h){for(c+=l,u+=l,f=0,d=l;f<d&&o(a(t[c%l][i]),s,r);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:e.style}}function s1(e,t,n){if(!n)return[e];const{property:i,start:s,end:r}=n,o=t.length,{compare:a,between:l,normalize:c}=i1(i),{start:u,end:h,loop:f,style:d}=R5(e,t,n),p=[];let g=!1,m=null,_,y,E;const A=()=>l(s,E,_)&&a(s,E)!==0,w=()=>a(r,_)===0||l(r,E,_),T=()=>g||A(),S=()=>!g||w();for(let x=u,R=u;x<=h;++x)y=t[x%o],!y.skip&&(_=c(y[i]),_!==E&&(g=l(_,s,r),m===null&&T()&&(m=a(_,s)===0?x:R),m!==null&&S()&&(p.push(Zv({start:m,end:x,loop:f,count:o,style:d})),m=null),R=x,E=_));return m!==null&&p.push(Zv({start:m,end:h,loop:f,count:o,style:d})),p}function r1(e,t){const n=[],i=e.segments;for(let s=0;s<i.length;s++){const r=s1(i[s],e.points,t);r.length&&n.push(...r)}return n}function M5(e,t,n,i){let s=0,r=t-1;if(n&&!i)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,n&&(r+=s);r>s&&e[r%t].skip;)r--;return r%=t,{start:s,end:r}}function O5(e,t,n,i){const s=e.length,r=[];let o=t,a=e[t],l;for(l=t+1;l<=n;++l){const c=e[l%s];c.skip||c.stop?a.skip||(i=!1,r.push({start:t%s,end:(l-1)%s,loop:i}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&r.push({start:t%s,end:o%s,loop:i}),r}function D5(e,t){const n=e.points,i=e.options.spanGaps,s=n.length;if(!s)return[];const r=!!e._loop,{start:o,end:a}=M5(n,s,r,i);if(i===!0)return tb(e,[{start:o,end:a,loop:r}],n,t);const l=a<o?a+s:a,c=!!e._fullLoop&&o===0&&a===s-1;return tb(e,O5(n,o,l,c),n,t)}function tb(e,t,n,i){return!i||!i.setContext||!n?t:N5(e,t,n,i)}function N5(e,t,n,i){const s=e._chart.getContext(),r=eb(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=n.length,c=[];let u=r,h=t[0].start,f=h;function d(p,g,m,_){const y=a?-1:1;if(p!==g){for(p+=l;n[p%l].skip;)p-=y;for(;n[g%l].skip;)g+=y;p%l!==g%l&&(c.push({start:p%l,end:g%l,loop:m,style:_}),u=_,h=g%l)}}for(const p of t){h=a?h:p.start;let g=n[h%l],m;for(f=h+1;f<=p.end;f++){const _=n[f%l];m=eb(i.setContext(cs(s,{type:"segment",p0:g,p1:_,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),L5(m,u)&&d(h,f-1,p.loop,u),g=_,u=m}h<f-1&&d(h,f-1,p.loop,u)}return c}function eb(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function L5(e,t){if(!t)return!1;const n=[],i=function(s,r){return Im(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(e,i)!==JSON.stringify(t,i)}/*!
 * Chart.js v4.3.3
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class V5{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,s){const r=n.listeners[s],o=n.duration;r.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=zT.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(s.draw(),this._notify(s,i,t,"progress")),r.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),n+=r.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ei=new V5;const nb="transparent",F5={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=qv(e||nb),s=i.valid&&qv(t||nb);return s&&s.valid?s.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class B5{constructor(t,n,i,s){const r=n[i];s=Uo([t.to,s,r,t.from]);const o=Uo([t.from,r,s]);this._active=!0,this._fn=t.fn||F5[t.type||typeof o],this._easing=la[t.easing]||la.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Uo([t.to,n,s,t.from]),this._from=Uo([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,s=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||n<i),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=r;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(r,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class o1{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!_t(t))return;const n=Object.keys(Zt.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const r=t[s];if(!_t(r))return;const o={};for(const a of n)o[a]=r[a];(jt(r.properties)&&r.properties||[s]).forEach(a=>{(a===s||!i.has(a))&&i.set(a,o)})})}_animateOptions(t,n){const i=n.options,s=z5(t,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&U5(t.options.$animations,i).then(()=>{t.options=i},()=>{}),r}_createAnimations(t,n){const i=this._properties,s=[],r=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(t,n));continue}const u=n[c];let h=r[c];const f=i.get(c);if(h)if(f&&h.active()){h.update(f,u,a);continue}else h.cancel();if(!f||!f.duration){t[c]=u;continue}r[c]=h=new B5(f,t,c,u),s.push(h)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return ei.add(this._chart,i),!0}}function U5(e,t){const n=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const r=e[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function z5(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function ib(e,t){const n=e&&e.options||{},i=n.reverse,s=n.min===void 0?t:0,r=n.max===void 0?t:0;return{start:i?r:s,end:i?s:r}}function j5(e,t,n){if(n===!1)return!1;const i=ib(e,n),s=ib(t,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function $5(e){let t,n,i,s;return _t(e)?(t=e.top,n=e.right,i=e.bottom,s=e.left):t=n=i=s=e,{top:t,right:n,bottom:i,left:s,disabled:e===!1}}function a1(e,t){const n=[],i=e._getSortedDatasetMetas(t);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function sb(e,t,n,i={}){const s=e.keys,r=i.mode==="single";let o,a,l,c;if(t!==null){for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(i.all)continue;break}c=e.values[l],Xt(c)&&(r||t===0||Qn(t)===Qn(c))&&(t+=c)}return t}}function H5(e){const t=Object.keys(e),n=new Array(t.length);let i,s,r;for(i=0,s=t.length;i<s;++i)r=t[i],n[i]={x:r,y:e[r]};return n}function rb(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function W5(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function q5(e){const{min:t,max:n,minDefined:i,maxDefined:s}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function K5(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function ob(e,t,n,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const r=e[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function ab(e,t){const{chart:n,_cachedMeta:i}=e,s=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=i,l=r.axis,c=o.axis,u=W5(r,o,i),h=t.length;let f;for(let d=0;d<h;++d){const p=t[d],{[l]:g,[c]:m}=p,_=p._stacks||(p._stacks={});f=_[c]=K5(s,u,g),f[a]=m,f._top=ob(f,o,!0,i.type),f._bottom=ob(f,o,!1,i.type);const y=f._visualValues||(f._visualValues={});y[a]=m}}function Mf(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function G5(e,t){return cs(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Q5(e,t,n){return cs(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Io(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const s of t){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const Of=e=>e==="reset"||e==="none",lb=(e,t)=>t?e:Object.assign({},e),Y5=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:a1(n,!0),values:null};class Tn{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=rb(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Io(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(h,f,d,p)=>h==="x"?f:h==="r"?p:d,r=n.xAxisID=ht(i.xAxisID,Mf(t,"x")),o=n.yAxisID=ht(i.yAxisID,Mf(t,"y")),a=n.rAxisID=ht(i.rAxisID,Mf(t,"r")),l=n.indexAxis,c=n.iAxisID=s(l,r,o,a),u=n.vAxisID=s(l,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&$v(this._data,this),t._stacked&&Io(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(_t(n))this._data=H5(n);else if(i!==n){if(i){$v(i,this);const s=this._cachedMeta;Io(s),s._parsed=[]}n&&Object.isExtensible(n)&&NB(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=rb(n.vScale,n),n.stack!==i.stack&&(s=!0,Io(n),n.stack=i.stack),this._resyncElements(t),(s||r!==n._stacked)&&ab(this,n._parsed)}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:o}=i,a=r.axis;let l=t===0&&n===s.length?!0:i._sorted,c=t>0&&i._parsed[t-1],u,h,f;if(this._parsing===!1)i._parsed=s,i._sorted=!0,f=s;else{jt(s[t])?f=this.parseArrayData(i,s,t,n):_t(s[t])?f=this.parseObjectData(i,s,t,n):f=this.parsePrimitiveData(i,s,t,n);const d=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<n;++u)i._parsed[u+t]=h=f[u],l&&(d()&&(l=!1),c=h);i._sorted=l}o&&ab(this,f)}parsePrimitiveData(t,n,i,s){const{iScale:r,vScale:o}=t,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,h=new Array(s);let f,d,p;for(f=0,d=s;f<d;++f)p=f+i,h[f]={[a]:u||r.parse(c[p],p),[l]:o.parse(n[p],p)};return h}parseArrayData(t,n,i,s){const{xScale:r,yScale:o}=t,a=new Array(s);let l,c,u,h;for(l=0,c=s;l<c;++l)u=l+i,h=n[u],a[l]={x:r.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(t,n,i,s){const{xScale:r,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let u,h,f,d;for(u=0,h=s;u<h;++u)f=u+i,d=n[f],c[u]={x:r.parse(ts(d,a),f),y:o.parse(ts(d,l),f)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const s=this.chart,r=this._cachedMeta,o=n[t.axis],a={keys:a1(s,!0),values:n._stacks[t.axis]._visualValues};return sb(a,o,r.index,{mode:i})}updateRangeFromParsed(t,n,i,s){const r=i[n.axis];let o=r===null?NaN:r;const a=s&&i._stacks[n.axis];s&&a&&(s.values=a,o=sb(s,r,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&t===i.iScale,o=s.length,a=this._getOtherScale(t),l=Y5(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=q5(a);let f,d;function p(){d=s[f];const g=d[a.axis];return!Xt(d[t.axis])||u>g||h<g}for(f=0;f<o&&!(!p()&&(this.updateRangeFromParsed(c,t,d,l),r));++f);if(r){for(f=o-1;f>=0;--f)if(!p()){this.updateRangeFromParsed(c,t,d,l);break}}return c}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let s,r,o;for(s=0,r=n.length;s<r;++s)o=n[s][t.axis],Xt(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(t);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=$5(ht(this.options.clip,j5(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(t,r,a,l),u=a;u<a+l;++u){const h=s[u];h.hidden||(h.active&&c?o.push(h):h.draw(t,r))}for(u=0;u<o.length;++u)o[u].draw(t,r)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const s=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];r=o.$context||(o.$context=Q5(this.getContext(),t,o)),r.parsed=this.getParsed(t),r.raw=s.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=G5(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const s=n==="active",r=this._cachedDataOpts,o=t+"-"+n,a=r[o],l=this.enableOptionSharing&&ja(i);if(a)return lb(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),h=s?[`${t}Hover`,"hover",t,""]:[t,""],f=c.getOptionScopes(this.getDataset(),u),d=Object.keys(Zt.elements[t]),p=()=>this.getContext(i,s,n),g=c.resolveNamedOptions(f,d,p,h);return g.$shared&&(g.$shared=l,r[o]=Object.freeze(lb(g,l))),g}_resolveAnimations(t,n,i){const s=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let l;if(s.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(f,this.getContext(t,i,n))}const c=new o1(s,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Of(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),s=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:o}}updateElement(t,n,i,s){Of(s)?Object.assign(t,i):this._resolveAnimations(n,s).update(t,i)}updateSharedOptions(t,n,i){t&&!Of(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,s){t.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(t,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const s=i.length,r=n.length,o=Math.min(r,s);o&&this.parse(0,o),r>s?this._insertElements(s,r-s,t):r<s&&this._removeElements(r,s-r)}_insertElements(t,n,i=!0){const s=this._cachedMeta,r=s.data,o=t+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(r),a=t;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(t,n),i&&this.updateElements(r,t,n,"reset")}updateElements(t,n,i,s){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,n);i._stacked&&Io(i,s)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,s]=t;this[n](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}F(Tn,"defaults",{}),F(Tn,"datasetElementType",null),F(Tn,"dataElementType",null);function X5(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let s=0,r=n.length;s<r;s++)i=i.concat(n[s].controller.getAllParsedValues(e));e._cache.$bar=UT(i.sort((s,r)=>s-r))}return e._cache.$bar}function J5(e){const t=e.iScale,n=X5(t,e.type);let i=t._length,s,r,o,a;const l=()=>{o===32767||o===-32768||(ja(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(s=0,r=n.length;s<r;++s)o=t.getPixelForValue(n[s]),l();for(a=void 0,s=0,r=t.ticks.length;s<r;++s)o=t.getPixelForTick(s),l();return i}function Z5(e,t,n,i){const s=n.barThickness;let r,o;return bt(s)?(r=t.min*n.categoryPercentage,o=n.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:t.pixels[e]-r/2}}function tU(e,t,n,i){const s=t.pixels,r=s[e];let o=e>0?s[e-1]:null,a=e<s.length-1?s[e+1]:null;const l=n.categoryPercentage;o===null&&(o=r-(a===null?t.end-t.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}function eU(e,t,n,i){const s=n.parse(e[0],i),r=n.parse(e[1],i),o=Math.min(s,r),a=Math.max(s,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:s,end:r,min:o,max:a}}function l1(e,t,n,i){return jt(e)?eU(e,t,n,i):t[n.axis]=n.parse(e,i),t}function cb(e,t,n,i){const s=e.iScale,r=e.vScale,o=s.getLabels(),a=s===r,l=[];let c,u,h,f;for(c=n,u=n+i;c<u;++c)f=t[c],h={},h[s.axis]=a||s.parse(o[c],c),l.push(l1(f,h,r,c));return l}function Df(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function nU(e,t,n){return e!==0?Qn(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function iU(e){let t,n,i,s,r;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(s="end",r="start"):(s="start",r="end"),{start:n,end:i,reverse:t,top:s,bottom:r}}function sU(e,t,n,i){let s=t.borderSkipped;const r={};if(!s){e.borderSkipped=r;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=iU(e);s==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?s=c:(n._bottom||0)===i?s=u:(r[ub(u,o,a,l)]=!0,s=c)),r[ub(s,o,a,l)]=!0,e.borderSkipped=r}function ub(e,t,n,i){return i?(e=rU(e,t,n),e=hb(e,n,t)):e=hb(e,t,n),e}function rU(e,t,n){return e===t?n:e===n?t:e}function hb(e,t,n){return e==="start"?t:e==="end"?n:e}function oU(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class Rc extends Tn{parsePrimitiveData(t,n,i,s){return cb(t,n,i,s)}parseArrayData(t,n,i,s){return cb(t,n,i,s)}parseObjectData(t,n,i,s){const{iScale:r,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let f,d,p,g;for(f=i,d=i+s;f<d;++f)g=n[f],p={},p[r.axis]=r.parse(ts(g,c),f),h.push(l1(ts(g,u),p,o,f));return h}updateRangeFromParsed(t,n,i,s){super.updateRangeFromParsed(t,n,i,s);const r=i._custom;r&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:s}=n,r=this.getParsed(t),o=r._custom,a=Df(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,s){const r=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,s);for(let d=n;d<n+i;d++){const p=this.getParsed(d),g=r||bt(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(d),m=this._calculateBarIndexPixels(d,u),_=(p._stacks||{})[a.axis],y={horizontal:c,base:g.base,enableBorderRadius:!_||Df(p._custom)||o===_._top||o===_._bottom,x:c?g.head:m.center,y:c?m.center:g.head,height:c?m.size:Math.abs(g.size),width:c?Math.abs(g.size):m.size};f&&(y.options=h||this.resolveDataElementOptions(d,t[d].active?"active":s));const E=y.options||t[d].options;sU(y,E,_,o),oU(y,E,u.ratio),this.updateElement(t[d],d,y,s)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),r=i.options.stacked,o=[],a=l=>{const c=l.controller.getParsed(n),u=c&&c[l.vScale.axis];if(bt(u)||isNaN(u))return!0};for(const l of s)if(!(n!==void 0&&a(l))&&((r===!1||o.indexOf(l.stack)===-1||r===void 0&&l.stack===void 0)&&o.push(l.stack),l.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,i){const s=this._getStacks(t,i),r=n!==void 0?s.indexOf(n):-1;return r===-1?s.length-1:r}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,s=[];let r,o;for(r=0,o=n.data.length;r<o;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const a=t.barThickness;return{min:a||J5(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(t),c=l._custom,u=Df(c);let h=l[n.axis],f=0,d=i?this.applyStack(n,l,i):h,p,g;d!==h&&(f=d-h,d=h),u&&(h=c.barStart,d=c.barEnd-c.barStart,h!==0&&Qn(h)!==Qn(c.barEnd)&&(f=0),f+=h);const m=!bt(r)&&!u?r:f;let _=n.getPixelForValue(m);if(this.chart.getDataVisibility(t)?p=n.getPixelForValue(f+d):p=_,g=p-_,Math.abs(g)<o){g=nU(g,n,a)*o,h===a&&(_-=g/2);const y=n.getPixelForDecimal(0),E=n.getPixelForDecimal(1),A=Math.min(y,E),w=Math.max(y,E);_=Math.max(Math.min(_,w),A),p=_+g,i&&!u&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(p)-n.getValueForPixel(_))}if(_===n.getPixelForValue(a)){const y=Qn(g)*n.getLineWidthForValue(a)/2;_+=y,g-=y}return{size:g,base:_,head:p,center:p+g/2}}_calculateBarIndexPixels(t,n){const i=n.scale,s=this.options,r=s.skipNull,o=ht(s.maxBarThickness,1/0);let a,l;if(n.grouped){const c=r?this._getStackCount(t):n.stackCount,u=s.barThickness==="flex"?tU(t,n,s,c):Z5(t,n,s,c),h=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);a=u.start+u.chunk*h+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=i.getPixelForValue(this.getParsed(t)[i.axis],t),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[n.axis]!==null&&i[r].draw(this._ctx)}}F(Rc,"id","bar"),F(Rc,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),F(Rc,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Mc extends Tn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,i,s){const r=super.parsePrimitiveData(t,n,i,s);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+i).radius;return r}parseArrayData(t,n,i,s){const r=super.parseArrayData(t,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=ht(a[2],this.resolveDataElementOptions(o+i).radius)}return r}parseObjectData(t,n,i,s){const r=super.parseObjectData(t,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=ht(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let i=t.length-1;i>=0;--i)n=Math.max(n,t[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,o=this.getParsed(t),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y),c=o._custom;return{label:i[t]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,i,s){const r=s==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,s),u=o.axis,h=a.axis;for(let f=n;f<n+i;f++){const d=t[f],p=!r&&this.getParsed(f),g={},m=g[u]=r?o.getPixelForDecimal(.5):o.getPixelForValue(p[u]),_=g[h]=r?a.getBasePixel():a.getPixelForValue(p[h]);g.skip=isNaN(m)||isNaN(_),c&&(g.options=l||this.resolveDataElementOptions(f,d.active?"active":s),r&&(g.options.radius=0)),this.updateElement(d,f,g,s)}}resolveDataElementOptions(t,n){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const r=s.radius;return n!=="active"&&(s.radius=0),s.radius+=ht(i&&i._custom,r),s}}F(Mc,"id","bubble"),F(Mc,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),F(Mc,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function aU(e,t,n){let i=1,s=1,r=0,o=0;if(t<$t){const a=e,l=a+t,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),f=Math.sin(l),d=(E,A,w)=>$a(E,a,l,!0)?1:Math.max(A,A*n,w,w*n),p=(E,A,w)=>$a(E,a,l,!0)?-1:Math.min(A,A*n,w,w*n),g=d(0,c,h),m=d(Jt,u,f),_=p(Kt,c,h),y=p(Kt+Jt,u,f);i=(g-_)/2,s=(m-y)/2,r=-(g+_)/2,o=-(m+y)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:o}}class Ss extends Tn{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let r=l=>+i[l];if(_t(i[t])){const{key:l="value"}=this._parsing;r=c=>+ts(i[c],l)}let o,a;for(o=t,a=t+n;o<a;++o)s._parsed[o]=r(o)}}_getRotation(){return An(this.options.rotation-90)}_getCircumference(){return An(this.options.circumference)}_getRotationExtents(){let t=$t,n=-$t;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,r=s._getRotation(),o=s._getCircumference();t=Math.min(t,r),n=Math.max(n,r+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:i}=n,s=this._cachedMeta,r=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(AB(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:d,offsetX:p,offsetY:g}=aU(h,u,l),m=(i.width-o)/f,_=(i.height-o)/d,y=Math.max(Math.min(m,_)/2,0),E=NT(this.options.radius,y),A=Math.max(E*l,0),w=(E-A)/this._getVisibleDatasetWeightTotal();this.offsetX=p*E,this.offsetY=g*E,s.total=this.calculateTotal(),this.outerRadius=E-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*c,0),this.updateElements(r,0,r.length,t)}_circumference(t,n){const i=this.options,s=this._cachedMeta,r=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*r/$t)}updateElements(t,n,i,s){const r=s==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,f=r&&c.animateScale,d=f?0:this.innerRadius,p=f?0:this.outerRadius,{sharedOptions:g,includeOptions:m}=this._getSharedOptions(n,s);let _=this._getRotation(),y;for(y=0;y<n;++y)_+=this._circumference(y,r);for(y=n;y<n+i;++y){const E=this._circumference(y,r),A=t[y],w={x:u+this.offsetX,y:h+this.offsetY,startAngle:_,endAngle:_+E,circumference:E,outerRadius:p,innerRadius:d};m&&(w.options=g||this.resolveDataElementOptions(y,A.active?"active":s)),_+=E,this.updateElement(A,y,w,s)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let i=0,s;for(s=0;s<n.length;s++){const r=t._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?$t*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=xl(n._parsed[t],i.options.locale);return{label:s[t]||"",value:r}}getMaxBorderWidth(t){let n=0;const i=this.chart;let s,r,o,a,l;if(!t){for(s=0,r=i.data.datasets.length;s<r;++s)if(i.isDatasetVisible(s)){o=i.getDatasetMeta(s),t=o.data,a=o.controller;break}}if(!t)return 0;for(s=0,r=t.length;s<r;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let i=0,s=t.length;i<s;++i){const r=this.resolveDataElementOptions(i);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(t){return Math.max(ht(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}F(Ss,"id","doughnut"),F(Ss,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),F(Ss,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),F(Ss,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return n.labels.map((r,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class Oc extends Tn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=$T(n,s,o);this._drawStart=a,this._drawCount=l,HT(n)&&(a=0,l=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},t),this.updateElements(s,a,l,t)}updateElements(t,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,s),f=o.axis,d=a.axis,{spanGaps:p,segment:g}=this.options,m=Xr(p)?p:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||r||s==="none",y=n+i,E=t.length;let A=n>0&&this.getParsed(n-1);for(let w=0;w<E;++w){const T=t[w],S=_?T:{};if(w<n||w>=y){S.skip=!0;continue}const x=this.getParsed(w),R=bt(x[d]),j=S[f]=o.getPixelForValue(x[f],w),K=S[d]=r||R?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,x,l):x[d],w);S.skip=isNaN(j)||isNaN(K)||R,S.stop=w>0&&Math.abs(x[f]-A[f])>m,g&&(S.parsed=x,S.raw=c.data[w]),h&&(S.options=u||this.resolveDataElementOptions(w,T.active?"active":s)),_||this.updateElement(T,w,S,s),A=x}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}F(Oc,"id","line"),F(Oc,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),F(Oc,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class ua extends Tn{constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=xl(n._parsed[t].r,i.options.locale);return{label:s[t]||"",value:r}}parseObjectData(t,n,i,s){return JT.bind(this)(t,n,i,s)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,s)=>{const r=this.getParsed(s).r;!isNaN(r)&&this.chart.getDataVisibility(s)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,i=t.options,s=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(s/2,0),o=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),a=(r-o)/t.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,n,i,s){const r=s==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,h=c.yCenter,f=c.getIndexAngle(0)-.5*Kt;let d=f,p;const g=360/this.countVisibleElements();for(p=0;p<n;++p)d+=this._computeAngle(p,s,g);for(p=n;p<n+i;p++){const m=t[p];let _=d,y=d+this._computeAngle(p,s,g),E=o.getDataVisibility(p)?c.getDistanceFromCenterForValue(this.getParsed(p).r):0;d=y,r&&(l.animateScale&&(E=0),l.animateRotate&&(_=y=f));const A={x:u,y:h,innerRadius:0,outerRadius:E,startAngle:_,endAngle:y,options:this.resolveDataElementOptions(p,m.active?"active":s)};this.updateElement(m,p,A,s)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(t,n,i){return this.chart.getDataVisibility(t)?An(this.resolveDataElementOptions(t,n).angle||i):0}}F(ua,"id","polarArea"),F(ua,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),F(ua,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return n.labels.map((r,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class tp extends Ss{}F(tp,"id","pie"),F(tp,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Dc extends Tn{getLabelAndValue(t){const n=this._cachedMeta.vScale,i=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(t,n,i,s){return JT.bind(this)(t,n,i,s)}update(t){const n=this._cachedMeta,i=n.dataset,s=n.data||[],r=n.iScale.getLabels();if(i.points=s,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===s.length,options:o};this.updateElement(i,void 0,a,t)}this.updateElements(s,0,s.length,t)}updateElements(t,n,i,s){const r=this._cachedMeta.rScale,o=s==="reset";for(let a=n;a<n+i;a++){const l=t[a],c=this.resolveDataElementOptions(a,l.active?"active":s),u=r.getPointPositionForValue(a,this.getParsed(a).r),h=o?r.xCenter:u.x,f=o?r.yCenter:u.y,d={x:h,y:f,angle:u.angle,skip:isNaN(h)||isNaN(f),options:c};this.updateElement(l,a,d,s)}}}F(Dc,"id","radar"),F(Dc,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),F(Dc,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Nc extends Tn{getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,o=this.getParsed(t),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y);return{label:i[t]||"",value:"("+a+", "+l+")"}}update(t){const n=this._cachedMeta,{data:i=[]}=n,s=this.chart._animationsDisabled;let{start:r,count:o}=$T(n,i,s);if(this._drawStart=r,this._drawCount=o,HT(n)&&(r=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!s,options:c},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,r,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,s),h=this.getSharedOptions(u),f=this.includeOptions(s,h),d=o.axis,p=a.axis,{spanGaps:g,segment:m}=this.options,_=Xr(g)?g:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||r||s==="none";let E=n>0&&this.getParsed(n-1);for(let A=n;A<n+i;++A){const w=t[A],T=this.getParsed(A),S=y?w:{},x=bt(T[p]),R=S[d]=o.getPixelForValue(T[d],A),j=S[p]=r||x?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,T,l):T[p],A);S.skip=isNaN(R)||isNaN(j)||x,S.stop=A>0&&Math.abs(T[d]-E[d])>_,m&&(S.parsed=T,S.raw=c.data[A]),f&&(S.options=h||this.resolveDataElementOptions(A,w.active?"active":s)),y||this.updateElement(w,A,S,s),E=T}this.updateSharedOptions(h,s,u)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=t.dataset,s=i.options&&i.options.borderWidth||0;if(!n.length)return s;const r=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,r,o)/2}}F(Nc,"id","scatter"),F(Nc,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),F(Nc,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var lU=Object.freeze({__proto__:null,BarController:Rc,BubbleController:Mc,DoughnutController:Ss,LineController:Oc,PieController:tp,PolarAreaController:ua,RadarController:Dc,ScatterController:Nc});function ps(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Pm{constructor(t){F(this,"options");this.options=t||{}}static override(t){Object.assign(Pm.prototype,t)}init(){}formats(){return ps()}parse(){return ps()}format(){return ps()}add(){return ps()}diff(){return ps()}startOf(){return ps()}endOf(){return ps()}}var cU={_date:Pm};function uU(e,t,n,i){const{controller:s,data:r,_sorted:o}=e,a=s._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&o&&r.length){const l=a._reversePixels?OB:fi;if(i){if(s._sharedOptions){const c=r[0],u=typeof c.getRange=="function"&&c.getRange(t);if(u){const h=l(r,t,n-u),f=l(r,t,n+u);return{lo:h.lo,hi:f.hi}}}}else return l(r,t,n)}return{lo:0,hi:r.length-1}}function Sl(e,t,n,i,s){const r=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:h,hi:f}=uU(r[a],t,o,s);for(let d=h;d<=f;++d){const p=u[d];p.skip||i(p,c,d)}}}function hU(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,s){const r=t?Math.abs(i.x-s.x):0,o=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function Nf(e,t,n,i,s){const r=[];return!s&&!e.isPointInArea(t)||Sl(e,n,t,function(a,l,c){!s&&!di(a,e.chartArea,0)||a.inRange(t.x,t.y,i)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function fU(e,t,n,i){let s=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:h}=FT(o,{x:t.x,y:t.y});$a(h,c,u)&&s.push({element:o,datasetIndex:a,index:l})}return Sl(e,n,t,r),s}function dU(e,t,n,i,s,r){let o=[];const a=hU(n);let l=Number.POSITIVE_INFINITY;function c(u,h,f){const d=u.inRange(t.x,t.y,s);if(i&&!d)return;const p=u.getCenterPoint(s);if(!(!!r||e.isPointInArea(p))&&!d)return;const m=a(t,p);m<l?(o=[{element:u,datasetIndex:h,index:f}],l=m):m===l&&o.push({element:u,datasetIndex:h,index:f})}return Sl(e,n,t,c),o}function Lf(e,t,n,i,s,r){return!r&&!e.isPointInArea(t)?[]:n==="r"&&!i?fU(e,t,n,s):dU(e,t,n,i,s,r)}function fb(e,t,n,i,s){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Sl(e,n,t,(l,c,u)=>{l[o](t[n],s)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(t.x,t.y,s))}),i&&!a?[]:r}var pU={evaluateInteractionItems:Sl,modes:{index(e,t,n,i){const s=_s(t,e),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Nf(e,s,r,i,o):Lf(e,s,r,!1,i,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(e,t,n,i){const s=_s(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Nf(e,s,r,i,o):Lf(e,s,r,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(e,t,n,i){const s=_s(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;return Nf(e,s,r,i,o)},nearest(e,t,n,i){const s=_s(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;return Lf(e,s,r,n.intersect,i,o)},x(e,t,n,i){const s=_s(t,e);return fb(e,s,"x",n.intersect,i)},y(e,t,n,i){const s=_s(t,e);return fb(e,s,"y",n.intersect,i)}}};const c1=["left","top","right","bottom"];function To(e,t){return e.filter(n=>n.pos===t)}function db(e,t){return e.filter(n=>c1.indexOf(n.pos)===-1&&n.box.axis===t)}function xo(e,t){return e.sort((n,i)=>{const s=t?i:n,r=t?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function gU(e){const t=[];let n,i,s,r,o,a;for(n=0,i=(e||[]).length;n<i;++n)s=e[n],{position:r,options:{stack:o,stackWeight:a=1}}=s,t.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:a});return t}function mU(e){const t={};for(const n of e){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!c1.includes(s))continue;const o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}function _U(e,t){const n=mU(e),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let r,o,a;for(r=0,o=e.length;r<o;++r){a=e[r];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&t.availableWidth,a.height=s):(a.width=i,a.height=u?u*s:l&&t.availableHeight)}return n}function yU(e){const t=gU(e),n=xo(t.filter(c=>c.box.fullSize),!0),i=xo(To(t,"left"),!0),s=xo(To(t,"right")),r=xo(To(t,"top"),!0),o=xo(To(t,"bottom")),a=db(t,"x"),l=db(t,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:To(t,"chartArea"),vertical:i.concat(s).concat(l),horizontal:r.concat(o).concat(a)}}function pb(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function u1(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function vU(e,t,n,i){const{pos:s,box:r}=n,o=e.maxPadding;if(!_t(s)){n.size&&(e[s]-=n.size);const h=i[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?r.height:r.width),n.size=h.size/h.count,e[s]+=n.size}r.getPadding&&u1(o,r.getPadding());const a=Math.max(0,t.outerWidth-pb(o,e,"left","right")),l=Math.max(0,t.outerHeight-pb(o,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function bU(e){const t=e.maxPadding;function n(i){const s=Math.max(t[i]-e[i],0);return e[i]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function AU(e,t){const n=t.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(t[o],n[o])}),r}return i(e?["left","right"]:["top","bottom"])}function zo(e,t,n,i){const s=[];let r,o,a,l,c,u;for(r=0,o=e.length,c=0;r<o;++r){a=e[r],l=a.box,l.update(a.width||t.w,a.height||t.h,AU(a.horizontal,t));const{same:h,other:f}=vU(t,n,a,i);c|=h&&s.length,u=u||f,l.fullSize||s.push(a)}return c&&zo(s,t,n,i)||u}function ec(e,t,n,i,s){e.top=n,e.left=t,e.right=t+i,e.bottom=n+s,e.width=i,e.height=s}function gb(e,t,n,i){const s=n.padding;let{x:r,y:o}=t;for(const a of e){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=t.w*u,f=c.size||l.height;ja(c.start)&&(o=c.start),l.fullSize?ec(l,s.left,o,n.outerWidth-s.right-s.left,f):ec(l,t.left+c.placed,o,h,f),c.start=o,c.placed+=h,o=l.bottom}else{const h=t.h*u,f=c.size||l.width;ja(c.start)&&(r=c.start),l.fullSize?ec(l,r,s.top,f,n.outerHeight-s.bottom-s.top):ec(l,r,t.top+c.placed,f,h),c.start=r,c.placed+=h,r=l.right}}t.x=r,t.y=o}var Re={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const s=Ve(e.options.layout.padding),r=Math.max(t-s.width,0),o=Math.max(n-s.height,0),a=yU(e.boxes),l=a.vertical,c=a.horizontal;Ct(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,m)=>m.box.options&&m.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},s);u1(f,Ve(i));const d=Object.assign({maxPadding:f,w:r,h:o,x:s.left,y:s.top},s),p=_U(l.concat(c),h);zo(a.fullSize,d,h,p),zo(l,d,h,p),zo(c,d,h,p)&&zo(l,d,h,p),bU(d),gb(a.leftAndTop,d,h,p),d.x+=d.w,d.y+=d.h,gb(a.rightAndBottom,d,h,p),e.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},Ct(a.chartArea,g=>{const m=g.box;Object.assign(m,e.chartArea),m.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})})}};class h1{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,s){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(t){return!0}updateConfig(t){}}class wU extends h1{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Lc="$chartjs",EU={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},mb=e=>e===null||e==="";function IU(e,t){const n=e.style,i=e.getAttribute("height"),s=e.getAttribute("width");if(e[Lc]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",mb(s)){const r=Jv(e,"width");r!==void 0&&(e.width=r)}if(mb(i))if(e.style.height==="")e.height=e.width/(t||2);else{const r=Jv(e,"height");r!==void 0&&(e.height=r)}return e}const f1=x5?{passive:!0}:!1;function TU(e,t,n){e.addEventListener(t,n,f1)}function xU(e,t,n){e.canvas.removeEventListener(t,n,f1)}function SU(e,t){const n=EU[e.type]||e.type,{x:i,y:s}=_s(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Iu(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function kU(e,t,n){const i=e.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Iu(a.addedNodes,i),o=o&&!Iu(a.removedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function CU(e,t,n){const i=e.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Iu(a.removedNodes,i),o=o&&!Iu(a.addedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Wa=new Map;let _b=0;function d1(){const e=window.devicePixelRatio;e!==_b&&(_b=e,Wa.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function PU(e,t){Wa.size||window.addEventListener("resize",d1),Wa.set(e,t)}function RU(e){Wa.delete(e),Wa.size||window.removeEventListener("resize",d1)}function MU(e,t,n){const i=e.canvas,s=i&&Cm(i);if(!s)return;const r=jT((a,l)=>{const c=s.clientWidth;n(a,l),c<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(s),PU(e,r),o}function Vf(e,t,n){n&&n.disconnect(),t==="resize"&&RU(e)}function OU(e,t,n){const i=e.canvas,s=jT(r=>{e.ctx!==null&&n(SU(r,e))},e);return TU(i,t,s),s}class DU extends h1{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(IU(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[Lc])return!1;const i=n[Lc].initial;["height","width"].forEach(r=>{const o=i[r];bt(o)?n.removeAttribute(r):n.setAttribute(r,o)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[Lc],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),o={attach:kU,detach:CU,resize:MU}[n]||OU;s[n]=o(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),s=i[n];if(!s)return;({attach:Vf,detach:Vf,resize:Vf}[n]||xU)(t,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,s){return T5(t,n,i,s)}isAttached(t){const n=Cm(t);return!!(n&&n.isConnected)}}function NU(e){return!t1()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?wU:DU}var _c;let Ii=(_c=class{constructor(){F(this,"x");F(this,"y");F(this,"active",!1);F(this,"options");F(this,"$animations")}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return Xr(this.x)&&Xr(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const s={};return t.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}},F(_c,"defaults",{}),F(_c,"defaultRoutes"),_c);function LU(e,t){const n=e.options.ticks,i=VU(e),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?BU(t):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>s)return UU(t,c,r,o/s),c;const u=FU(r,t,s);if(o>0){let h,f;const d=o>1?Math.round((l-a)/(o-1)):null;for(nc(t,c,u,bt(d)?0:a-d,a),h=0,f=o-1;h<f;h++)nc(t,c,u,r[h],r[h+1]);return nc(t,c,u,l,bt(d)?t.length:l+d),c}return nc(t,c,u),c}function VU(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(i,s))}function FU(e,t,n){const i=zU(e),s=t.length/n;if(!i)return Math.max(s,1);const r=CB(i);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>s)return l}return Math.max(s,1)}function BU(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function UU(e,t,n,i){let s=0,r=n[0],o;for(i=Math.ceil(i),o=0;o<e.length;o++)o===r&&(t.push(e[o]),s++,r=n[s*i])}function nc(e,t,n,i,s){const r=ht(i,0),o=Math.min(ht(s,e.length),e.length);let a=0,l,c,u;for(n=Math.ceil(n),s&&(l=s-i,n=l/Math.floor(l/n)),u=r;u<0;)a++,u=Math.round(r+a*n);for(c=Math.max(r,0);c<o;c++)c===u&&(t.push(e[c]),a++,u=Math.round(r+a*n))}function zU(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const jU=e=>e==="left"?"right":e==="right"?"left":e,yb=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,vb=(e,t)=>Math.min(t||e,e);function bb(e,t){const n=[],i=e.length/t,s=e.length;let r=0;for(;r<s;r+=i)n.push(e[Math.floor(r)]);return n}function $U(e,t,n){const i=e.ticks.length,s=Math.min(t,i-1),r=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(s),c;if(!(n&&(i===1?c=Math.max(l-r,o-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(s-1))/2,l+=s<t?c:-c,l<r-a||l>o+a)))return l}function HU(e,t){Ct(e,n=>{const i=n.gc,s=i.length/2;let r;if(s>t){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function So(e){return e.drawTicks?e.tickLength:0}function Ab(e,t){if(!e.display)return 0;const n=ue(e.font,t),i=Ve(e.padding);return(jt(e.text)?e.text.length:1)*n.lineHeight+i.height}function WU(e,t){return cs(e,{scale:t,type:"scale"})}function qU(e,t,n){return cs(e,{tick:n,index:t,type:"tick"})}function KU(e,t,n){let i=Em(e);return(n&&t!=="right"||!n&&t==="right")&&(i=jU(i)),i}function GU(e,t,n,i){const{top:s,left:r,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:u}=l;let h=0,f,d,p;const g=o-s,m=a-r;if(e.isHorizontal()){if(d=Te(i,r,a),_t(n)){const _=Object.keys(n)[0],y=n[_];p=u[_].getPixelForValue(y)+g-t}else n==="center"?p=(c.bottom+c.top)/2+g-t:p=yb(e,n,t);f=a-r}else{if(_t(n)){const _=Object.keys(n)[0],y=n[_];d=u[_].getPixelForValue(y)-m+t}else n==="center"?d=(c.left+c.right)/2-m+t:d=yb(e,n,t);p=Te(i,o,s),h=n==="left"?-Jt:Jt}return{titleX:d,titleY:p,maxWidth:f,rotation:h}}class cr extends Ii{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return t=Xe(t,Number.POSITIVE_INFINITY),n=Xe(n,Number.NEGATIVE_INFINITY),i=Xe(i,Number.POSITIVE_INFINITY),s=Xe(s,Number.NEGATIVE_INFINITY),{min:Xe(t,i),max:Xe(n,s),minDefined:Xt(t),maxDefined:Xt(n)}}getMinMax(t){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),s||(n=Math.min(n,o.min)),r||(i=Math.max(i,o.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:Xe(n,Xe(i,n)),max:Xe(i,Xe(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Nt(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:s,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=i5(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?bb(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=LU(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Nt(this.options.afterUpdate,[this])}beforeSetDimensions(){Nt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Nt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Nt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Nt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i],r.label=Nt(n.callback,[r.value,i,t],this)}afterTickToLabelConversion(){Nt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Nt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=vb(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,r=n.maxRotation;let o=s,a,l,c;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,d=_e(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/i:d/(i-1),h+6>a&&(a=d/(i-(t.offset?.5:1)),l=this.maxHeight-So(t.grid)-n.padding-Ab(t.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),o=Am(Math.min(Math.asin(_e((u.highest.height+6)/a,-1,1)),Math.asin(_e(l/c,-1,1))-Math.asin(_e(f/c,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){Nt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Nt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Ab(s,n.options.font);if(a?(t.width=this.maxWidth,t.height=So(r)+l):(t.height=this.maxHeight,t.width=So(r)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:f}=this._getLabelSizes(),d=i.padding*2,p=An(this.labelRotation),g=Math.cos(p),m=Math.sin(p);if(a){const _=i.mirror?0:m*h.width+g*f.height;t.height=Math.min(this.maxHeight,t.height+_+d)}else{const _=i.mirror?0:g*h.width+m*f.height;t.width=Math.min(this.maxWidth,t.width+_+d)}this._calculatePadding(c,u,m,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,s){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,d=0;l?c?(f=s*t.width,d=i*n.height):(f=i*t.height,d=s*n.width):r==="start"?d=n.width:r==="end"?f=t.width:r!=="inner"&&(f=t.width/2,d=n.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((d-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=t.height/2;r==="start"?(u=0,h=t.height):r==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Nt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)bt(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=bb(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:s,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(n/vb(n,i));let c=0,u=0,h,f,d,p,g,m,_,y,E,A,w;for(h=0;h<n;h+=l){if(p=t[h].label,g=this._resolveTickFontOptions(h),s.font=m=g.string,_=r[m]=r[m]||{data:{},gc:[]},y=g.lineHeight,E=A=0,!bt(p)&&!jt(p))E=wu(s,_.data,_.gc,E,p),A=y;else if(jt(p))for(f=0,d=p.length;f<d;++f)w=p[f],!bt(w)&&!jt(w)&&(E=wu(s,_.data,_.gc,E,w),A+=y);o.push(E),a.push(A),c=Math.max(E,c),u=Math.max(A,u)}HU(r,n);const T=o.indexOf(c),S=a.indexOf(u),x=R=>({width:o[R]||0,height:a[R]||0});return{first:x(0),last:x(n-1),widest:x(T),highest:x(S),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return MB(this._alignToPixels?ds(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=qU(this.getContext(),t,i))}return this.$context||(this.$context=WU(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=An(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*i>a*s?a/i:l/s:l*s<a*i?l/i:a/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:o,border:a}=s,l=r.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=So(r),d=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,m=g/2,_=function(X){return ds(i,X,g)};let y,E,A,w,T,S,x,R,j,K,st,xt;if(o==="top")y=_(this.bottom),S=this.bottom-f,R=y-m,K=_(t.top)+m,xt=t.bottom;else if(o==="bottom")y=_(this.top),K=t.top,xt=_(t.bottom)-m,S=y+m,R=this.top+f;else if(o==="left")y=_(this.right),T=this.right-f,x=y-m,j=_(t.left)+m,st=t.right;else if(o==="right")y=_(this.left),j=t.left,st=_(t.right)-m,T=y+m,x=this.left+f;else if(n==="x"){if(o==="center")y=_((t.top+t.bottom)/2+.5);else if(_t(o)){const X=Object.keys(o)[0],it=o[X];y=_(this.chart.scales[X].getPixelForValue(it))}K=t.top,xt=t.bottom,S=y+m,R=S+f}else if(n==="y"){if(o==="center")y=_((t.left+t.right)/2);else if(_t(o)){const X=Object.keys(o)[0],it=o[X];y=_(this.chart.scales[X].getPixelForValue(it))}T=y-m,x=T-f,j=t.left,st=t.right}const ne=ht(s.ticks.maxTicksLimit,h),dt=Math.max(1,Math.ceil(h/ne));for(E=0;E<h;E+=dt){const X=this.getContext(E),it=r.setContext(X),ut=a.setContext(X),Ot=it.lineWidth,Fe=it.color,Be=ut.dash||[],ie=ut.dashOffset,an=it.tickWidth,ln=it.tickColor,Rn=it.tickBorderDash||[],Qt=it.tickBorderDashOffset;A=$U(this,E,l),A!==void 0&&(w=ds(i,A,Ot),c?T=x=j=st=w:S=R=K=xt=w,d.push({tx1:T,ty1:S,tx2:x,ty2:R,x1:j,y1:K,x2:st,y2:xt,width:Ot,color:Fe,borderDash:Be,borderDashOffset:ie,tickWidth:an,tickColor:ln,tickBorderDash:Rn,tickBorderDashOffset:Qt}))}return this._ticksLength=h,this._borderValue=y,d}_computeLabelItems(t){const n=this.axis,i=this.options,{position:s,ticks:r}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=r,f=So(i.grid),d=f+u,p=h?-u:d,g=-An(this.labelRotation),m=[];let _,y,E,A,w,T,S,x,R,j,K,st,xt="middle";if(s==="top")T=this.bottom-p,S=this._getXAxisLabelAlignment();else if(s==="bottom")T=this.top+p,S=this._getXAxisLabelAlignment();else if(s==="left"){const dt=this._getYAxisLabelAlignment(f);S=dt.textAlign,w=dt.x}else if(s==="right"){const dt=this._getYAxisLabelAlignment(f);S=dt.textAlign,w=dt.x}else if(n==="x"){if(s==="center")T=(t.top+t.bottom)/2+d;else if(_t(s)){const dt=Object.keys(s)[0],X=s[dt];T=this.chart.scales[dt].getPixelForValue(X)+d}S=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")w=(t.left+t.right)/2-d;else if(_t(s)){const dt=Object.keys(s)[0],X=s[dt];w=this.chart.scales[dt].getPixelForValue(X)}S=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?xt="top":l==="end"&&(xt="bottom"));const ne=this._getLabelSizes();for(_=0,y=a.length;_<y;++_){E=a[_],A=E.label;const dt=r.setContext(this.getContext(_));x=this.getPixelForTick(_)+r.labelOffset,R=this._resolveTickFontOptions(_),j=R.lineHeight,K=jt(A)?A.length:1;const X=K/2,it=dt.color,ut=dt.textStrokeColor,Ot=dt.textStrokeWidth;let Fe=S;o?(w=x,S==="inner"&&(_===y-1?Fe=this.options.reverse?"left":"right":_===0?Fe=this.options.reverse?"right":"left":Fe="center"),s==="top"?c==="near"||g!==0?st=-K*j+j/2:c==="center"?st=-ne.highest.height/2-X*j+j:st=-ne.highest.height+j/2:c==="near"||g!==0?st=j/2:c==="center"?st=ne.highest.height/2-X*j:st=ne.highest.height-K*j,h&&(st*=-1),g!==0&&!dt.showLabelBackdrop&&(w+=j/2*Math.sin(g))):(T=x,st=(1-K)*j/2);let Be;if(dt.showLabelBackdrop){const ie=Ve(dt.backdropPadding),an=ne.heights[_],ln=ne.widths[_];let Rn=st-ie.top,Qt=0-ie.left;switch(xt){case"middle":Rn-=an/2;break;case"bottom":Rn-=an;break}switch(S){case"center":Qt-=ln/2;break;case"right":Qt-=ln;break}Be={left:Qt,top:Rn,width:ln+ie.width,height:an+ie.height,color:dt.backdropColor}}m.push({label:A,font:R,textOffset:st,options:{rotation:g,color:it,strokeColor:ut,strokeWidth:Ot,textAlign:Fe,textBaseline:xt,translation:[w,T],backdrop:Be}})}return m}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-An(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),a=t+r,l=o.widest.width;let c,u;return n==="left"?s?(u=this.right+r,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?s?(u=this.left+r,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:s,width:r,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,s,r,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(r=0,o=s.length;r<o;++r){const l=s[r];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,f;this.isHorizontal()?(c=ds(t,this.left,o)-o/2,u=ds(t,this.right,a)+a/2,h=f=l):(h=ds(t,this.top,o)-o/2,f=ds(t,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(c,h),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&Nh(i,s);const r=this.getLabelItems(t);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;Xs(i,c,0,u,l,a)}s&&Lh(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=ue(i.font),o=Ve(i.padding),a=i.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||_t(n)?(l+=o.bottom,jt(i.text)&&(l+=r.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:f}=GU(this,l,n,a);Xs(t,i.text,0,0,r,{color:i.color,maxWidth:h,rotation:f,textAlign:KU(a,n,s),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=ht(t.grid&&t.grid.z,-1),s=ht(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==cr.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[i]===this.id&&(!t||a.type===t)&&s.push(a)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return ue(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class ic{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;XU(n)&&(i=this.register(n));const s=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in s||(s[r]=t,QU(t,o,i),this.override&&Zt.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,s=this.scope;i in n&&delete n[i],s&&i in Zt[s]&&(delete Zt[s][i],this.override&&delete Ys[i])}}function QU(e,t,n){const i=za(Object.create(null),[n?Zt.get(n):{},Zt.get(t),e.defaults]);Zt.set(t,i),e.defaultRoutes&&YU(t,e.defaultRoutes),e.descriptors&&Zt.describe(t,e.descriptors)}function YU(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),s=i.pop(),r=[e].concat(i).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");Zt.route(r,s,l,a)})}function XU(e){return"id"in e&&"defaults"in e}class JU{constructor(){this.controllers=new ic(Tn,"datasets",!0),this.elements=new ic(Ii,"elements"),this.plugins=new ic(Object,"plugins"),this.scales=new ic(cr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(t,r,s):Ct(s,o=>{const a=i||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,i){const s=bm(t);Nt(i["before"+s],[],i),n[t](i),Nt(i["after"+s],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var Nn=new JU;class ZU{constructor(){this._init=[]}notify(t,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=s?this._descriptors(t).filter(s):this._descriptors(t),o=this._notify(r,t,n,i);return n==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,i,s){s=s||{};for(const r of t){const o=r.plugin,a=o[i],l=[n,s,r.options];if(Nt(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){bt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,s=ht(i.options&&i.options.plugins,{}),r=t9(i);return s===!1&&!n?[]:n9(t,r,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,s=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,i),t,"stop"),this._notify(s(i,n),t,"start")}}function t9(e){const t={},n=[],i=Object.keys(Nn.plugins.items);for(let r=0;r<i.length;r++)n.push(Nn.getPlugin(i[r]));const s=e.plugins||[];for(let r=0;r<s.length;r++){const o=s[r];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function e9(e,t){return!t&&e===!1?null:e===!0?{}:e}function n9(e,{plugins:t,localIds:n},i,s){const r=[],o=e.getContext();for(const a of t){const l=a.id,c=e9(i[l],s);c!==null&&r.push({plugin:a,options:i9(e.config,{plugin:a,local:n[l]},c,o)})}return r}function i9(e,{plugin:t,local:n},i,s){const r=e.pluginScopeKeys(t),o=e.getOptionScopes(i,r);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ep(e,t){const n=Zt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function s9(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function r9(e,t){return e===t?"_index_":"_value_"}function wb(e){if(e==="x"||e==="y"||e==="r")return e}function o9(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function np(e,...t){if(wb(e))return e;for(const n of t){const i=n.axis||o9(n.position)||e.length>1&&wb(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Eb(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function a9(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return Eb(e,"x",n[0])||Eb(e,"y",n[0])}return{}}function l9(e,t){const n=Ys[e.type]||{scales:{}},i=t.scales||{},s=ep(e.type,t),r=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!_t(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=np(o,a,a9(o,e),Zt.scales[a.type]),c=r9(l,s),u=n.scales||{};r[o]=oa(Object.create(null),[{axis:l},a,u[l],u[c]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||ep(a,t),u=(Ys[a]||{}).scales||{};Object.keys(u).forEach(h=>{const f=s9(h,l),d=o[f+"AxisID"]||f;r[d]=r[d]||Object.create(null),oa(r[d],[{axis:f},i[d],u[h]])})}),Object.keys(r).forEach(o=>{const a=r[o];oa(a,[Zt.scales[a.type],Zt.scale])}),r}function p1(e){const t=e.options||(e.options={});t.plugins=ht(t.plugins,{}),t.scales=l9(e,t)}function g1(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function c9(e){return e=e||{},e.data=g1(e.data),p1(e),e}const Ib=new Map,m1=new Set;function sc(e,t){let n=Ib.get(e);return n||(n=t(),Ib.set(e,n),m1.add(n)),n}const ko=(e,t,n)=>{const i=ts(t,n);i!==void 0&&e.add(i)};class u9{constructor(t){this._config=c9(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=g1(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),p1(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return sc(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return sc(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return sc(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return sc(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let s=i.get(t);return(!s||n)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,n,i){const{options:s,type:r}=this,o=this._cachedScopes(t,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{t&&(l.add(t),u.forEach(h=>ko(l,t,h))),u.forEach(h=>ko(l,s,h)),u.forEach(h=>ko(l,Ys[r]||{},h)),u.forEach(h=>ko(l,Zt,h)),u.forEach(h=>ko(l,Jd,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),m1.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:t,type:n}=this;return[t,Ys[n]||{},Zt.datasets[n]||{},{type:n},Zt,Jd]}resolveNamedOptions(t,n,i,s=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=Tb(this._resolverCache,t,s);let l=o;if(f9(o,n)){r.$shared=!1,i=es(i)?i():i;const c=this.createResolver(t,i,a);l=Jr(o,i,c)}for(const c of n)r[c]=l[c];return r}createResolver(t,n,i=[""],s){const{resolver:r}=Tb(this._resolverCache,t,i);return _t(n)?Jr(r,n,void 0,s):r}}function Tb(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const s=n.join();let r=i.get(s);return r||(r={resolver:xm(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(s,r)),r}const h9=e=>_t(e)&&Object.getOwnPropertyNames(e).reduce((t,n)=>t||es(e[n]),!1);function f9(e,t){const{isScriptable:n,isIndexable:i}=GT(e);for(const s of t){const r=n(s),o=i(s),a=(o||r)&&e[s];if(r&&(es(a)||h9(a))||o&&jt(a))return!0}return!1}var d9="4.3.3";const p9=["top","bottom","left","right","chartArea"];function xb(e,t){return e==="top"||e==="bottom"||p9.indexOf(e)===-1&&t==="x"}function Sb(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function kb(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Nt(n&&n.onComplete,[e],t)}function g9(e){const t=e.chart,n=t.options.animation;Nt(n&&n.onProgress,[e],t)}function _1(e){return t1()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Vc={},Cb=e=>{const t=_1(e);return Object.values(Vc).filter(n=>n.canvas===t).pop()};function m9(e,t,n){const i=Object.keys(e);for(const s of i){const r=+s;if(r>=t){const o=e[s];delete e[s],(n>0||r>t)&&(e[r+n]=o)}}}function _9(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}function y9(e){const{xScale:t,yScale:n}=e;if(t&&n)return{left:t.left,right:t.right,top:n.top,bottom:n.bottom}}class ri{static register(...t){Nn.add(...t),Pb()}static unregister(...t){Nn.remove(...t),Pb()}constructor(t,n){const i=this.config=new u9(n),s=_1(t),r=Cb(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||NU(s)),this.platform.updateConfig(i);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=bB(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ZU,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=LB(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Vc[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}ei.listen(this,"complete",kb),ei.listen(this,"progress",g9),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return bt(t)?n&&r?r:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Nn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Xv(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Gv(this.canvas,this.ctx),this}stop(){return ei.stop(this),this}resize(t,n){ei.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,t,n,r),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Xv(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Nt(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ct(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,s=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],l=np(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Ct(r,o=>{const a=o.options,l=a.id,c=np(l,a),u=ht(a.type,o.dtype);(a.position===void 0||xb(a.position,c)!==xb(o.dposition))&&(a.position=o.dposition),s[l]=!0;let h=null;if(l in i&&i[l].type===u)h=i[l];else{const f=Nn.getScale(u);h=new f({id:l,type:u,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(a,t)}),Ct(s,(o,a)=>{o||delete i[a]}),Ct(i,o=>{Re.configure(this,o,o.options),Re.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(Sb("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let o=this.getDatasetMeta(i);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=r.indexAxis||ep(a,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Nn.getController(a),{datasetElementType:c,dataElementType:u}=Zt.datasets[a];Object.assign(l,{dataElementType:Nn.getElement(u),datasetElementType:c&&Nn.getElement(c)}),o.controller=new l(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){Ct(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),f=!s&&r.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||Ct(r,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Sb("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Ct(this.scales,t=>{Re.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!Bv(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const o=i==="_removeElements"?-r:r;m9(t,s,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(t.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!Bv(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Re.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Ct(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,es(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ei.has(this)?this.attached&&!ei.running(this)&&ei.start(this):(this.draw(),kb({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resize(i,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const o=n[s];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i=t._clip,s=!i.disabled,r=y9(t)||this.chartArea,o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(s&&Nh(n,{left:i.left===!1?0:r.left-i.left,right:i.right===!1?this.width:r.right+i.right,top:i.top===!1?0:r.top-i.top,bottom:i.bottom===!1?this.height:r.bottom+i.bottom}),t.controller.draw(),s&&Lh(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return di(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,s){const r=pU.modes[n];return typeof r=="function"?r(this,t,i,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=cs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,s);ja(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(r,{visible:i}),this.update(a=>a.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),ei.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Gv(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Vc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(r,o)=>{n.addEventListener(this,r,o),t[r]=o},s=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};Ct(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),t[l]=c},s=(l,c)=>{t[l]&&(n.removeEventListener(this,l,c),delete t[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Ct(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Ct(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const s=i?"set":"remove";let r,o,a,l;for(n==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!vu(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const s=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=r(n,t),a=i?t:r(t,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:s=[],options:r}=this,o=n,a=this._getActiveElements(t,s,i,o),l=xB(t),c=_9(t,this._lastEvent,i,l);i&&(this._lastEvent=null,Nt(r.onHover,[t,a,this],this),l&&Nt(r.onClick,[t,a,this],this));const u=!vu(a,s);return(u||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=c,u}_getActiveElements(t,n,i,s){if(t.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,s)}}F(ri,"defaults",Zt),F(ri,"instances",Vc),F(ri,"overrides",Ys),F(ri,"registry",Nn),F(ri,"version",d9),F(ri,"getChart",Cb);function Pb(){return Ct(ri.instances,e=>e._plugins.invalidate())}function v9(e,t,n){const{startAngle:i,pixelMargin:s,x:r,y:o,outerRadius:a,innerRadius:l}=t;let c=s/a;e.beginPath(),e.arc(r,o,a,i-c,n+c),l>s?(c=s/l,e.arc(r,o,l,n+c,i-c,!0)):e.arc(r,o,s,n+Jt,i-Jt),e.closePath(),e.clip()}function b9(e){return Tm(e,["outerStart","outerEnd","innerStart","innerEnd"])}function A9(e,t,n,i){const s=b9(e.options.borderRadius),r=(n-t)/2,o=Math.min(r,i*t/2),a=l=>{const c=(n-Math.min(r,l))*i/2;return _e(l,0,Math.min(r,c))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:_e(s.innerStart,0,o),innerEnd:_e(s.innerEnd,0,o)}}function gr(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function Tu(e,t,n,i,s,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=t,h=Math.max(t.outerRadius+i+n-c,0),f=u>0?u+i+n+c:0;let d=0;const p=s-l;if(i){const dt=u>0?u-i:0,X=h>0?h-i:0,it=(dt+X)/2,ut=it!==0?p*it/(it+i):p;d=(p-ut)/2}const g=Math.max(.001,p*h-n/Kt)/h,m=(p-g)/2,_=l+m+d,y=s-m-d,{outerStart:E,outerEnd:A,innerStart:w,innerEnd:T}=A9(t,f,h,y-_),S=h-E,x=h-A,R=_+E/S,j=y-A/x,K=f+w,st=f+T,xt=_+w/K,ne=y-T/st;if(e.beginPath(),r){const dt=(R+j)/2;if(e.arc(o,a,h,R,dt),e.arc(o,a,h,dt,j),A>0){const Ot=gr(x,j,o,a);e.arc(Ot.x,Ot.y,A,j,y+Jt)}const X=gr(st,y,o,a);if(e.lineTo(X.x,X.y),T>0){const Ot=gr(st,ne,o,a);e.arc(Ot.x,Ot.y,T,y+Jt,ne+Math.PI)}const it=(y-T/f+(_+w/f))/2;if(e.arc(o,a,f,y-T/f,it,!0),e.arc(o,a,f,it,_+w/f,!0),w>0){const Ot=gr(K,xt,o,a);e.arc(Ot.x,Ot.y,w,xt+Math.PI,_-Jt)}const ut=gr(S,_,o,a);if(e.lineTo(ut.x,ut.y),E>0){const Ot=gr(S,R,o,a);e.arc(Ot.x,Ot.y,E,_-Jt,R)}}else{e.moveTo(o,a);const dt=Math.cos(R)*h+o,X=Math.sin(R)*h+a;e.lineTo(dt,X);const it=Math.cos(j)*h+o,ut=Math.sin(j)*h+a;e.lineTo(it,ut)}e.closePath()}function w9(e,t,n,i,s){const{fullCircles:r,startAngle:o,circumference:a}=t;let l=t.endAngle;if(r){Tu(e,t,n,i,l,s);for(let c=0;c<r;++c)e.fill();isNaN(a)||(l=o+(a%$t||$t))}return Tu(e,t,n,i,l,s),e.fill(),l}function E9(e,t,n,i,s){const{fullCircles:r,startAngle:o,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:f}=l,d=l.borderAlign==="inner";if(!c)return;e.setLineDash(h||[]),e.lineDashOffset=f,d?(e.lineWidth=c*2,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let p=t.endAngle;if(r){Tu(e,t,n,i,p,s);for(let g=0;g<r;++g)e.stroke();isNaN(a)||(p=o+(a%$t||$t))}d&&v9(e,t,p),r||(Tu(e,t,n,i,p,s),e.stroke())}class jo extends Ii{constructor(n){super();F(this,"circumference");F(this,"endAngle");F(this,"fullCircles");F(this,"innerRadius");F(this,"outerRadius");F(this,"pixelMargin");F(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.getProps(["x","y"],s),{angle:o,distance:a}=FT(r,{x:n,y:i}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),d=(this.options.spacing+this.options.borderWidth)/2,g=ht(f,c-l)>=$t||$a(o,l,c),m=hi(a,u+d,h+d);return g&&m}getCenterPoint(n){const{x:i,y:s,startAngle:r,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,h=(r+o)/2,f=(a+l+u+c)/2;return{x:i+Math.cos(h)*f,y:s+Math.sin(h)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:s}=this,r=(i.offset||0)/4,o=(i.spacing||0)/2,a=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>$t?Math.floor(s/$t):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*r,Math.sin(l)*r);const c=1-Math.sin(Math.min(Kt,s||0)),u=r*c;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,w9(n,this,u,o,a),E9(n,this,u,o,a),n.restore()}}F(jo,"id","arc"),F(jo,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),F(jo,"defaultRoutes",{backgroundColor:"backgroundColor"}),F(jo,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function y1(e,t,n=t){e.lineCap=ht(n.borderCapStyle,t.borderCapStyle),e.setLineDash(ht(n.borderDash,t.borderDash)),e.lineDashOffset=ht(n.borderDashOffset,t.borderDashOffset),e.lineJoin=ht(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=ht(n.borderWidth,t.borderWidth),e.strokeStyle=ht(n.borderColor,t.borderColor)}function I9(e,t,n){e.lineTo(n.x,n.y)}function T9(e){return e.stepped?GB:e.tension||e.cubicInterpolationMode==="monotone"?QB:I9}function v1(e,t,n={}){const i=e.length,{start:s=0,end:r=i-1}=n,{start:o,end:a}=t,l=Math.max(s,o),c=Math.min(r,a),u=s<o&&r<o||s>a&&r>a;return{count:i,start:l,loop:t.loop,ilen:c<l&&!u?i+c-l:c-l}}function x9(e,t,n,i){const{points:s,options:r}=t,{count:o,start:a,loop:l,ilen:c}=v1(s,n,i),u=T9(r);let{move:h=!0,reverse:f}=i||{},d,p,g;for(d=0;d<=c;++d)p=s[(a+(f?c-d:d))%o],!p.skip&&(h?(e.moveTo(p.x,p.y),h=!1):u(e,g,p,f,r.stepped),g=p);return l&&(p=s[(a+(f?c:0))%o],u(e,g,p,f,r.stepped)),!!l}function S9(e,t,n,i){const s=t.points,{count:r,start:o,ilen:a}=v1(s,n,i),{move:l=!0,reverse:c}=i||{};let u=0,h=0,f,d,p,g,m,_;const y=A=>(o+(c?a-A:A))%r,E=()=>{g!==m&&(e.lineTo(u,m),e.lineTo(u,g),e.lineTo(u,_))};for(l&&(d=s[y(0)],e.moveTo(d.x,d.y)),f=0;f<=a;++f){if(d=s[y(f)],d.skip)continue;const A=d.x,w=d.y,T=A|0;T===p?(w<g?g=w:w>m&&(m=w),u=(h*u+A)/++h):(E(),e.lineTo(A,w),p=T,h=0,g=m=w),_=w}E()}function ip(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?S9:x9}function k9(e){return e.stepped?S5:e.tension||e.cubicInterpolationMode==="monotone"?k5:ys}function C9(e,t,n,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,n,i)&&s.closePath()),y1(e,t.options),e.stroke(s)}function P9(e,t,n,i){const{segments:s,options:r}=t,o=ip(t);for(const a of s)y1(e,r,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}const R9=typeof Path2D=="function";function M9(e,t,n,i){R9&&!t.options.segment?C9(e,t,n,i):P9(e,t,n,i)}class Bi extends Ii{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;v5(this._points,i,t,s,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=D5(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){const i=this.options,s=t[n],r=this.points,o=r1(this,{property:n,start:s,end:s});if(!o.length)return;const a=[],l=k9(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:f}=o[c],d=r[h],p=r[f];if(d===p){a.push(d);continue}const g=Math.abs((s-d[n])/(p[n]-d[n])),m=l(d,p,g,i.stepped);m[n]=t[n],a.push(m)}return a.length===1?a[0]:a}pathSegment(t,n,i){return ip(this)(t,this,n,i)}path(t,n,i){const s=this.segments,r=ip(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of s)o&=r(t,this,a,{start:n,end:n+i-1});return!!o}draw(t,n,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),M9(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}F(Bi,"id","line"),F(Bi,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),F(Bi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),F(Bi,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function Rb(e,t,n,i){const s=e.options,{[n]:r}=e.getProps([n],i);return Math.abs(t-r)<s.radius+s.hitRadius}class Fc extends Ii{constructor(n){super();F(this,"parsed");F(this,"skip");F(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(n-o,2)+Math.pow(i-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(n,i){return Rb(this,n,"x",i)}inYRange(n,i){return Rb(this,n,"y",i)}getCenterPoint(n){const{x:i,y:s}=this.getProps(["x","y"],n);return{x:i,y:s}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const s=i&&n.borderWidth||0;return(i+s)*2}draw(n,i){const s=this.options;this.skip||s.radius<.1||!di(this,i,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,Zd(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}F(Fc,"id","point"),F(Fc,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),F(Fc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function b1(e,t){const{x:n,y:i,base:s,width:r,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,c,u,h;return e.horizontal?(h=o/2,a=Math.min(n,s),l=Math.max(n,s),c=i-h,u=i+h):(h=r/2,a=n-h,l=n+h,c=Math.min(i,s),u=Math.max(i,s)),{left:a,top:c,right:l,bottom:u}}function Ui(e,t,n,i){return e?0:_e(t,n,i)}function O9(e,t,n){const i=e.options.borderWidth,s=e.borderSkipped,r=KT(i);return{t:Ui(s.top,r.top,0,n),r:Ui(s.right,r.right,0,t),b:Ui(s.bottom,r.bottom,0,n),l:Ui(s.left,r.left,0,t)}}function D9(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,r=Ns(s),o=Math.min(t,n),a=e.borderSkipped,l=i||_t(s);return{topLeft:Ui(!l||a.top||a.left,r.topLeft,0,o),topRight:Ui(!l||a.top||a.right,r.topRight,0,o),bottomLeft:Ui(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:Ui(!l||a.bottom||a.right,r.bottomRight,0,o)}}function N9(e){const t=b1(e),n=t.right-t.left,i=t.bottom-t.top,s=O9(e,n/2,i/2),r=D9(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:r},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function Ff(e,t,n,i){const s=t===null,r=n===null,a=e&&!(s&&r)&&b1(e,i);return a&&(s||hi(t,a.left,a.right))&&(r||hi(n,a.top,a.bottom))}function L9(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function V9(e,t){e.rect(t.x,t.y,t.w,t.h)}function Bf(e,t,n={}){const i=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,r=(e.x+e.w!==n.x+n.w?t:0)-i,o=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+i,y:e.y+s,w:e.w+r,h:e.h+o,radius:e.radius}}class Bc extends Ii{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:o}=N9(this),a=L9(o.radius)?Ha:V9;t.save(),(o.w!==r.w||o.h!==r.h)&&(t.beginPath(),a(t,Bf(o,n,r)),t.clip(),a(t,Bf(r,-n,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,Bf(r,n)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,n,i){return Ff(this,t,n,i)}inXRange(t,n){return Ff(this,t,null,n)}inYRange(t,n){return Ff(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(n+s)/2:n,y:r?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}F(Bc,"id","bar"),F(Bc,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),F(Bc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var F9=Object.freeze({__proto__:null,ArcElement:jo,BarElement:Bc,LineElement:Bi,PointElement:Fc});const sp=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Mb=sp.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function A1(e){return sp[e%sp.length]}function w1(e){return Mb[e%Mb.length]}function B9(e,t){return e.borderColor=A1(t),e.backgroundColor=w1(t),++t}function U9(e,t){return e.backgroundColor=e.data.map(()=>A1(t++)),t}function z9(e,t){return e.backgroundColor=e.data.map(()=>w1(t++)),t}function j9(e){let t=0;return(n,i)=>{const s=e.getDatasetMeta(i).controller;s instanceof Ss?t=U9(n,t):s instanceof ua?t=z9(n,t):s&&(t=B9(n,t))}}function Ob(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function $9(e){return e&&(e.borderColor||e.backgroundColor)}var H9={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:i},options:s}=e.config,{elements:r}=s;if(!n.forceOverride&&(Ob(i)||$9(s)||r&&Ob(r)))return;const o=j9(e);i.forEach(o)}};function W9(e,t,n,i,s){const r=s.samples||i;if(r>=n)return e.slice(t,t+n);const o=[],a=(n-2)/(r-2);let l=0;const c=t+n-1;let u=t,h,f,d,p,g;for(o[l++]=e[u],h=0;h<r-2;h++){let m=0,_=0,y;const E=Math.floor((h+1)*a)+1+t,A=Math.min(Math.floor((h+2)*a)+1,n)+t,w=A-E;for(y=E;y<A;y++)m+=e[y].x,_+=e[y].y;m/=w,_/=w;const T=Math.floor(h*a)+1+t,S=Math.min(Math.floor((h+1)*a)+1,n)+t,{x,y:R}=e[u];for(d=p=-1,y=T;y<S;y++)p=.5*Math.abs((x-m)*(e[y].y-R)-(x-e[y].x)*(_-R)),p>d&&(d=p,f=e[y],g=y);o[l++]=f,u=g}return o[l++]=e[c],o}function q9(e,t,n,i){let s=0,r=0,o,a,l,c,u,h,f,d,p,g;const m=[],_=t+n-1,y=e[t].x,A=e[_].x-y;for(o=t;o<t+n;++o){a=e[o],l=(a.x-y)/A*i,c=a.y;const w=l|0;if(w===u)c<p?(p=c,h=o):c>g&&(g=c,f=o),s=(r*s+a.x)/++r;else{const T=o-1;if(!bt(h)&&!bt(f)){const S=Math.min(h,f),x=Math.max(h,f);S!==d&&S!==T&&m.push({...e[S],x:s}),x!==d&&x!==T&&m.push({...e[x],x:s})}o>0&&T!==d&&m.push(e[T]),m.push(a),u=w,r=0,p=g=c,h=f=d=o}}return m}function E1(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Db(e){e.data.datasets.forEach(t=>{E1(t)})}function K9(e,t){const n=t.length;let i=0,s;const{iScale:r}=e,{min:o,max:a,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(i=_e(fi(t,r.axis,o).lo,0,n-1)),c?s=_e(fi(t,r.axis,a).hi+1,i,n)-i:s=n-i,{start:i,count:s}}var G9={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){Db(e);return}const i=e.width;e.data.datasets.forEach((s,r)=>{const{_data:o,indexAxis:a}=s,l=e.getDatasetMeta(r),c=o||s.data;if(Uo([a,e.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=e.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||e.options.parsing)return;let{start:h,count:f}=K9(l,c);const d=n.threshold||4*i;if(f<=d){E1(s);return}bt(o)&&(s._data=c,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let p;switch(n.algorithm){case"lttb":p=W9(c,h,f,i,n);break;case"min-max":p=q9(c,h,f,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=p})},destroy(e){Db(e)}};function Q9(e,t,n){const i=e.segments,s=e.points,r=t.points,o=[];for(const a of i){let{start:l,end:c}=a;c=Rm(l,c,s);const u=rp(n,s[l],s[c],a.loop);if(!t.segments){o.push({source:a,target:u,start:s[l],end:s[c]});continue}const h=r1(t,u);for(const f of h){const d=rp(n,r[f.start],r[f.end],f.loop),p=s1(a,s,d);for(const g of p)o.push({source:g,target:f,start:{[n]:Nb(u,d,"start",Math.max)},end:{[n]:Nb(u,d,"end",Math.min)}})}}return o}function rp(e,t,n,i){if(i)return;let s=t[e],r=n[e];return e==="angle"&&(s=Ze(s),r=Ze(r)),{property:e,start:s,end:r}}function Y9(e,t){const{x:n=null,y:i=null}=e||{},s=t.points,r=[];return t.segments.forEach(({start:o,end:a})=>{a=Rm(o,a,s);const l=s[o],c=s[a];i!==null?(r.push({x:l.x,y:i}),r.push({x:c.x,y:i})):n!==null&&(r.push({x:n,y:l.y}),r.push({x:n,y:c.y}))}),r}function Rm(e,t,n){for(;t>e;t--){const i=n[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function Nb(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function I1(e,t){let n=[],i=!1;return jt(e)?(i=!0,n=e):n=Y9(e,t),n.length?new Bi({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function Lb(e){return e&&e.fill!==!1}function X9(e,t,n){let s=e[t].fill;const r=[t];let o;if(!n)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!Xt(s))return s;if(o=e[s],!o)return!1;if(o.visible)return s;r.push(s),s=o.fill}return!1}function J9(e,t,n){const i=n3(e);if(_t(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return Xt(s)&&Math.floor(s)===s?Z9(i[0],t,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function Z9(e,t,n,i){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=i?!1:n}function t3(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:_t(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function e3(e,t,n){let i;return e==="start"?i=n:e==="end"?i=t.options.reverse?t.min:t.max:_t(e)?i=e.value:i=t.getBaseValue(),i}function n3(e){const t=e.options,n=t.fill;let i=ht(n&&n.target,n);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function i3(e){const{scale:t,index:n,line:i}=e,s=[],r=i.segments,o=i.points,a=s3(t,n);a.push(I1({x:null,y:t.bottom},i));for(let l=0;l<r.length;l++){const c=r[l];for(let u=c.start;u<=c.end;u++)r3(s,o[u],a)}return new Bi({points:s,options:{}})}function s3(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const r=i[s];if(r.index===t)break;r.hidden||n.unshift(r.dataset)}return n}function r3(e,t,n){const i=[];for(let s=0;s<n.length;s++){const r=n[s],{first:o,last:a,point:l}=o3(r,t,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(e.push(l),!a)break}}e.push(...i)}function o3(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const s=i[n],r=e.segments,o=e.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const u=r[c],h=o[u.start][n],f=o[u.end][n];if(hi(s,h,f)){a=s===h,l=s===f;break}}return{first:a,last:l,point:i}}class T1{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,i){const{x:s,y:r,radius:o}=this;return n=n||{start:0,end:$t},t.arc(s,r,o,n.end,n.start,!0),!i.bounds}interpolate(t){const{x:n,y:i,radius:s}=this,r=t.angle;return{x:n+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}}function a3(e){const{chart:t,fill:n,line:i}=e;if(Xt(n))return l3(t,n);if(n==="stack")return i3(e);if(n==="shape")return!0;const s=c3(e);return s instanceof T1?s:I1(s,i)}function l3(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function c3(e){return(e.scale||{}).getPointPositionForValue?h3(e):u3(e)}function u3(e){const{scale:t={},fill:n}=e,i=t3(n,t);if(Xt(i)){const s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function h3(e){const{scale:t,fill:n}=e,i=t.options,s=t.getLabels().length,r=i.reverse?t.max:t.min,o=e3(n,t,r),a=[];if(i.grid.circular){const l=t.getPointPositionForValue(0,r);return new T1({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<s;++l)a.push(t.getPointPositionForValue(l,o));return a}function Uf(e,t,n){const i=a3(t),{line:s,scale:r,axis:o}=t,a=s.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:h=c}=l||{};i&&s.points.length&&(Nh(e,n),f3(e,{line:s,target:i,above:u,below:h,area:n,scale:r,axis:o}),Lh(e))}function f3(e,t){const{line:n,target:i,above:s,below:r,area:o,scale:a}=t,l=n._loop?"angle":t.axis;e.save(),l==="x"&&r!==s&&(Vb(e,i,o.top),Fb(e,{line:n,target:i,color:s,scale:a,property:l}),e.restore(),e.save(),Vb(e,i,o.bottom)),Fb(e,{line:n,target:i,color:r,scale:a,property:l}),e.restore()}function Vb(e,t,n){const{segments:i,points:s}=t;let r=!0,o=!1;e.beginPath();for(const a of i){const{start:l,end:c}=a,u=s[l],h=s[Rm(l,c,s)];r?(e.moveTo(u.x,u.y),r=!1):(e.lineTo(u.x,n),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(h.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function Fb(e,t){const{line:n,target:i,property:s,color:r,scale:o}=t,a=Q9(n,i,s);for(const{source:l,target:c,start:u,end:h}of a){const{style:{backgroundColor:f=r}={}}=l,d=i!==!0;e.save(),e.fillStyle=f,d3(e,o,d&&rp(s,u,h)),e.beginPath();const p=!!n.pathSegment(e,l);let g;if(d){p?e.closePath():Bb(e,i,h,s);const m=!!i.pathSegment(e,c,{move:p,reverse:!0});g=p&&m,g||Bb(e,i,u,s)}e.closePath(),e.fill(g?"evenodd":"nonzero"),e.restore()}}function d3(e,t,n){const{top:i,bottom:s}=t.chart.chartArea,{property:r,start:o,end:a}=n||{};r==="x"&&(e.beginPath(),e.rect(o,i,a-o,s-i),e.clip())}function Bb(e,t,n,i){const s=t.interpolate(n,i);s&&e.lineTo(s.x,s.y)}var p3={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,s=[];let r,o,a,l;for(o=0;o<i;++o)r=e.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof Bi&&(l={visible:e.isDatasetVisible(o),index:o,fill:J9(a,o,i),chart:e,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,s.push(l);for(o=0;o<i;++o)l=s[o],!(!l||l.fill===!1)&&(l.fill=X9(s,o,n.propagate))},beforeDraw(e,t,n){const i=n.drawTime==="beforeDraw",s=e.getSortedVisibleDatasetMetas(),r=e.chartArea;for(let o=s.length-1;o>=0;--o){const a=s[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),i&&a.fill&&Uf(e.ctx,a,r))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=e.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const r=i[s].$filler;Lb(r)&&Uf(e.ctx,r,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;!Lb(i)||n.drawTime!=="beforeDatasetDraw"||Uf(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Ub=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},g3=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class zb extends Ii{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Nt(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=ue(i.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Ub(i,r);let c,u;n.font=s.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,s,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,s){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=s+a;let h=t;r.textAlign="left",r.textBaseline="middle";let f=-1,d=-u;return this.legendItems.forEach((p,g)=>{const m=i+n/2+r.measureText(p.text).width;(g===0||c[c.length-1]+m+2*a>o)&&(h+=u,c[c.length-(g>0?0:1)]=0,d+=u,f++),l[g]={left:0,top:d,row:f,width:m,height:s},c[c.length-1]+=m+a}),h}_fitCols(t,n,i,s){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-t;let h=a,f=0,d=0,p=0,g=0;return this.legendItems.forEach((m,_)=>{const{itemWidth:y,itemHeight:E}=m3(i,n,r,m,s);_>0&&d+E+2*a>u&&(h+=f+a,c.push({width:f,height:d}),p+=f+a,g++,f=d=0),l[_]={left:p,top:d,col:g,width:y,height:E},f=Math.max(f,y),d+=E+a}),h+=f,c.push({width:f,height:d}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,o=Mr(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=Te(i,this.left+s,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=Te(i,this.left+s,this.right-this.lineWidths[a])),c.top+=this.top+t+s,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+s}else{let a=0,l=Te(i,this.top+t+s,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=Te(i,this.top+t+s,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+s,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Nh(t,this),this._draw(),Lh(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:o}=t,a=Zt.color,l=Mr(t.rtl,this.left,this.width),c=ue(o.font),{padding:u}=o,h=c.size,f=h/2;let d;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:p,boxHeight:g,itemHeight:m}=Ub(o,h),_=function(T,S,x){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;s.save();const R=ht(x.lineWidth,1);if(s.fillStyle=ht(x.fillStyle,a),s.lineCap=ht(x.lineCap,"butt"),s.lineDashOffset=ht(x.lineDashOffset,0),s.lineJoin=ht(x.lineJoin,"miter"),s.lineWidth=R,s.strokeStyle=ht(x.strokeStyle,a),s.setLineDash(ht(x.lineDash,[])),o.usePointStyle){const j={radius:g*Math.SQRT2/2,pointStyle:x.pointStyle,rotation:x.rotation,borderWidth:R},K=l.xPlus(T,p/2),st=S+f;qT(s,j,K,st,o.pointStyleWidth&&p)}else{const j=S+Math.max((h-g)/2,0),K=l.leftForLtr(T,p),st=Ns(x.borderRadius);s.beginPath(),Object.values(st).some(xt=>xt!==0)?Ha(s,{x:K,y:j,w:p,h:g,radius:st}):s.rect(K,j,p,g),s.fill(),R!==0&&s.stroke()}s.restore()},y=function(T,S,x){Xs(s,x.text,T,S+m/2,c,{strikethrough:x.hidden,textAlign:l.textAlign(x.textAlign)})},E=this.isHorizontal(),A=this._computeTitleHeight();E?d={x:Te(r,this.left+u,this.right-i[0]),y:this.top+u+A,line:0}:d={x:this.left+u,y:Te(r,this.top+A+u,this.bottom-n[0].height),line:0},e1(this.ctx,t.textDirection);const w=m+u;this.legendItems.forEach((T,S)=>{s.strokeStyle=T.fontColor,s.fillStyle=T.fontColor;const x=s.measureText(T.text).width,R=l.textAlign(T.textAlign||(T.textAlign=o.textAlign)),j=p+f+x;let K=d.x,st=d.y;l.setWidth(this.width),E?S>0&&K+j+u>this.right&&(st=d.y+=w,d.line++,K=d.x=Te(r,this.left+u,this.right-i[d.line])):S>0&&st+w>this.bottom&&(K=d.x=K+n[d.line].width+u,d.line++,st=d.y=Te(r,this.top+A+u,this.bottom-n[d.line].height));const xt=l.x(K);if(_(xt,st,T),K=VB(R,K+p+f,E?K+j:this.right,t.rtl),y(l.x(K),st,T),E)d.x+=j+u;else if(typeof T.text!="string"){const ne=c.lineHeight;d.y+=x1(T,ne)+u}else d.y+=w}),n1(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=ue(n.font),s=Ve(n.padding);if(!n.display)return;const r=Mr(t.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,c=s.top+l;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,h=Te(t.align,h,this.right-f);else{const p=this.columnSizes.reduce((g,m)=>Math.max(g,m.height),0);u=c+Te(t.align,this.top,this.bottom-p-t.labels.padding-this._computeTitleHeight())}const d=Te(a,h,h+f);o.textAlign=r.textAlign(Em(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,Xs(o,n.text,d,u,i)}_computeTitleHeight(){const t=this.options.title,n=ue(t.font),i=Ve(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,s,r;if(hi(t,this.left,this.right)&&hi(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],hi(t,s.left,s.left+s.width)&&hi(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!v3(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,r=g3(s,i);s&&!r&&Nt(n.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!r&&Nt(n.onHover,[t,i,this],this)}else i&&Nt(n.onClick,[t,i,this],this)}}function m3(e,t,n,i,s){const r=_3(i,e,t,n),o=y3(s,i,t.lineHeight);return{itemWidth:r,itemHeight:o}}function _3(e,t,n,i){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((r,o)=>r.length>o.length?r:o)),t+n.size/2+i.measureText(s).width}function y3(e,t,n){let i=e;return typeof t.text!="string"&&(i=x1(t,n)),i}function x1(e,t){const n=e.text?e.text.length:0;return t*n}function v3(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var b3={id:"legend",_element:zb,start(e,t,n){const i=e.legend=new zb({ctx:e.ctx,options:n,chart:e});Re.configure(e,i,n),Re.addBox(e,i)},stop(e){Re.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;Re.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=Ve(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Mm extends Ii{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const s=jt(i.text)?i.text.length:1;this._padding=Ve(i.padding);const r=s*ue(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:s,right:r,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=Te(a,i,r),h=n+t,c=r-i):(o.position==="left"?(u=i+t,h=Te(a,s,n),l=Kt*-.5):(u=r-t,h=Te(a,n,s),l=Kt*.5),c=s-n),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=ue(n.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);Xs(t,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:Em(n.align),textBaseline:"middle",translation:[o,a]})}}function A3(e,t){const n=new Mm({ctx:e.ctx,options:t,chart:e});Re.configure(e,n,t),Re.addBox(e,n),e.titleBlock=n}var w3={id:"title",_element:Mm,start(e,t,n){A3(e,n)},stop(e){const t=e.titleBlock;Re.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;Re.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const rc=new WeakMap;var E3={id:"subtitle",start(e,t,n){const i=new Mm({ctx:e.ctx,options:n,chart:e});Re.configure(e,i,n),Re.addBox(e,i),rc.set(e,i)},stop(e){Re.removeBox(e,rc.get(e)),rc.delete(e)},beforeUpdate(e,t,n){const i=rc.get(e);Re.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const $o={average(e){if(!e.length)return!1;let t,n,i=0,s=0,r=0;for(t=0,n=e.length;t<n;++t){const o=e[t].element;if(o&&o.hasValue()){const a=o.tooltipPosition();i+=a.x,s+=a.y,++r}}return{x:i/r,y:s/r}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,s=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=e.length;r<o;++r){const l=e[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=Xd(t,c);u<s&&(s=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function Dn(e,t){return t&&(jt(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function ni(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function I3(e,t){const{element:n,datasetIndex:i,index:s}=t,r=e.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(s);return{chart:e,label:o,parsed:r.getParsed(s),raw:e.data.datasets[i].data[s],formattedValue:a,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function jb(e,t){const n=e.chart.ctx,{body:i,footer:s,title:r}=e,{boxWidth:o,boxHeight:a}=t,l=ue(t.bodyFont),c=ue(t.titleFont),u=ue(t.footerFont),h=r.length,f=s.length,d=i.length,p=Ve(t.padding);let g=p.height,m=0,_=i.reduce((A,w)=>A+w.before.length+w.lines.length+w.after.length,0);if(_+=e.beforeBody.length+e.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),_){const A=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=d*A+(_-d)*l.lineHeight+(_-1)*t.bodySpacing}f&&(g+=t.footerMarginTop+f*u.lineHeight+(f-1)*t.footerSpacing);let y=0;const E=function(A){m=Math.max(m,n.measureText(A).width+y)};return n.save(),n.font=c.string,Ct(e.title,E),n.font=l.string,Ct(e.beforeBody.concat(e.afterBody),E),y=t.displayColors?o+2+t.boxPadding:0,Ct(i,A=>{Ct(A.before,E),Ct(A.lines,E),Ct(A.after,E)}),y=0,n.font=u.string,Ct(e.footer,E),n.restore(),m+=p.width,{width:m,height:g}}function T3(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function x3(e,t,n,i){const{x:s,width:r}=i,o=n.caretSize+n.caretPadding;if(e==="left"&&s+r+o>t.width||e==="right"&&s-r-o<0)return!0}function S3(e,t,n,i){const{x:s,width:r}=n,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return i==="center"?c=s<=(a+l)/2?"left":"right":s<=r/2?c="left":s>=o-r/2&&(c="right"),x3(c,e,t,n)&&(c="center"),c}function $b(e,t,n){const i=n.yAlign||t.yAlign||T3(e,n);return{xAlign:n.xAlign||t.xAlign||S3(e,t,n,i),yAlign:i}}function k3(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function C3(e,t,n){let{y:i,height:s}=e;return t==="top"?i+=n:t==="bottom"?i-=s+n:i-=s/2,i}function Hb(e,t,n,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,c=s+r,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:d}=Ns(o);let p=k3(t,a);const g=C3(t,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,f)+s:a==="right"&&(p+=Math.max(h,d)+s),{x:_e(p,0,i.width-t.width),y:_e(g,0,i.height-t.height)}}function oc(e,t,n){const i=Ve(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function Wb(e){return Dn([],ni(e))}function P3(e,t,n){return cs(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function qb(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const S1={beforeTitle:ti,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:ti,beforeBody:ti,beforeLabel:ti,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return bt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:ti,afterBody:ti,beforeFooter:ti,footer:ti,afterFooter:ti};function $e(e,t,n,i){const s=e[t].call(n,i);return typeof s>"u"?S1[t].call(n,i):s}class op extends Ii{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new o1(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=P3(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,s=$e(i,"beforeTitle",this,t),r=$e(i,"title",this,t),o=$e(i,"afterTitle",this,t);let a=[];return a=Dn(a,ni(s)),a=Dn(a,ni(r)),a=Dn(a,ni(o)),a}getBeforeBody(t,n){return Wb($e(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,s=[];return Ct(t,r=>{const o={before:[],lines:[],after:[]},a=qb(i,r);Dn(o.before,ni($e(a,"beforeLabel",this,r))),Dn(o.lines,$e(a,"label",this,r)),Dn(o.after,ni($e(a,"afterLabel",this,r))),s.push(o)}),s}getAfterBody(t,n){return Wb($e(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,s=$e(i,"beforeFooter",this,t),r=$e(i,"footer",this,t),o=$e(i,"afterFooter",this,t);let a=[];return a=Dn(a,ni(s)),a=Dn(a,ni(r)),a=Dn(a,ni(o)),a}_createItems(t){const n=this._active,i=this.chart.data,s=[],r=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(I3(this.chart,n[l]));return t.filter&&(a=a.filter((u,h,f)=>t.filter(u,h,f,i))),t.itemSort&&(a=a.sort((u,h)=>t.itemSort(u,h,i))),Ct(a,u=>{const h=qb(t.callbacks,u);s.push($e(h,"labelColor",this,u)),r.push($e(h,"labelPointStyle",this,u)),o.push($e(h,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,o=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const a=$o[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=jb(this,i),c=Object.assign({},a,l),u=$b(this.chart,i,c),h=Hb(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,s){const r=this.getCaretPosition(t,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(t,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=Ns(a),{x:f,y:d}=t,{width:p,height:g}=n;let m,_,y,E,A,w;return r==="center"?(A=d+g/2,s==="left"?(m=f,_=m-o,E=A+o,w=A-o):(m=f+p,_=m+o,E=A-o,w=A+o),y=m):(s==="left"?_=f+Math.max(l,u)+o:s==="right"?_=f+p-Math.max(c,h)-o:_=this.caretX,r==="top"?(E=d,A=E-o,m=_-o,y=_+o):(E=d+g,A=E+o,m=_+o,y=_-o),w=E),{x1:m,x2:_,x3:y,y1:E,y2:A,y3:w}}drawTitle(t,n,i){const s=this.title,r=s.length;let o,a,l;if(r){const c=Mr(i.rtl,this.x,this.width);for(t.x=oc(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=ue(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<r;++l)n.fillText(s[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===r&&(t.y+=i.titleMarginBottom-a)}}_drawColorBox(t,n,i,s,r){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=r,u=ue(r.bodyFont),h=oc(this,"left",r),f=s.x(h),d=l<u.lineHeight?(u.lineHeight-l)/2:0,p=n.y+d;if(r.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},m=s.leftForLtr(f,c)+c/2,_=p+l/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,Zd(t,g,m,_),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Zd(t,g,m,_)}else{t.lineWidth=_t(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const g=s.leftForLtr(f,c),m=s.leftForLtr(s.xPlus(f,1),c-2),_=Ns(o.borderRadius);Object.values(_).some(y=>y!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,Ha(t,{x:g,y:p,w:c,h:l,radius:_}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Ha(t,{x:m,y:p+1,w:c-2,h:l-2,radius:_}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(g,p,c,l),t.strokeRect(g,p,c,l),t.fillStyle=o.backgroundColor,t.fillRect(m,p+1,c-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,h=ue(i.bodyFont);let f=h.lineHeight,d=0;const p=Mr(i.rtl,this.x,this.width),g=function(x){n.fillText(x,p.x(t.x+d),t.y+f/2),t.y+=f+r},m=p.textAlign(o);let _,y,E,A,w,T,S;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,t.x=oc(this,m,i),n.fillStyle=i.bodyColor,Ct(this.beforeBody,g),d=a&&m!=="right"?o==="center"?c/2+u:c+2+u:0,A=0,T=s.length;A<T;++A){for(_=s[A],y=this.labelTextColors[A],n.fillStyle=y,Ct(_.before,g),E=_.lines,a&&E.length&&(this._drawColorBox(n,t,A,p,i),f=Math.max(h.lineHeight,l)),w=0,S=E.length;w<S;++w)g(E[w]),f=h.lineHeight;Ct(_.after,g)}d=0,f=h.lineHeight,Ct(this.afterBody,g),t.y-=r}drawFooter(t,n,i){const s=this.footer,r=s.length;let o,a;if(r){const l=Mr(i.rtl,this.x,this.width);for(t.x=oc(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=ue(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(s[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,n,i,s){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:u}=i,{topLeft:h,topRight:f,bottomLeft:d,bottomRight:p}=Ns(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(t,n,i,s),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&r==="right"&&this.drawCaret(t,n,i,s),n.lineTo(a+c,l+u-p),n.quadraticCurveTo(a+c,l+u,a+c-p,l+u),o==="bottom"&&this.drawCaret(t,n,i,s),n.lineTo(a+d,l+u),n.quadraticCurveTo(a,l+u,a,l+u-d),o==="center"&&r==="left"&&this.drawCaret(t,n,i,s),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const o=$o[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=jb(this,t),l=Object.assign({},o,this._size),c=$b(n,t,l),u=Hb(t,l,c,n);(s._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Ve(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=i,this.drawBackground(r,t,s,n),e1(t,n.textDirection),r.y+=o.top,this.drawTitle(r,t,n),this.drawBody(r,t,n),this.drawFooter(r,t,n),n1(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,s=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!vu(i,s),o=this._positionChanged(s,n);(r||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],o=this._getActiveElements(t,r,n,i),a=this._positionChanged(o,t),l=n||!vu(o,r)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,i,s){const r=this.options;if(t.type==="mouseout")return[];if(!s)return n;const o=this.chart.getElementsAtEventForMode(t,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:i,caretY:s,options:r}=this,o=$o[r.position].call(this,t,n);return o!==!1&&(i!==o.x||s!==o.y)}}F(op,"positioners",$o);var R3={id:"tooltip",_element:op,positioners:$o,afterInit(e,t,n){n&&(e.tooltip=new op({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:S1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},M3=Object.freeze({__proto__:null,Colors:H9,Decimation:G9,Filler:p3,Legend:b3,SubTitle:E3,Title:w3,Tooltip:R3});const O3=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function D3(e,t,n,i){const s=e.indexOf(t);if(s===-1)return O3(e,t,n,i);const r=e.lastIndexOf(t);return s!==r?n:s}const N3=(e,t)=>e===null?null:_e(Math.round(e),0,t);function Kb(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class ap extends cr{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(bt(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:D3(i,t,ht(n,t),this._addedLabels),N3(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=t===0&&n===r.length-1?r:r.slice(t,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=n;o++)s.push({value:o});return s}getLabelForValue(t){return Kb.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}F(ap,"id","category"),F(ap,"defaults",{ticks:{callback:Kb}});function L3(e,t){const n=[],{bounds:s,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:f}=e,d=r||1,p=u-1,{min:g,max:m}=t,_=!bt(o),y=!bt(a),E=!bt(c),A=(m-g)/(h+1);let w=zv((m-g)/p/d)*d,T,S,x,R;if(w<1e-14&&!_&&!y)return[{value:g},{value:m}];R=Math.ceil(m/w)-Math.floor(g/w),R>p&&(w=zv(R*w/p/d)*d),bt(l)||(T=Math.pow(10,l),w=Math.ceil(w*T)/T),s==="ticks"?(S=Math.floor(g/w)*w,x=Math.ceil(m/w)*w):(S=g,x=m),_&&y&&r&&PB((a-o)/r,w/1e3)?(R=Math.round(Math.min((a-o)/w,u)),w=(a-o)/R,S=o,x=a):E?(S=_?o:S,x=y?a:x,R=c-1,w=(x-S)/R):(R=(x-S)/w,aa(R,Math.round(R),w/1e3)?R=Math.round(R):R=Math.ceil(R));const j=Math.max(jv(w),jv(S));T=Math.pow(10,bt(l)?j:l),S=Math.round(S*T)/T,x=Math.round(x*T)/T;let K=0;for(_&&(f&&S!==o?(n.push({value:o}),S<o&&K++,aa(Math.round((S+K*w)*T)/T,o,Gb(o,A,e))&&K++):S<o&&K++);K<R;++K){const st=Math.round((S+K*w)*T)/T;if(y&&st>a)break;n.push({value:st})}return y&&f&&x!==a?n.length&&aa(n[n.length-1].value,a,Gb(a,A,e))?n[n.length-1].value=a:n.push({value:a}):(!y||x===a)&&n.push({value:x}),n}function Gb(e,t,{horizontal:n,minRotation:i}){const s=An(i),r=(n?Math.sin(s):Math.cos(s))||.001,o=.75*t*(""+e).length;return Math.min(t/r,o)}class xu extends cr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return bt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const o=l=>s=n?s:l,a=l=>r=i?r:l;if(t){const l=Qn(s),c=Qn(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(s===r){let l=r===0?1:Math.abs(r*.05);a(r+l),t||o(s-l)}this.min=s,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=L3(s,r);return t.bounds==="ticks"&&VT(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-n)/Math.max(t.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return xl(t,this.chart.options.locale,this.options.ticks.format)}}class lp extends xu{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Xt(t)?t:0,this.max=Xt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=An(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}F(lp,"id","linear"),F(lp,"defaults",{ticks:{callback:Dh.formatters.numeric}});const qa=e=>Math.floor(Fi(e)),gs=(e,t)=>Math.pow(10,qa(e)+t);function Qb(e){return e/Math.pow(10,qa(e))===1}function Yb(e,t,n){const i=Math.pow(10,n),s=Math.floor(e/i);return Math.ceil(t/i)-s}function V3(e,t){const n=t-e;let i=qa(n);for(;Yb(e,t,i)>10;)i++;for(;Yb(e,t,i)<10;)i--;return Math.min(i,qa(e))}function F3(e,{min:t,max:n}){t=Xe(e.min,t);const i=[],s=qa(t);let r=V3(t,n),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=s>r?Math.pow(10,s):0,c=Math.round((t-l)*o)/o,u=Math.floor((t-l)/a/10)*a*10;let h=Math.floor((c-u)/Math.pow(10,r)),f=Xe(e.min,Math.round((l+u+h*Math.pow(10,r))*o)/o);for(;f<n;)i.push({value:f,major:Qb(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(r++,h=2,o=r>=0?1:o),f=Math.round((l+u+h*Math.pow(10,r))*o)/o;const d=Xe(e.max,f);return i.push({value:d,major:Qb(d),significand:h}),i}class cp extends cr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const i=xu.prototype.parse.apply(this,[t,n]);if(i===0){this._zero=!0;return}return Xt(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Xt(t)?Math.max(0,t):null,this.max=Xt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Xt(this._userMin)&&(this.min=t===gs(this.min,0)?gs(this.min,-1):gs(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let i=this.min,s=this.max;const r=a=>i=t?i:a,o=a=>s=n?s:a;i===s&&(i<=0?(r(1),o(10)):(r(gs(i,-1)),o(gs(s,1)))),i<=0&&r(gs(s,-1)),s<=0&&o(gs(i,1)),this.min=i,this.max=s}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},i=F3(n,this);return t.bounds==="ticks"&&VT(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":xl(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Fi(t),this._valueRange=Fi(this.max)-Fi(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Fi(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}F(cp,"id","logarithmic"),F(cp,"defaults",{ticks:{callback:Dh.formatters.logarithmic,major:{enabled:!0}}});function up(e){const t=e.ticks;if(t.display&&e.display){const n=Ve(t.backdropPadding);return ht(t.font&&t.font.size,Zt.font.size)+n.height}return 0}function B3(e,t,n){return n=jt(n)?n:[n],{w:KB(e,t.string,n),h:n.length*t.lineHeight}}function Xb(e,t,n,i,s){return e===i||e===s?{start:t-n/2,end:t+n/2}:e<i||e>s?{start:t-n,end:t}:{start:t,end:t+n}}function U3(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],s=[],r=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?Kt/r:0;for(let l=0;l<r;l++){const c=o.setContext(e.getPointLabelContext(l));s[l]=c.padding;const u=e.getPointPosition(l,e.drawingArea+s[l],a),h=ue(c.font),f=B3(e.ctx,h,e._pointLabels[l]);i[l]=f;const d=Ze(e.getIndexAngle(l)+a),p=Math.round(Am(d)),g=Xb(p,u.x,f.w,0,180),m=Xb(p,u.y,f.h,90,270);z3(n,t,d,g,m)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=H3(e,i,s)}function z3(e,t,n,i,s){const r=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<t.l?(a=(t.l-i.start)/r,e.l=Math.min(e.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/r,e.r=Math.max(e.r,t.r+a)),s.start<t.t?(l=(t.t-s.start)/o,e.t=Math.min(e.t,t.t-l)):s.end>t.b&&(l=(s.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function j3(e,t,n){const i=e.drawingArea,{extra:s,additionalAngle:r,padding:o,size:a}=n,l=e.getPointPosition(t,i+s+o,r),c=Math.round(Am(Ze(l.angle+Jt))),u=K3(l.y,a.h,c),h=W3(c),f=q3(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:f,top:u,right:f+a.w,bottom:u+a.h}}function $3(e,t){if(!t)return!0;const{left:n,top:i,right:s,bottom:r}=e;return!(di({x:n,y:i},t)||di({x:n,y:r},t)||di({x:s,y:i},t)||di({x:s,y:r},t))}function H3(e,t,n){const i=[],s=e._pointLabels.length,r=e.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:up(r)/2,additionalAngle:o?Kt/s:0};let c;for(let u=0;u<s;u++){l.padding=n[u],l.size=t[u];const h=j3(e,u,l);i.push(h),a==="auto"&&(h.visible=$3(h,c),h.visible&&(c=h))}return i}function W3(e){return e===0||e===180?"center":e<180?"left":"right"}function q3(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function K3(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function G3(e,t,n){const{left:i,top:s,right:r,bottom:o}=n,{backdropColor:a}=t;if(!bt(a)){const l=Ns(t.borderRadius),c=Ve(t.backdropPadding);e.fillStyle=a;const u=i-c.left,h=s-c.top,f=r-i+c.width,d=o-s+c.height;Object.values(l).some(p=>p!==0)?(e.beginPath(),Ha(e,{x:u,y:h,w:f,h:d,radius:l}),e.fill()):e.fillRect(u,h,f,d)}}function Q3(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let s=t-1;s>=0;s--){const r=e._pointLabelItems[s];if(!r.visible)continue;const o=i.setContext(e.getPointLabelContext(s));G3(n,o,r);const a=ue(o.font),{x:l,y:c,textAlign:u}=r;Xs(n,e._pointLabels[s],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function k1(e,t,n,i){const{ctx:s}=e;if(n)s.arc(e.xCenter,e.yCenter,t,0,$t);else{let r=e.getPointPosition(0,t);s.moveTo(r.x,r.y);for(let o=1;o<i;o++)r=e.getPointPosition(o,t),s.lineTo(r.x,r.y)}}function Y3(e,t,n,i,s){const r=e.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!i||!a||!l||n<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(s.dash),r.lineDashOffset=s.dashOffset,r.beginPath(),k1(e,n,o,i),r.closePath(),r.stroke(),r.restore())}function X3(e,t,n){return cs(e,{label:n,index:t,type:"pointLabel"})}class Ho extends xu{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Ve(up(this.options)/2),n=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=Xt(t)&&!isNaN(t)?t:0,this.max=Xt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/up(this.options))}generateTickLabels(t){xu.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,i)=>{const s=Nt(this.options.pointLabels.callback,[n,i],this);return s||s===0?s:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?U3(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,i,s){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,i,s))}getIndexAngle(t){const n=$t/(this._pointLabels.length||1),i=this.options.startAngle||0;return Ze(t*n+An(i))}getDistanceFromCenterForValue(t){if(bt(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(bt(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const i=n[t];return X3(this.getContext(),t,i)}}getPointPosition(t,n,i=0){const s=this.getIndexAngle(t)-Jt+i;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:i,right:s,bottom:r}=this._pointLabelItems[t];return{left:n,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),k1(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:i,grid:s,border:r}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&Q3(this,o),s.display&&this.ticks.forEach((u,h)=>{if(h!==0){l=this.getDistanceFromCenterForValue(u.value);const f=this.getContext(h),d=s.setContext(f),p=r.setContext(f);Y3(this,d,l,o,p)}}),i.display){for(t.save(),a=o-1;a>=0;a--){const u=i.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:f}=u;!f||!h||(t.lineWidth=f,t.strokeStyle=h,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&!n.reverse)return;const c=i.setContext(this.getContext(l)),u=ue(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=u.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const h=Ve(c.backdropPadding);t.fillRect(-o/2-h.left,-r-u.size/2-h.top,o+h.width,u.size+h.height)}Xs(t,a.label,0,-r,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}F(Ho,"id","radialLinear"),F(Ho,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Dh.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),F(Ho,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),F(Ho,"descriptors",{angleLines:{_fallback:"grid"}});const Fh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ke=Object.keys(Fh);function Jb(e,t){return e-t}function Zb(e,t){if(bt(t))return null;const n=e._adapter,{parser:i,round:s,isoWeekday:r}=e._parseOpts;let o=t;return typeof i=="function"&&(o=i(o)),Xt(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(Xr(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,s)),+o)}function t0(e,t,n,i){const s=Ke.length;for(let r=Ke.indexOf(e);r<s-1;++r){const o=Fh[Ke[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=i)return Ke[r]}return Ke[s-1]}function J3(e,t,n,i,s){for(let r=Ke.length-1;r>=Ke.indexOf(n);r--){const o=Ke[r];if(Fh[o].common&&e._adapter.diff(s,i,o)>=t-1)return o}return Ke[n?Ke.indexOf(n):0]}function Z3(e){for(let t=Ke.indexOf(e)+1,n=Ke.length;t<n;++t)if(Fh[Ke[t]].common)return Ke[t]}function e0(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:s}=wm(n,t),r=n[i]>=t?n[i]:n[s];e[r]=!0}}function t6(e,t,n,i){const s=e._adapter,r=+s.startOf(t[0].value,i),o=t[t.length-1].value;let a,l;for(a=r;a<=o;a=+s.add(a,1,i))l=n[a],l>=0&&(t[l].major=!0);return t}function n0(e,t,n){const i=[],s={},r=t.length;let o,a;for(o=0;o<r;++o)a=t[o],s[a]=o,i.push({value:a,major:!1});return r===0||!n?i:t6(e,i,s,n)}class Ka extends cr{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),s=this._adapter=new cU._date(t.adapters.date);s.init(n),oa(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:Zb(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:s,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=Xt(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=Xt(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,o=this.max,a=DB(s,r,o);return this._unit=n.unit||(i.autoSkip?t0(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):J3(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Z3(this._unit),this.initOffsets(s),t.reverse&&a.reverse(),n0(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,s,r;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?i=r:i=(r-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=_e(n,0,o),i=_e(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,o=r.unit||t0(r.minUnit,n,i,this._getLabelCapacity(n)),a=ht(s.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=Xr(l)||l===!0,u={};let h=n,f,d;if(c&&(h=+t.startOf(h,"isoWeek",l)),h=+t.startOf(h,c?"day":o),t.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const p=s.ticks.source==="data"&&this.getDataTimestamps();for(f=h,d=0;f<i;f=+t.add(f,a,o),d++)e0(u,f,p);return(f===i||s.bounds==="ticks"||d===1)&&e0(u,f,p),Object.keys(u).sort(Jb).map(g=>+g)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,r=this._unit,o=n||s[r];return this._adapter.format(t,o)}_tickFormatFunction(t,n,i,s){const r=this.options,o=r.ticks.callback;if(o)return Nt(o,[t,n,i],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],f=i[n],d=c&&h&&f&&f.major;return this._adapter.format(t,s||(d?h:u))}generateTickLabels(t){let n,i,s;for(n=0,i=t.length;n<i;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,s=An(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:i*r+a*o,h:i*o+a*r}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(t,0,n0(this,[t],this._majorUnit),s),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)t.push(Zb(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return UT(t.sort(Jb))}}F(Ka,"id","time"),F(Ka,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function ac(e,t,n){let i=0,s=e.length-1,r,o,a,l;n?(t>=e[i].pos&&t<=e[s].pos&&({lo:i,hi:s}=fi(e,"pos",t)),{pos:r,time:a}=e[i],{pos:o,time:l}=e[s]):(t>=e[i].time&&t<=e[s].time&&({lo:i,hi:s}=fi(e,"time",t)),{time:r,pos:a}=e[i],{time:o,pos:l}=e[s]);const c=o-r;return c?a+(l-a)*(t-r)/c:a}class hp extends Ka{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=ac(n,this.min),this._tableRange=ac(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,s=[],r=[];let o,a,l,c,u;for(o=0,a=t.length;o<a;++o)c=t[o],c>=n&&c<=i&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=s.length;o<a;++o)u=s[o+1],l=s[o-1],c=s[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(ac(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return ac(this._table,i*this._tableRange+this._minPos,!0)}}F(hp,"id","timeseries"),F(hp,"defaults",Ka.defaults);var e6=Object.freeze({__proto__:null,CategoryScale:ap,LinearScale:lp,LogarithmicScale:cp,RadialLinearScale:Ho,TimeScale:Ka,TimeSeriesScale:hp});const n6=[lU,F9,M3,e6];ri.register(...n6);const i6={class:"container center"},s6={class:"title"},r6={class:"bar-chart center"},o6={__name:"ChartCard",props:{title:"title",type:"bar",data:{type:Array,required:!0},values:{type:Array,equired:!0}},setup(e){const t=e,n=Et(null);return zp(()=>{if(n.value){const i=n.value.getContext("2d");new ri(i,{type:t.type,data:{labels:t.data,datasets:[{data:t.values,borderWidth:1,borderColor:"black",pointBackgroundColor:"orange"}]},options:{scales:{x:{ticks:{font:{size:18},color:"black"}},y:{beginAtZero:!1,ticks:{font:{size:18},color:"black"}}},plugins:{legend:{display:!1}}}})}}),(i,s)=>(It(),Ft("div",i6,[C("h1",s6,vn(t.title),1),C("div",r6,[C("canvas",{ref_key:"chartCanvas",ref:n},null,512)])]))}},zf=gn(o6,[["__scopeId","data-v-29ebf924"]]);const a6={class:"page"},l6={class:"charts"},c6={__name:"Stats",setup(e){const t={title:"Bench Press",data:["Jan","Mar","Apr","May","Jun","Jul"],values:[100,115,120,125,130,145]},n={title:"Deadlift",data:["Jan","Mar","Apr","May","Jun","Jul"],values:[120,140,170,180,190,170]},i={title:"Squat",data:["Jan","Mar","Apr","May","Jun","Jul"],values:[120,130,140,150,160,150]};return(s,r)=>(It(),Ft("div",a6,[C("div",l6,[Mt(zf,{type:"line",title:t.title,data:t.data,values:t.values},null,8,["title","data","values"]),Mt(zf,{type:"bar",title:n.title,data:n.data,values:n.values},null,8,["title","data","values"]),Mt(zf,{type:"line",title:i.title,data:i.data,values:i.values},null,8,["title","data","values"])])]))}},u6=gn(c6,[["__scopeId","data-v-320a3b2c"]]);const h6={class:"component"},f6={class:"title"},d6={class:"card"},p6={class:"row"},g6={__name:"TableData",props:{title:"",data:{type:Array,required:!0}},setup(e){const t=e;return(n,i)=>(It(),Ft("div",h6,[C("h1",f6,vn(t.title),1),C("div",d6,[(It(!0),Ft(Se,null,qo(t.data,s=>(It(),Ft("div",p6,[C("h1",null,vn(s.key),1),C("h1",null,vn(s.value),1)]))),256))])]))}},i0=gn(g6,[["__scopeId","data-v-bb1f6a56"]]);const Bh=e=>(tr("data-v-47fd397c"),e=e(),er(),e),m6={class:"page"},_6=Bh(()=>C("h3",null,"You will achive your goals",-1)),y6={class:"data"},v6={class:"config"},b6=Bh(()=>C("h1",null,"Configuration",-1)),A6={class:"options center"},w6={class:"changeName center"},E6=Bh(()=>C("p",null,"Change Username",-1)),I6=["placeholder"],T6={class:"changeTheme center"},x6=Bh(()=>C("p",null,"Change Theme",-1)),S6={__name:"User",setup(e){const t=nr(),n=Ku(),i=Et(t.color);$n(i,l=>{t.color=l});const s=[{key:"Height",value:"178"},{key:"Weight",value:"88"},{key:"IMC",value:"28.1"}],r=[{key:"Height",value:"178"},{key:"Weight",value:"95"},{key:"IMC",value:"30"}],o=()=>{hV(ge)},a=()=>{try{SF(ge.currentUser.uid)}catch(l){console.log("Error al eliminar cuenta",l)}finally{n.push({path:"/"})}};return(l,c)=>(It(),Ft("div",m6,[C("header",null,[C("h1",null,"Hi, "+vn(qt(t).username),1),_6]),C("section",y6,[Mt(i0,{data:s,title:"Current Data"}),Mt(i0,{data:r,title:"Objectives"})]),C("section",v6,[b6,C("div",A6,[C("div",w6,[E6,C("input",{type:"email",placeholder:qt(t).username,name:"",id:""},null,8,I6)]),C("div",T6,[x6,tn(C("input",{type:"color","onUpdate:modelValue":c[0]||(c[0]=u=>i.value=u)},null,512),[[yn,i.value]])]),C("div",{class:"buttons center"},[C("button",{onClick:a},"Delete Account")])])]),C("div",{class:"logout center"},[C("button",{onClick:o},"logout")])]))}},k6=gn(S6,[["__scopeId","data-v-47fd397c"]]),C1=zC({history:rC("/Flex/"),routes:[{path:"/",name:"home",component:UF,hasTitle:!1,meta:{requiresAuth:!1}},{path:"/signup",name:"signup",component:n4,hasTitle:!1,meta:{requiresAuth:!1}},{path:"/login",name:"login",component:g4,hasTitle:!1,meta:{requiresAuth:!1}},{path:"/workouts",name:"workouts",component:X4,hasTitle:!0,meta:{requiresAuth:!0}},{path:"/stats",name:"stats",component:u6,hasTitle:!0,meta:{requiresAuth:!0}},{path:"/user",name:"user",component:k6,hasTitle:!0,meta:{requiresAuth:!0}}]});C1.beforeEach((e,t,n)=>{e.matched.some(i=>i.meta.requiresAuth)?ge.currentUser?n():(console.log("forbidden"),n("/")):n()});function s0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s0(Object(n),!0).forEach(function(i){fe(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s0(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Su(e){"@babel/helpers - typeof";return Su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Su(e)}function C6(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r0(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function P6(e,t,n){return t&&r0(e.prototype,t),n&&r0(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Om(e,t){return M6(e)||D6(e,t)||P1(e,t)||L6()}function kl(e){return R6(e)||O6(e)||P1(e)||N6()}function R6(e){if(Array.isArray(e))return fp(e)}function M6(e){if(Array.isArray(e))return e}function O6(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function D6(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],s=!0,r=!1,o,a;try{for(n=n.call(e);!(s=(o=n.next()).done)&&(i.push(o.value),!(t&&i.length===t));s=!0);}catch(l){r=!0,a=l}finally{try{!s&&n.return!=null&&n.return()}finally{if(r)throw a}}return i}}function P1(e,t){if(e){if(typeof e=="string")return fp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fp(e,t)}}function fp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function N6(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o0=function(){},Dm={},R1={},M1=null,O1={mark:o0,measure:o0};try{typeof window<"u"&&(Dm=window),typeof document<"u"&&(R1=document),typeof MutationObserver<"u"&&(M1=MutationObserver),typeof performance<"u"&&(O1=performance)}catch{}var V6=Dm.navigator||{},a0=V6.userAgent,l0=a0===void 0?"":a0,ns=Dm,Ht=R1,c0=M1,lc=O1;ns.document;var Ti=!!Ht.documentElement&&!!Ht.head&&typeof Ht.addEventListener=="function"&&typeof Ht.createElement=="function",D1=~l0.indexOf("MSIE")||~l0.indexOf("Trident/"),cc,uc,hc,fc,dc,bi="___FONT_AWESOME___",dp=16,N1="fa",L1="svg-inline--fa",Js="data-fa-i2svg",pp="data-fa-pseudo-element",F6="data-fa-pseudo-element-pending",Nm="data-prefix",Lm="data-icon",u0="fontawesome-i2svg",B6="async",U6=["HTML","HEAD","STYLE","SCRIPT"],V1=function(){try{return!0}catch{return!1}}(),Bt="classic",Yt="sharp",Vm=[Bt,Yt];function Cl(e){return new Proxy(e,{get:function(n,i){return i in n?n[i]:n[Bt]}})}var Ga=Cl((cc={},fe(cc,Bt,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),fe(cc,Yt,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),cc)),Qa=Cl((uc={},fe(uc,Bt,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),fe(uc,Yt,{solid:"fass",regular:"fasr",light:"fasl"}),uc)),Ya=Cl((hc={},fe(hc,Bt,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),fe(hc,Yt,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),hc)),z6=Cl((fc={},fe(fc,Bt,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),fe(fc,Yt,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),fc)),j6=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,F1="fa-layers-text",$6=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,H6=Cl((dc={},fe(dc,Bt,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),fe(dc,Yt,{900:"fass",400:"fasr",300:"fasl"}),dc)),B1=[1,2,3,4,5,6,7,8,9,10],W6=B1.concat([11,12,13,14,15,16,17,18,19,20]),q6=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],ks={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Xa=new Set;Object.keys(Qa[Bt]).map(Xa.add.bind(Xa));Object.keys(Qa[Yt]).map(Xa.add.bind(Xa));var K6=[].concat(Vm,kl(Xa),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",ks.GROUP,ks.SWAP_OPACITY,ks.PRIMARY,ks.SECONDARY]).concat(B1.map(function(e){return"".concat(e,"x")})).concat(W6.map(function(e){return"w-".concat(e)})),ha=ns.FontAwesomeConfig||{};function G6(e){var t=Ht.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}function Q6(e){return e===""?!0:e==="false"?!1:e==="true"?!0:e}if(Ht&&typeof Ht.querySelector=="function"){var Y6=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];Y6.forEach(function(e){var t=Om(e,2),n=t[0],i=t[1],s=Q6(G6(n));s!=null&&(ha[i]=s)})}var U1={styleDefault:"solid",familyDefault:"classic",cssPrefix:N1,replacementClass:L1,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};ha.familyPrefix&&(ha.cssPrefix=ha.familyPrefix);var to=H(H({},U1),ha);to.autoReplaceSvg||(to.observeMutations=!1);var Q={};Object.keys(U1).forEach(function(e){Object.defineProperty(Q,e,{enumerable:!0,set:function(n){to[e]=n,fa.forEach(function(i){return i(Q)})},get:function(){return to[e]}})});Object.defineProperty(Q,"familyPrefix",{enumerable:!0,set:function(t){to.cssPrefix=t,fa.forEach(function(n){return n(Q)})},get:function(){return to.cssPrefix}});ns.FontAwesomeConfig=Q;var fa=[];function X6(e){return fa.push(e),function(){fa.splice(fa.indexOf(e),1)}}var Ci=dp,jn={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function J6(e){if(!(!e||!Ti)){var t=Ht.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=Ht.head.childNodes,i=null,s=n.length-1;s>-1;s--){var r=n[s],o=(r.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(i=r)}return Ht.head.insertBefore(t,i),e}}var Z6="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function Ja(){for(var e=12,t="";e-- >0;)t+=Z6[Math.random()*62|0];return t}function yo(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function Fm(e){return e.classList?yo(e.classList):(e.getAttribute("class")||"").split(" ").filter(function(t){return t})}function z1(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function tz(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,'="').concat(z1(e[n]),'" ')},"").trim()}function Uh(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")},"")}function Bm(e){return e.size!==jn.size||e.x!==jn.x||e.y!==jn.y||e.rotate!==jn.rotate||e.flipX||e.flipY}function ez(e){var t=e.transform,n=e.containerWidth,i=e.iconWidth,s={transform:"translate(".concat(n/2," 256)")},r="translate(".concat(t.x*32,", ").concat(t.y*32,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),a="rotate(".concat(t.rotate," 0 0)"),l={transform:"".concat(r," ").concat(o," ").concat(a)},c={transform:"translate(".concat(i/2*-1," -256)")};return{outer:s,inner:l,path:c}}function nz(e){var t=e.transform,n=e.width,i=n===void 0?dp:n,s=e.height,r=s===void 0?dp:s,o=e.startCentered,a=o===void 0?!1:o,l="";return a&&D1?l+="translate(".concat(t.x/Ci-i/2,"em, ").concat(t.y/Ci-r/2,"em) "):a?l+="translate(calc(-50% + ".concat(t.x/Ci,"em), calc(-50% + ").concat(t.y/Ci,"em)) "):l+="translate(".concat(t.x/Ci,"em, ").concat(t.y/Ci,"em) "),l+="scale(".concat(t.size/Ci*(t.flipX?-1:1),", ").concat(t.size/Ci*(t.flipY?-1:1),") "),l+="rotate(".concat(t.rotate,"deg) "),l}var iz=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function j1(){var e=N1,t=L1,n=Q.cssPrefix,i=Q.replacementClass,s=iz;if(n!==e||i!==t){var r=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),a=new RegExp("\\.".concat(t),"g");s=s.replace(r,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(i))}return s}var h0=!1;function jf(){Q.autoAddCss&&!h0&&(J6(j1()),h0=!0)}var sz={mixout:function(){return{dom:{css:j1,insertCss:jf}}},hooks:function(){return{beforeDOMElementCreation:function(){jf()},beforeI2svg:function(){jf()}}}},Ai=ns||{};Ai[bi]||(Ai[bi]={});Ai[bi].styles||(Ai[bi].styles={});Ai[bi].hooks||(Ai[bi].hooks={});Ai[bi].shims||(Ai[bi].shims=[]);var wn=Ai[bi],$1=[],rz=function e(){Ht.removeEventListener("DOMContentLoaded",e),ku=1,$1.map(function(t){return t()})},ku=!1;Ti&&(ku=(Ht.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Ht.readyState),ku||Ht.addEventListener("DOMContentLoaded",rz));function oz(e){Ti&&(ku?setTimeout(e,0):$1.push(e))}function Pl(e){var t=e.tag,n=e.attributes,i=n===void 0?{}:n,s=e.children,r=s===void 0?[]:s;return typeof e=="string"?z1(e):"<".concat(t," ").concat(tz(i),">").concat(r.map(Pl).join(""),"</").concat(t,">")}function f0(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}var az=function(t,n){return function(i,s,r,o){return t.call(n,i,s,r,o)}},$f=function(t,n,i,s){var r=Object.keys(t),o=r.length,a=s!==void 0?az(n,s):n,l,c,u;for(i===void 0?(l=1,u=t[r[0]]):(l=0,u=i);l<o;l++)c=r[l],u=a(u,t[c],c,t);return u};function lz(e){for(var t=[],n=0,i=e.length;n<i;){var s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<i){var r=e.charCodeAt(n++);(r&64512)==56320?t.push(((s&1023)<<10)+(r&1023)+65536):(t.push(s),n--)}else t.push(s)}return t}function gp(e){var t=lz(e);return t.length===1?t[0].toString(16):null}function cz(e,t){var n=e.length,i=e.charCodeAt(t),s;return i>=55296&&i<=56319&&n>t+1&&(s=e.charCodeAt(t+1),s>=56320&&s<=57343)?(i-55296)*1024+s-56320+65536:i}function d0(e){return Object.keys(e).reduce(function(t,n){var i=e[n],s=!!i.icon;return s?t[i.iconName]=i.icon:t[n]=i,t},{})}function mp(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.skipHooks,s=i===void 0?!1:i,r=d0(t);typeof wn.hooks.addPack=="function"&&!s?wn.hooks.addPack(e,d0(t)):wn.styles[e]=H(H({},wn.styles[e]||{}),r),e==="fas"&&mp("fa",t)}var pc,gc,mc,br=wn.styles,uz=wn.shims,hz=(pc={},fe(pc,Bt,Object.values(Ya[Bt])),fe(pc,Yt,Object.values(Ya[Yt])),pc),Um=null,H1={},W1={},q1={},K1={},G1={},fz=(gc={},fe(gc,Bt,Object.keys(Ga[Bt])),fe(gc,Yt,Object.keys(Ga[Yt])),gc);function dz(e){return~K6.indexOf(e)}function pz(e,t){var n=t.split("-"),i=n[0],s=n.slice(1).join("-");return i===e&&s!==""&&!dz(s)?s:null}var Q1=function(){var t=function(r){return $f(br,function(o,a,l){return o[l]=$f(a,r,{}),o},{})};H1=t(function(s,r,o){if(r[3]&&(s[r[3]]=o),r[2]){var a=r[2].filter(function(l){return typeof l=="number"});a.forEach(function(l){s[l.toString(16)]=o})}return s}),W1=t(function(s,r,o){if(s[o]=o,r[2]){var a=r[2].filter(function(l){return typeof l=="string"});a.forEach(function(l){s[l]=o})}return s}),G1=t(function(s,r,o){var a=r[2];return s[o]=o,a.forEach(function(l){s[l]=o}),s});var n="far"in br||Q.autoFetchSvg,i=$f(uz,function(s,r){var o=r[0],a=r[1],l=r[2];return a==="far"&&!n&&(a="fas"),typeof o=="string"&&(s.names[o]={prefix:a,iconName:l}),typeof o=="number"&&(s.unicodes[o.toString(16)]={prefix:a,iconName:l}),s},{names:{},unicodes:{}});q1=i.names,K1=i.unicodes,Um=zh(Q.styleDefault,{family:Q.familyDefault})};X6(function(e){Um=zh(e.styleDefault,{family:Q.familyDefault})});Q1();function zm(e,t){return(H1[e]||{})[t]}function gz(e,t){return(W1[e]||{})[t]}function Cs(e,t){return(G1[e]||{})[t]}function Y1(e){return q1[e]||{prefix:null,iconName:null}}function mz(e){var t=K1[e],n=zm("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function is(){return Um}var jm=function(){return{prefix:null,iconName:null,rest:[]}};function zh(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.family,i=n===void 0?Bt:n,s=Ga[i][e],r=Qa[i][e]||Qa[i][s],o=e in wn.styles?e:null;return r||o||null}var p0=(mc={},fe(mc,Bt,Object.keys(Ya[Bt])),fe(mc,Yt,Object.keys(Ya[Yt])),mc);function jh(e){var t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.skipLookups,s=i===void 0?!1:i,r=(t={},fe(t,Bt,"".concat(Q.cssPrefix,"-").concat(Bt)),fe(t,Yt,"".concat(Q.cssPrefix,"-").concat(Yt)),t),o=null,a=Bt;(e.includes(r[Bt])||e.some(function(c){return p0[Bt].includes(c)}))&&(a=Bt),(e.includes(r[Yt])||e.some(function(c){return p0[Yt].includes(c)}))&&(a=Yt);var l=e.reduce(function(c,u){var h=pz(Q.cssPrefix,u);if(br[u]?(u=hz[a].includes(u)?z6[a][u]:u,o=u,c.prefix=u):fz[a].indexOf(u)>-1?(o=u,c.prefix=zh(u,{family:a})):h?c.iconName=h:u!==Q.replacementClass&&u!==r[Bt]&&u!==r[Yt]&&c.rest.push(u),!s&&c.prefix&&c.iconName){var f=o==="fa"?Y1(c.iconName):{},d=Cs(c.prefix,c.iconName);f.prefix&&(o=null),c.iconName=f.iconName||d||c.iconName,c.prefix=f.prefix||c.prefix,c.prefix==="far"&&!br.far&&br.fas&&!Q.autoFetchSvg&&(c.prefix="fas")}return c},jm());return(e.includes("fa-brands")||e.includes("fab"))&&(l.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(l.prefix="fad"),!l.prefix&&a===Yt&&(br.fass||Q.autoFetchSvg)&&(l.prefix="fass",l.iconName=Cs(l.prefix,l.iconName)||l.iconName),(l.prefix==="fa"||o==="fa")&&(l.prefix=is()||"fas"),l}var _z=function(){function e(){C6(this,e),this.definitions={}}return P6(e,[{key:"add",value:function(){for(var n=this,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];var o=s.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=H(H({},n.definitions[a]||{}),o[a]),mp(a,o[a]);var l=Ya[Bt][a];l&&mp(l,o[a]),Q1()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,i){var s=i.prefix&&i.iconName&&i.icon?{0:i}:i;return Object.keys(s).map(function(r){var o=s[r],a=o.prefix,l=o.iconName,c=o.icon,u=c[2];n[a]||(n[a]={}),u.length>0&&u.forEach(function(h){typeof h=="string"&&(n[a][h]=c)}),n[a][l]=c}),n}}]),e}(),g0=[],Ar={},Or={},yz=Object.keys(Or);function vz(e,t){var n=t.mixoutsTo;return g0=e,Ar={},Object.keys(Or).forEach(function(i){yz.indexOf(i)===-1&&delete Or[i]}),g0.forEach(function(i){var s=i.mixout?i.mixout():{};if(Object.keys(s).forEach(function(o){typeof s[o]=="function"&&(n[o]=s[o]),Su(s[o])==="object"&&Object.keys(s[o]).forEach(function(a){n[o]||(n[o]={}),n[o][a]=s[o][a]})}),i.hooks){var r=i.hooks();Object.keys(r).forEach(function(o){Ar[o]||(Ar[o]=[]),Ar[o].push(r[o])})}i.provides&&i.provides(Or)}),n}function _p(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];var r=Ar[e]||[];return r.forEach(function(o){t=o.apply(null,[t].concat(i))}),t}function Zs(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var s=Ar[e]||[];s.forEach(function(r){r.apply(null,n)})}function wi(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Or[e]?Or[e].apply(null,t):void 0}function yp(e){e.prefix==="fa"&&(e.prefix="fas");var t=e.iconName,n=e.prefix||is();if(t)return t=Cs(n,t)||t,f0(X1.definitions,n,t)||f0(wn.styles,n,t)}var X1=new _z,bz=function(){Q.autoReplaceSvg=!1,Q.observeMutations=!1,Zs("noAuto")},Az={i2svg:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Ti?(Zs("beforeI2svg",t),wi("pseudoElements2svg",t),wi("i2svg",t)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.autoReplaceSvgRoot;Q.autoReplaceSvg===!1&&(Q.autoReplaceSvg=!0),Q.observeMutations=!0,oz(function(){Ez({autoReplaceSvgRoot:n}),Zs("watch",t)})}},wz={icon:function(t){if(t===null)return null;if(Su(t)==="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:Cs(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){var n=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],i=zh(t[0]);return{prefix:i,iconName:Cs(i,n)||n}}if(typeof t=="string"&&(t.indexOf("".concat(Q.cssPrefix,"-"))>-1||t.match(j6))){var s=jh(t.split(" "),{skipLookups:!0});return{prefix:s.prefix||is(),iconName:Cs(s.prefix,s.iconName)||s.iconName}}if(typeof t=="string"){var r=is();return{prefix:r,iconName:Cs(r,t)||t}}}},on={noAuto:bz,config:Q,dom:Az,parse:wz,library:X1,findIconDefinition:yp,toHtml:Pl},Ez=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.autoReplaceSvgRoot,i=n===void 0?Ht:n;(Object.keys(wn.styles).length>0||Q.autoFetchSvg)&&Ti&&Q.autoReplaceSvg&&on.dom.i2svg({node:i})};function $h(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(function(i){return Pl(i)})}}),Object.defineProperty(e,"node",{get:function(){if(Ti){var i=Ht.createElement("div");return i.innerHTML=e.html,i.children}}}),e}function Iz(e){var t=e.children,n=e.main,i=e.mask,s=e.attributes,r=e.styles,o=e.transform;if(Bm(o)&&n.found&&!i.found){var a=n.width,l=n.height,c={x:a/l/2,y:.5};s.style=Uh(H(H({},r),{},{"transform-origin":"".concat(c.x+o.x/16,"em ").concat(c.y+o.y/16,"em")}))}return[{tag:"svg",attributes:s,children:t}]}function Tz(e){var t=e.prefix,n=e.iconName,i=e.children,s=e.attributes,r=e.symbol,o=r===!0?"".concat(t,"-").concat(Q.cssPrefix,"-").concat(n):r;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:H(H({},s),{},{id:o}),children:i}]}]}function $m(e){var t=e.icons,n=t.main,i=t.mask,s=e.prefix,r=e.iconName,o=e.transform,a=e.symbol,l=e.title,c=e.maskId,u=e.titleId,h=e.extra,f=e.watchable,d=f===void 0?!1:f,p=i.found?i:n,g=p.width,m=p.height,_=s==="fak",y=[Q.replacementClass,r?"".concat(Q.cssPrefix,"-").concat(r):""].filter(function(R){return h.classes.indexOf(R)===-1}).filter(function(R){return R!==""||!!R}).concat(h.classes).join(" "),E={children:[],attributes:H(H({},h.attributes),{},{"data-prefix":s,"data-icon":r,class:y,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(m)})},A=_&&!~h.classes.indexOf("fa-fw")?{width:"".concat(g/m*16*.0625,"em")}:{};d&&(E.attributes[Js]=""),l&&(E.children.push({tag:"title",attributes:{id:E.attributes["aria-labelledby"]||"title-".concat(u||Ja())},children:[l]}),delete E.attributes.title);var w=H(H({},E),{},{prefix:s,iconName:r,main:n,mask:i,maskId:c,transform:o,symbol:a,styles:H(H({},A),h.styles)}),T=i.found&&n.found?wi("generateAbstractMask",w)||{children:[],attributes:{}}:wi("generateAbstractIcon",w)||{children:[],attributes:{}},S=T.children,x=T.attributes;return w.children=S,w.attributes=x,a?Tz(w):Iz(w)}function m0(e){var t=e.content,n=e.width,i=e.height,s=e.transform,r=e.title,o=e.extra,a=e.watchable,l=a===void 0?!1:a,c=H(H(H({},o.attributes),r?{title:r}:{}),{},{class:o.classes.join(" ")});l&&(c[Js]="");var u=H({},o.styles);Bm(s)&&(u.transform=nz({transform:s,startCentered:!0,width:n,height:i}),u["-webkit-transform"]=u.transform);var h=Uh(u);h.length>0&&(c.style=h);var f=[];return f.push({tag:"span",attributes:c,children:[t]}),r&&f.push({tag:"span",attributes:{class:"sr-only"},children:[r]}),f}function xz(e){var t=e.content,n=e.title,i=e.extra,s=H(H(H({},i.attributes),n?{title:n}:{}),{},{class:i.classes.join(" ")}),r=Uh(i.styles);r.length>0&&(s.style=r);var o=[];return o.push({tag:"span",attributes:s,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var Hf=wn.styles;function vp(e){var t=e[0],n=e[1],i=e.slice(4),s=Om(i,1),r=s[0],o=null;return Array.isArray(r)?o={tag:"g",attributes:{class:"".concat(Q.cssPrefix,"-").concat(ks.GROUP)},children:[{tag:"path",attributes:{class:"".concat(Q.cssPrefix,"-").concat(ks.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(Q.cssPrefix,"-").concat(ks.PRIMARY),fill:"currentColor",d:r[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:t,height:n,icon:o}}var Sz={found:!1,width:512,height:512};function kz(e,t){!V1&&!Q.showMissingIcons&&e&&console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}function bp(e,t){var n=t;return t==="fa"&&Q.styleDefault!==null&&(t=is()),new Promise(function(i,s){if(wi("missingIconAbstract"),n==="fa"){var r=Y1(e)||{};e=r.iconName||e,t=r.prefix||t}if(e&&t&&Hf[t]&&Hf[t][e]){var o=Hf[t][e];return i(vp(o))}kz(e,t),i(H(H({},Sz),{},{icon:Q.showMissingIcons&&e?wi("missingIconAbstract")||{}:{}}))})}var _0=function(){},Ap=Q.measurePerformance&&lc&&lc.mark&&lc.measure?lc:{mark:_0,measure:_0},Wo='FA "6.4.2"',Cz=function(t){return Ap.mark("".concat(Wo," ").concat(t," begins")),function(){return J1(t)}},J1=function(t){Ap.mark("".concat(Wo," ").concat(t," ends")),Ap.measure("".concat(Wo," ").concat(t),"".concat(Wo," ").concat(t," begins"),"".concat(Wo," ").concat(t," ends"))},Hm={begin:Cz,end:J1},Uc=function(){};function y0(e){var t=e.getAttribute?e.getAttribute(Js):null;return typeof t=="string"}function Pz(e){var t=e.getAttribute?e.getAttribute(Nm):null,n=e.getAttribute?e.getAttribute(Lm):null;return t&&n}function Rz(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(Q.replacementClass)}function Mz(){if(Q.autoReplaceSvg===!0)return zc.replace;var e=zc[Q.autoReplaceSvg];return e||zc.replace}function Oz(e){return Ht.createElementNS("http://www.w3.org/2000/svg",e)}function Dz(e){return Ht.createElement(e)}function Z1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.ceFn,i=n===void 0?e.tag==="svg"?Oz:Dz:n;if(typeof e=="string")return Ht.createTextNode(e);var s=i(e.tag);Object.keys(e.attributes||[]).forEach(function(o){s.setAttribute(o,e.attributes[o])});var r=e.children||[];return r.forEach(function(o){s.appendChild(Z1(o,{ceFn:i}))}),s}function Nz(e){var t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}var zc={replace:function(t){var n=t[0];if(n.parentNode)if(t[1].forEach(function(s){n.parentNode.insertBefore(Z1(s),n)}),n.getAttribute(Js)===null&&Q.keepOriginalSource){var i=Ht.createComment(Nz(n));n.parentNode.replaceChild(i,n)}else n.remove()},nest:function(t){var n=t[0],i=t[1];if(~Fm(n).indexOf(Q.replacementClass))return zc.replace(t);var s=new RegExp("".concat(Q.cssPrefix,"-.*"));if(delete i[0].attributes.id,i[0].attributes.class){var r=i[0].attributes.class.split(" ").reduce(function(a,l){return l===Q.replacementClass||l.match(s)?a.toSvg.push(l):a.toNode.push(l),a},{toNode:[],toSvg:[]});i[0].attributes.class=r.toSvg.join(" "),r.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",r.toNode.join(" "))}var o=i.map(function(a){return Pl(a)}).join(`
`);n.setAttribute(Js,""),n.innerHTML=o}};function v0(e){e()}function tx(e,t){var n=typeof t=="function"?t:Uc;if(e.length===0)n();else{var i=v0;Q.mutateApproach===B6&&(i=ns.requestAnimationFrame||v0),i(function(){var s=Mz(),r=Hm.begin("mutate");e.map(s),r(),n()})}}var Wm=!1;function ex(){Wm=!0}function wp(){Wm=!1}var Cu=null;function b0(e){if(c0&&Q.observeMutations){var t=e.treeCallback,n=t===void 0?Uc:t,i=e.nodeCallback,s=i===void 0?Uc:i,r=e.pseudoElementsCallback,o=r===void 0?Uc:r,a=e.observeMutationsRoot,l=a===void 0?Ht:a;Cu=new c0(function(c){if(!Wm){var u=is();yo(c).forEach(function(h){if(h.type==="childList"&&h.addedNodes.length>0&&!y0(h.addedNodes[0])&&(Q.searchPseudoElements&&o(h.target),n(h.target)),h.type==="attributes"&&h.target.parentNode&&Q.searchPseudoElements&&o(h.target.parentNode),h.type==="attributes"&&y0(h.target)&&~q6.indexOf(h.attributeName))if(h.attributeName==="class"&&Pz(h.target)){var f=jh(Fm(h.target)),d=f.prefix,p=f.iconName;h.target.setAttribute(Nm,d||u),p&&h.target.setAttribute(Lm,p)}else Rz(h.target)&&s(h.target)})}}),Ti&&Cu.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function Lz(){Cu&&Cu.disconnect()}function Vz(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce(function(i,s){var r=s.split(":"),o=r[0],a=r.slice(1);return o&&a.length>0&&(i[o]=a.join(":").trim()),i},{})),n}function Fz(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),i=e.innerText!==void 0?e.innerText.trim():"",s=jh(Fm(e));return s.prefix||(s.prefix=is()),t&&n&&(s.prefix=t,s.iconName=n),s.iconName&&s.prefix||(s.prefix&&i.length>0&&(s.iconName=gz(s.prefix,e.innerText)||zm(s.prefix,gp(e.innerText))),!s.iconName&&Q.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=e.firstChild.data)),s}function Bz(e){var t=yo(e.attributes).reduce(function(s,r){return s.name!=="class"&&s.name!=="style"&&(s[r.name]=r.value),s},{}),n=e.getAttribute("title"),i=e.getAttribute("data-fa-title-id");return Q.autoA11y&&(n?t["aria-labelledby"]="".concat(Q.replacementClass,"-title-").concat(i||Ja()):(t["aria-hidden"]="true",t.focusable="false")),t}function Uz(){return{iconName:null,title:null,titleId:null,prefix:null,transform:jn,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function A0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=Fz(e),i=n.iconName,s=n.prefix,r=n.rest,o=Bz(e),a=_p("parseNodeAttributes",{},e),l=t.styleParser?Vz(e):[];return H({iconName:i,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:s,transform:jn,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:r,styles:l,attributes:o}},a)}var zz=wn.styles;function nx(e){var t=Q.autoReplaceSvg==="nest"?A0(e,{styleParser:!1}):A0(e);return~t.extra.classes.indexOf(F1)?wi("generateLayersText",e,t):wi("generateSvgReplacementMutation",e,t)}var ss=new Set;Vm.map(function(e){ss.add("fa-".concat(e))});Object.keys(Ga[Bt]).map(ss.add.bind(ss));Object.keys(Ga[Yt]).map(ss.add.bind(ss));ss=kl(ss);function w0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Ti)return Promise.resolve();var n=Ht.documentElement.classList,i=function(h){return n.add("".concat(u0,"-").concat(h))},s=function(h){return n.remove("".concat(u0,"-").concat(h))},r=Q.autoFetchSvg?ss:Vm.map(function(u){return"fa-".concat(u)}).concat(Object.keys(zz));r.includes("fa")||r.push("fa");var o=[".".concat(F1,":not([").concat(Js,"])")].concat(r.map(function(u){return".".concat(u,":not([").concat(Js,"])")})).join(", ");if(o.length===0)return Promise.resolve();var a=[];try{a=yo(e.querySelectorAll(o))}catch{}if(a.length>0)i("pending"),s("complete");else return Promise.resolve();var l=Hm.begin("onTree"),c=a.reduce(function(u,h){try{var f=nx(h);f&&u.push(f)}catch(d){V1||d.name==="MissingIcon"&&console.error(d)}return u},[]);return new Promise(function(u,h){Promise.all(c).then(function(f){tx(f,function(){i("active"),i("complete"),s("pending"),typeof t=="function"&&t(),l(),u()})}).catch(function(f){l(),h(f)})})}function jz(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;nx(e).then(function(n){n&&tx([n],t)})}function $z(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=(t||{}).icon?t:yp(t||{}),s=n.mask;return s&&(s=(s||{}).icon?s:yp(s||{})),e(i,H(H({},n),{},{mask:s}))}}var Hz=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.transform,s=i===void 0?jn:i,r=n.symbol,o=r===void 0?!1:r,a=n.mask,l=a===void 0?null:a,c=n.maskId,u=c===void 0?null:c,h=n.title,f=h===void 0?null:h,d=n.titleId,p=d===void 0?null:d,g=n.classes,m=g===void 0?[]:g,_=n.attributes,y=_===void 0?{}:_,E=n.styles,A=E===void 0?{}:E;if(t){var w=t.prefix,T=t.iconName,S=t.icon;return $h(H({type:"icon"},t),function(){return Zs("beforeDOMElementCreation",{iconDefinition:t,params:n}),Q.autoA11y&&(f?y["aria-labelledby"]="".concat(Q.replacementClass,"-title-").concat(p||Ja()):(y["aria-hidden"]="true",y.focusable="false")),$m({icons:{main:vp(S),mask:l?vp(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:w,iconName:T,transform:H(H({},jn),s),symbol:o,title:f,maskId:u,titleId:p,extra:{attributes:y,styles:A,classes:m}})})}},Wz={mixout:function(){return{icon:$z(Hz)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=w0,n.nodeCallback=jz,n}}},provides:function(t){t.i2svg=function(n){var i=n.node,s=i===void 0?Ht:i,r=n.callback,o=r===void 0?function(){}:r;return w0(s,o)},t.generateSvgReplacementMutation=function(n,i){var s=i.iconName,r=i.title,o=i.titleId,a=i.prefix,l=i.transform,c=i.symbol,u=i.mask,h=i.maskId,f=i.extra;return new Promise(function(d,p){Promise.all([bp(s,a),u.iconName?bp(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var m=Om(g,2),_=m[0],y=m[1];d([n,$m({icons:{main:_,mask:y},prefix:a,iconName:s,transform:l,symbol:c,maskId:h,title:r,titleId:o,extra:f,watchable:!0})])}).catch(p)})},t.generateAbstractIcon=function(n){var i=n.children,s=n.attributes,r=n.main,o=n.transform,a=n.styles,l=Uh(a);l.length>0&&(s.style=l);var c;return Bm(o)&&(c=wi("generateAbstractTransformGrouping",{main:r,transform:o,containerWidth:r.width,iconWidth:r.width})),i.push(c||r.icon),{children:i,attributes:s}}}},qz={mixout:function(){return{layer:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.classes,r=s===void 0?[]:s;return $h({type:"layer"},function(){Zs("beforeDOMElementCreation",{assembler:n,params:i});var o=[];return n(function(a){Array.isArray(a)?a.map(function(l){o=o.concat(l.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(Q.cssPrefix,"-layers")].concat(kl(r)).join(" ")},children:o}]})}}}},Kz={mixout:function(){return{counter:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.title,r=s===void 0?null:s,o=i.classes,a=o===void 0?[]:o,l=i.attributes,c=l===void 0?{}:l,u=i.styles,h=u===void 0?{}:u;return $h({type:"counter",content:n},function(){return Zs("beforeDOMElementCreation",{content:n,params:i}),xz({content:n.toString(),title:r,extra:{attributes:c,styles:h,classes:["".concat(Q.cssPrefix,"-layers-counter")].concat(kl(a))}})})}}}},Gz={mixout:function(){return{text:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.transform,r=s===void 0?jn:s,o=i.title,a=o===void 0?null:o,l=i.classes,c=l===void 0?[]:l,u=i.attributes,h=u===void 0?{}:u,f=i.styles,d=f===void 0?{}:f;return $h({type:"text",content:n},function(){return Zs("beforeDOMElementCreation",{content:n,params:i}),m0({content:n,transform:H(H({},jn),r),title:a,extra:{attributes:h,styles:d,classes:["".concat(Q.cssPrefix,"-layers-text")].concat(kl(c))}})})}}},provides:function(t){t.generateLayersText=function(n,i){var s=i.title,r=i.transform,o=i.extra,a=null,l=null;if(D1){var c=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();a=u.width/c,l=u.height/c}return Q.autoA11y&&!s&&(o.attributes["aria-hidden"]="true"),Promise.resolve([n,m0({content:n.innerHTML,width:a,height:l,transform:r,title:s,extra:o,watchable:!0})])}}},Qz=new RegExp('"',"ug"),E0=[1105920,1112319];function Yz(e){var t=e.replace(Qz,""),n=cz(t,0),i=n>=E0[0]&&n<=E0[1],s=t.length===2?t[0]===t[1]:!1;return{value:gp(s?t[0]:t),isSecondary:i||s}}function I0(e,t){var n="".concat(F6).concat(t.replace(":","-"));return new Promise(function(i,s){if(e.getAttribute(n)!==null)return i();var r=yo(e.children),o=r.filter(function(S){return S.getAttribute(pp)===t})[0],a=ns.getComputedStyle(e,t),l=a.getPropertyValue("font-family").match($6),c=a.getPropertyValue("font-weight"),u=a.getPropertyValue("content");if(o&&!l)return e.removeChild(o),i();if(l&&u!=="none"&&u!==""){var h=a.getPropertyValue("content"),f=~["Sharp"].indexOf(l[2])?Yt:Bt,d=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(l[2])?Qa[f][l[2].toLowerCase()]:H6[f][c],p=Yz(h),g=p.value,m=p.isSecondary,_=l[0].startsWith("FontAwesome"),y=zm(d,g),E=y;if(_){var A=mz(g);A.iconName&&A.prefix&&(y=A.iconName,d=A.prefix)}if(y&&!m&&(!o||o.getAttribute(Nm)!==d||o.getAttribute(Lm)!==E)){e.setAttribute(n,E),o&&e.removeChild(o);var w=Uz(),T=w.extra;T.attributes[pp]=t,bp(y,d).then(function(S){var x=$m(H(H({},w),{},{icons:{main:S,mask:jm()},prefix:d,iconName:E,extra:T,watchable:!0})),R=Ht.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?e.insertBefore(R,e.firstChild):e.appendChild(R),R.outerHTML=x.map(function(j){return Pl(j)}).join(`
`),e.removeAttribute(n),i()}).catch(s)}else i()}else i()})}function Xz(e){return Promise.all([I0(e,"::before"),I0(e,"::after")])}function Jz(e){return e.parentNode!==document.head&&!~U6.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(pp)&&(!e.parentNode||e.parentNode.tagName!=="svg")}function T0(e){if(Ti)return new Promise(function(t,n){var i=yo(e.querySelectorAll("*")).filter(Jz).map(Xz),s=Hm.begin("searchPseudoElements");ex(),Promise.all(i).then(function(){s(),wp(),t()}).catch(function(){s(),wp(),n()})})}var Zz={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=T0,n}}},provides:function(t){t.pseudoElements2svg=function(n){var i=n.node,s=i===void 0?Ht:i;Q.searchPseudoElements&&T0(s)}}},x0=!1,tj={mixout:function(){return{dom:{unwatch:function(){ex(),x0=!0}}}},hooks:function(){return{bootstrap:function(){b0(_p("mutationObserverCallbacks",{}))},noAuto:function(){Lz()},watch:function(n){var i=n.observeMutationsRoot;x0?wp():b0(_p("mutationObserverCallbacks",{observeMutationsRoot:i}))}}}},S0=function(t){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce(function(i,s){var r=s.toLowerCase().split("-"),o=r[0],a=r.slice(1).join("-");if(o&&a==="h")return i.flipX=!0,i;if(o&&a==="v")return i.flipY=!0,i;if(a=parseFloat(a),isNaN(a))return i;switch(o){case"grow":i.size=i.size+a;break;case"shrink":i.size=i.size-a;break;case"left":i.x=i.x-a;break;case"right":i.x=i.x+a;break;case"up":i.y=i.y-a;break;case"down":i.y=i.y+a;break;case"rotate":i.rotate=i.rotate+a;break}return i},n)},ej={mixout:function(){return{parse:{transform:function(n){return S0(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,i){var s=i.getAttribute("data-fa-transform");return s&&(n.transform=S0(s)),n}}},provides:function(t){t.generateAbstractTransformGrouping=function(n){var i=n.main,s=n.transform,r=n.containerWidth,o=n.iconWidth,a={transform:"translate(".concat(r/2," 256)")},l="translate(".concat(s.x*32,", ").concat(s.y*32,") "),c="scale(".concat(s.size/16*(s.flipX?-1:1),", ").concat(s.size/16*(s.flipY?-1:1),") "),u="rotate(".concat(s.rotate," 0 0)"),h={transform:"".concat(l," ").concat(c," ").concat(u)},f={transform:"translate(".concat(o/2*-1," -256)")},d={outer:a,inner:h,path:f};return{tag:"g",attributes:H({},d.outer),children:[{tag:"g",attributes:H({},d.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:H(H({},i.icon.attributes),d.path)}]}]}}}},Wf={x:0,y:0,width:"100%",height:"100%"};function k0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function nj(e){return e.tag==="g"?e.children:[e]}var ij={hooks:function(){return{parseNodeAttributes:function(n,i){var s=i.getAttribute("data-fa-mask"),r=s?jh(s.split(" ").map(function(o){return o.trim()})):jm();return r.prefix||(r.prefix=is()),n.mask=r,n.maskId=i.getAttribute("data-fa-mask-id"),n}}},provides:function(t){t.generateAbstractMask=function(n){var i=n.children,s=n.attributes,r=n.main,o=n.mask,a=n.maskId,l=n.transform,c=r.width,u=r.icon,h=o.width,f=o.icon,d=ez({transform:l,containerWidth:h,iconWidth:c}),p={tag:"rect",attributes:H(H({},Wf),{},{fill:"white"})},g=u.children?{children:u.children.map(k0)}:{},m={tag:"g",attributes:H({},d.inner),children:[k0(H({tag:u.tag,attributes:H(H({},u.attributes),d.path)},g))]},_={tag:"g",attributes:H({},d.outer),children:[m]},y="mask-".concat(a||Ja()),E="clip-".concat(a||Ja()),A={tag:"mask",attributes:H(H({},Wf),{},{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,_]},w={tag:"defs",children:[{tag:"clipPath",attributes:{id:E},children:nj(f)},A]};return i.push(w,{tag:"rect",attributes:H({fill:"currentColor","clip-path":"url(#".concat(E,")"),mask:"url(#".concat(y,")")},Wf)}),{children:i,attributes:s}}}},sj={provides:function(t){var n=!1;ns.matchMedia&&(n=ns.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){var i=[],s={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};i.push({tag:"path",attributes:H(H({},s),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=H(H({},r),{},{attributeName:"opacity"}),a={tag:"circle",attributes:H(H({},s),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:H(H({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:H(H({},o),{},{values:"1;0;1;1;0;1;"})}),i.push(a),i.push({tag:"path",attributes:H(H({},s),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:H(H({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||i.push({tag:"path",attributes:H(H({},s),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:H(H({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:i}}}},rj={hooks:function(){return{parseNodeAttributes:function(n,i){var s=i.getAttribute("data-fa-symbol"),r=s===null?!1:s===""?!0:s;return n.symbol=r,n}}}},oj=[sz,Wz,qz,Kz,Gz,Zz,tj,ej,ij,sj,rj];vz(oj,{mixoutsTo:on});on.noAuto;on.config;var aj=on.library;on.dom;var Ep=on.parse;on.findIconDefinition;on.toHtml;var lj=on.icon;on.layer;on.text;on.counter;function C0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function ai(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C0(Object(n),!0).forEach(function(i){He(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C0(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Pu(e){"@babel/helpers - typeof";return Pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pu(e)}function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cj(e,t){if(e==null)return{};var n={},i=Object.keys(e),s,r;for(r=0;r<i.length;r++)s=i[r],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function uj(e,t){if(e==null)return{};var n=cj(e,t),i,s;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}var hj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ix={exports:{}};(function(e){(function(t){var n=function(_,y,E){if(!c(y)||h(y)||f(y)||d(y)||l(y))return y;var A,w=0,T=0;if(u(y))for(A=[],T=y.length;w<T;w++)A.push(n(_,y[w],E));else{A={};for(var S in y)Object.prototype.hasOwnProperty.call(y,S)&&(A[_(S,E)]=n(_,y[S],E))}return A},i=function(_,y){y=y||{};var E=y.separator||"_",A=y.split||/(?=[A-Z])/;return _.split(A).join(E)},s=function(_){return p(_)?_:(_=_.replace(/[\-_\s]+(.)?/g,function(y,E){return E?E.toUpperCase():""}),_.substr(0,1).toLowerCase()+_.substr(1))},r=function(_){var y=s(_);return y.substr(0,1).toUpperCase()+y.substr(1)},o=function(_,y){return i(_,y).toLowerCase()},a=Object.prototype.toString,l=function(_){return typeof _=="function"},c=function(_){return _===Object(_)},u=function(_){return a.call(_)=="[object Array]"},h=function(_){return a.call(_)=="[object Date]"},f=function(_){return a.call(_)=="[object RegExp]"},d=function(_){return a.call(_)=="[object Boolean]"},p=function(_){return _=_-0,_===_},g=function(_,y){var E=y&&"process"in y?y.process:y;return typeof E!="function"?_:function(A,w){return E(A,_,w)}},m={camelize:s,decamelize:o,pascalize:r,depascalize:o,camelizeKeys:function(_,y){return n(g(s,y),_)},decamelizeKeys:function(_,y){return n(g(o,y),_,y)},pascalizeKeys:function(_,y){return n(g(r,y),_)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};e.exports?e.exports=m:t.humps=m})(hj)})(ix);var fj=ix.exports,dj=["class","style"];function pj(e){return e.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,n){var i=n.indexOf(":"),s=fj.camelize(n.slice(0,i)),r=n.slice(i+1).trim();return t[s]=r,t},{})}function gj(e){return e.split(/\s+/).reduce(function(t,n){return t[n]=!0,t},{})}function sx(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var i=(e.children||[]).map(function(l){return sx(l)}),s=Object.keys(e.attributes||{}).reduce(function(l,c){var u=e.attributes[c];switch(c){case"class":l.class=gj(u);break;case"style":l.style=pj(u);break;default:l.attrs[c]=u}return l},{attrs:{},class:{},style:{}});n.class;var r=n.style,o=r===void 0?{}:r,a=uj(n,dj);return Qp(e.tag,ai(ai(ai({},t),{},{class:s.class,style:ai(ai({},s.style),o)},s.attrs),a),i)}var rx=!1;try{rx=!0}catch{}function mj(){if(!rx&&console&&typeof console.error=="function"){var e;(e=console).error.apply(e,arguments)}}function qf(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?He({},e,t):{}}function _j(e){var t,n=(t={"fa-spin":e.spin,"fa-pulse":e.pulse,"fa-fw":e.fixedWidth,"fa-border":e.border,"fa-li":e.listItem,"fa-inverse":e.inverse,"fa-flip":e.flip===!0,"fa-flip-horizontal":e.flip==="horizontal"||e.flip==="both","fa-flip-vertical":e.flip==="vertical"||e.flip==="both"},He(t,"fa-".concat(e.size),e.size!==null),He(t,"fa-rotate-".concat(e.rotation),e.rotation!==null),He(t,"fa-pull-".concat(e.pull),e.pull!==null),He(t,"fa-swap-opacity",e.swapOpacity),He(t,"fa-bounce",e.bounce),He(t,"fa-shake",e.shake),He(t,"fa-beat",e.beat),He(t,"fa-fade",e.fade),He(t,"fa-beat-fade",e.beatFade),He(t,"fa-flash",e.flash),He(t,"fa-spin-pulse",e.spinPulse),He(t,"fa-spin-reverse",e.spinReverse),t);return Object.keys(n).map(function(i){return n[i]?i:null}).filter(function(i){return i})}function P0(e){if(e&&Pu(e)==="object"&&e.prefix&&e.iconName&&e.icon)return e;if(Ep.icon)return Ep.icon(e);if(e===null)return null;if(Pu(e)==="object"&&e.prefix&&e.iconName)return e;if(Array.isArray(e)&&e.length===2)return{prefix:e[0],iconName:e[1]};if(typeof e=="string")return{prefix:"fas",iconName:e}}var yj=Up({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:[Boolean,String],default:!1,validator:function(t){return[!0,!1,"horizontal","vertical","both"].indexOf(t)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(t){return["right","left"].indexOf(t)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(t){return[90,180,270].indexOf(Number.parseInt(t,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(t){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(t)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},inverse:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},shake:{type:Boolean,default:!1},beat:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},beatFade:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1}},setup:function(t,n){var i=n.attrs,s=pe(function(){return P0(t.icon)}),r=pe(function(){return qf("classes",_j(t))}),o=pe(function(){return qf("transform",typeof t.transform=="string"?Ep.transform(t.transform):t.transform)}),a=pe(function(){return qf("mask",P0(t.mask))}),l=pe(function(){return lj(s.value,ai(ai(ai(ai({},r.value),o.value),a.value),{},{symbol:t.symbol,title:t.title}))});$n(l,function(u){if(!u)return mj("Could not find one or more icon(s)",s.value,a.value)},{immediate:!0});var c=pe(function(){return l.value?sx(l.value.abstract[0],{},i):null});return function(){return c.value}}}),vj={prefix:"fas",iconName:"eye-slash",icon:[640,512,[],"f070","M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z"]},bj={prefix:"fas",iconName:"chart-simple",icon:[448,512,[],"e473","M160 80c0-26.5 21.5-48 48-48h32c26.5 0 48 21.5 48 48V432c0 26.5-21.5 48-48 48H208c-26.5 0-48-21.5-48-48V80zM0 272c0-26.5 21.5-48 48-48H80c26.5 0 48 21.5 48 48V432c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V272zM368 96h32c26.5 0 48 21.5 48 48V432c0 26.5-21.5 48-48 48H368c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48z"]},Aj={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"]},wj={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},Ej={prefix:"fas",iconName:"dumbbell",icon:[640,512,[],"f44b","M96 64c0-17.7 14.3-32 32-32h32c17.7 0 32 14.3 32 32V224v64V448c0 17.7-14.3 32-32 32H128c-17.7 0-32-14.3-32-32V384H64c-17.7 0-32-14.3-32-32V288c-17.7 0-32-14.3-32-32s14.3-32 32-32V160c0-17.7 14.3-32 32-32H96V64zm448 0v64h32c17.7 0 32 14.3 32 32v64c17.7 0 32 14.3 32 32s-14.3 32-32 32v64c0 17.7-14.3 32-32 32H544v64c0 17.7-14.3 32-32 32H480c-17.7 0-32-14.3-32-32V288 224 64c0-17.7 14.3-32 32-32h32c17.7 0 32 14.3 32 32zM416 224v64H224V224H416z"]},Ij={prefix:"fas",iconName:"circle-plus",icon:[512,512,["plus-circle"],"f055","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344V280H168c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V168c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H280v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]};aj.add(Aj,Ej,bj,Ij,wj,vj);const Hh=Mk(NF);Hh.component("font-awesome-icon",yj);Hh.use(Nk());Hh.use(C1);Hh.mount("#app");
