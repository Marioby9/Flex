var hA=Object.defineProperty;var fA=(e,t,n)=>t in e?hA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var F=(e,t,n)=>(fA(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function Cp(e,t){const n=Object.create(null),i=e.split(",");for(let s=0;s<i.length;s++)n[i[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const Bt={},Ar=[],An=()=>{},dA=()=>!1,pA=/^on[^a-z]/,Vu=e=>pA.test(e),Mp=e=>e.startsWith("onUpdate:"),be=Object.assign,Op=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},gA=Object.prototype.hasOwnProperty,Tt=(e,t)=>gA.call(e,t),it=Array.isArray,Sr=e=>il(e)==="[object Map]",io=e=>il(e)==="[object Set]",e_=e=>il(e)==="[object Date]",_t=e=>typeof e=="function",oe=e=>typeof e=="string",ma=e=>typeof e=="symbol",Ut=e=>e!==null&&typeof e=="object",M0=e=>Ut(e)&&_t(e.then)&&_t(e.catch),O0=Object.prototype.toString,il=e=>O0.call(e),mA=e=>il(e).slice(8,-1),D0=e=>il(e)==="[object Object]",Dp=e=>oe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Tc=Cp(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Fu=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},_A=/-(\w)/g,Jn=Fu(e=>e.replace(_A,(t,n)=>n?n.toUpperCase():"")),yA=/\B([A-Z])/g,so=Fu(e=>e.replace(yA,"-$1").toLowerCase()),Uu=Fu(e=>e.charAt(0).toUpperCase()+e.slice(1)),Xh=Fu(e=>e?`on${Uu(e)}`:""),_a=(e,t)=>!Object.is(e,t),xc=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Gc=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},Yc=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let n_;const td=()=>n_||(n_=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function mi(e){if(it(e)){const t={};for(let n=0;n<e.length;n++){const i=e[n],s=oe(i)?EA(i):mi(i);if(s)for(const r in s)t[r]=s[r]}return t}else{if(oe(e))return e;if(Ut(e))return e}}const vA=/;(?![^(]*\))/g,bA=/:([^]+)/,wA=/\/\*[^]*?\*\//g;function EA(e){const t={};return e.replace(wA,"").split(vA).forEach(n=>{if(n){const i=n.split(bA);i.length>1&&(t[i[0].trim()]=i[1].trim())}}),t}function sl(e){let t="";if(oe(e))t=e;else if(it(e))for(let n=0;n<e.length;n++){const i=sl(e[n]);i&&(t+=i+" ")}else if(Ut(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const IA="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",TA=Cp(IA);function N0(e){return!!e||e===""}function xA(e,t){if(e.length!==t.length)return!1;let n=!0;for(let i=0;n&&i<e.length;i++)n=Hs(e[i],t[i]);return n}function Hs(e,t){if(e===t)return!0;let n=e_(e),i=e_(t);if(n||i)return n&&i?e.getTime()===t.getTime():!1;if(n=ma(e),i=ma(t),n||i)return e===t;if(n=it(e),i=it(t),n||i)return n&&i?xA(e,t):!1;if(n=Ut(e),i=Ut(t),n||i){if(!n||!i)return!1;const s=Object.keys(e).length,r=Object.keys(t).length;if(s!==r)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!Hs(e[o],t[o]))return!1}}return String(e)===String(t)}function Np(e,t){return e.findIndex(n=>Hs(n,t))}const on=e=>oe(e)?e:e==null?"":it(e)||Ut(e)&&(e.toString===O0||!_t(e.toString))?JSON.stringify(e,L0,2):String(e),L0=(e,t)=>t&&t.__v_isRef?L0(e,t.value):Sr(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[i,s])=>(n[`${i} =>`]=s,n),{})}:io(t)?{[`Set(${t.size})`]:[...t.values()]}:Ut(t)&&!it(t)&&!D0(t)?String(t):t;let sn;class V0{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=sn,!t&&sn&&(this.index=(sn.scopes||(sn.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=sn;try{return sn=this,t()}finally{sn=n}}}on(){sn=this}off(){sn=this.parent}stop(t){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function F0(e){return new V0(e)}function AA(e,t=sn){t&&t.active&&t.effects.push(e)}function Lp(){return sn}function U0(e){sn&&sn.cleanups.push(e)}const Vp=e=>{const t=new Set(e);return t.w=0,t.n=0,t},B0=e=>(e.w&es)>0,$0=e=>(e.n&es)>0,SA=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=es},kA=e=>{const{deps:t}=e;if(t.length){let n=0;for(let i=0;i<t.length;i++){const s=t[i];B0(s)&&!$0(s)?s.delete(e):t[n++]=s,s.w&=~es,s.n&=~es}t.length=n}},Xc=new WeakMap;let Co=0,es=1;const ed=30;let En;const Fs=Symbol(""),nd=Symbol("");class Fp{constructor(t,n=null,i){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,AA(this,i)}run(){if(!this.active)return this.fn();let t=En,n=qi;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=En,En=this,qi=!0,es=1<<++Co,Co<=ed?SA(this):i_(this),this.fn()}finally{Co<=ed&&kA(this),es=1<<--Co,En=this.parent,qi=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){En===this?this.deferStop=!0:this.active&&(i_(this),this.onStop&&this.onStop(),this.active=!1)}}function i_(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let qi=!0;const z0=[];function ro(){z0.push(qi),qi=!1}function oo(){const e=z0.pop();qi=e===void 0?!0:e}function tn(e,t,n){if(qi&&En){let i=Xc.get(e);i||Xc.set(e,i=new Map);let s=i.get(n);s||i.set(n,s=Vp()),j0(s)}}function j0(e,t){let n=!1;Co<=ed?$0(e)||(e.n|=es,n=!B0(e)):n=!e.has(En),n&&(e.add(En),En.deps.push(e))}function _i(e,t,n,i,s,r){const o=Xc.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&it(e)){const l=Number(i);o.forEach((c,u)=>{(u==="length"||u>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),t){case"add":it(e)?Dp(n)&&a.push(o.get("length")):(a.push(o.get(Fs)),Sr(e)&&a.push(o.get(nd)));break;case"delete":it(e)||(a.push(o.get(Fs)),Sr(e)&&a.push(o.get(nd)));break;case"set":Sr(e)&&a.push(o.get(Fs));break}if(a.length===1)a[0]&&id(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);id(Vp(l))}}function id(e,t){const n=it(e)?e:[...e];for(const i of n)i.computed&&s_(i);for(const i of n)i.computed||s_(i)}function s_(e,t){(e!==En||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function PA(e,t){var n;return(n=Xc.get(e))==null?void 0:n.get(t)}const RA=Cp("__proto__,__v_isRef,__isVue"),H0=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ma)),CA=Up(),MA=Up(!1,!0),OA=Up(!0),r_=DA();function DA(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const i=At(this);for(let r=0,o=this.length;r<o;r++)tn(i,"get",r+"");const s=i[t](...n);return s===-1||s===!1?i[t](...n.map(At)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){ro();const i=At(this)[t].apply(this,n);return oo(),i}}),e}function NA(e){const t=At(this);return tn(t,"has",e),t.hasOwnProperty(e)}function Up(e=!1,t=!1){return function(i,s,r){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&r===(e?t?QA:Y0:t?G0:K0).get(i))return i;const o=it(i);if(!e){if(o&&Tt(r_,s))return Reflect.get(r_,s,r);if(s==="hasOwnProperty")return NA}const a=Reflect.get(i,s,r);return(ma(s)?H0.has(s):RA(s))||(e||tn(i,"get",s),t)?a:re(a)?o&&Dp(s)?a:a.value:Ut(a)?e?Q0(a):rl(a):a}}const LA=W0(),VA=W0(!0);function W0(e=!1){return function(n,i,s,r){let o=n[i];if(Vr(o)&&re(o)&&!re(s))return!1;if(!e&&(!Qc(s)&&!Vr(s)&&(o=At(o),s=At(s)),!it(n)&&re(o)&&!re(s)))return o.value=s,!0;const a=it(n)&&Dp(i)?Number(i)<n.length:Tt(n,i),l=Reflect.set(n,i,s,r);return n===At(r)&&(a?_a(s,o)&&_i(n,"set",i,s):_i(n,"add",i,s)),l}}function FA(e,t){const n=Tt(e,t);e[t];const i=Reflect.deleteProperty(e,t);return i&&n&&_i(e,"delete",t,void 0),i}function UA(e,t){const n=Reflect.has(e,t);return(!ma(t)||!H0.has(t))&&tn(e,"has",t),n}function BA(e){return tn(e,"iterate",it(e)?"length":Fs),Reflect.ownKeys(e)}const q0={get:CA,set:LA,deleteProperty:FA,has:UA,ownKeys:BA},$A={get:OA,set(e,t){return!0},deleteProperty(e,t){return!0}},zA=be({},q0,{get:MA,set:VA}),Bp=e=>e,Bu=e=>Reflect.getPrototypeOf(e);function Vl(e,t,n=!1,i=!1){e=e.__v_raw;const s=At(e),r=At(t);n||(t!==r&&tn(s,"get",t),tn(s,"get",r));const{has:o}=Bu(s),a=i?Bp:n?jp:ya;if(o.call(s,t))return a(e.get(t));if(o.call(s,r))return a(e.get(r));e!==s&&e.get(t)}function Fl(e,t=!1){const n=this.__v_raw,i=At(n),s=At(e);return t||(e!==s&&tn(i,"has",e),tn(i,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function Ul(e,t=!1){return e=e.__v_raw,!t&&tn(At(e),"iterate",Fs),Reflect.get(e,"size",e)}function o_(e){e=At(e);const t=At(this);return Bu(t).has.call(t,e)||(t.add(e),_i(t,"add",e,e)),this}function a_(e,t){t=At(t);const n=At(this),{has:i,get:s}=Bu(n);let r=i.call(n,e);r||(e=At(e),r=i.call(n,e));const o=s.call(n,e);return n.set(e,t),r?_a(t,o)&&_i(n,"set",e,t):_i(n,"add",e,t),this}function l_(e){const t=At(this),{has:n,get:i}=Bu(t);let s=n.call(t,e);s||(e=At(e),s=n.call(t,e)),i&&i.call(t,e);const r=t.delete(e);return s&&_i(t,"delete",e,void 0),r}function c_(){const e=At(this),t=e.size!==0,n=e.clear();return t&&_i(e,"clear",void 0,void 0),n}function Bl(e,t){return function(i,s){const r=this,o=r.__v_raw,a=At(o),l=t?Bp:e?jp:ya;return!e&&tn(a,"iterate",Fs),o.forEach((c,u)=>i.call(s,l(c),l(u),r))}}function $l(e,t,n){return function(...i){const s=this.__v_raw,r=At(s),o=Sr(r),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=s[e](...i),u=n?Bp:t?jp:ya;return!t&&tn(r,"iterate",l?nd:Fs),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function Ci(e){return function(...t){return e==="delete"?!1:this}}function jA(){const e={get(r){return Vl(this,r)},get size(){return Ul(this)},has:Fl,add:o_,set:a_,delete:l_,clear:c_,forEach:Bl(!1,!1)},t={get(r){return Vl(this,r,!1,!0)},get size(){return Ul(this)},has:Fl,add:o_,set:a_,delete:l_,clear:c_,forEach:Bl(!1,!0)},n={get(r){return Vl(this,r,!0)},get size(){return Ul(this,!0)},has(r){return Fl.call(this,r,!0)},add:Ci("add"),set:Ci("set"),delete:Ci("delete"),clear:Ci("clear"),forEach:Bl(!0,!1)},i={get(r){return Vl(this,r,!0,!0)},get size(){return Ul(this,!0)},has(r){return Fl.call(this,r,!0)},add:Ci("add"),set:Ci("set"),delete:Ci("delete"),clear:Ci("clear"),forEach:Bl(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=$l(r,!1,!1),n[r]=$l(r,!0,!1),t[r]=$l(r,!1,!0),i[r]=$l(r,!0,!0)}),[e,n,t,i]}const[HA,WA,qA,KA]=jA();function $p(e,t){const n=t?e?KA:qA:e?WA:HA;return(i,s,r)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?i:Reflect.get(Tt(n,s)&&s in i?n:i,s,r)}const GA={get:$p(!1,!1)},YA={get:$p(!1,!0)},XA={get:$p(!0,!1)},K0=new WeakMap,G0=new WeakMap,Y0=new WeakMap,QA=new WeakMap;function JA(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ZA(e){return e.__v_skip||!Object.isExtensible(e)?0:JA(mA(e))}function rl(e){return Vr(e)?e:zp(e,!1,q0,GA,K0)}function X0(e){return zp(e,!1,zA,YA,G0)}function Q0(e){return zp(e,!0,$A,XA,Y0)}function zp(e,t,n,i,s){if(!Ut(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=s.get(e);if(r)return r;const o=ZA(e);if(o===0)return e;const a=new Proxy(e,o===2?i:n);return s.set(e,a),a}function Ki(e){return Vr(e)?Ki(e.__v_raw):!!(e&&e.__v_isReactive)}function Vr(e){return!!(e&&e.__v_isReadonly)}function Qc(e){return!!(e&&e.__v_isShallow)}function J0(e){return Ki(e)||Vr(e)}function At(e){const t=e&&e.__v_raw;return t?At(t):e}function $u(e){return Gc(e,"__v_skip",!0),e}const ya=e=>Ut(e)?rl(e):e,jp=e=>Ut(e)?Q0(e):e;function Z0(e){qi&&En&&(e=At(e),j0(e.dep||(e.dep=Vp())))}function tw(e,t){e=At(e);const n=e.dep;n&&id(n)}function re(e){return!!(e&&e.__v_isRef===!0)}function lt(e){return ew(e,!1)}function tS(e){return ew(e,!0)}function ew(e,t){return re(e)?e:new eS(e,t)}class eS{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:At(t),this._value=n?t:ya(t)}get value(){return Z0(this),this._value}set value(t){const n=this.__v_isShallow||Qc(t)||Vr(t);t=n?t:At(t),_a(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:ya(t),tw(this))}}function Rt(e){return re(e)?e.value:e}const nS={get:(e,t,n)=>Rt(Reflect.get(e,t,n)),set:(e,t,n,i)=>{const s=e[t];return re(s)&&!re(n)?(s.value=n,!0):Reflect.set(e,t,n,i)}};function nw(e){return Ki(e)?e:new Proxy(e,nS)}function iS(e){const t=it(e)?new Array(e.length):{};for(const n in e)t[n]=rS(e,n);return t}class sS{constructor(t,n,i){this._object=t,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return PA(At(this._object),this._key)}}function rS(e,t,n){const i=e[t];return re(i)?i:new sS(e,t,n)}class oS{constructor(t,n,i,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Fp(t,()=>{this._dirty||(this._dirty=!0,tw(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=i}get value(){const t=At(this);return Z0(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function aS(e,t,n=!1){let i,s;const r=_t(e);return r?(i=e,s=An):(i=e.get,s=e.set),new oS(i,s,r||!s,n)}function Gi(e,t,n,i){let s;try{s=i?e(...i):e()}catch(r){zu(r,t,n)}return s}function Sn(e,t,n,i){if(_t(e)){const r=Gi(e,t,n,i);return r&&M0(r)&&r.catch(o=>{zu(o,t,n)}),r}const s=[];for(let r=0;r<e.length;r++)s.push(Sn(e[r],t,n,i));return s}function zu(e,t,n,i=!0){const s=t?t.vnode:null;if(t){let r=t.parent;const o=t.proxy,a=n;for(;r;){const c=r.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](e,o,a)===!1)return}r=r.parent}const l=t.appContext.config.errorHandler;if(l){Gi(l,null,10,[e,o,a]);return}}lS(e,n,s,i)}function lS(e,t,n,i=!0){console.error(e)}let va=!1,sd=!1;const Me=[];let $n=0;const kr=[];let ri=null,As=0;const iw=Promise.resolve();let Hp=null;function Wp(e){const t=Hp||iw;return e?t.then(this?e.bind(this):e):t}function cS(e){let t=$n+1,n=Me.length;for(;t<n;){const i=t+n>>>1;ba(Me[i])<e?t=i+1:n=i}return t}function qp(e){(!Me.length||!Me.includes(e,va&&e.allowRecurse?$n+1:$n))&&(e.id==null?Me.push(e):Me.splice(cS(e.id),0,e),sw())}function sw(){!va&&!sd&&(sd=!0,Hp=iw.then(ow))}function uS(e){const t=Me.indexOf(e);t>$n&&Me.splice(t,1)}function hS(e){it(e)?kr.push(...e):(!ri||!ri.includes(e,e.allowRecurse?As+1:As))&&kr.push(e),sw()}function u_(e,t=va?$n+1:0){for(;t<Me.length;t++){const n=Me[t];n&&n.pre&&(Me.splice(t,1),t--,n())}}function rw(e){if(kr.length){const t=[...new Set(kr)];if(kr.length=0,ri){ri.push(...t);return}for(ri=t,ri.sort((n,i)=>ba(n)-ba(i)),As=0;As<ri.length;As++)ri[As]();ri=null,As=0}}const ba=e=>e.id==null?1/0:e.id,fS=(e,t)=>{const n=ba(e)-ba(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function ow(e){sd=!1,va=!0,Me.sort(fS);const t=An;try{for($n=0;$n<Me.length;$n++){const n=Me[$n];n&&n.active!==!1&&Gi(n,null,14)}}finally{$n=0,Me.length=0,rw(),va=!1,Hp=null,(Me.length||kr.length)&&ow()}}function dS(e,t,...n){if(e.isUnmounted)return;const i=e.vnode.props||Bt;let s=n;const r=t.startsWith("update:"),o=r&&t.slice(7);if(o&&o in i){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:f}=i[u]||Bt;f&&(s=n.map(d=>oe(d)?d.trim():d)),h&&(s=n.map(Yc))}let a,l=i[a=Xh(t)]||i[a=Xh(Jn(t))];!l&&r&&(l=i[a=Xh(so(t))]),l&&Sn(l,e,6,s);const c=i[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Sn(c,e,6,s)}}function aw(e,t,n=!1){const i=t.emitsCache,s=i.get(e);if(s!==void 0)return s;const r=e.emits;let o={},a=!1;if(!_t(e)){const l=c=>{const u=aw(c,t,!0);u&&(a=!0,be(o,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!r&&!a?(Ut(e)&&i.set(e,null),null):(it(r)?r.forEach(l=>o[l]=null):be(o,r),Ut(e)&&i.set(e,o),o)}function ju(e,t){return!e||!Vu(t)?!1:(t=t.slice(2).replace(/Once$/,""),Tt(e,t[0].toLowerCase()+t.slice(1))||Tt(e,so(t))||Tt(e,t))}let an=null,Hu=null;function Jc(e){const t=an;return an=e,Hu=e&&e.type.__scopeId||null,t}function rr(e){Hu=e}function or(){Hu=null}function Ws(e,t=an,n){if(!t||e._n)return e;const i=(...s)=>{i._d&&E_(-1);const r=Jc(t);let o;try{o=e(...s)}finally{Jc(r),i._d&&E_(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function Qh(e){const{type:t,vnode:n,proxy:i,withProxy:s,props:r,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:h,data:f,setupState:d,ctx:p,inheritAttrs:g}=e;let m,_;const y=Jc(e);try{if(n.shapeFlag&4){const E=s||i;m=Bn(u.call(E,E,h,r,d,f,p)),_=l}else{const E=t;m=Bn(E.length>1?E(r,{attrs:l,slots:a,emit:c}):E(r,null)),_=t.props?l:pS(l)}}catch(E){Qo.length=0,zu(E,e,1),m=kt(qs)}let w=m;if(_&&g!==!1){const E=Object.keys(_),{shapeFlag:I}=w;E.length&&I&7&&(o&&E.some(Mp)&&(_=gS(_,o)),w=Fr(w,_))}return n.dirs&&(w=Fr(w),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&(w.transition=n.transition),m=w,Jc(y),m}const pS=e=>{let t;for(const n in e)(n==="class"||n==="style"||Vu(n))&&((t||(t={}))[n]=e[n]);return t},gS=(e,t)=>{const n={};for(const i in e)(!Mp(i)||!(i.slice(9)in t))&&(n[i]=e[i]);return n};function mS(e,t,n){const{props:i,children:s,component:r}=e,{props:o,children:a,patchFlag:l}=t,c=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return i?h_(i,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==i[f]&&!ju(c,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?h_(i,o,c):!0:!!o;return!1}function h_(e,t,n){const i=Object.keys(t);if(i.length!==Object.keys(e).length)return!0;for(let s=0;s<i.length;s++){const r=i[s];if(t[r]!==e[r]&&!ju(n,r))return!0}return!1}function _S({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const yS=e=>e.__isSuspense;function vS(e,t){t&&t.pendingBranch?it(e)?t.effects.push(...e):t.effects.push(e):hS(e)}const zl={};function Kn(e,t,n){return lw(e,t,n)}function lw(e,t,{immediate:n,deep:i,flush:s,onTrack:r,onTrigger:o}=Bt){var a;const l=Lp()===((a=_e)==null?void 0:a.scope)?_e:null;let c,u=!1,h=!1;if(re(e)?(c=()=>e.value,u=Qc(e)):Ki(e)?(c=()=>e,i=!0):it(e)?(h=!0,u=e.some(E=>Ki(E)||Qc(E)),c=()=>e.map(E=>{if(re(E))return E.value;if(Ki(E))return ks(E);if(_t(E))return Gi(E,l,2)})):_t(e)?t?c=()=>Gi(e,l,2):c=()=>{if(!(l&&l.isUnmounted))return f&&f(),Sn(e,l,3,[d])}:c=An,t&&i){const E=c;c=()=>ks(E())}let f,d=E=>{f=y.onStop=()=>{Gi(E,l,4)}},p;if(Ia)if(d=An,t?n&&Sn(t,l,3,[c(),h?[]:void 0,d]):c(),s==="sync"){const E=dk();p=E.__watcherHandles||(E.__watcherHandles=[])}else return An;let g=h?new Array(e.length).fill(zl):zl;const m=()=>{if(y.active)if(t){const E=y.run();(i||u||(h?E.some((I,x)=>_a(I,g[x])):_a(E,g)))&&(f&&f(),Sn(t,l,3,[E,g===zl?void 0:h&&g[0]===zl?[]:g,d]),g=E)}else y.run()};m.allowRecurse=!!t;let _;s==="sync"?_=m:s==="post"?_=()=>Ye(m,l&&l.suspense):(m.pre=!0,l&&(m.id=l.uid),_=()=>qp(m));const y=new Fp(c,_);t?n?m():g=y.run():s==="post"?Ye(y.run.bind(y),l&&l.suspense):y.run();const w=()=>{y.stop(),l&&l.scope&&Op(l.scope.effects,y)};return p&&p.push(w),w}function bS(e,t,n){const i=this.proxy,s=oe(e)?e.includes(".")?cw(i,e):()=>i[e]:e.bind(i,i);let r;_t(t)?r=t:(r=t.handler,n=t);const o=_e;Ur(this);const a=lw(s,r.bind(i),n);return o?Ur(o):Us(),a}function cw(e,t){const n=t.split(".");return()=>{let i=e;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}function ks(e,t){if(!Ut(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),re(e))ks(e.value,t);else if(it(e))for(let n=0;n<e.length;n++)ks(e[n],t);else if(io(e)||Sr(e))e.forEach(n=>{ks(n,t)});else if(D0(e))for(const n in e)ks(e[n],t);return e}function ge(e,t){const n=an;if(n===null)return e;const i=Gu(n)||n.proxy,s=e.dirs||(e.dirs=[]);for(let r=0;r<t.length;r++){let[o,a,l,c=Bt]=t[r];o&&(_t(o)&&(o={mounted:o,updated:o}),o.deep&&ks(a),s.push({dir:o,instance:i,value:a,oldValue:void 0,arg:l,modifiers:c}))}return e}function _s(e,t,n,i){const s=e.dirs,r=t&&t.dirs;for(let o=0;o<s.length;o++){const a=s[o];r&&(a.oldValue=r[o].value);let l=a.dir[i];l&&(ro(),Sn(l,n,8,[e.el,a,e,t]),oo())}}function Kp(e,t){return _t(e)?(()=>be({name:e.name},t,{setup:e}))():e}const Ac=e=>!!e.type.__asyncLoader,uw=e=>e.type.__isKeepAlive;function wS(e,t){hw(e,"a",t)}function ES(e,t){hw(e,"da",t)}function hw(e,t,n=_e){const i=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(Wu(t,i,n),n){let s=n.parent;for(;s&&s.parent;)uw(s.parent.vnode)&&IS(i,t,n,s),s=s.parent}}function IS(e,t,n,i){const s=Wu(t,e,i,!0);fw(()=>{Op(i[t],s)},n)}function Wu(e,t,n=_e,i=!1){if(n){const s=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;ro(),Ur(n);const a=Sn(t,n,e,o);return Us(),oo(),a});return i?s.unshift(r):s.push(r),r}}const Ai=e=>(t,n=_e)=>(!Ia||e==="sp")&&Wu(e,(...i)=>t(...i),n),TS=Ai("bm"),Gp=Ai("m"),xS=Ai("bu"),AS=Ai("u"),SS=Ai("bum"),fw=Ai("um"),kS=Ai("sp"),PS=Ai("rtg"),RS=Ai("rtc");function CS(e,t=_e){Wu("ec",e,t)}const Yp="components";function ao(e,t){return pw(Yp,e,!0,t)||e}const dw=Symbol.for("v-ndc");function MS(e){return oe(e)?pw(Yp,e,!1)||e:e||dw}function pw(e,t,n=!0,i=!1){const s=an||_e;if(s){const r=s.type;if(e===Yp){const a=uk(r,!1);if(a&&(a===t||a===Jn(t)||a===Uu(Jn(t))))return r}const o=f_(s[e]||r[e],t)||f_(s.appContext[e],t);return!o&&i?r:o}}function f_(e,t){return e&&(e[t]||e[Jn(t)]||e[Uu(Jn(t))])}function Mo(e,t,n,i){let s;const r=n&&n[i];if(it(e)||oe(e)){s=new Array(e.length);for(let o=0,a=e.length;o<a;o++)s[o]=t(e[o],o,void 0,r&&r[o])}else if(typeof e=="number"){s=new Array(e);for(let o=0;o<e;o++)s[o]=t(o+1,o,void 0,r&&r[o])}else if(Ut(e))if(e[Symbol.iterator])s=Array.from(e,(o,a)=>t(o,a,void 0,r&&r[a]));else{const o=Object.keys(e);s=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const c=o[a];s[a]=t(e[c],c,a,r&&r[a])}}else s=[];return n&&(n[i]=s),s}const rd=e=>e?xw(e)?Gu(e)||e.proxy:rd(e.parent):null,Yo=be(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>rd(e.parent),$root:e=>rd(e.root),$emit:e=>e.emit,$options:e=>Xp(e),$forceUpdate:e=>e.f||(e.f=()=>qp(e.update)),$nextTick:e=>e.n||(e.n=Wp.bind(e.proxy)),$watch:e=>bS.bind(e)}),Jh=(e,t)=>e!==Bt&&!e.__isScriptSetup&&Tt(e,t),OS={get({_:e},t){const{ctx:n,setupState:i,data:s,props:r,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const d=o[t];if(d!==void 0)switch(d){case 1:return i[t];case 2:return s[t];case 4:return n[t];case 3:return r[t]}else{if(Jh(i,t))return o[t]=1,i[t];if(s!==Bt&&Tt(s,t))return o[t]=2,s[t];if((c=e.propsOptions[0])&&Tt(c,t))return o[t]=3,r[t];if(n!==Bt&&Tt(n,t))return o[t]=4,n[t];od&&(o[t]=0)}}const u=Yo[t];let h,f;if(u)return t==="$attrs"&&tn(e,"get",t),u(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(n!==Bt&&Tt(n,t))return o[t]=4,n[t];if(f=l.config.globalProperties,Tt(f,t))return f[t]},set({_:e},t,n){const{data:i,setupState:s,ctx:r}=e;return Jh(s,t)?(s[t]=n,!0):i!==Bt&&Tt(i,t)?(i[t]=n,!0):Tt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:i,appContext:s,propsOptions:r}},o){let a;return!!n[o]||e!==Bt&&Tt(e,o)||Jh(t,o)||(a=r[0])&&Tt(a,o)||Tt(i,o)||Tt(Yo,o)||Tt(s.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Tt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function d_(e){return it(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let od=!0;function DS(e){const t=Xp(e),n=e.proxy,i=e.ctx;od=!1,t.beforeCreate&&p_(t.beforeCreate,e,"bc");const{data:s,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:d,updated:p,activated:g,deactivated:m,beforeDestroy:_,beforeUnmount:y,destroyed:w,unmounted:E,render:I,renderTracked:x,renderTriggered:k,errorCaptured:S,serverPrefetch:C,expose:$,inheritAttrs:U,components:H,directives:Et,filters:st}=t;if(c&&NS(c,i,null),o)for(const rt in o){const dt=o[rt];_t(dt)&&(i[rt]=dt.bind(n))}if(s){const rt=s.call(n,n);Ut(rt)&&(e.data=rl(rt))}if(od=!0,r)for(const rt in r){const dt=r[rt],Lt=_t(dt)?dt.bind(n,n):_t(dt.get)?dt.get.bind(n,n):An,ze=!_t(dt)&&_t(dt.set)?dt.set.bind(n):An,je=me({get:Lt,set:ze});Object.defineProperty(i,rt,{enumerable:!0,configurable:!0,get:()=>je.value,set:se=>je.value=se})}if(a)for(const rt in a)gw(a[rt],i,n,rt);if(l){const rt=_t(l)?l.call(n):l;Reflect.ownKeys(rt).forEach(dt=>{Sc(dt,rt[dt])})}u&&p_(u,e,"c");function J(rt,dt){it(dt)?dt.forEach(Lt=>rt(Lt.bind(n))):dt&&rt(dt.bind(n))}if(J(TS,h),J(Gp,f),J(xS,d),J(AS,p),J(wS,g),J(ES,m),J(CS,S),J(RS,x),J(PS,k),J(SS,y),J(fw,E),J(kS,C),it($))if($.length){const rt=e.exposed||(e.exposed={});$.forEach(dt=>{Object.defineProperty(rt,dt,{get:()=>n[dt],set:Lt=>n[dt]=Lt})})}else e.exposed||(e.exposed={});I&&e.render===An&&(e.render=I),U!=null&&(e.inheritAttrs=U),H&&(e.components=H),Et&&(e.directives=Et)}function NS(e,t,n=An){it(e)&&(e=ad(e));for(const i in e){const s=e[i];let r;Ut(s)?"default"in s?r=mn(s.from||i,s.default,!0):r=mn(s.from||i):r=mn(s),re(r)?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[i]=r}}function p_(e,t,n){Sn(it(e)?e.map(i=>i.bind(t.proxy)):e.bind(t.proxy),t,n)}function gw(e,t,n,i){const s=i.includes(".")?cw(n,i):()=>n[i];if(oe(e)){const r=t[e];_t(r)&&Kn(s,r)}else if(_t(e))Kn(s,e.bind(n));else if(Ut(e))if(it(e))e.forEach(r=>gw(r,t,n,i));else{const r=_t(e.handler)?e.handler.bind(n):t[e.handler];_t(r)&&Kn(s,r,e)}}function Xp(e){const t=e.type,{mixins:n,extends:i}=t,{mixins:s,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,a=r.get(t);let l;return a?l=a:!s.length&&!n&&!i?l=t:(l={},s.length&&s.forEach(c=>Zc(l,c,o,!0)),Zc(l,t,o)),Ut(t)&&r.set(t,l),l}function Zc(e,t,n,i=!1){const{mixins:s,extends:r}=t;r&&Zc(e,r,n,!0),s&&s.forEach(o=>Zc(e,o,n,!0));for(const o in t)if(!(i&&o==="expose")){const a=LS[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const LS={data:g_,props:m_,emits:m_,methods:Oo,computed:Oo,beforeCreate:He,created:He,beforeMount:He,mounted:He,beforeUpdate:He,updated:He,beforeDestroy:He,beforeUnmount:He,destroyed:He,unmounted:He,activated:He,deactivated:He,errorCaptured:He,serverPrefetch:He,components:Oo,directives:Oo,watch:FS,provide:g_,inject:VS};function g_(e,t){return t?e?function(){return be(_t(e)?e.call(this,this):e,_t(t)?t.call(this,this):t)}:t:e}function VS(e,t){return Oo(ad(e),ad(t))}function ad(e){if(it(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function He(e,t){return e?[...new Set([].concat(e,t))]:t}function Oo(e,t){return e?be(Object.create(null),e,t):t}function m_(e,t){return e?it(e)&&it(t)?[...new Set([...e,...t])]:be(Object.create(null),d_(e),d_(t??{})):t}function FS(e,t){if(!e)return t;if(!t)return e;const n=be(Object.create(null),e);for(const i in t)n[i]=He(e[i],t[i]);return n}function mw(){return{app:null,config:{isNativeTag:dA,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let US=0;function BS(e,t){return function(i,s=null){_t(i)||(i=be({},i)),s!=null&&!Ut(s)&&(s=null);const r=mw(),o=new Set;let a=!1;const l=r.app={_uid:US++,_component:i,_props:s,_container:null,_context:r,_instance:null,version:pk,get config(){return r.config},set config(c){},use(c,...u){return o.has(c)||(c&&_t(c.install)?(o.add(c),c.install(l,...u)):_t(c)&&(o.add(c),c(l,...u))),l},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),l},component(c,u){return u?(r.components[c]=u,l):r.components[c]},directive(c,u){return u?(r.directives[c]=u,l):r.directives[c]},mount(c,u,h){if(!a){const f=kt(i,s);return f.appContext=r,u&&t?t(f,c):e(f,c,h),a=!0,l._container=c,c.__vue_app__=l,Gu(f.component)||f.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(c,u){return r.provides[c]=u,l},runWithContext(c){wa=l;try{return c()}finally{wa=null}}};return l}}let wa=null;function Sc(e,t){if(_e){let n=_e.provides;const i=_e.parent&&_e.parent.provides;i===n&&(n=_e.provides=Object.create(i)),n[e]=t}}function mn(e,t,n=!1){const i=_e||an;if(i||wa){const s=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:wa._context.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&_t(t)?t.call(i&&i.proxy):t}}function $S(){return!!(_e||an||wa)}function zS(e,t,n,i=!1){const s={},r={};Gc(r,Ku,1),e.propsDefaults=Object.create(null),_w(e,t,s,r);for(const o in e.propsOptions[0])o in s||(s[o]=void 0);n?e.props=i?s:X0(s):e.type.props?e.props=s:e.props=r,e.attrs=r}function jS(e,t,n,i){const{props:s,attrs:r,vnode:{patchFlag:o}}=e,a=At(s),[l]=e.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(ju(e.emitsOptions,f))continue;const d=t[f];if(l)if(Tt(r,f))d!==r[f]&&(r[f]=d,c=!0);else{const p=Jn(f);s[p]=ld(l,a,p,d,e,!1)}else d!==r[f]&&(r[f]=d,c=!0)}}}else{_w(e,t,s,r)&&(c=!0);let u;for(const h in a)(!t||!Tt(t,h)&&((u=so(h))===h||!Tt(t,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(s[h]=ld(l,a,h,void 0,e,!0)):delete s[h]);if(r!==a)for(const h in r)(!t||!Tt(t,h))&&(delete r[h],c=!0)}c&&_i(e,"set","$attrs")}function _w(e,t,n,i){const[s,r]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Tc(l))continue;const c=t[l];let u;s&&Tt(s,u=Jn(l))?!r||!r.includes(u)?n[u]=c:(a||(a={}))[u]=c:ju(e.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(r){const l=At(n),c=a||Bt;for(let u=0;u<r.length;u++){const h=r[u];n[h]=ld(s,l,h,c[h],e,!Tt(c,h))}}return o}function ld(e,t,n,i,s,r){const o=e[n];if(o!=null){const a=Tt(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&_t(l)){const{propsDefaults:c}=s;n in c?i=c[n]:(Ur(s),i=c[n]=l.call(null,t),Us())}else i=l}o[0]&&(r&&!a?i=!1:o[1]&&(i===""||i===so(n))&&(i=!0))}return i}function yw(e,t,n=!1){const i=t.propsCache,s=i.get(e);if(s)return s;const r=e.props,o={},a=[];let l=!1;if(!_t(e)){const u=h=>{l=!0;const[f,d]=yw(h,t,!0);be(o,f),d&&a.push(...d)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!r&&!l)return Ut(e)&&i.set(e,Ar),Ar;if(it(r))for(let u=0;u<r.length;u++){const h=Jn(r[u]);__(h)&&(o[h]=Bt)}else if(r)for(const u in r){const h=Jn(u);if(__(h)){const f=r[u],d=o[h]=it(f)||_t(f)?{type:f}:be({},f);if(d){const p=b_(Boolean,d.type),g=b_(String,d.type);d[0]=p>-1,d[1]=g<0||p<g,(p>-1||Tt(d,"default"))&&a.push(h)}}}const c=[o,a];return Ut(e)&&i.set(e,c),c}function __(e){return e[0]!=="$"}function y_(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function v_(e,t){return y_(e)===y_(t)}function b_(e,t){return it(t)?t.findIndex(n=>v_(n,e)):_t(t)&&v_(t,e)?0:-1}const vw=e=>e[0]==="_"||e==="$stable",Qp=e=>it(e)?e.map(Bn):[Bn(e)],HS=(e,t,n)=>{if(t._n)return t;const i=Ws((...s)=>Qp(t(...s)),n);return i._c=!1,i},bw=(e,t,n)=>{const i=e._ctx;for(const s in e){if(vw(s))continue;const r=e[s];if(_t(r))t[s]=HS(s,r,i);else if(r!=null){const o=Qp(r);t[s]=()=>o}}},ww=(e,t)=>{const n=Qp(t);e.slots.default=()=>n},WS=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=At(t),Gc(t,"_",n)):bw(t,e.slots={})}else e.slots={},t&&ww(e,t);Gc(e.slots,Ku,1)},qS=(e,t,n)=>{const{vnode:i,slots:s}=e;let r=!0,o=Bt;if(i.shapeFlag&32){const a=t._;a?n&&a===1?r=!1:(be(s,t),!n&&a===1&&delete s._):(r=!t.$stable,bw(t,s)),o=t}else t&&(ww(e,t),o={default:1});if(r)for(const a in s)!vw(a)&&!(a in o)&&delete s[a]};function cd(e,t,n,i,s=!1){if(it(e)){e.forEach((f,d)=>cd(f,t&&(it(t)?t[d]:t),n,i,s));return}if(Ac(i)&&!s)return;const r=i.shapeFlag&4?Gu(i.component)||i.component.proxy:i.el,o=s?null:r,{i:a,r:l}=e,c=t&&t.r,u=a.refs===Bt?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==l&&(oe(c)?(u[c]=null,Tt(h,c)&&(h[c]=null)):re(c)&&(c.value=null)),_t(l))Gi(l,a,12,[o,u]);else{const f=oe(l),d=re(l);if(f||d){const p=()=>{if(e.f){const g=f?Tt(h,l)?h[l]:u[l]:l.value;s?it(g)&&Op(g,r):it(g)?g.includes(r)||g.push(r):f?(u[l]=[r],Tt(h,l)&&(h[l]=u[l])):(l.value=[r],e.k&&(u[e.k]=l.value))}else f?(u[l]=o,Tt(h,l)&&(h[l]=o)):d&&(l.value=o,e.k&&(u[e.k]=o))};o?(p.id=-1,Ye(p,n)):p()}}}const Ye=vS;function KS(e){return GS(e)}function GS(e,t){const n=td();n.__VUE__=!0;const{insert:i,remove:s,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:d=An,insertStaticContent:p}=e,g=(v,b,T,P=null,O=null,D=null,W=!1,V=null,B=!!b.dynamicChildren)=>{if(v===b)return;v&&!Eo(v,b)&&(P=R(v),se(v,O,D,!0),v=null),b.patchFlag===-2&&(B=!1,b.dynamicChildren=null);const{type:N,ref:et,shapeFlag:Y}=b;switch(N){case qu:m(v,b,T,P);break;case qs:_(v,b,T,P);break;case tf:v==null&&y(b,T,P,W);break;case Re:H(v,b,T,P,O,D,W,V,B);break;default:Y&1?I(v,b,T,P,O,D,W,V,B):Y&6?Et(v,b,T,P,O,D,W,V,B):(Y&64||Y&128)&&N.process(v,b,T,P,O,D,W,V,B,z)}et!=null&&O&&cd(et,v&&v.ref,D,b||v,!b)},m=(v,b,T,P)=>{if(v==null)i(b.el=a(b.children),T,P);else{const O=b.el=v.el;b.children!==v.children&&c(O,b.children)}},_=(v,b,T,P)=>{v==null?i(b.el=l(b.children||""),T,P):b.el=v.el},y=(v,b,T,P)=>{[v.el,v.anchor]=p(v.children,b,T,P,v.el,v.anchor)},w=({el:v,anchor:b},T,P)=>{let O;for(;v&&v!==b;)O=f(v),i(v,T,P),v=O;i(b,T,P)},E=({el:v,anchor:b})=>{let T;for(;v&&v!==b;)T=f(v),s(v),v=T;s(b)},I=(v,b,T,P,O,D,W,V,B)=>{W=W||b.type==="svg",v==null?x(b,T,P,O,D,W,V,B):C(v,b,O,D,W,V,B)},x=(v,b,T,P,O,D,W,V)=>{let B,N;const{type:et,props:Y,shapeFlag:nt,transition:ut,dirs:yt}=v;if(B=v.el=o(v.type,D,Y&&Y.is,Y),nt&8?u(B,v.children):nt&16&&S(v.children,B,null,P,O,D&&et!=="foreignObject",W,V),yt&&_s(v,null,P,"created"),k(B,v,v.scopeId,W,P),Y){for(const Nt in Y)Nt!=="value"&&!Tc(Nt)&&r(B,Nt,null,Y[Nt],D,v.children,P,O,Qt);"value"in Y&&r(B,"value",null,Y.value),(N=Y.onVnodeBeforeMount)&&Vn(N,P,v)}yt&&_s(v,null,P,"beforeMount");const Vt=(!O||O&&!O.pendingBranch)&&ut&&!ut.persisted;Vt&&ut.beforeEnter(B),i(B,b,T),((N=Y&&Y.onVnodeMounted)||Vt||yt)&&Ye(()=>{N&&Vn(N,P,v),Vt&&ut.enter(B),yt&&_s(v,null,P,"mounted")},O)},k=(v,b,T,P,O)=>{if(T&&d(v,T),P)for(let D=0;D<P.length;D++)d(v,P[D]);if(O){let D=O.subTree;if(b===D){const W=O.vnode;k(v,W,W.scopeId,W.slotScopeIds,O.parent)}}},S=(v,b,T,P,O,D,W,V,B=0)=>{for(let N=B;N<v.length;N++){const et=v[N]=V?Li(v[N]):Bn(v[N]);g(null,et,b,T,P,O,D,W,V)}},C=(v,b,T,P,O,D,W)=>{const V=b.el=v.el;let{patchFlag:B,dynamicChildren:N,dirs:et}=b;B|=v.patchFlag&16;const Y=v.props||Bt,nt=b.props||Bt;let ut;T&&ys(T,!1),(ut=nt.onVnodeBeforeUpdate)&&Vn(ut,T,b,v),et&&_s(b,v,T,"beforeUpdate"),T&&ys(T,!0);const yt=O&&b.type!=="foreignObject";if(N?$(v.dynamicChildren,N,V,T,P,yt,D):W||dt(v,b,V,null,T,P,yt,D,!1),B>0){if(B&16)U(V,b,Y,nt,T,P,O);else if(B&2&&Y.class!==nt.class&&r(V,"class",null,nt.class,O),B&4&&r(V,"style",Y.style,nt.style,O),B&8){const Vt=b.dynamicProps;for(let Nt=0;Nt<Vt.length;Nt++){const ae=Vt[Nt],wn=Y[ae],pr=nt[ae];(pr!==wn||ae==="value")&&r(V,ae,wn,pr,O,v.children,T,P,Qt)}}B&1&&v.children!==b.children&&u(V,b.children)}else!W&&N==null&&U(V,b,Y,nt,T,P,O);((ut=nt.onVnodeUpdated)||et)&&Ye(()=>{ut&&Vn(ut,T,b,v),et&&_s(b,v,T,"updated")},P)},$=(v,b,T,P,O,D,W)=>{for(let V=0;V<b.length;V++){const B=v[V],N=b[V],et=B.el&&(B.type===Re||!Eo(B,N)||B.shapeFlag&70)?h(B.el):T;g(B,N,et,null,P,O,D,W,!0)}},U=(v,b,T,P,O,D,W)=>{if(T!==P){if(T!==Bt)for(const V in T)!Tc(V)&&!(V in P)&&r(v,V,T[V],null,W,b.children,O,D,Qt);for(const V in P){if(Tc(V))continue;const B=P[V],N=T[V];B!==N&&V!=="value"&&r(v,V,N,B,W,b.children,O,D,Qt)}"value"in P&&r(v,"value",T.value,P.value)}},H=(v,b,T,P,O,D,W,V,B)=>{const N=b.el=v?v.el:a(""),et=b.anchor=v?v.anchor:a("");let{patchFlag:Y,dynamicChildren:nt,slotScopeIds:ut}=b;ut&&(V=V?V.concat(ut):ut),v==null?(i(N,T,P),i(et,T,P),S(b.children,T,et,O,D,W,V,B)):Y>0&&Y&64&&nt&&v.dynamicChildren?($(v.dynamicChildren,nt,T,O,D,W,V),(b.key!=null||O&&b===O.subTree)&&Jp(v,b,!0)):dt(v,b,T,et,O,D,W,V,B)},Et=(v,b,T,P,O,D,W,V,B)=>{b.slotScopeIds=V,v==null?b.shapeFlag&512?O.ctx.activate(b,T,P,W,B):st(b,T,P,O,D,W,B):ft(v,b,B)},st=(v,b,T,P,O,D,W)=>{const V=v.component=rk(v,P,O);if(uw(v)&&(V.ctx.renderer=z),ok(V),V.asyncDep){if(O&&O.registerDep(V,J),!v.el){const B=V.subTree=kt(qs);_(null,B,b,T)}return}J(V,v,b,T,O,D,W)},ft=(v,b,T)=>{const P=b.component=v.component;if(mS(v,b,T))if(P.asyncDep&&!P.asyncResolved){rt(P,b,T);return}else P.next=b,uS(P.update),P.update();else b.el=v.el,P.vnode=b},J=(v,b,T,P,O,D,W)=>{const V=()=>{if(v.isMounted){let{next:et,bu:Y,u:nt,parent:ut,vnode:yt}=v,Vt=et,Nt;ys(v,!1),et?(et.el=yt.el,rt(v,et,W)):et=yt,Y&&xc(Y),(Nt=et.props&&et.props.onVnodeBeforeUpdate)&&Vn(Nt,ut,et,yt),ys(v,!0);const ae=Qh(v),wn=v.subTree;v.subTree=ae,g(wn,ae,h(wn.el),R(wn),v,O,D),et.el=ae.el,Vt===null&&_S(v,ae.el),nt&&Ye(nt,O),(Nt=et.props&&et.props.onVnodeUpdated)&&Ye(()=>Vn(Nt,ut,et,yt),O)}else{let et;const{el:Y,props:nt}=b,{bm:ut,m:yt,parent:Vt}=v,Nt=Ac(b);if(ys(v,!1),ut&&xc(ut),!Nt&&(et=nt&&nt.onVnodeBeforeMount)&&Vn(et,Vt,b),ys(v,!0),Y&&Ct){const ae=()=>{v.subTree=Qh(v),Ct(Y,v.subTree,v,O,null)};Nt?b.type.__asyncLoader().then(()=>!v.isUnmounted&&ae()):ae()}else{const ae=v.subTree=Qh(v);g(null,ae,T,P,v,O,D),b.el=ae.el}if(yt&&Ye(yt,O),!Nt&&(et=nt&&nt.onVnodeMounted)){const ae=b;Ye(()=>Vn(et,Vt,ae),O)}(b.shapeFlag&256||Vt&&Ac(Vt.vnode)&&Vt.vnode.shapeFlag&256)&&v.a&&Ye(v.a,O),v.isMounted=!0,b=T=P=null}},B=v.effect=new Fp(V,()=>qp(N),v.scope),N=v.update=()=>B.run();N.id=v.uid,ys(v,!0),N()},rt=(v,b,T)=>{b.component=v;const P=v.vnode.props;v.vnode=b,v.next=null,jS(v,b.props,P,T),qS(v,b.children,T),ro(),u_(),oo()},dt=(v,b,T,P,O,D,W,V,B=!1)=>{const N=v&&v.children,et=v?v.shapeFlag:0,Y=b.children,{patchFlag:nt,shapeFlag:ut}=b;if(nt>0){if(nt&128){ze(N,Y,T,P,O,D,W,V,B);return}else if(nt&256){Lt(N,Y,T,P,O,D,W,V,B);return}}ut&8?(et&16&&Qt(N,O,D),Y!==N&&u(T,Y)):et&16?ut&16?ze(N,Y,T,P,O,D,W,V,B):Qt(N,O,D,!0):(et&8&&u(T,""),ut&16&&S(Y,T,P,O,D,W,V,B))},Lt=(v,b,T,P,O,D,W,V,B)=>{v=v||Ar,b=b||Ar;const N=v.length,et=b.length,Y=Math.min(N,et);let nt;for(nt=0;nt<Y;nt++){const ut=b[nt]=B?Li(b[nt]):Bn(b[nt]);g(v[nt],ut,T,null,O,D,W,V,B)}N>et?Qt(v,O,D,!0,!1,Y):S(b,T,P,O,D,W,V,B,Y)},ze=(v,b,T,P,O,D,W,V,B)=>{let N=0;const et=b.length;let Y=v.length-1,nt=et-1;for(;N<=Y&&N<=nt;){const ut=v[N],yt=b[N]=B?Li(b[N]):Bn(b[N]);if(Eo(ut,yt))g(ut,yt,T,null,O,D,W,V,B);else break;N++}for(;N<=Y&&N<=nt;){const ut=v[Y],yt=b[nt]=B?Li(b[nt]):Bn(b[nt]);if(Eo(ut,yt))g(ut,yt,T,null,O,D,W,V,B);else break;Y--,nt--}if(N>Y){if(N<=nt){const ut=nt+1,yt=ut<et?b[ut].el:P;for(;N<=nt;)g(null,b[N]=B?Li(b[N]):Bn(b[N]),T,yt,O,D,W,V,B),N++}}else if(N>nt)for(;N<=Y;)se(v[N],O,D,!0),N++;else{const ut=N,yt=N,Vt=new Map;for(N=yt;N<=nt;N++){const en=b[N]=B?Li(b[N]):Bn(b[N]);en.key!=null&&Vt.set(en.key,N)}let Nt,ae=0;const wn=nt-yt+1;let pr=!1,Jm=0;const wo=new Array(wn);for(N=0;N<wn;N++)wo[N]=0;for(N=ut;N<=Y;N++){const en=v[N];if(ae>=wn){se(en,O,D,!0);continue}let Ln;if(en.key!=null)Ln=Vt.get(en.key);else for(Nt=yt;Nt<=nt;Nt++)if(wo[Nt-yt]===0&&Eo(en,b[Nt])){Ln=Nt;break}Ln===void 0?se(en,O,D,!0):(wo[Ln-yt]=N+1,Ln>=Jm?Jm=Ln:pr=!0,g(en,b[Ln],T,null,O,D,W,V,B),ae++)}const Zm=pr?YS(wo):Ar;for(Nt=Zm.length-1,N=wn-1;N>=0;N--){const en=yt+N,Ln=b[en],t_=en+1<et?b[en+1].el:P;wo[N]===0?g(null,Ln,T,t_,O,D,W,V,B):pr&&(Nt<0||N!==Zm[Nt]?je(Ln,T,t_,2):Nt--)}}},je=(v,b,T,P,O=null)=>{const{el:D,type:W,transition:V,children:B,shapeFlag:N}=v;if(N&6){je(v.component.subTree,b,T,P);return}if(N&128){v.suspense.move(b,T,P);return}if(N&64){W.move(v,b,T,z);return}if(W===Re){i(D,b,T);for(let Y=0;Y<B.length;Y++)je(B[Y],b,T,P);i(v.anchor,b,T);return}if(W===tf){w(v,b,T);return}if(P!==2&&N&1&&V)if(P===0)V.beforeEnter(D),i(D,b,T),Ye(()=>V.enter(D),O);else{const{leave:Y,delayLeave:nt,afterLeave:ut}=V,yt=()=>i(D,b,T),Vt=()=>{Y(D,()=>{yt(),ut&&ut()})};nt?nt(D,yt,Vt):Vt()}else i(D,b,T)},se=(v,b,T,P=!1,O=!1)=>{const{type:D,props:W,ref:V,children:B,dynamicChildren:N,shapeFlag:et,patchFlag:Y,dirs:nt}=v;if(V!=null&&cd(V,null,T,v,!0),et&256){b.ctx.deactivate(v);return}const ut=et&1&&nt,yt=!Ac(v);let Vt;if(yt&&(Vt=W&&W.onVnodeBeforeUnmount)&&Vn(Vt,b,v),et&6)Nn(v.component,T,P);else{if(et&128){v.suspense.unmount(T,P);return}ut&&_s(v,null,b,"beforeUnmount"),et&64?v.type.remove(v,b,T,O,z,P):N&&(D!==Re||Y>0&&Y&64)?Qt(N,b,T,!1,!0):(D===Re&&Y&384||!O&&et&16)&&Qt(B,b,T),P&&fn(v)}(yt&&(Vt=W&&W.onVnodeUnmounted)||ut)&&Ye(()=>{Vt&&Vn(Vt,b,v),ut&&_s(v,null,b,"unmounted")},T)},fn=v=>{const{type:b,el:T,anchor:P,transition:O}=v;if(b===Re){dn(T,P);return}if(b===tf){E(v);return}const D=()=>{s(T),O&&!O.persisted&&O.afterLeave&&O.afterLeave()};if(v.shapeFlag&1&&O&&!O.persisted){const{leave:W,delayLeave:V}=O,B=()=>W(T,D);V?V(v.el,D,B):B()}else D()},dn=(v,b)=>{let T;for(;v!==b;)T=f(v),s(v),v=T;s(b)},Nn=(v,b,T)=>{const{bum:P,scope:O,update:D,subTree:W,um:V}=v;P&&xc(P),O.stop(),D&&(D.active=!1,se(W,v,b,T)),V&&Ye(V,b),Ye(()=>{v.isUnmounted=!0},b),b&&b.pendingBranch&&!b.isUnmounted&&v.asyncDep&&!v.asyncResolved&&v.suspenseId===b.pendingId&&(b.deps--,b.deps===0&&b.resolve())},Qt=(v,b,T,P=!1,O=!1,D=0)=>{for(let W=D;W<v.length;W++)se(v[W],b,T,P,O)},R=v=>v.shapeFlag&6?R(v.component.subTree):v.shapeFlag&128?v.suspense.next():f(v.anchor||v.el),G=(v,b,T)=>{v==null?b._vnode&&se(b._vnode,null,null,!0):g(b._vnode||null,v,b,null,null,null,T),u_(),rw(),b._vnode=v},z={p:g,um:se,m:je,r:fn,mt:st,mc:S,pc:dt,pbc:$,n:R,o:e};let Z,Ct;return t&&([Z,Ct]=t(z)),{render:G,hydrate:Z,createApp:BS(G,Z)}}function ys({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Jp(e,t,n=!1){const i=e.children,s=t.children;if(it(i)&&it(s))for(let r=0;r<i.length;r++){const o=i[r];let a=s[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[r]=Li(s[r]),a.el=o.el),n||Jp(o,a)),a.type===qu&&(a.el=o.el)}}function YS(e){const t=e.slice(),n=[0];let i,s,r,o,a;const l=e.length;for(i=0;i<l;i++){const c=e[i];if(c!==0){if(s=n[n.length-1],e[s]<c){t[i]=s,n.push(i);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,e[n[a]]<c?r=a+1:o=a;c<e[n[r]]&&(r>0&&(t[i]=n[r-1]),n[r]=i)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=t[o];return n}const XS=e=>e.__isTeleport,Xo=e=>e&&(e.disabled||e.disabled===""),w_=e=>typeof SVGElement<"u"&&e instanceof SVGElement,ud=(e,t)=>{const n=e&&e.to;return oe(n)?t?t(n):null:n},QS={__isTeleport:!0,process(e,t,n,i,s,r,o,a,l,c){const{mc:u,pc:h,pbc:f,o:{insert:d,querySelector:p,createText:g,createComment:m}}=c,_=Xo(t.props);let{shapeFlag:y,children:w,dynamicChildren:E}=t;if(e==null){const I=t.el=g(""),x=t.anchor=g("");d(I,n,i),d(x,n,i);const k=t.target=ud(t.props,p),S=t.targetAnchor=g("");k&&(d(S,k),o=o||w_(k));const C=($,U)=>{y&16&&u(w,$,U,s,r,o,a,l)};_?C(n,x):k&&C(k,S)}else{t.el=e.el;const I=t.anchor=e.anchor,x=t.target=e.target,k=t.targetAnchor=e.targetAnchor,S=Xo(e.props),C=S?n:x,$=S?I:k;if(o=o||w_(x),E?(f(e.dynamicChildren,E,C,s,r,o,a),Jp(e,t,!0)):l||h(e,t,C,$,s,r,o,a,!1),_)S||jl(t,n,I,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const U=t.target=ud(t.props,p);U&&jl(t,U,null,c,0)}else S&&jl(t,x,k,c,1)}Ew(t)},remove(e,t,n,i,{um:s,o:{remove:r}},o){const{shapeFlag:a,children:l,anchor:c,targetAnchor:u,target:h,props:f}=e;if(h&&r(u),(o||!Xo(f))&&(r(c),a&16))for(let d=0;d<l.length;d++){const p=l[d];s(p,t,n,!0,!!p.dynamicChildren)}},move:jl,hydrate:JS};function jl(e,t,n,{o:{insert:i},m:s},r=2){r===0&&i(e.targetAnchor,t,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=e,h=r===2;if(h&&i(o,t,n),(!h||Xo(u))&&l&16)for(let f=0;f<c.length;f++)s(c[f],t,n,2);h&&i(a,t,n)}function JS(e,t,n,i,s,r,{o:{nextSibling:o,parentNode:a,querySelector:l}},c){const u=t.target=ud(t.props,l);if(u){const h=u._lpa||u.firstChild;if(t.shapeFlag&16)if(Xo(t.props))t.anchor=c(o(e),t,a(e),n,i,s,r),t.targetAnchor=h;else{t.anchor=o(e);let f=h;for(;f;)if(f=o(f),f&&f.nodeType===8&&f.data==="teleport anchor"){t.targetAnchor=f,u._lpa=t.targetAnchor&&o(t.targetAnchor);break}c(h,t,u,n,i,s,r)}Ew(t)}return t.anchor&&o(t.anchor)}const Zh=QS;function Ew(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const Re=Symbol.for("v-fgt"),qu=Symbol.for("v-txt"),qs=Symbol.for("v-cmt"),tf=Symbol.for("v-stc"),Qo=[];let In=null;function pt(e=!1){Qo.push(In=e?null:[])}function ZS(){Qo.pop(),In=Qo[Qo.length-1]||null}let Ea=1;function E_(e){Ea+=e}function Iw(e){return e.dynamicChildren=Ea>0?In||Ar:null,ZS(),Ea>0&&In&&In.push(e),e}function wt(e,t,n,i,s,r){return Iw(A(e,t,n,i,s,r,!0))}function Ps(e,t,n,i,s){return Iw(kt(e,t,n,i,s,!0))}function hd(e){return e?e.__v_isVNode===!0:!1}function Eo(e,t){return e.type===t.type&&e.key===t.key}const Ku="__vInternal",Tw=({key:e})=>e??null,kc=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?oe(e)||re(e)||_t(e)?{i:an,r:e,k:t,f:!!n}:e:null);function A(e,t=null,n=null,i=0,s=null,r=e===Re?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Tw(t),ref:t&&kc(t),scopeId:Hu,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:an};return a?(Zp(l,n),r&128&&e.normalize(l)):n&&(l.shapeFlag|=oe(n)?8:16),Ea>0&&!o&&In&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&In.push(l),l}const kt=tk;function tk(e,t=null,n=null,i=0,s=null,r=!1){if((!e||e===dw)&&(e=qs),hd(e)){const a=Fr(e,t,!0);return n&&Zp(a,n),Ea>0&&!r&&In&&(a.shapeFlag&6?In[In.indexOf(e)]=a:In.push(a)),a.patchFlag|=-2,a}if(hk(e)&&(e=e.__vccOpts),t){t=ek(t);let{class:a,style:l}=t;a&&!oe(a)&&(t.class=sl(a)),Ut(l)&&(J0(l)&&!it(l)&&(l=be({},l)),t.style=mi(l))}const o=oe(e)?1:yS(e)?128:XS(e)?64:Ut(e)?4:_t(e)?2:0;return A(e,t,n,i,s,o,r,!0)}function ek(e){return e?J0(e)||Ku in e?be({},e):e:null}function Fr(e,t,n=!1){const{props:i,ref:s,patchFlag:r,children:o}=e,a=t?nk(i||{},t):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Tw(a),ref:t&&t.ref?n&&s?it(s)?s.concat(kc(t)):[s,kc(t)]:kc(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Re?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Fr(e.ssContent),ssFallback:e.ssFallback&&Fr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function fd(e=" ",t=0){return kt(qu,null,e,t)}function Ie(e="",t=!1){return t?(pt(),Ps(qs,null,e)):kt(qs,null,e)}function Bn(e){return e==null||typeof e=="boolean"?kt(qs):it(e)?kt(Re,null,e.slice()):typeof e=="object"?Li(e):kt(qu,null,String(e))}function Li(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Fr(e)}function Zp(e,t){let n=0;const{shapeFlag:i}=e;if(t==null)t=null;else if(it(t))n=16;else if(typeof t=="object")if(i&65){const s=t.default;s&&(s._c&&(s._d=!1),Zp(e,s()),s._c&&(s._d=!0));return}else{n=32;const s=t._;!s&&!(Ku in t)?t._ctx=an:s===3&&an&&(an.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else _t(t)?(t={default:t,_ctx:an},n=32):(t=String(t),i&64?(n=16,t=[fd(t)]):n=8);e.children=t,e.shapeFlag|=n}function nk(...e){const t={};for(let n=0;n<e.length;n++){const i=e[n];for(const s in i)if(s==="class")t.class!==i.class&&(t.class=sl([t.class,i.class]));else if(s==="style")t.style=mi([t.style,i.style]);else if(Vu(s)){const r=t[s],o=i[s];o&&r!==o&&!(it(r)&&r.includes(o))&&(t[s]=r?[].concat(r,o):o)}else s!==""&&(t[s]=i[s])}return t}function Vn(e,t,n,i=null){Sn(e,t,7,[n,i])}const ik=mw();let sk=0;function rk(e,t,n){const i=e.type,s=(t?t.appContext:e.appContext)||ik,r={uid:sk++,vnode:e,type:i,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new V0(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:yw(i,s),emitsOptions:aw(i,s),emit:null,emitted:null,propsDefaults:Bt,inheritAttrs:i.inheritAttrs,ctx:Bt,data:Bt,props:Bt,attrs:Bt,slots:Bt,refs:Bt,setupState:Bt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=dS.bind(null,r),e.ce&&e.ce(r),r}let _e=null,tg,gr,I_="__VUE_INSTANCE_SETTERS__";(gr=td()[I_])||(gr=td()[I_]=[]),gr.push(e=>_e=e),tg=e=>{gr.length>1?gr.forEach(t=>t(e)):gr[0](e)};const Ur=e=>{tg(e),e.scope.on()},Us=()=>{_e&&_e.scope.off(),tg(null)};function xw(e){return e.vnode.shapeFlag&4}let Ia=!1;function ok(e,t=!1){Ia=t;const{props:n,children:i}=e.vnode,s=xw(e);zS(e,n,s,t),WS(e,i);const r=s?ak(e,t):void 0;return Ia=!1,r}function ak(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=$u(new Proxy(e.ctx,OS));const{setup:i}=n;if(i){const s=e.setupContext=i.length>1?ck(e):null;Ur(e),ro();const r=Gi(i,e,0,[e.props,s]);if(oo(),Us(),M0(r)){if(r.then(Us,Us),t)return r.then(o=>{T_(e,o,t)}).catch(o=>{zu(o,e,0)});e.asyncDep=r}else T_(e,r,t)}else Aw(e,t)}function T_(e,t,n){_t(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Ut(t)&&(e.setupState=nw(t)),Aw(e,n)}let x_;function Aw(e,t,n){const i=e.type;if(!e.render){if(!t&&x_&&!i.render){const s=i.template||Xp(e).template;if(s){const{isCustomElement:r,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=i,c=be(be({isCustomElement:r,delimiters:a},o),l);i.render=x_(s,c)}}e.render=i.render||An}Ur(e),ro(),DS(e),oo(),Us()}function lk(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return tn(e,"get","$attrs"),t[n]}}))}function ck(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return lk(e)},slots:e.slots,emit:e.emit,expose:t}}function Gu(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(nw($u(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Yo)return Yo[n](e)},has(t,n){return n in t||n in Yo}}))}function uk(e,t=!0){return _t(e)?e.displayName||e.name:e.name||t&&e.__name}function hk(e){return _t(e)&&"__vccOpts"in e}const me=(e,t)=>aS(e,t,Ia);function eg(e,t,n){const i=arguments.length;return i===2?Ut(t)&&!it(t)?hd(t)?kt(e,null,[t]):kt(e,t):kt(e,null,t):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&hd(n)&&(n=[n]),kt(e,t,n))}const fk=Symbol.for("v-scx"),dk=()=>mn(fk),pk="3.3.4",gk="http://www.w3.org/2000/svg",Ss=typeof document<"u"?document:null,A_=Ss&&Ss.createElement("template"),mk={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,i)=>{const s=t?Ss.createElementNS(gk,e):Ss.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:e=>Ss.createTextNode(e),createComment:e=>Ss.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ss.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,i,s,r){const o=n?n.previousSibling:t.lastChild;if(s&&(s===r||s.nextSibling))for(;t.insertBefore(s.cloneNode(!0),n),!(s===r||!(s=s.nextSibling)););else{A_.innerHTML=i?`<svg>${e}</svg>`:e;const a=A_.content;if(i){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function _k(e,t,n){const i=e._vtc;i&&(t=(t?[t,...i]:[...i]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function yk(e,t,n){const i=e.style,s=oe(n);if(n&&!s){if(t&&!oe(t))for(const r in t)n[r]==null&&dd(i,r,"");for(const r in n)dd(i,r,n[r])}else{const r=i.display;s?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=r)}}const S_=/\s*!important$/;function dd(e,t,n){if(it(n))n.forEach(i=>dd(e,t,i));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=vk(e,t);S_.test(n)?e.setProperty(so(i),n.replace(S_,""),"important"):e[i]=n}}const k_=["Webkit","Moz","ms"],ef={};function vk(e,t){const n=ef[t];if(n)return n;let i=Jn(t);if(i!=="filter"&&i in e)return ef[t]=i;i=Uu(i);for(let s=0;s<k_.length;s++){const r=k_[s]+i;if(r in e)return ef[t]=r}return t}const P_="http://www.w3.org/1999/xlink";function bk(e,t,n,i,s){if(i&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(P_,t.slice(6,t.length)):e.setAttributeNS(P_,t,n);else{const r=TA(t);n==null||r&&!N0(n)?e.removeAttribute(t):e.setAttribute(t,r?"":n)}}function wk(e,t,n,i,s,r,o){if(t==="innerHTML"||t==="textContent"){i&&o(i,s,r),e[t]=n??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=n;const c=a==="OPTION"?e.getAttribute("value"):e.value,u=n??"";c!==u&&(e.value=u),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=N0(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function li(e,t,n,i){e.addEventListener(t,n,i)}function Ek(e,t,n,i){e.removeEventListener(t,n,i)}function Ik(e,t,n,i,s=null){const r=e._vei||(e._vei={}),o=r[t];if(i&&o)o.value=i;else{const[a,l]=Tk(t);if(i){const c=r[t]=Sk(i,s);li(e,a,c,l)}else o&&(Ek(e,a,o,l),r[t]=void 0)}}const R_=/(?:Once|Passive|Capture)$/;function Tk(e){let t;if(R_.test(e)){t={};let i;for(;i=e.match(R_);)e=e.slice(0,e.length-i[0].length),t[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):so(e.slice(2)),t]}let nf=0;const xk=Promise.resolve(),Ak=()=>nf||(xk.then(()=>nf=0),nf=Date.now());function Sk(e,t){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Sn(kk(i,n.value),t,5,[i])};return n.value=e,n.attached=Ak(),n}function kk(e,t){if(it(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(i=>s=>!s._stopped&&i&&i(s))}else return t}const C_=/^on[a-z]/,Pk=(e,t,n,i,s=!1,r,o,a,l)=>{t==="class"?_k(e,i,s):t==="style"?yk(e,n,i):Vu(t)?Mp(t)||Ik(e,t,n,i,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Rk(e,t,i,s))?wk(e,t,i,r,o,a,l):(t==="true-value"?e._trueValue=i:t==="false-value"&&(e._falseValue=i),bk(e,t,i,s))};function Rk(e,t,n,i){return i?!!(t==="innerHTML"||t==="textContent"||t in e&&C_.test(t)&&_t(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||C_.test(t)&&oe(n)?!1:t in e}const ns=e=>{const t=e.props["onUpdate:modelValue"]||!1;return it(t)?n=>xc(t,n):t};function Ck(e){e.target.composing=!0}function M_(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Xe={created(e,{modifiers:{lazy:t,trim:n,number:i}},s){e._assign=ns(s);const r=i||s.props&&s.props.type==="number";li(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),r&&(a=Yc(a)),e._assign(a)}),n&&li(e,"change",()=>{e.value=e.value.trim()}),t||(li(e,"compositionstart",Ck),li(e,"compositionend",M_),li(e,"change",M_))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:i,number:s}},r){if(e._assign=ns(r),e.composing||document.activeElement===e&&e.type!=="range"&&(n||i&&e.value.trim()===t||(s||e.type==="number")&&Yc(e.value)===t))return;const o=t??"";e.value!==o&&(e.value=o)}},Mk={deep:!0,created(e,t,n){e._assign=ns(n),li(e,"change",()=>{const i=e._modelValue,s=Br(e),r=e.checked,o=e._assign;if(it(i)){const a=Np(i,s),l=a!==-1;if(r&&!l)o(i.concat(s));else if(!r&&l){const c=[...i];c.splice(a,1),o(c)}}else if(io(i)){const a=new Set(i);r?a.add(s):a.delete(s),o(a)}else o(kw(e,r))})},mounted:O_,beforeUpdate(e,t,n){e._assign=ns(n),O_(e,t,n)}};function O_(e,{value:t,oldValue:n},i){e._modelValue=t,it(t)?e.checked=Np(t,i.props.value)>-1:io(t)?e.checked=t.has(i.props.value):t!==n&&(e.checked=Hs(t,kw(e,!0)))}const Ok={created(e,{value:t},n){e.checked=Hs(t,n.props.value),e._assign=ns(n),li(e,"change",()=>{e._assign(Br(e))})},beforeUpdate(e,{value:t,oldValue:n},i){e._assign=ns(i),t!==n&&(e.checked=Hs(t,i.props.value))}},Sw={deep:!0,created(e,{value:t,modifiers:{number:n}},i){const s=io(t);li(e,"change",()=>{const r=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>n?Yc(Br(o)):Br(o));e._assign(e.multiple?s?new Set(r):r:r[0])}),e._assign=ns(i)},mounted(e,{value:t}){D_(e,t)},beforeUpdate(e,t,n){e._assign=ns(n)},updated(e,{value:t}){D_(e,t)}};function D_(e,t){const n=e.multiple;if(!(n&&!it(t)&&!io(t))){for(let i=0,s=e.options.length;i<s;i++){const r=e.options[i],o=Br(r);if(n)it(t)?r.selected=Np(t,o)>-1:r.selected=t.has(o);else if(Hs(Br(r),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Br(e){return"_value"in e?e._value:e.value}function kw(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Ta={created(e,t,n){Hl(e,t,n,null,"created")},mounted(e,t,n){Hl(e,t,n,null,"mounted")},beforeUpdate(e,t,n,i){Hl(e,t,n,i,"beforeUpdate")},updated(e,t,n,i){Hl(e,t,n,i,"updated")}};function Dk(e,t){switch(e){case"SELECT":return Sw;case"TEXTAREA":return Xe;default:switch(t){case"checkbox":return Mk;case"radio":return Ok;default:return Xe}}}function Hl(e,t,n,i,s){const o=Dk(e.tagName,n.props&&n.props.type)[s];o&&o(e,t,n,i)}const Nk=be({patchProp:Pk},mk);let N_;function Lk(){return N_||(N_=KS(Nk))}const Vk=(...e)=>{const t=Lk().createApp(...e),{mount:n}=t;return t.mount=i=>{const s=Fk(i);if(!s)return;const r=t._component;!_t(r)&&!r.render&&!r.template&&(r.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},t};function Fk(e){return oe(e)?document.querySelector(e):e}var Uk=!1;/*!
  * pinia v2.1.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let Pw;const Yu=e=>Pw=e,Rw=Symbol();function pd(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Jo;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Jo||(Jo={}));function Bk(){const e=F0(!0),t=e.run(()=>lt({}));let n=[],i=[];const s=$u({install(r){Yu(s),s._a=r,r.provide(Rw,s),r.config.globalProperties.$pinia=s,i.forEach(o=>n.push(o)),i=[]},use(r){return!this._a&&!Uk?i.push(r):n.push(r),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return s}const Cw=()=>{};function L_(e,t,n,i=Cw){e.push(t);const s=()=>{const r=e.indexOf(t);r>-1&&(e.splice(r,1),i())};return!n&&Lp()&&U0(s),s}function mr(e,...t){e.slice().forEach(n=>{n(...t)})}const $k=e=>e();function gd(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,i)=>e.set(i,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const i=t[n],s=e[n];pd(s)&&pd(i)&&e.hasOwnProperty(n)&&!re(i)&&!Ki(i)?e[n]=gd(s,i):e[n]=i}return e}const zk=Symbol();function jk(e){return!pd(e)||!e.hasOwnProperty(zk)}const{assign:Ni}=Object;function Hk(e){return!!(re(e)&&e.effect)}function Wk(e,t,n,i){const{state:s,actions:r,getters:o}=t,a=n.state.value[e];let l;function c(){a||(n.state.value[e]=s?s():{});const u=iS(n.state.value[e]);return Ni(u,r,Object.keys(o||{}).reduce((h,f)=>(h[f]=$u(me(()=>{Yu(n);const d=n._s.get(e);return o[f].call(d,d)})),h),{}))}return l=Mw(e,c,t,n,i,!0),l}function Mw(e,t,n={},i,s,r){let o;const a=Ni({actions:{}},n),l={deep:!0};let c,u,h=[],f=[],d;const p=i.state.value[e];!r&&!p&&(i.state.value[e]={}),lt({});let g;function m(S){let C;c=u=!1,typeof S=="function"?(S(i.state.value[e]),C={type:Jo.patchFunction,storeId:e,events:d}):(gd(i.state.value[e],S),C={type:Jo.patchObject,payload:S,storeId:e,events:d});const $=g=Symbol();Wp().then(()=>{g===$&&(c=!0)}),u=!0,mr(h,C,i.state.value[e])}const _=r?function(){const{state:C}=n,$=C?C():{};this.$patch(U=>{Ni(U,$)})}:Cw;function y(){o.stop(),h=[],f=[],i._s.delete(e)}function w(S,C){return function(){Yu(i);const $=Array.from(arguments),U=[],H=[];function Et(J){U.push(J)}function st(J){H.push(J)}mr(f,{args:$,name:S,store:I,after:Et,onError:st});let ft;try{ft=C.apply(this&&this.$id===e?this:I,$)}catch(J){throw mr(H,J),J}return ft instanceof Promise?ft.then(J=>(mr(U,J),J)).catch(J=>(mr(H,J),Promise.reject(J))):(mr(U,ft),ft)}}const E={_p:i,$id:e,$onAction:L_.bind(null,f),$patch:m,$reset:_,$subscribe(S,C={}){const $=L_(h,S,C.detached,()=>U()),U=o.run(()=>Kn(()=>i.state.value[e],H=>{(C.flush==="sync"?u:c)&&S({storeId:e,type:Jo.direct,events:d},H)},Ni({},l,C)));return $},$dispose:y},I=rl(E);i._s.set(e,I);const x=i._a&&i._a.runWithContext||$k,k=i._e.run(()=>(o=F0(),x(()=>o.run(t))));for(const S in k){const C=k[S];if(re(C)&&!Hk(C)||Ki(C))r||(p&&jk(C)&&(re(C)?C.value=p[S]:gd(C,p[S])),i.state.value[e][S]=C);else if(typeof C=="function"){const $=w(S,C);k[S]=$,a.actions[S]=C}}return Ni(I,k),Ni(At(I),k),Object.defineProperty(I,"$state",{get:()=>i.state.value[e],set:S=>{m(C=>{Ni(C,S)})}}),i._p.forEach(S=>{Ni(I,o.run(()=>S({store:I,app:i._a,pinia:i,options:a})))}),p&&r&&n.hydrate&&n.hydrate(I.$state,p),c=!0,u=!0,I}function qk(e,t,n){let i,s;const r=typeof t=="function";typeof e=="string"?(i=e,s=r?n:t):(s=e,i=e.id);function o(a,l){const c=$S();return a=a||(c?mn(Rw,null):null),a&&Yu(a),a=Pw,a._s.has(i)||(r?Mw(i,t,s,a):Wk(i,s,a)),a._s.get(i)}return o.$id=i,o}/*!
  * vue-router v4.2.4
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const br=typeof window<"u";function Kk(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const Mt=Object.assign;function sf(e,t){const n={};for(const i in t){const s=t[i];n[i]=Pn(s)?s.map(e):e(s)}return n}const Zo=()=>{},Pn=Array.isArray,Gk=/\/$/,Yk=e=>e.replace(Gk,"");function rf(e,t,n="/"){let i,s={},r="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=t.slice(0,l),r=t.slice(l+1,a>-1?a:t.length),s=e(r)),a>-1&&(i=i||t.slice(0,a),o=t.slice(a,t.length)),i=Zk(i??t,n),{fullPath:i+(r&&"?")+r+o,path:i,query:s,hash:o}}function Xk(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function V_(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Qk(e,t,n){const i=t.matched.length-1,s=n.matched.length-1;return i>-1&&i===s&&$r(t.matched[i],n.matched[s])&&Ow(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function $r(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Ow(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!Jk(e[n],t[n]))return!1;return!0}function Jk(e,t){return Pn(e)?F_(e,t):Pn(t)?F_(t,e):e===t}function F_(e,t){return Pn(t)?e.length===t.length&&e.every((n,i)=>n===t[i]):e.length===1&&e[0]===t}function Zk(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),i=e.split("/"),s=i[i.length-1];(s===".."||s===".")&&i.push("");let r=n.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+i.slice(o-(o===i.length?1:0)).join("/")}var xa;(function(e){e.pop="pop",e.push="push"})(xa||(xa={}));var ta;(function(e){e.back="back",e.forward="forward",e.unknown=""})(ta||(ta={}));function tP(e){if(!e)if(br){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Yk(e)}const eP=/^[^#]+#/;function nP(e,t){return e.replace(eP,"#")+t}function iP(e,t){const n=document.documentElement.getBoundingClientRect(),i=e.getBoundingClientRect();return{behavior:t.behavior,left:i.left-n.left-(t.left||0),top:i.top-n.top-(t.top||0)}}const Xu=()=>({left:window.pageXOffset,top:window.pageYOffset});function sP(e){let t;if("el"in e){const n=e.el,i=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?i?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;t=iP(s,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function U_(e,t){return(history.state?history.state.position-t:-1)+e}const md=new Map;function rP(e,t){md.set(e,t)}function oP(e){const t=md.get(e);return md.delete(e),t}let aP=()=>location.protocol+"//"+location.host;function Dw(e,t){const{pathname:n,search:i,hash:s}=t,r=e.indexOf("#");if(r>-1){let a=s.includes(e.slice(r))?e.slice(r).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),V_(l,"")}return V_(n,e)+i+s}function lP(e,t,n,i){let s=[],r=[],o=null;const a=({state:f})=>{const d=Dw(e,location),p=n.value,g=t.value;let m=0;if(f){if(n.value=d,t.value=f,o&&o===p){o=null;return}m=g?f.position-g.position:0}else i(d);s.forEach(_=>{_(n.value,p,{delta:m,type:xa.pop,direction:m?m>0?ta.forward:ta.back:ta.unknown})})};function l(){o=n.value}function c(f){s.push(f);const d=()=>{const p=s.indexOf(f);p>-1&&s.splice(p,1)};return r.push(d),d}function u(){const{history:f}=window;f.state&&f.replaceState(Mt({},f.state,{scroll:Xu()}),"")}function h(){for(const f of r)f();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function B_(e,t,n,i=!1,s=!1){return{back:e,current:t,forward:n,replaced:i,position:window.history.length,scroll:s?Xu():null}}function cP(e){const{history:t,location:n}=window,i={value:Dw(e,n)},s={value:t.state};s.value||r(i.value,{back:null,current:i.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const h=e.indexOf("#"),f=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+l:aP()+e+l;try{t[u?"replaceState":"pushState"](c,"",f),s.value=c}catch(d){console.error(d),n[u?"replace":"assign"](f)}}function o(l,c){const u=Mt({},t.state,B_(s.value.back,l,s.value.forward,!0),c,{position:s.value.position});r(l,u,!0),i.value=l}function a(l,c){const u=Mt({},s.value,t.state,{forward:l,scroll:Xu()});r(u.current,u,!0);const h=Mt({},B_(i.value,l,null),{position:u.position+1},c);r(l,h,!1),i.value=l}return{location:i,state:s,push:a,replace:o}}function uP(e){e=tP(e);const t=cP(e),n=lP(e,t.state,t.location,t.replace);function i(r,o=!0){o||n.pauseListeners(),history.go(r)}const s=Mt({location:"",base:e,go:i,createHref:nP.bind(null,e)},t,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>t.state.value}),s}function hP(e){return typeof e=="string"||e&&typeof e=="object"}function Nw(e){return typeof e=="string"||typeof e=="symbol"}const Mi={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Lw=Symbol("");var $_;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})($_||($_={}));function zr(e,t){return Mt(new Error,{type:e,[Lw]:!0},t)}function ei(e,t){return e instanceof Error&&Lw in e&&(t==null||!!(e.type&t))}const z_="[^/]+?",fP={sensitive:!1,strict:!1,start:!0,end:!0},dP=/[.+*?^${}()[\]/\\]/g;function pP(e,t){const n=Mt({},fP,t),i=[];let s=n.start?"^":"";const r=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let h=0;h<c.length;h++){const f=c[h];let d=40+(n.sensitive?.25:0);if(f.type===0)h||(s+="/"),s+=f.value.replace(dP,"\\$&"),d+=40;else if(f.type===1){const{value:p,repeatable:g,optional:m,regexp:_}=f;r.push({name:p,repeatable:g,optional:m});const y=_||z_;if(y!==z_){d+=10;try{new RegExp(`(${y})`)}catch(E){throw new Error(`Invalid custom RegExp for param "${p}" (${y}): `+E.message)}}let w=g?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;h||(w=m&&c.length<2?`(?:/${w})`:"/"+w),m&&(w+="?"),s+=w,d+=20,m&&(d+=-8),g&&(d+=-20),y===".*"&&(d+=-50)}u.push(d)}i.push(u)}if(n.strict&&n.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const d=u[f]||"",p=r[f-1];h[p.name]=d&&p.repeatable?d.split("/"):d}return h}function l(c){let u="",h=!1;for(const f of e){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const d of f)if(d.type===0)u+=d.value;else if(d.type===1){const{value:p,repeatable:g,optional:m}=d,_=p in c?c[p]:"";if(Pn(_)&&!g)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const y=Pn(_)?_.join("/"):_;if(!y)if(m)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${p}"`);u+=y}}return u||"/"}return{re:o,score:i,keys:r,parse:a,stringify:l}}function gP(e,t){let n=0;for(;n<e.length&&n<t.length;){const i=t[n]-e[n];if(i)return i;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function mP(e,t){let n=0;const i=e.score,s=t.score;for(;n<i.length&&n<s.length;){const r=gP(i[n],s[n]);if(r)return r;n++}if(Math.abs(s.length-i.length)===1){if(j_(i))return 1;if(j_(s))return-1}return s.length-i.length}function j_(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const _P={type:0,value:""},yP=/[a-zA-Z0-9_]/;function vP(e){if(!e)return[[]];if(e==="/")return[[_P]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(d){throw new Error(`ERR (${n})/"${c}": ${d}`)}let n=0,i=n;const s=[];let r;function o(){r&&s.push(r),r=[]}let a=0,l,c="",u="";function h(){c&&(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){i=n,n=4;continue}switch(n){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),n=1):f();break;case 4:f(),n=i;break;case 1:l==="("?n=2:yP.test(l)?f():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),h(),o(),s}function bP(e,t,n){const i=pP(vP(e.path),n),s=Mt(i,{record:e,parent:t,children:[],alias:[]});return t&&!s.record.aliasOf==!t.record.aliasOf&&t.children.push(s),s}function wP(e,t){const n=[],i=new Map;t=q_({strict:!1,end:!0,sensitive:!1},t);function s(u){return i.get(u)}function r(u,h,f){const d=!f,p=EP(u);p.aliasOf=f&&f.record;const g=q_(t,u),m=[p];if("alias"in u){const w=typeof u.alias=="string"?[u.alias]:u.alias;for(const E of w)m.push(Mt({},p,{components:f?f.record.components:p.components,path:E,aliasOf:f?f.record:p}))}let _,y;for(const w of m){const{path:E}=w;if(h&&E[0]!=="/"){const I=h.record.path,x=I[I.length-1]==="/"?"":"/";w.path=h.record.path+(E&&x+E)}if(_=bP(w,h,g),f?f.alias.push(_):(y=y||_,y!==_&&y.alias.push(_),d&&u.name&&!W_(_)&&o(u.name)),p.children){const I=p.children;for(let x=0;x<I.length;x++)r(I[x],_,f&&f.children[x])}f=f||_,(_.record.components&&Object.keys(_.record.components).length||_.record.name||_.record.redirect)&&l(_)}return y?()=>{o(y)}:Zo}function o(u){if(Nw(u)){const h=i.get(u);h&&(i.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&i.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function l(u){let h=0;for(;h<n.length&&mP(u,n[h])>=0&&(u.record.path!==n[h].record.path||!Vw(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!W_(u)&&i.set(u.record.name,u)}function c(u,h){let f,d={},p,g;if("name"in u&&u.name){if(f=i.get(u.name),!f)throw zr(1,{location:u});g=f.record.name,d=Mt(H_(h.params,f.keys.filter(y=>!y.optional).map(y=>y.name)),u.params&&H_(u.params,f.keys.map(y=>y.name))),p=f.stringify(d)}else if("path"in u)p=u.path,f=n.find(y=>y.re.test(p)),f&&(d=f.parse(p),g=f.record.name);else{if(f=h.name?i.get(h.name):n.find(y=>y.re.test(h.path)),!f)throw zr(1,{location:u,currentLocation:h});g=f.record.name,d=Mt({},h.params,u.params),p=f.stringify(d)}const m=[];let _=f;for(;_;)m.unshift(_.record),_=_.parent;return{name:g,path:p,params:d,matched:m,meta:TP(m)}}return e.forEach(u=>r(u)),{addRoute:r,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function H_(e,t){const n={};for(const i of t)i in e&&(n[i]=e[i]);return n}function EP(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:IP(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function IP(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const i in e.components)t[i]=typeof n=="object"?n[i]:n;return t}function W_(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function TP(e){return e.reduce((t,n)=>Mt(t,n.meta),{})}function q_(e,t){const n={};for(const i in e)n[i]=i in t?t[i]:e[i];return n}function Vw(e,t){return t.children.some(n=>n===e||Vw(e,n))}const Fw=/#/g,xP=/&/g,AP=/\//g,SP=/=/g,kP=/\?/g,Uw=/\+/g,PP=/%5B/g,RP=/%5D/g,Bw=/%5E/g,CP=/%60/g,$w=/%7B/g,MP=/%7C/g,zw=/%7D/g,OP=/%20/g;function ng(e){return encodeURI(""+e).replace(MP,"|").replace(PP,"[").replace(RP,"]")}function DP(e){return ng(e).replace($w,"{").replace(zw,"}").replace(Bw,"^")}function _d(e){return ng(e).replace(Uw,"%2B").replace(OP,"+").replace(Fw,"%23").replace(xP,"%26").replace(CP,"`").replace($w,"{").replace(zw,"}").replace(Bw,"^")}function NP(e){return _d(e).replace(SP,"%3D")}function LP(e){return ng(e).replace(Fw,"%23").replace(kP,"%3F")}function VP(e){return e==null?"":LP(e).replace(AP,"%2F")}function tu(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function FP(e){const t={};if(e===""||e==="?")return t;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let s=0;s<i.length;++s){const r=i[s].replace(Uw," "),o=r.indexOf("="),a=tu(o<0?r:r.slice(0,o)),l=o<0?null:tu(r.slice(o+1));if(a in t){let c=t[a];Pn(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function K_(e){let t="";for(let n in e){const i=e[n];if(n=NP(n),i==null){i!==void 0&&(t+=(t.length?"&":"")+n);continue}(Pn(i)?i.map(r=>r&&_d(r)):[i&&_d(i)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+n,r!=null&&(t+="="+r))})}return t}function UP(e){const t={};for(const n in e){const i=e[n];i!==void 0&&(t[n]=Pn(i)?i.map(s=>s==null?null:""+s):i==null?i:""+i)}return t}const BP=Symbol(""),G_=Symbol(""),Qu=Symbol(""),ig=Symbol(""),yd=Symbol("");function Io(){let e=[];function t(i){return e.push(i),()=>{const s=e.indexOf(i);s>-1&&e.splice(s,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Vi(e,t,n,i,s){const r=i&&(i.enterCallbacks[s]=i.enterCallbacks[s]||[]);return()=>new Promise((o,a)=>{const l=h=>{h===!1?a(zr(4,{from:n,to:t})):h instanceof Error?a(h):hP(h)?a(zr(2,{from:t,to:h})):(r&&i.enterCallbacks[s]===r&&typeof h=="function"&&r.push(h),o())},c=e.call(i&&i.instances[s],t,n,l);let u=Promise.resolve(c);e.length<3&&(u=u.then(l)),u.catch(h=>a(h))})}function of(e,t,n,i){const s=[];for(const r of e)for(const o in r.components){let a=r.components[o];if(!(t!=="beforeRouteEnter"&&!r.instances[o]))if($P(a)){const c=(a.__vccOpts||a)[t];c&&s.push(Vi(c,n,i,r,o))}else{let l=a();s.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${r.path}"`));const u=Kk(c)?c.default:c;r.components[o]=u;const f=(u.__vccOpts||u)[t];return f&&Vi(f,n,i,r,o)()}))}}return s}function $P(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Y_(e){const t=mn(Qu),n=mn(ig),i=me(()=>t.resolve(Rt(e.to))),s=me(()=>{const{matched:l}=i.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const f=h.findIndex($r.bind(null,u));if(f>-1)return f;const d=X_(l[c-2]);return c>1&&X_(u)===d&&h[h.length-1].path!==d?h.findIndex($r.bind(null,l[c-2])):f}),r=me(()=>s.value>-1&&HP(n.params,i.value.params)),o=me(()=>s.value>-1&&s.value===n.matched.length-1&&Ow(n.params,i.value.params));function a(l={}){return jP(l)?t[Rt(e.replace)?"replace":"push"](Rt(e.to)).catch(Zo):Promise.resolve()}return{route:i,href:me(()=>i.value.href),isActive:r,isExactActive:o,navigate:a}}const zP=Kp({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Y_,setup(e,{slots:t}){const n=rl(Y_(e)),{options:i}=mn(Qu),s=me(()=>({[Q_(e.activeClass,i.linkActiveClass,"router-link-active")]:n.isActive,[Q_(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=t.default&&t.default(n);return e.custom?r:eg("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},r)}}}),jr=zP;function jP(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function HP(e,t){for(const n in t){const i=t[n],s=e[n];if(typeof i=="string"){if(i!==s)return!1}else if(!Pn(s)||s.length!==i.length||i.some((r,o)=>r!==s[o]))return!1}return!0}function X_(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Q_=(e,t,n)=>e??t??n,WP=Kp({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const i=mn(yd),s=me(()=>e.route||i.value),r=mn(G_,0),o=me(()=>{let c=Rt(r);const{matched:u}=s.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=me(()=>s.value.matched[o.value]);Sc(G_,me(()=>o.value+1)),Sc(BP,a),Sc(yd,s);const l=lt();return Kn(()=>[l.value,a.value,e.name],([c,u,h],[f,d,p])=>{u&&(u.instances[h]=c,d&&d!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=d.leaveGuards),u.updateGuards.size||(u.updateGuards=d.updateGuards))),c&&u&&(!d||!$r(u,d)||!f)&&(u.enterCallbacks[h]||[]).forEach(g=>g(c))},{flush:"post"}),()=>{const c=s.value,u=e.name,h=a.value,f=h&&h.components[u];if(!f)return J_(n.default,{Component:f,route:c});const d=h.props[u],p=d?d===!0?c.params:typeof d=="function"?d(c):d:null,m=eg(f,Mt({},p,t,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return J_(n.default,{Component:m,route:c})||m}}});function J_(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const jw=WP;function qP(e){const t=wP(e.routes,e),n=e.parseQuery||FP,i=e.stringifyQuery||K_,s=e.history,r=Io(),o=Io(),a=Io(),l=tS(Mi);let c=Mi;br&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=sf.bind(null,R=>""+R),h=sf.bind(null,VP),f=sf.bind(null,tu);function d(R,G){let z,Z;return Nw(R)?(z=t.getRecordMatcher(R),Z=G):Z=R,t.addRoute(Z,z)}function p(R){const G=t.getRecordMatcher(R);G&&t.removeRoute(G)}function g(){return t.getRoutes().map(R=>R.record)}function m(R){return!!t.getRecordMatcher(R)}function _(R,G){if(G=Mt({},G||l.value),typeof R=="string"){const T=rf(n,R,G.path),P=t.resolve({path:T.path},G),O=s.createHref(T.fullPath);return Mt(T,P,{params:f(P.params),hash:tu(T.hash),redirectedFrom:void 0,href:O})}let z;if("path"in R)z=Mt({},R,{path:rf(n,R.path,G.path).path});else{const T=Mt({},R.params);for(const P in T)T[P]==null&&delete T[P];z=Mt({},R,{params:h(T)}),G.params=h(G.params)}const Z=t.resolve(z,G),Ct=R.hash||"";Z.params=u(f(Z.params));const v=Xk(i,Mt({},R,{hash:DP(Ct),path:Z.path})),b=s.createHref(v);return Mt({fullPath:v,hash:Ct,query:i===K_?UP(R.query):R.query||{}},Z,{redirectedFrom:void 0,href:b})}function y(R){return typeof R=="string"?rf(n,R,l.value.path):Mt({},R)}function w(R,G){if(c!==R)return zr(8,{from:G,to:R})}function E(R){return k(R)}function I(R){return E(Mt(y(R),{replace:!0}))}function x(R){const G=R.matched[R.matched.length-1];if(G&&G.redirect){const{redirect:z}=G;let Z=typeof z=="function"?z(R):z;return typeof Z=="string"&&(Z=Z.includes("?")||Z.includes("#")?Z=y(Z):{path:Z},Z.params={}),Mt({query:R.query,hash:R.hash,params:"path"in Z?{}:R.params},Z)}}function k(R,G){const z=c=_(R),Z=l.value,Ct=R.state,v=R.force,b=R.replace===!0,T=x(z);if(T)return k(Mt(y(T),{state:typeof T=="object"?Mt({},Ct,T.state):Ct,force:v,replace:b}),G||z);const P=z;P.redirectedFrom=G;let O;return!v&&Qk(i,Z,z)&&(O=zr(16,{to:P,from:Z}),je(Z,Z,!0,!1)),(O?Promise.resolve(O):$(P,Z)).catch(D=>ei(D)?ei(D,2)?D:ze(D):dt(D,P,Z)).then(D=>{if(D){if(ei(D,2))return k(Mt({replace:b},y(D.to),{state:typeof D.to=="object"?Mt({},Ct,D.to.state):Ct,force:v}),G||P)}else D=H(P,Z,!0,b,Ct);return U(P,Z,D),D})}function S(R,G){const z=w(R,G);return z?Promise.reject(z):Promise.resolve()}function C(R){const G=dn.values().next().value;return G&&typeof G.runWithContext=="function"?G.runWithContext(R):R()}function $(R,G){let z;const[Z,Ct,v]=KP(R,G);z=of(Z.reverse(),"beforeRouteLeave",R,G);for(const T of Z)T.leaveGuards.forEach(P=>{z.push(Vi(P,R,G))});const b=S.bind(null,R,G);return z.push(b),Qt(z).then(()=>{z=[];for(const T of r.list())z.push(Vi(T,R,G));return z.push(b),Qt(z)}).then(()=>{z=of(Ct,"beforeRouteUpdate",R,G);for(const T of Ct)T.updateGuards.forEach(P=>{z.push(Vi(P,R,G))});return z.push(b),Qt(z)}).then(()=>{z=[];for(const T of v)if(T.beforeEnter)if(Pn(T.beforeEnter))for(const P of T.beforeEnter)z.push(Vi(P,R,G));else z.push(Vi(T.beforeEnter,R,G));return z.push(b),Qt(z)}).then(()=>(R.matched.forEach(T=>T.enterCallbacks={}),z=of(v,"beforeRouteEnter",R,G),z.push(b),Qt(z))).then(()=>{z=[];for(const T of o.list())z.push(Vi(T,R,G));return z.push(b),Qt(z)}).catch(T=>ei(T,8)?T:Promise.reject(T))}function U(R,G,z){a.list().forEach(Z=>C(()=>Z(R,G,z)))}function H(R,G,z,Z,Ct){const v=w(R,G);if(v)return v;const b=G===Mi,T=br?history.state:{};z&&(Z||b?s.replace(R.fullPath,Mt({scroll:b&&T&&T.scroll},Ct)):s.push(R.fullPath,Ct)),l.value=R,je(R,G,z,b),ze()}let Et;function st(){Et||(Et=s.listen((R,G,z)=>{if(!Nn.listening)return;const Z=_(R),Ct=x(Z);if(Ct){k(Mt(Ct,{replace:!0}),Z).catch(Zo);return}c=Z;const v=l.value;br&&rP(U_(v.fullPath,z.delta),Xu()),$(Z,v).catch(b=>ei(b,12)?b:ei(b,2)?(k(b.to,Z).then(T=>{ei(T,20)&&!z.delta&&z.type===xa.pop&&s.go(-1,!1)}).catch(Zo),Promise.reject()):(z.delta&&s.go(-z.delta,!1),dt(b,Z,v))).then(b=>{b=b||H(Z,v,!1),b&&(z.delta&&!ei(b,8)?s.go(-z.delta,!1):z.type===xa.pop&&ei(b,20)&&s.go(-1,!1)),U(Z,v,b)}).catch(Zo)}))}let ft=Io(),J=Io(),rt;function dt(R,G,z){ze(R);const Z=J.list();return Z.length?Z.forEach(Ct=>Ct(R,G,z)):console.error(R),Promise.reject(R)}function Lt(){return rt&&l.value!==Mi?Promise.resolve():new Promise((R,G)=>{ft.add([R,G])})}function ze(R){return rt||(rt=!R,st(),ft.list().forEach(([G,z])=>R?z(R):G()),ft.reset()),R}function je(R,G,z,Z){const{scrollBehavior:Ct}=e;if(!br||!Ct)return Promise.resolve();const v=!z&&oP(U_(R.fullPath,0))||(Z||!z)&&history.state&&history.state.scroll||null;return Wp().then(()=>Ct(R,G,v)).then(b=>b&&sP(b)).catch(b=>dt(b,R,G))}const se=R=>s.go(R);let fn;const dn=new Set,Nn={currentRoute:l,listening:!0,addRoute:d,removeRoute:p,hasRoute:m,getRoutes:g,resolve:_,options:e,push:E,replace:I,go:se,back:()=>se(-1),forward:()=>se(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:J.add,isReady:Lt,install(R){const G=this;R.component("RouterLink",jr),R.component("RouterView",jw),R.config.globalProperties.$router=G,Object.defineProperty(R.config.globalProperties,"$route",{enumerable:!0,get:()=>Rt(l)}),br&&!fn&&l.value===Mi&&(fn=!0,E(s.location).catch(Ct=>{}));const z={};for(const Ct in Mi)Object.defineProperty(z,Ct,{get:()=>l.value[Ct],enumerable:!0});R.provide(Qu,G),R.provide(ig,X0(z)),R.provide(yd,l);const Z=R.unmount;dn.add(R),R.unmount=function(){dn.delete(R),dn.size<1&&(c=Mi,Et&&Et(),Et=null,l.value=Mi,fn=!1,rt=!1),Z()}}};function Qt(R){return R.reduce((G,z)=>G.then(()=>C(z)),Promise.resolve())}return Nn}function KP(e,t){const n=[],i=[],s=[],r=Math.max(t.matched.length,e.matched.length);for(let o=0;o<r;o++){const a=t.matched[o];a&&(e.matched.find(c=>$r(c,a))?i.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(c=>$r(c,l))||s.push(l))}return[n,i,s]}function Ju(){return mn(Qu)}function Hw(){return mn(ig)}const fs=qk("user",()=>{const e=lt(""),t=lt(""),n=lt(""),i=lt("#ff8800"),s=()=>{console.log({username:e.value})};return Kn(i,r=>{}),{username:e,height:t,weight:n,color:i,showUser:s}});const On=(e,t)=>{const n=e.__vccOpts||e;for(const[i,s]of t)n[i]=s;return n},GP={class:"menu"},YP=["title"],XP={__name:"Menu",setup(e){const t=Hw(),n=fs(),i=[{path:"/workouts",name:"home",icon:"dumbbell"},{path:"/stats",name:"stats",icon:"chart-simple"},{path:"/user",name:"user",icon:"user"}];return(s,r)=>{const o=ao("font-awesome-icon");return pt(),wt("nav",GP,[(pt(),wt(Re,null,Mo(i,a=>kt(Rt(jr),{class:"icon",to:a.path},{default:Ws(()=>[A("abbr",{class:"center",title:a.name},[kt(o,{icon:a.icon,style:mi({color:Rt(t).path==a.path?Rt(n).color:"#aeaeae"}),alt:"elm.name"},null,8,["icon","style"])],8,YP)]),_:2},1032,["to"])),64))])}}},QP=On(XP,[["__scopeId","data-v-9cb2f071"]]),Ww="/Flex/assets/flex_white-961ad9e8.png";const JP=e=>(rr("data-v-111a95a4"),e=e(),or(),e),ZP=JP(()=>A("img",{src:Ww,alt:"FLEX",class:"w-10"},null,-1)),tR=[ZP],eR={__name:"Header",props:{title:"title",color:"color"},setup(e){const t=fs();return(n,i)=>(pt(),wt("div",{class:"header center",style:mi({borderColor:Rt(t).color})},tR,4))}},nR=On(eR,[["__scopeId","data-v-111a95a4"]]);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},iR=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=e[n++];t[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=e[n++],o=e[n++],a=e[n++],l=((s&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(l&1023))}else{const r=e[n++],o=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|o&63)}}return t.join("")},Kw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const r=e[s],o=s+1<e.length,a=o?e[s+1]:0,l=s+2<e.length,c=l?e[s+2]:0,u=r>>2,h=(r&3)<<4|a>>4;let f=(a&15)<<2|c>>6,d=c&63;l||(d=64,o||(f=64)),i.push(n[u],n[h],n[f],n[d])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(qw(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):iR(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const r=n[e.charAt(s++)],a=s<e.length?n[e.charAt(s)]:0;++s;const c=s<e.length?n[e.charAt(s)]:64;++s;const h=s<e.length?n[e.charAt(s)]:64;if(++s,r==null||a==null||c==null||h==null)throw new sR;const f=r<<2|a>>4;if(i.push(f),c!==64){const d=a<<4&240|c>>2;if(i.push(d),h!==64){const p=c<<6&192|h;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class sR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rR=function(e){const t=qw(e);return Kw.encodeByteArray(t,!0)},eu=function(e){return rR(e).replace(/\./g,"")},Gw=function(e){try{return Kw.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=()=>oR().__FIREBASE_DEFAULTS__,lR=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},cR=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Gw(e[1]);return t&&JSON.parse(t)},sg=()=>{try{return aR()||lR()||cR()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Yw=e=>{var t,n;return(n=(t=sg())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},uR=e=>{const t=Yw(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},Xw=()=>{var e;return(e=sg())===null||e===void 0?void 0:e.config},Qw=e=>{var t;return(t=sg())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=t||"demo-project",s=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[eu(JSON.stringify(n)),eu(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ue())}function Jw(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function pR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gR(){const e=Ue();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Zw(){try{return typeof indexedDB=="object"}catch{return!1}}function t1(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;t(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){t(n)}})}function mR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R="FirebaseError";class Dn extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=_R,Object.setPrototypeOf(this,Dn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ar.prototype.create)}}class ar{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,r=this.errors[t],o=r?yR(r,i):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Dn(s,a,i)}}function yR(e,t){return e.replace(vR,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const vR=/\{\$([^}]+)}/g;function bR(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Aa(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const r=e[s],o=t[s];if(Z_(r)&&Z_(o)){if(!Aa(r,o))return!1}else if(r!==o)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function Z_(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Do(e){const t={};return e.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,r]=i.split("=");t[decodeURIComponent(s)]=decodeURIComponent(r)}}),t}function No(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function wR(e,t){const n=new ER(e,t);return n.subscribe.bind(n)}class ER{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");IR(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=af),s.error===void 0&&(s.error=af),s.complete===void 0&&(s.complete=af);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IR(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function af(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=1e3,xR=2,AR=4*60*60*1e3,SR=.5;function ty(e,t=TR,n=xR){const i=t*Math.pow(n,e),s=Math.round(SR*i*(Math.random()-.5)*2);return Math.min(AR,i+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(e){return e&&e._delegate?e._delegate:e}class Rn{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new hR;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(RR(t))try{this.getOrInitializeService({instanceIdentifier:Is})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(t=Is){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Is){return this.instances.has(t)}getOptions(t=Is){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);i===a&&o.resolve(s)}return s}onInit(t,n){var i;const s=this.normalizeInstanceIdentifier(n),r=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;r.add(t),this.onInitCallbacks.set(s,r);const o=this.instances.get(s);return o&&t(o,s),()=>{r.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:PR(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Is){return this.component?this.component.multipleInstances?t:Is:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function PR(e){return e===Is?void 0:e}function RR(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new kR(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(St||(St={}));const MR={debug:St.DEBUG,verbose:St.VERBOSE,info:St.INFO,warn:St.WARN,error:St.ERROR,silent:St.SILENT},OR=St.INFO,DR={[St.DEBUG]:"log",[St.VERBOSE]:"log",[St.INFO]:"info",[St.WARN]:"warn",[St.ERROR]:"error"},NR=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=DR[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Zu{constructor(t){this.name=t,this._logLevel=OR,this._logHandler=NR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in St))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?MR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,St.DEBUG,...t),this._logHandler(this,St.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,St.VERBOSE,...t),this._logHandler(this,St.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,St.INFO,...t),this._logHandler(this,St.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,St.WARN,...t),this._logHandler(this,St.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,St.ERROR,...t),this._logHandler(this,St.ERROR,...t)}}const LR=(e,t)=>t.some(n=>e instanceof n);let ey,ny;function VR(){return ey||(ey=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FR(){return ny||(ny=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const e1=new WeakMap,vd=new WeakMap,n1=new WeakMap,lf=new WeakMap,rg=new WeakMap;function UR(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",r),e.removeEventListener("error",o)},r=()=>{n(Yi(e.result)),s()},o=()=>{i(e.error),s()};e.addEventListener("success",r),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&e1.set(n,e)}).catch(()=>{}),rg.set(t,e),t}function BR(e){if(vd.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",o),e.removeEventListener("abort",o)},r=()=>{n(),s()},o=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",r),e.addEventListener("error",o),e.addEventListener("abort",o)});vd.set(e,t)}let bd={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return vd.get(e);if(t==="objectStoreNames")return e.objectStoreNames||n1.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function $R(e){bd=e(bd)}function zR(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(cf(this),t,...n);return n1.set(i,t.sort?t.sort():[t]),Yi(i)}:FR().includes(e)?function(...t){return e.apply(cf(this),t),Yi(e1.get(this))}:function(...t){return Yi(e.apply(cf(this),t))}}function jR(e){return typeof e=="function"?zR(e):(e instanceof IDBTransaction&&BR(e),LR(e,VR())?new Proxy(e,bd):e)}function Yi(e){if(e instanceof IDBRequest)return UR(e);if(lf.has(e))return lf.get(e);const t=jR(e);return t!==e&&(lf.set(e,t),rg.set(t,e)),t}const cf=e=>rg.get(e);function HR(e,t,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(e,t),a=Yi(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Yi(o.result),l.oldVersion,l.newVersion,Yi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const WR=["get","getKey","getAll","getAllKeys","count"],qR=["put","add","delete","clear"],uf=new Map;function iy(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(uf.get(t))return uf.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=qR.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||WR.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return uf.set(t,r),r}$R(e=>({...e,get:(t,n,i)=>iy(t,n)||e.get(t,n,i),has:(t,n)=>!!iy(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GR(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function GR(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const wd="@firebase/app",sy="0.9.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks=new Zu("@firebase/app"),YR="@firebase/app-compat",XR="@firebase/analytics-compat",QR="@firebase/analytics",JR="@firebase/app-check-compat",ZR="@firebase/app-check",tC="@firebase/auth",eC="@firebase/auth-compat",nC="@firebase/database",iC="@firebase/database-compat",sC="@firebase/functions",rC="@firebase/functions-compat",oC="@firebase/installations",aC="@firebase/installations-compat",lC="@firebase/messaging",cC="@firebase/messaging-compat",uC="@firebase/performance",hC="@firebase/performance-compat",fC="@firebase/remote-config",dC="@firebase/remote-config-compat",pC="@firebase/storage",gC="@firebase/storage-compat",mC="@firebase/firestore",_C="@firebase/firestore-compat",yC="firebase",vC="10.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed="[DEFAULT]",bC={[wd]:"fire-core",[YR]:"fire-core-compat",[QR]:"fire-analytics",[XR]:"fire-analytics-compat",[ZR]:"fire-app-check",[JR]:"fire-app-check-compat",[tC]:"fire-auth",[eC]:"fire-auth-compat",[nC]:"fire-rtdb",[iC]:"fire-rtdb-compat",[sC]:"fire-fn",[rC]:"fire-fn-compat",[oC]:"fire-iid",[aC]:"fire-iid-compat",[lC]:"fire-fcm",[cC]:"fire-fcm-compat",[uC]:"fire-perf",[hC]:"fire-perf-compat",[fC]:"fire-rc",[dC]:"fire-rc-compat",[pC]:"fire-gcs",[gC]:"fire-gcs-compat",[mC]:"fire-fst",[_C]:"fire-fst-compat","fire-js":"fire-js",[yC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=new Map,Id=new Map;function wC(e,t){try{e.container.addComponent(t)}catch(n){Ks.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Zn(e){const t=e.name;if(Id.has(t))return Ks.debug(`There were multiple attempts to register component ${t}.`),!1;Id.set(t,e);for(const n of nu.values())wC(n,e);return!0}function lr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Xi=new ar("app","Firebase",EC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(t,n,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Rn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=vC;function i1(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i=Object.assign({name:Ed,automaticDataCollectionEnabled:!1},t),s=i.name;if(typeof s!="string"||!s)throw Xi.create("bad-app-name",{appName:String(s)});if(n||(n=Xw()),!n)throw Xi.create("no-options");const r=nu.get(s);if(r){if(Aa(n,r.options)&&Aa(i,r.config))return r;throw Xi.create("duplicate-app",{appName:s})}const o=new CR(s);for(const l of Id.values())o.addComponent(l);const a=new IC(n,i,o);return nu.set(s,a),a}function og(e=Ed){const t=nu.get(e);if(!t&&e===Ed&&Xw())return i1();if(!t)throw Xi.create("no-app",{appName:e});return t}function _n(e,t,n){var i;let s=(i=bC[e])!==null&&i!==void 0?i:e;n&&(s+=`-${n}`);const r=s.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const a=[`Unable to register library "${s}" with version "${t}":`];r&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ks.warn(a.join(" "));return}Zn(new Rn(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="firebase-heartbeat-database",xC=1,Sa="firebase-heartbeat-store";let hf=null;function s1(){return hf||(hf=HR(TC,xC,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Sa)}}}).catch(e=>{throw Xi.create("idb-open",{originalErrorMessage:e.message})})),hf}async function AC(e){try{return await(await s1()).transaction(Sa).objectStore(Sa).get(r1(e))}catch(t){if(t instanceof Dn)Ks.warn(t.message);else{const n=Xi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ks.warn(n.message)}}}async function ry(e,t){try{const i=(await s1()).transaction(Sa,"readwrite");await i.objectStore(Sa).put(t,r1(e)),await i.done}catch(n){if(n instanceof Dn)Ks.warn(n.message);else{const i=Xi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ks.warn(i.message)}}}function r1(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=1024,kC=30*24*60*60*1e3;class PC{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new CC(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=oy();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const r=new Date(s.date).valueOf();return Date.now()-r<=kC}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=oy(),{heartbeatsToSend:n,unsentEntries:i}=RC(this._heartbeatsCache.heartbeats),s=eu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function oy(){return new Date().toISOString().substring(0,10)}function RC(e,t=SC){const n=[];let i=e.slice();for(const s of e){const r=n.find(o=>o.agent===s.agent);if(r){if(r.dates.push(s.date),ay(n)>t){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ay(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class CC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Zw()?t1().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await AC(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ry(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ry(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function ay(e){return eu(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MC(e){Zn(new Rn("platform-logger",t=>new KR(t),"PRIVATE")),Zn(new Rn("heartbeat",t=>new PC(t),"PRIVATE")),_n(wd,sy,e),_n(wd,sy,"esm2017"),_n("fire-js","")}MC("");var OC="firebase",DC="10.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n(OC,DC,"app");const NC=(e,t)=>t.some(n=>e instanceof n);let ly,cy;function LC(){return ly||(ly=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VC(){return cy||(cy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const o1=new WeakMap,Td=new WeakMap,a1=new WeakMap,ff=new WeakMap,ag=new WeakMap;function FC(e){const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("success",r),e.removeEventListener("error",o)},r=()=>{n(Qi(e.result)),s()},o=()=>{i(e.error),s()};e.addEventListener("success",r),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&o1.set(n,e)}).catch(()=>{}),ag.set(t,e),t}function UC(e){if(Td.has(e))return;const t=new Promise((n,i)=>{const s=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",o),e.removeEventListener("abort",o)},r=()=>{n(),s()},o=()=>{i(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",r),e.addEventListener("error",o),e.addEventListener("abort",o)});Td.set(e,t)}let xd={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Td.get(e);if(t==="objectStoreNames")return e.objectStoreNames||a1.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qi(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function BC(e){xd=e(xd)}function $C(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const i=e.call(df(this),t,...n);return a1.set(i,t.sort?t.sort():[t]),Qi(i)}:VC().includes(e)?function(...t){return e.apply(df(this),t),Qi(o1.get(this))}:function(...t){return Qi(e.apply(df(this),t))}}function zC(e){return typeof e=="function"?$C(e):(e instanceof IDBTransaction&&UC(e),NC(e,LC())?new Proxy(e,xd):e)}function Qi(e){if(e instanceof IDBRequest)return FC(e);if(ff.has(e))return ff.get(e);const t=zC(e);return t!==e&&(ff.set(e,t),ag.set(t,e)),t}const df=e=>ag.get(e);function jC(e,t,{blocked:n,upgrade:i,blocking:s,terminated:r}={}){const o=indexedDB.open(e,t),a=Qi(o);return i&&o.addEventListener("upgradeneeded",l=>{i(Qi(o.result),l.oldVersion,l.newVersion,Qi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",()=>s())}).catch(()=>{}),a}const HC=["get","getKey","getAll","getAllKeys","count"],WC=["put","add","delete","clear"],pf=new Map;function uy(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(pf.get(t))return pf.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,s=WC.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||HC.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return i&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return pf.set(t,r),r}BC(e=>({...e,get:(t,n,i)=>uy(t,n)||e.get(t,n,i),has:(t,n)=>!!uy(t,n)||e.has(t,n)}));const l1="@firebase/installations",lg="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=1e4,u1=`w:${lg}`,h1="FIS_v2",qC="https://firebaseinstallations.googleapis.com/v1",KC=60*60*1e3,GC="installations",YC="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Gs=new ar(GC,YC,XC);function f1(e){return e instanceof Dn&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1({projectId:e}){return`${qC}/projects/${e}/installations`}function p1(e){return{token:e.token,requestStatus:2,expiresIn:JC(e.expiresIn),creationTime:Date.now()}}async function g1(e,t){const i=(await t.json()).error;return Gs.create("request-failed",{requestName:e,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function m1({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function QC(e,{refreshToken:t}){const n=m1(e);return n.append("Authorization",ZC(t)),n}async function _1(e){const t=await e();return t.status>=500&&t.status<600?e():t}function JC(e){return Number(e.replace("s","000"))}function ZC(e){return`${h1} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const i=d1(e),s=m1(e),r=t.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:h1,appId:e.appId,sdkVersion:u1},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await _1(()=>fetch(i,a));if(l.ok){const c=await l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:p1(c.authToken)}}else throw await g1("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=/^[cdef][\w-]{21}$/,Ad="";function i2(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=s2(e);return n2.test(n)?n:Ad}catch{return Ad}}function s2(e){return e2(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=new Map;function b1(e,t){const n=th(e);w1(n,t),r2(n,t)}function w1(e,t){const n=v1.get(e);if(n)for(const i of n)i(t)}function r2(e,t){const n=o2();n&&n.postMessage({key:e,fid:t}),a2()}let Rs=null;function o2(){return!Rs&&"BroadcastChannel"in self&&(Rs=new BroadcastChannel("[Firebase] FID Change"),Rs.onmessage=e=>{w1(e.data.key,e.data.fid)}),Rs}function a2(){v1.size===0&&Rs&&(Rs.close(),Rs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="firebase-installations-database",c2=1,Ys="firebase-installations-store";let gf=null;function cg(){return gf||(gf=jC(l2,c2,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Ys)}}})),gf}async function iu(e,t){const n=th(e),s=(await cg()).transaction(Ys,"readwrite"),r=s.objectStore(Ys),o=await r.get(n);return await r.put(t,n),await s.done,(!o||o.fid!==t.fid)&&b1(e,t.fid),t}async function E1(e){const t=th(e),i=(await cg()).transaction(Ys,"readwrite");await i.objectStore(Ys).delete(t),await i.done}async function eh(e,t){const n=th(e),s=(await cg()).transaction(Ys,"readwrite"),r=s.objectStore(Ys),o=await r.get(n),a=t(o);return a===void 0?await r.delete(n):await r.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&b1(e,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ug(e){let t;const n=await eh(e.appConfig,i=>{const s=u2(i),r=h2(e,s);return t=r.registrationPromise,r.installationEntry});return n.fid===Ad?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function u2(e){const t=e||{fid:i2(),registrationStatus:0};return I1(t)}function h2(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Gs.create("app-offline"));return{installationEntry:t,registrationPromise:s}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=f2(e,n);return{installationEntry:n,registrationPromise:i}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:d2(e)}:{installationEntry:t}}async function f2(e,t){try{const n=await t2(e,t);return iu(e.appConfig,n)}catch(n){throw f1(n)&&n.customData.serverCode===409?await E1(e.appConfig):await iu(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function d2(e){let t=await hy(e.appConfig);for(;t.registrationStatus===1;)await y1(100),t=await hy(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await ug(e);return i||n}return t}function hy(e){return eh(e,t=>{if(!t)throw Gs.create("installation-not-found");return I1(t)})}function I1(e){return p2(e)?{fid:e.fid,registrationStatus:0}:e}function p2(e){return e.registrationStatus===1&&e.registrationTime+c1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g2({appConfig:e,heartbeatServiceProvider:t},n){const i=m2(e,n),s=QC(e,n),r=t.getImmediate({optional:!0});if(r){const c=await r.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:u1,appId:e.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await _1(()=>fetch(i,a));if(l.ok){const c=await l.json();return p1(c)}else throw await g1("Generate Auth Token",l)}function m2(e,{fid:t}){return`${d1(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hg(e,t=!1){let n;const i=await eh(e.appConfig,r=>{if(!T1(r))throw Gs.create("not-registered");const o=r.authToken;if(!t&&v2(o))return r;if(o.requestStatus===1)return n=_2(e,t),r;{if(!navigator.onLine)throw Gs.create("app-offline");const a=w2(r);return n=y2(e,a),a}});return n?await n:i.authToken}async function _2(e,t){let n=await fy(e.appConfig);for(;n.authToken.requestStatus===1;)await y1(100),n=await fy(e.appConfig);const i=n.authToken;return i.requestStatus===0?hg(e,t):i}function fy(e){return eh(e,t=>{if(!T1(t))throw Gs.create("not-registered");const n=t.authToken;return E2(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function y2(e,t){try{const n=await g2(e,t),i=Object.assign(Object.assign({},t),{authToken:n});return await iu(e.appConfig,i),n}catch(n){if(f1(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await E1(e.appConfig);else{const i=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await iu(e.appConfig,i)}throw n}}function T1(e){return e!==void 0&&e.registrationStatus===2}function v2(e){return e.requestStatus===2&&!b2(e)}function b2(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+KC}function w2(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function E2(e){return e.requestStatus===1&&e.requestTime+c1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I2(e){const t=e,{installationEntry:n,registrationPromise:i}=await ug(t);return i?i.catch(console.error):hg(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T2(e,t=!1){const n=e;return await x2(n),(await hg(n,t)).token}async function x2(e){const{registrationPromise:t}=await ug(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(e){if(!e||!e.options)throw mf("App Configuration");if(!e.name)throw mf("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw mf(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function mf(e){return Gs.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="installations",S2="installations-internal",k2=e=>{const t=e.getProvider("app").getImmediate(),n=A2(t),i=lr(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},P2=e=>{const t=e.getProvider("app").getImmediate(),n=lr(t,x1).getImmediate();return{getId:()=>I2(n),getToken:s=>T2(n,s)}};function R2(){Zn(new Rn(x1,k2,"PUBLIC")),Zn(new Rn(S2,P2,"PRIVATE"))}R2();_n(l1,lg);_n(l1,lg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su="analytics",C2="firebase_id",M2="origin",O2=60*1e3,D2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",fg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ze=new Zu("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},cn=new ar("analytics","Analytics",N2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(e){if(!e.startsWith(fg)){const t=cn.create("invalid-gtag-resource",{gtagURL:e});return Ze.warn(t.message),""}return e}function A1(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function V2(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function F2(e,t){const n=V2("firebase-js-sdk-policy",{createScriptURL:L2}),i=document.createElement("script"),s=`${fg}?l=${e}&id=${t}`;i.src=n?n==null?void 0:n.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function U2(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function B2(e,t,n,i,s,r){const o=i[s];try{if(o)await t[o];else{const l=(await A1(n)).find(c=>c.measurementId===s);l&&await t[l.appId]}}catch(a){Ze.error(a)}e("config",s,r)}async function $2(e,t,n,i,s){try{let r=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await A1(n);for(const l of o){const c=a.find(h=>h.measurementId===l),u=c&&t[c.appId];if(u)r.push(u);else{r=[];break}}}r.length===0&&(r=Object.values(t)),await Promise.all(r),e("event",i,s||{})}catch(r){Ze.error(r)}}function z2(e,t,n,i){async function s(r,...o){try{if(r==="event"){const[a,l]=o;await $2(e,t,n,a,l)}else if(r==="config"){const[a,l]=o;await B2(e,t,n,i,a,l)}else if(r==="consent"){const[a]=o;e("consent","update",a)}else if(r==="get"){const[a,l,c]=o;e("get",a,l,c)}else if(r==="set"){const[a]=o;e("set",a)}else e(r,...o)}catch(a){Ze.error(a)}}return s}function j2(e,t,n,i,s){let r=function(...o){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(r=window[s]),window[s]=z2(r,e,t,n),{gtagCore:r,wrappedGtag:window[s]}}function H2(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(fg)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=30,q2=1e3;class K2{constructor(t={},n=q2){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const S1=new K2;function G2(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Y2(e){var t;const{appId:n,apiKey:i}=e,s={method:"GET",headers:G2(i)},r=D2.replace("{app-id}",n),o=await fetch(r,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((t=l.error)===null||t===void 0)&&t.message&&(a=l.error.message)}catch{}throw cn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function X2(e,t=S1,n){const{appId:i,apiKey:s,measurementId:r}=e.options;if(!i)throw cn.create("no-app-id");if(!s){if(r)return{measurementId:r,appId:i};throw cn.create("no-api-key")}const o=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Z2;return setTimeout(async()=>{a.abort()},n!==void 0?n:O2),k1({appId:i,apiKey:s,measurementId:r},o,a,t)}async function k1(e,{throttleEndTimeMillis:t,backoffCount:n},i,s=S1){var r;const{appId:o,measurementId:a}=e;try{await Q2(i,t)}catch(l){if(a)return Ze.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await Y2(e);return s.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!J2(c)){if(s.deleteThrottleMetadata(o),a)return Ze.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const u=Number((r=c==null?void 0:c.customData)===null||r===void 0?void 0:r.httpStatus)===503?ty(n,s.intervalMillis,W2):ty(n,s.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return s.setThrottleMetadata(o,h),Ze.debug(`Calling attemptFetch again in ${u} millis`),k1(e,h,i,s)}}function Q2(e,t){return new Promise((n,i)=>{const s=Math.max(t-Date.now(),0),r=setTimeout(n,s);e.addEventListener(()=>{clearTimeout(r),i(cn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function J2(e){if(!(e instanceof Dn)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class Z2{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function tM(e,t,n,i,s){if(s&&s.global){e("event",n,i);return}else{const r=await t,o=Object.assign(Object.assign({},i),{send_to:r});e("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eM(){if(Zw())try{await t1()}catch(e){return Ze.warn(cn.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return Ze.warn(cn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function nM(e,t,n,i,s,r,o){var a;const l=X2(e);l.then(d=>{n[d.measurementId]=d.appId,e.options.measurementId&&d.measurementId!==e.options.measurementId&&Ze.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${d.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(d=>Ze.error(d)),t.push(l);const c=eM().then(d=>{if(d)return i.getId()}),[u,h]=await Promise.all([l,c]);H2(r)||F2(r,u.measurementId),s("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[M2]="firebase",f.update=!0,h!=null&&(f[C2]=h),s("config",u.measurementId,f),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(t){this.app=t}_delete(){return delete ea[this.app.options.appId],Promise.resolve()}}let ea={},dy=[];const py={};let _f="dataLayer",sM="gtag",gy,P1,my=!1;function rM(){const e=[];if(Jw()&&e.push("This is a browser extension environment."),mR()||e.push("Cookies are not available."),e.length>0){const t=e.map((i,s)=>`(${s+1}) ${i}`).join(" "),n=cn.create("invalid-analytics-context",{errorInfo:t});Ze.warn(n.message)}}function oM(e,t,n){rM();const i=e.options.appId;if(!i)throw cn.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)Ze.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw cn.create("no-api-key");if(ea[i]!=null)throw cn.create("already-exists",{id:i});if(!my){U2(_f);const{wrappedGtag:r,gtagCore:o}=j2(ea,dy,py,_f,sM);P1=r,gy=o,my=!0}return ea[i]=nM(e,dy,py,t,gy,_f,n),new iM(e)}function aM(e=og()){e=ne(e);const t=lr(e,su);return t.isInitialized()?t.getImmediate():lM(e)}function lM(e,t={}){const n=lr(e,su);if(n.isInitialized()){const s=n.getImmediate();if(Aa(t,n.getOptions()))return s;throw cn.create("already-initialized")}return n.initialize({options:t})}function cM(e,t,n,i){e=ne(e),tM(P1,ea[e.app.options.appId],t,n,i).catch(s=>Ze.error(s))}const _y="@firebase/analytics",yy="0.10.0";function uM(){Zn(new Rn(su,(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("installations-internal").getImmediate();return oM(i,s,n)},"PUBLIC")),Zn(new Rn("analytics-internal",e,"PRIVATE")),_n(_y,yy),_n(_y,yy,"esm2017");function e(t){try{const n=t.getProvider(su).getImmediate();return{logEvent:(i,s,r)=>cM(n,i,s,r)}}catch(n){throw cn.create("interop-component-reg-failed",{reason:n})}}}uM();var hM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},j,dg=dg||{},ct=hM||self;function nh(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function al(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function fM(e){return Object.prototype.hasOwnProperty.call(e,yf)&&e[yf]||(e[yf]=++dM)}var yf="closure_uid_"+(1e9*Math.random()>>>0),dM=0;function pM(e,t,n){return e.call.apply(e.bind,arguments)}function gM(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,i),e.apply(t,s)}}return function(){return e.apply(t,arguments)}}function Ne(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ne=pM:Ne=gM,Ne.apply(null,arguments)}function Wl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),e.apply(this,i)}}function Ee(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(i,s,r){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[s].apply(i,o)}}function ds(){this.s=this.s,this.o=this.o}var mM=0;ds.prototype.s=!1;ds.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),mM!=0)&&fM(this)};ds.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const R1=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function pg(e){const t=e.length;if(0<t){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function vy(e,t){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(nh(i)){const s=e.length||0,r=i.length||0;e.length=s+r;for(let o=0;o<r;o++)e[s+o]=i[o]}else e.push(i)}}function Le(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Le.prototype.h=function(){this.defaultPrevented=!0};var _M=function(){if(!ct.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ct.addEventListener("test",()=>{},t),ct.removeEventListener("test",()=>{},t)}catch{}return e}();function ka(e){return/^[\s\xa0]*$/.test(e)}function ih(){var e=ct.navigator;return e&&(e=e.userAgent)?e:""}function zn(e){return ih().indexOf(e)!=-1}function gg(e){return gg[" "](e),e}gg[" "]=function(){};function yM(e,t){var n=uO;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var vM=zn("Opera"),Hr=zn("Trident")||zn("MSIE"),C1=zn("Edge"),Sd=C1||Hr,M1=zn("Gecko")&&!(ih().toLowerCase().indexOf("webkit")!=-1&&!zn("Edge"))&&!(zn("Trident")||zn("MSIE"))&&!zn("Edge"),bM=ih().toLowerCase().indexOf("webkit")!=-1&&!zn("Edge");function O1(){var e=ct.document;return e?e.documentMode:void 0}var kd;t:{var vf="",bf=function(){var e=ih();if(M1)return/rv:([^\);]+)(\)|;)/.exec(e);if(C1)return/Edge\/([\d\.]+)/.exec(e);if(Hr)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(bM)return/WebKit\/(\S+)/.exec(e);if(vM)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(bf&&(vf=bf?bf[1]:""),Hr){var wf=O1();if(wf!=null&&wf>parseFloat(vf)){kd=String(wf);break t}}kd=vf}var Pd;if(ct.document&&Hr){var by=O1();Pd=by||parseInt(kd,10)||void 0}else Pd=void 0;var wM=Pd;function Pa(e,t){if(Le.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(M1){t:{try{gg(t.nodeName);var s=!0;break t}catch{}s=!1}s||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=i.clientX!==void 0?i.clientX:i.pageX,this.clientY=i.clientY!==void 0?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:EM[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Pa.$.h.call(this)}}Ee(Pa,Le);var EM={2:"touch",3:"pen",4:"mouse"};Pa.prototype.h=function(){Pa.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ll="closure_listenable_"+(1e6*Math.random()|0),IM=0;function TM(e,t,n,i,s){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.la=s,this.key=++IM,this.fa=this.ia=!1}function sh(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function mg(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function xM(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function D1(e){const t={};for(const n in e)t[n]=e[n];return t}const wy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N1(e,t){let n,i;for(let s=1;s<arguments.length;s++){i=arguments[s];for(n in i)e[n]=i[n];for(let r=0;r<wy.length;r++)n=wy[r],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function rh(e){this.src=e,this.g={},this.h=0}rh.prototype.add=function(e,t,n,i,s){var r=e.toString();e=this.g[r],e||(e=this.g[r]=[],this.h++);var o=Cd(e,t,i,s);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new TM(t,this.src,r,!!i,s),t.ia=n,e.push(t)),t};function Rd(e,t){var n=t.type;if(n in e.g){var i=e.g[n],s=R1(i,t),r;(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(sh(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function Cd(e,t,n,i){for(var s=0;s<e.length;++s){var r=e[s];if(!r.fa&&r.listener==t&&r.capture==!!n&&r.la==i)return s}return-1}var _g="closure_lm_"+(1e6*Math.random()|0),Ef={};function L1(e,t,n,i,s){if(i&&i.once)return F1(e,t,n,i,s);if(Array.isArray(t)){for(var r=0;r<t.length;r++)L1(e,t[r],n,i,s);return null}return n=bg(n),e&&e[ll]?e.O(t,n,al(i)?!!i.capture:!!i,s):V1(e,t,n,!1,i,s)}function V1(e,t,n,i,s,r){if(!t)throw Error("Invalid event type");var o=al(s)?!!s.capture:!!s,a=vg(e);if(a||(e[_g]=a=new rh(e)),n=a.add(t,n,i,o,r),n.proxy)return n;if(i=AM(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)_M||(s=o),s===void 0&&(s=!1),e.addEventListener(t.toString(),i,s);else if(e.attachEvent)e.attachEvent(B1(t.toString()),i);else if(e.addListener&&e.removeListener)e.addListener(i);else throw Error("addEventListener and attachEvent are unavailable.");return n}function AM(){function e(n){return t.call(e.src,e.listener,n)}const t=SM;return e}function F1(e,t,n,i,s){if(Array.isArray(t)){for(var r=0;r<t.length;r++)F1(e,t[r],n,i,s);return null}return n=bg(n),e&&e[ll]?e.P(t,n,al(i)?!!i.capture:!!i,s):V1(e,t,n,!0,i,s)}function U1(e,t,n,i,s){if(Array.isArray(t))for(var r=0;r<t.length;r++)U1(e,t[r],n,i,s);else i=al(i)?!!i.capture:!!i,n=bg(n),e&&e[ll]?(e=e.i,t=String(t).toString(),t in e.g&&(r=e.g[t],n=Cd(r,n,i,s),-1<n&&(sh(r[n]),Array.prototype.splice.call(r,n,1),r.length==0&&(delete e.g[t],e.h--)))):e&&(e=vg(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Cd(t,n,i,s)),(n=-1<e?t[e]:null)&&yg(n))}function yg(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[ll])Rd(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(B1(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=vg(t))?(Rd(n,e),n.h==0&&(n.src=null,t[_g]=null)):sh(e)}}}function B1(e){return e in Ef?Ef[e]:Ef[e]="on"+e}function SM(e,t){if(e.fa)e=!0;else{t=new Pa(t,this);var n=e.listener,i=e.la||e.src;e.ia&&yg(e),e=n.call(i,t)}return e}function vg(e){return e=e[_g],e instanceof rh?e:null}var If="__closure_events_fn_"+(1e9*Math.random()>>>0);function bg(e){return typeof e=="function"?e:(e[If]||(e[If]=function(t){return e.handleEvent(t)}),e[If])}function we(){ds.call(this),this.i=new rh(this),this.S=this,this.J=null}Ee(we,ds);we.prototype[ll]=!0;we.prototype.removeEventListener=function(e,t,n,i){U1(this,e,t,n,i)};function Ae(e,t){var n,i=e.J;if(i)for(n=[];i;i=i.J)n.push(i);if(e=e.S,i=t.type||t,typeof t=="string")t=new Le(t,e);else if(t instanceof Le)t.target=t.target||e;else{var s=t;t=new Le(i,e),N1(t,s)}if(s=!0,n)for(var r=n.length-1;0<=r;r--){var o=t.g=n[r];s=ql(o,i,!0,t)&&s}if(o=t.g=e,s=ql(o,i,!0,t)&&s,s=ql(o,i,!1,t)&&s,n)for(r=0;r<n.length;r++)o=t.g=n[r],s=ql(o,i,!1,t)&&s}we.prototype.N=function(){if(we.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],i=0;i<n.length;i++)sh(n[i]);delete e.g[t],e.h--}}this.J=null};we.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)};we.prototype.P=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};function ql(e,t,n,i){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var s=!0,r=0;r<t.length;++r){var o=t[r];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Rd(e.i,o),s=a.call(l,i)!==!1&&s}}return s&&!i.defaultPrevented}var wg=ct.JSON.stringify;class kM{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function PM(){var e=Eg;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class RM{constructor(){this.h=this.g=null}add(t,n){const i=$1.get();i.set(t,n),this.h?this.h.next=i:this.g=i,this.h=i}}var $1=new kM(()=>new CM,e=>e.reset());class CM{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function MM(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function OM(e){ct.setTimeout(()=>{throw e},0)}let Ra,Ca=!1,Eg=new RM,z1=()=>{const e=ct.Promise.resolve(void 0);Ra=()=>{e.then(DM)}};var DM=()=>{for(var e;e=PM();){try{e.h.call(e.g)}catch(n){OM(n)}var t=$1;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ca=!1};function oh(e,t){we.call(this),this.h=e||1,this.g=t||ct,this.j=Ne(this.qb,this),this.l=Date.now()}Ee(oh,we);j=oh.prototype;j.ga=!1;j.T=null;j.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ae(this,"tick"),this.ga&&(Ig(this),this.start()))}};j.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ig(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}j.N=function(){oh.$.N.call(this),Ig(this),delete this.g};function Tg(e,t,n){if(typeof e=="function")n&&(e=Ne(e,n));else if(e&&typeof e.handleEvent=="function")e=Ne(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:ct.setTimeout(e,t||0)}function j1(e){e.g=Tg(()=>{e.g=null,e.i&&(e.i=!1,j1(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class NM extends ds{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:j1(this)}N(){super.N(),this.g&&(ct.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ma(e){ds.call(this),this.h=e,this.g={}}Ee(Ma,ds);var Ey=[];function H1(e,t,n,i){Array.isArray(n)||(n&&(Ey[0]=n.toString()),n=Ey);for(var s=0;s<n.length;s++){var r=L1(t,n[s],i||e.handleEvent,!1,e.h||e);if(!r)break;e.g[r.key]=r}}function W1(e){mg(e.g,function(t,n){this.g.hasOwnProperty(n)&&yg(t)},e),e.g={}}Ma.prototype.N=function(){Ma.$.N.call(this),W1(this)};Ma.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ah(){this.g=!0}ah.prototype.Ea=function(){this.g=!1};function LM(e,t,n,i,s,r){e.info(function(){if(e.g)if(r)for(var o="",a=r.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=r;return"XMLHTTP REQ ("+i+") [attempt "+s+"]: "+t+`
`+n+`
`+o})}function VM(e,t,n,i,s,r,o){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+s+"]: "+t+`
`+n+`
`+r+" "+o})}function Ir(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+UM(e,n)+(i?" "+i:"")})}function FM(e,t){e.info(function(){return"TIMEOUT: "+t})}ah.prototype.info=function(){};function UM(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var s=i[1];if(Array.isArray(s)&&!(1>s.length)){var r=s[0];if(r!="noop"&&r!="stop"&&r!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return wg(n)}catch{return t}}var cr={},Iy=null;function lh(){return Iy=Iy||new we}cr.Ta="serverreachability";function q1(e){Le.call(this,cr.Ta,e)}Ee(q1,Le);function Oa(e){const t=lh();Ae(t,new q1(t))}cr.STAT_EVENT="statevent";function K1(e,t){Le.call(this,cr.STAT_EVENT,e),this.stat=t}Ee(K1,Le);function We(e){const t=lh();Ae(t,new K1(t,e))}cr.Ua="timingevent";function G1(e,t){Le.call(this,cr.Ua,e),this.size=t}Ee(G1,Le);function cl(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return ct.setTimeout(function(){e()},t)}var ch={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Y1={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function xg(){}xg.prototype.h=null;function Ty(e){return e.h||(e.h=e.i())}function X1(){}var ul={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ag(){Le.call(this,"d")}Ee(Ag,Le);function Sg(){Le.call(this,"c")}Ee(Sg,Le);var Md;function uh(){}Ee(uh,xg);uh.prototype.g=function(){return new XMLHttpRequest};uh.prototype.i=function(){return{}};Md=new uh;function hl(e,t,n,i){this.l=e,this.j=t,this.m=n,this.W=i||1,this.U=new Ma(this),this.P=BM,e=Sd?125:void 0,this.V=new oh(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Q1}function Q1(){this.i=null,this.g="",this.h=!1}var BM=45e3,Od={},ru={};j=hl.prototype;j.setTimeout=function(e){this.P=e};function Dd(e,t,n){e.L=1,e.v=fh(yi(t)),e.s=n,e.S=!0,J1(e,null)}function J1(e,t){e.G=Date.now(),fl(e),e.A=yi(e.v);var n=e.A,i=e.W;Array.isArray(i)||(i=[String(i)]),oE(n.i,"t",i),e.C=0,n=e.l.J,e.h=new Q1,e.g=SE(e.l,n?t:null,!e.s),0<e.O&&(e.M=new NM(Ne(e.Pa,e,e.g),e.O)),H1(e.U,e.g,"readystatechange",e.nb),t=e.I?D1(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Oa(),LM(e.j,e.u,e.A,e.m,e.W,e.s)}j.nb=function(e){e=e.target;const t=this.M;t&&Hn(e)==3?t.l():this.Pa(e)};j.Pa=function(e){try{if(e==this.g)t:{const u=Hn(this.g);var t=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||Sd||this.g&&(this.h.h||this.g.ja()||ky(this.g)))){this.J||u!=4||t==7||(t==8||0>=h?Oa(3):Oa(2)),hh(this);var n=this.g.da();this.ca=n;e:if(Z1(this)){var i=ky(this.g);e="";var s=i.length,r=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cs(this),na(this);var o="";break e}this.h.i=new ct.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(i[t],{stream:r&&t==s-1});i.splice(0,s),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,VM(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){e:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ka(a)){var c=a;break e}}c=null}if(n=c)Ir(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nd(this,n);else{this.i=!1,this.o=3,We(12),Cs(this),na(this);break t}}this.S?(tE(this,u,o),Sd&&this.i&&u==3&&(H1(this.U,this.V,"tick",this.mb),this.V.start())):(Ir(this.j,this.m,o,null),Nd(this,o)),u==4&&Cs(this),this.i&&!this.J&&(u==4?IE(this.l,this):(this.i=!1,fl(this)))}else aO(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,We(12)):(this.o=0,We(13)),Cs(this),na(this)}}}catch{}finally{}};function Z1(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function tE(e,t,n){let i=!0,s;for(;!e.J&&e.C<n.length;)if(s=$M(e,n),s==ru){t==4&&(e.o=4,We(14),i=!1),Ir(e.j,e.m,null,"[Incomplete Response]");break}else if(s==Od){e.o=4,We(15),Ir(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}else Ir(e.j,e.m,s,null),Nd(e,s);Z1(e)&&s!=ru&&s!=Od&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,We(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Og(t),t.M=!0,We(11))):(Ir(e.j,e.m,n,"[Invalid Chunked Response]"),Cs(e),na(e))}j.mb=function(){if(this.g){var e=Hn(this.g),t=this.g.ja();this.C<t.length&&(hh(this),tE(this,e,t),this.i&&e!=4&&fl(this))}};function $M(e,t){var n=e.C,i=t.indexOf(`
`,n);return i==-1?ru:(n=Number(t.substring(n,i)),isNaN(n)?Od:(i+=1,i+n>t.length?ru:(t=t.slice(i,i+n),e.C=i+n,t)))}j.cancel=function(){this.J=!0,Cs(this)};function fl(e){e.Y=Date.now()+e.P,eE(e,e.P)}function eE(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=cl(Ne(e.lb,e),t)}function hh(e){e.B&&(ct.clearTimeout(e.B),e.B=null)}j.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(FM(this.j,this.A),this.L!=2&&(Oa(),We(17)),Cs(this),this.o=2,na(this)):eE(this,this.Y-e)};function na(e){e.l.H==0||e.J||IE(e.l,e)}function Cs(e){hh(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,Ig(e.V),W1(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Nd(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||Ld(n.i,e))){if(!e.K&&Ld(n.i,e)&&n.H==3){try{var i=n.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&i.length==3){var s=i;if(s[0]==0){t:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)lu(n),gh(n);else break t;Mg(n),We(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=cl(Ne(n.ib,n),6e3));if(1>=cE(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ms(n,11)}else if((e.K||n.g==e)&&lu(n),!ka(t))for(s=n.Ja.g.parse(t),t=0;t<s.length;t++){let c=s[t];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(i=1.5*f,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const d=e.g;if(d){const p=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var r=i.i;r.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(r.j=r.l,r.g=new Set,r.h&&(kg(r,r.h),r.h=null))}if(i.F){const g=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(i.Da=g,zt(i.I,i.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),i=n;var o=e;if(i.wa=AE(i,i.J?i.pa:null,i.Y),o.K){uE(i.i,o);var a=o,l=i.L;l&&a.setTimeout(l),a.B&&(hh(a),fl(a)),i.g=o}else wE(i);0<n.j.length&&mh(n)}else c[0]!="stop"&&c[0]!="close"||Ms(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Ms(n,7):Cg(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}Oa(4)}catch{}}function zM(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(nh(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}t=[],n=0;for(i in e)t[n++]=e[i];return t}function jM(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(nh(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const i in e)t[n++]=i;return t}}}function nE(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(nh(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=jM(e),i=zM(e),s=i.length,r=0;r<s;r++)t.call(void 0,i[r],n&&n[r],e)}var iE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function HM(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),s=null;if(0<=i){var r=e[n].substring(0,i);s=e[n].substring(i+1)}else r=e[n];t(r,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Bs(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Bs){this.h=e.h,ou(this,e.j),this.s=e.s,this.g=e.g,au(this,e.m),this.l=e.l;var t=e.i,n=new Da;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),xy(this,n),this.o=e.o}else e&&(t=String(e).match(iE))?(this.h=!1,ou(this,t[1]||"",!0),this.s=Lo(t[2]||""),this.g=Lo(t[3]||"",!0),au(this,t[4]),this.l=Lo(t[5]||"",!0),xy(this,t[6]||"",!0),this.o=Lo(t[7]||"")):(this.h=!1,this.i=new Da(null,this.h))}Bs.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Vo(t,Ay,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Vo(t,Ay,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Vo(n,n.charAt(0)=="/"?KM:qM,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Vo(n,YM)),e.join("")};function yi(e){return new Bs(e)}function ou(e,t,n){e.j=n?Lo(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function au(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function xy(e,t,n){t instanceof Da?(e.i=t,XM(e.i,e.h)):(n||(t=Vo(t,GM)),e.i=new Da(t,e.h))}function zt(e,t,n){e.i.set(t,n)}function fh(e){return zt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Lo(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Vo(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,WM),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function WM(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var Ay=/[#\/\?@]/g,qM=/[#\?:]/g,KM=/[#\?]/g,GM=/[#\?@]/g,YM=/#/g;function Da(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ps(e){e.g||(e.g=new Map,e.h=0,e.i&&HM(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}j=Da.prototype;j.add=function(e,t){ps(this),this.i=null,e=co(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function sE(e,t){ps(e),t=co(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function rE(e,t){return ps(e),t=co(e,t),e.g.has(t)}j.forEach=function(e,t){ps(this),this.g.forEach(function(n,i){n.forEach(function(s){e.call(t,s,i,this)},this)},this)};j.ta=function(){ps(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let i=0;i<t.length;i++){const s=e[i];for(let r=0;r<s.length;r++)n.push(t[i])}return n};j.Z=function(e){ps(this);let t=[];if(typeof e=="string")rE(this,e)&&(t=t.concat(this.g.get(co(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};j.set=function(e,t){return ps(this),this.i=null,e=co(this,e),rE(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};j.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function oE(e,t,n){sE(e,t),0<n.length&&(e.i=null,e.g.set(co(e,t),pg(n)),e.h+=n.length)}j.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var i=t[n];const r=encodeURIComponent(String(i)),o=this.Z(i);for(i=0;i<o.length;i++){var s=r;o[i]!==""&&(s+="="+encodeURIComponent(String(o[i]))),e.push(s)}}return this.i=e.join("&")};function co(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function XM(e,t){t&&!e.j&&(ps(e),e.i=null,e.g.forEach(function(n,i){var s=i.toLowerCase();i!=s&&(sE(this,i),oE(this,s,n))},e)),e.j=t}var QM=class{constructor(e,t){this.g=e,this.map=t}};function aE(e){this.l=e||JM,ct.PerformanceNavigationTiming?(e=ct.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(ct.g&&ct.g.Ka&&ct.g.Ka()&&ct.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var JM=10;function lE(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function cE(e){return e.h?1:e.g?e.g.size:0}function Ld(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function kg(e,t){e.g?e.g.add(t):e.h=t}function uE(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}aE.prototype.cancel=function(){if(this.i=hE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function hE(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return pg(e.i)}var ZM=class{stringify(e){return ct.JSON.stringify(e,void 0)}parse(e){return ct.JSON.parse(e,void 0)}};function tO(){this.g=new ZM}function eO(e,t,n){const i=n||"";try{nE(e,function(s,r){let o=s;al(s)&&(o=wg(s)),t.push(i+r+"="+encodeURIComponent(o))})}catch(s){throw t.push(i+"type="+encodeURIComponent("_badmap")),s}}function nO(e,t){const n=new ah;if(ct.Image){const i=new Image;i.onload=Wl(Kl,n,i,"TestLoadImage: loaded",!0,t),i.onerror=Wl(Kl,n,i,"TestLoadImage: error",!1,t),i.onabort=Wl(Kl,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=Wl(Kl,n,i,"TestLoadImage: timeout",!1,t),ct.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}function Kl(e,t,n,i,s){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,s(i)}catch{}}function dl(e){this.l=e.fc||null,this.j=e.ob||!1}Ee(dl,xg);dl.prototype.g=function(){return new dh(this.l,this.j)};dl.prototype.i=function(e){return function(){return e}}({});function dh(e,t){we.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Pg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ee(dh,we);var Pg=0;j=dh.prototype;j.open=function(e,t){if(this.readyState!=Pg)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Na(this)};j.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||ct).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};j.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pl(this)),this.readyState=Pg};j.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Na(this)),this.g&&(this.readyState=3,Na(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ct.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fE(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function fE(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}j.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?pl(this):Na(this),this.readyState==3&&fE(this)}};j.Za=function(e){this.g&&(this.response=this.responseText=e,pl(this))};j.Ya=function(e){this.g&&(this.response=e,pl(this))};j.ka=function(){this.g&&pl(this)};function pl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Na(e)}j.setRequestHeader=function(e,t){this.v.append(e,t)};j.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};j.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function Na(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(dh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var iO=ct.JSON.parse;function ie(e){we.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=dE,this.L=this.M=!1}Ee(ie,we);var dE="",sO=/^https?$/i,rO=["POST","PUT"];j=ie.prototype;j.Oa=function(e){this.M=e};j.ha=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Md.g(),this.C=this.u?Ty(this.u):Ty(Md),this.g.onreadystatechange=Ne(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(r){Sy(this,r);return}if(e=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var s in i)n.set(s,i[s]);else if(typeof i.keys=="function"&&typeof i.get=="function")for(const r of i.keys())n.set(r,i.get(r));else throw Error("Unknown input type for opt_headers: "+String(i));i=Array.from(n.keys()).find(r=>r.toLowerCase()=="content-type"),s=ct.FormData&&e instanceof ct.FormData,!(0<=R1(rO,t))||i||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[r,o]of n)this.g.setRequestHeader(r,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{mE(this),0<this.B&&((this.L=oO(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ne(this.ua,this)):this.A=Tg(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(r){Sy(this,r)}};function oO(e){return Hr&&typeof e.timeout=="number"&&e.ontimeout!==void 0}j.ua=function(){typeof dg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ae(this,"timeout"),this.abort(8))};function Sy(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,pE(e),ph(e)}function pE(e){e.F||(e.F=!0,Ae(e,"complete"),Ae(e,"error"))}j.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ae(this,"complete"),Ae(this,"abort"),ph(this))};j.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ph(this,!0)),ie.$.N.call(this)};j.La=function(){this.s||(this.G||this.v||this.l?gE(this):this.kb())};j.kb=function(){gE(this)};function gE(e){if(e.h&&typeof dg<"u"&&(!e.C[1]||Hn(e)!=4||e.da()!=2)){if(e.v&&Hn(e)==4)Tg(e.La,0,e);else if(Ae(e,"readystatechange"),Hn(e)==4){e.h=!1;try{const o=e.da();t:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break t;default:t=!1}var n;if(!(n=t)){var i;if(i=o===0){var s=String(e.I).match(iE)[1]||null;!s&&ct.self&&ct.self.location&&(s=ct.self.location.protocol.slice(0,-1)),i=!sO.test(s?s.toLowerCase():"")}n=i}if(n)Ae(e,"complete"),Ae(e,"success");else{e.m=6;try{var r=2<Hn(e)?e.g.statusText:""}catch{r=""}e.j=r+" ["+e.da()+"]",pE(e)}}finally{ph(e)}}}}function ph(e,t){if(e.g){mE(e);const n=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Ae(e,"ready");try{n.onreadystatechange=i}catch{}}}function mE(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(ct.clearTimeout(e.A),e.A=null)}j.isActive=function(){return!!this.g};function Hn(e){return e.g?e.g.readyState:0}j.da=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}};j.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};j.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),iO(t)}};function ky(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case dE:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function aO(e){const t={};e=(e.g&&2<=Hn(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let i=0;i<e.length;i++){if(ka(e[i]))continue;var n=MM(e[i]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const r=t[s]||[];t[s]=r,r.push(n)}xM(t,function(i){return i.join(", ")})}j.Ia=function(){return this.m};j.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function _E(e){let t="";return mg(e,function(n,i){t+=i,t+=":",t+=n,t+=`\r
`}),t}function Rg(e,t,n){t:{for(i in n){var i=!1;break t}i=!0}i||(n=_E(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):zt(e,t,n))}function To(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function yE(e){this.Ga=0,this.j=[],this.l=new ah,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=To("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=To("baseRetryDelayMs",5e3,e),this.hb=To("retryDelaySeedMs",1e4,e),this.eb=To("forwardChannelMaxRetries",2,e),this.xa=To("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new aE(e&&e.concurrentRequestLimit),this.Ja=new tO,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}j=yE.prototype;j.ra=8;j.H=1;function Cg(e){if(vE(e),e.H==3){var t=e.W++,n=yi(e.I);if(zt(n,"SID",e.K),zt(n,"RID",t),zt(n,"TYPE","terminate"),gl(e,n),t=new hl(e,e.l,t),t.L=2,t.v=fh(yi(n)),n=!1,ct.navigator&&ct.navigator.sendBeacon)try{n=ct.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&ct.Image&&(new Image().src=t.v,n=!0),n||(t.g=SE(t.l,null),t.g.ha(t.v)),t.G=Date.now(),fl(t)}xE(e)}function gh(e){e.g&&(Og(e),e.g.cancel(),e.g=null)}function vE(e){gh(e),e.u&&(ct.clearTimeout(e.u),e.u=null),lu(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&ct.clearTimeout(e.m),e.m=null)}function mh(e){if(!lE(e.i)&&!e.m){e.m=!0;var t=e.Na;Ra||z1(),Ca||(Ra(),Ca=!0),Eg.add(t,e),e.C=0}}function lO(e,t){return cE(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=cl(Ne(e.Na,e,t),TE(e,e.C)),e.C++,!0)}j.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const s=new hl(this,this.l,e);let r=this.s;if(this.U&&(r?(r=D1(r),N1(r,this.U)):r=this.U),this.o!==null||this.O||(s.I=r,r=null),this.P)t:{for(var t=0,n=0;n<this.j.length;n++){e:{var i=this.j[n];if("__data__"in i.map&&(i=i.map.__data__,typeof i=="string")){i=i.length;break e}i=void 0}if(i===void 0)break;if(t+=i,4096<t){t=n;break t}if(t===4096||n===this.j.length-1){t=n+1;break t}}t=1e3}else t=1e3;t=bE(this,s,t),n=yi(this.I),zt(n,"RID",e),zt(n,"CVER",22),this.F&&zt(n,"X-HTTP-Session-Id",this.F),gl(this,n),r&&(this.O?t="headers="+encodeURIComponent(String(_E(r)))+"&"+t:this.o&&Rg(n,this.o,r)),kg(this.i,s),this.bb&&zt(n,"TYPE","init"),this.P?(zt(n,"$req",t),zt(n,"SID","null"),s.aa=!0,Dd(s,n,null)):Dd(s,n,t),this.H=2}}else this.H==3&&(e?Py(this,e):this.j.length==0||lE(this.i)||Py(this))};function Py(e,t){var n;t?n=t.m:n=e.W++;const i=yi(e.I);zt(i,"SID",e.K),zt(i,"RID",n),zt(i,"AID",e.V),gl(e,i),e.o&&e.s&&Rg(i,e.o,e.s),n=new hl(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=bE(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),kg(e.i,n),Dd(n,i,t)}function gl(e,t){e.na&&mg(e.na,function(n,i){zt(t,i,n)}),e.h&&nE({},function(n,i){zt(t,i,n)})}function bE(e,t,n){n=Math.min(e.j.length,n);var i=e.h?Ne(e.h.Va,e.h,e):null;t:{var s=e.j;let r=-1;for(;;){const o=["count="+n];r==-1?0<n?(r=s[0].g,o.push("ofs="+r)):r=0:o.push("ofs="+r);let a=!0;for(let l=0;l<n;l++){let c=s[l].g;const u=s[l].map;if(c-=r,0>c)r=Math.max(0,s[l].g-100),a=!1;else try{eO(u,o,"req"+c+"_")}catch{i&&i(u)}}if(a){i=o.join("&");break t}}}return e=e.j.splice(0,n),t.F=e,i}function wE(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Ra||z1(),Ca||(Ra(),Ca=!0),Eg.add(t,e),e.A=0}}function Mg(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=cl(Ne(e.Ma,e),TE(e,e.A)),e.A++,!0)}j.Ma=function(){if(this.u=null,EE(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=cl(Ne(this.jb,this),e)}};j.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,We(10),gh(this),EE(this))};function Og(e){e.B!=null&&(ct.clearTimeout(e.B),e.B=null)}function EE(e){e.g=new hl(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=yi(e.wa);zt(t,"RID","rpc"),zt(t,"SID",e.K),zt(t,"AID",e.V),zt(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&zt(t,"TO",e.qa),zt(t,"TYPE","xmlhttp"),gl(e,t),e.o&&e.s&&Rg(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=fh(yi(t)),n.s=null,n.S=!0,J1(n,e)}j.ib=function(){this.v!=null&&(this.v=null,gh(this),Mg(this),We(19))};function lu(e){e.v!=null&&(ct.clearTimeout(e.v),e.v=null)}function IE(e,t){var n=null;if(e.g==t){lu(e),Og(e),e.g=null;var i=2}else if(Ld(e.i,t))n=t.F,uE(e.i,t),i=1;else return;if(e.H!=0){if(t.i)if(i==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var s=e.C;i=lh(),Ae(i,new G1(i,n)),mh(e)}else wE(e);else if(s=t.o,s==3||s==0&&0<t.ca||!(i==1&&lO(e,t)||i==2&&Mg(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),s){case 1:Ms(e,5);break;case 4:Ms(e,10);break;case 3:Ms(e,6);break;default:Ms(e,2)}}}function TE(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Ms(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var i=Ne(e.pb,e);n||(n=new Bs("//www.google.com/images/cleardot.gif"),ct.location&&ct.location.protocol=="http"||ou(n,"https"),fh(n)),nO(n.toString(),i)}else We(2);e.H=0,e.h&&e.h.za(t),xE(e),vE(e)}j.pb=function(e){e?(this.l.info("Successfully pinged google.com"),We(2)):(this.l.info("Failed to ping google.com"),We(1))};function xE(e){if(e.H=0,e.ma=[],e.h){const t=hE(e.i);(t.length!=0||e.j.length!=0)&&(vy(e.ma,t),vy(e.ma,e.j),e.i.i.length=0,pg(e.j),e.j.length=0),e.h.ya()}}function AE(e,t,n){var i=n instanceof Bs?yi(n):new Bs(n);if(i.g!="")t&&(i.g=t+"."+i.g),au(i,i.m);else{var s=ct.location;i=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var r=new Bs(null);i&&ou(r,i),t&&(r.g=t),s&&au(r,s),n&&(r.l=n),i=r}return n=e.F,t=e.Da,n&&t&&zt(i,n,t),zt(i,"VER",e.ra),gl(e,i),i}function SE(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new ie(new dl({ob:!0})):new ie(e.va),t.Oa(e.J),t}j.isActive=function(){return!!this.h&&this.h.isActive(this)};function kE(){}j=kE.prototype;j.Ba=function(){};j.Aa=function(){};j.za=function(){};j.ya=function(){};j.isActive=function(){return!0};j.Va=function(){};function cu(){if(Hr&&!(10<=Number(wM)))throw Error("Environmental error: no available transport.")}cu.prototype.g=function(e,t){return new un(e,t)};function un(e,t){we.call(this),this.g=new yE(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!ka(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ka(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new uo(this)}Ee(un,we);un.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;We(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=AE(e,null,e.Y),mh(e)};un.prototype.close=function(){Cg(this.g)};un.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=wg(e),e=n);t.j.push(new QM(t.fb++,e)),t.H==3&&mh(t)};un.prototype.N=function(){this.g.h=null,delete this.j,Cg(this.g),delete this.g,un.$.N.call(this)};function PE(e){Ag.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){t:{for(const n in t){e=n;break t}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Ee(PE,Ag);function RE(){Sg.call(this),this.status=1}Ee(RE,Sg);function uo(e){this.g=e}Ee(uo,kE);uo.prototype.Ba=function(){Ae(this.g,"a")};uo.prototype.Aa=function(e){Ae(this.g,new PE(e))};uo.prototype.za=function(e){Ae(this.g,new RE)};uo.prototype.ya=function(){Ae(this.g,"b")};function cO(){this.blockSize=-1}function Cn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ee(Cn,cO);Cn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Tf(e,t,n){n||(n=0);var i=Array(16);if(typeof t=="string")for(var s=0;16>s;++s)i[s]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(s=0;16>s;++s)i[s]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],s=e.g[2];var r=e.g[3],o=t+(r^n&(s^r))+i[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=r+(s^t&(n^s))+i[1]+3905402710&4294967295,r=t+(o<<12&4294967295|o>>>20),o=s+(n^r&(t^n))+i[2]+606105819&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(t^s&(r^t))+i[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(r^n&(s^r))+i[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=r+(s^t&(n^s))+i[5]+1200080426&4294967295,r=t+(o<<12&4294967295|o>>>20),o=s+(n^r&(t^n))+i[6]+2821735955&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(t^s&(r^t))+i[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(r^n&(s^r))+i[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=r+(s^t&(n^s))+i[9]+2336552879&4294967295,r=t+(o<<12&4294967295|o>>>20),o=s+(n^r&(t^n))+i[10]+4294925233&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(t^s&(r^t))+i[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(r^n&(s^r))+i[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=r+(s^t&(n^s))+i[13]+4254626195&4294967295,r=t+(o<<12&4294967295|o>>>20),o=s+(n^r&(t^n))+i[14]+2792965006&4294967295,s=r+(o<<17&4294967295|o>>>15),o=n+(t^s&(r^t))+i[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=t+(s^r&(n^s))+i[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(t^n))+i[6]+3225465664&4294967295,r=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(r^t))+i[11]+643717713&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^t&(s^r))+i[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^r&(n^s))+i[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(t^n))+i[10]+38016083&4294967295,r=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(r^t))+i[15]+3634488961&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^t&(s^r))+i[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^r&(n^s))+i[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(t^n))+i[14]+3275163606&4294967295,r=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(r^t))+i[3]+4107603335&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^t&(s^r))+i[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(s^r&(n^s))+i[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=r+(n^s&(t^n))+i[2]+4243563512&4294967295,r=t+(o<<9&4294967295|o>>>23),o=s+(t^n&(r^t))+i[7]+1735328473&4294967295,s=r+(o<<14&4294967295|o>>>18),o=n+(r^t&(s^r))+i[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=t+(n^s^r)+i[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=r+(t^n^s)+i[8]+2272392833&4294967295,r=t+(o<<11&4294967295|o>>>21),o=s+(r^t^n)+i[11]+1839030562&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^t)+i[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^r)+i[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=r+(t^n^s)+i[4]+1272893353&4294967295,r=t+(o<<11&4294967295|o>>>21),o=s+(r^t^n)+i[7]+4139469664&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^t)+i[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^r)+i[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=r+(t^n^s)+i[0]+3936430074&4294967295,r=t+(o<<11&4294967295|o>>>21),o=s+(r^t^n)+i[3]+3572445317&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^t)+i[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(n^s^r)+i[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=r+(t^n^s)+i[12]+3873151461&4294967295,r=t+(o<<11&4294967295|o>>>21),o=s+(r^t^n)+i[15]+530742520&4294967295,s=r+(o<<16&4294967295|o>>>16),o=n+(s^r^t)+i[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=t+(s^(n|~r))+i[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=r+(n^(t|~s))+i[7]+1126891415&4294967295,r=t+(o<<10&4294967295|o>>>22),o=s+(t^(r|~n))+i[14]+2878612391&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~t))+i[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~r))+i[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=r+(n^(t|~s))+i[3]+2399980690&4294967295,r=t+(o<<10&4294967295|o>>>22),o=s+(t^(r|~n))+i[10]+4293915773&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~t))+i[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~r))+i[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=r+(n^(t|~s))+i[15]+4264355552&4294967295,r=t+(o<<10&4294967295|o>>>22),o=s+(t^(r|~n))+i[6]+2734768916&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~t))+i[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=t+(s^(n|~r))+i[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=r+(n^(t|~s))+i[11]+3174756917&4294967295,r=t+(o<<10&4294967295|o>>>22),o=s+(t^(r|~n))+i[2]+718787259&4294967295,s=r+(o<<15&4294967295|o>>>17),o=n+(r^(s|~t))+i[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+s&4294967295,e.g[3]=e.g[3]+r&4294967295}Cn.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,i=this.m,s=this.h,r=0;r<t;){if(s==0)for(;r<=n;)Tf(this,e,r),r+=this.blockSize;if(typeof e=="string"){for(;r<t;)if(i[s++]=e.charCodeAt(r++),s==this.blockSize){Tf(this,i),s=0;break}}else for(;r<t;)if(i[s++]=e[r++],s==this.blockSize){Tf(this,i),s=0;break}}this.h=s,this.i+=t};Cn.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var i=0;32>i;i+=8)e[n++]=this.g[t]>>>i&255;return e};function Dt(e,t){this.h=t;for(var n=[],i=!0,s=e.length-1;0<=s;s--){var r=e[s]|0;i&&r==t||(n[s]=r,i=!1)}this.g=n}var uO={};function Dg(e){return-128<=e&&128>e?yM(e,function(t){return new Dt([t|0],0>t?-1:0)}):new Dt([e|0],0>e?-1:0)}function Wn(e){if(isNaN(e)||!isFinite(e))return Pr;if(0>e)return xe(Wn(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=Vd;return new Dt(t,0)}function CE(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return xe(CE(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Wn(Math.pow(t,8)),i=Pr,s=0;s<e.length;s+=8){var r=Math.min(8,e.length-s),o=parseInt(e.substring(s,s+r),t);8>r?(r=Wn(Math.pow(t,r)),i=i.R(r).add(Wn(o))):(i=i.R(n),i=i.add(Wn(o)))}return i}var Vd=4294967296,Pr=Dg(0),Fd=Dg(1),Ry=Dg(16777216);j=Dt.prototype;j.ea=function(){if(gn(this))return-xe(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var i=this.D(n);e+=(0<=i?i:Vd+i)*t,t*=Vd}return e};j.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(ui(this))return"0";if(gn(this))return"-"+xe(this).toString(e);for(var t=Wn(Math.pow(e,6)),n=this,i="";;){var s=hu(n,t).g;n=uu(n,s.R(t));var r=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=s,ui(n))return r+i;for(;6>r.length;)r="0"+r;i=r+i}};j.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function ui(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function gn(e){return e.h==-1}j.X=function(e){return e=uu(this,e),gn(e)?-1:ui(e)?0:1};function xe(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new Dt(n,~e.h).add(Fd)}j.abs=function(){return gn(this)?xe(this):this};j.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var r=i+(this.D(s)&65535)+(e.D(s)&65535),o=(r>>>16)+(this.D(s)>>>16)+(e.D(s)>>>16);i=o>>>16,r&=65535,o&=65535,n[s]=o<<16|r}return new Dt(n,n[n.length-1]&-2147483648?-1:0)};function uu(e,t){return e.add(xe(t))}j.R=function(e){if(ui(this)||ui(e))return Pr;if(gn(this))return gn(e)?xe(this).R(xe(e)):xe(xe(this).R(e));if(gn(e))return xe(this.R(xe(e)));if(0>this.X(Ry)&&0>e.X(Ry))return Wn(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var r=this.D(i)>>>16,o=this.D(i)&65535,a=e.D(s)>>>16,l=e.D(s)&65535;n[2*i+2*s]+=o*l,Gl(n,2*i+2*s),n[2*i+2*s+1]+=r*l,Gl(n,2*i+2*s+1),n[2*i+2*s+1]+=o*a,Gl(n,2*i+2*s+1),n[2*i+2*s+2]+=r*a,Gl(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new Dt(n,0)};function Gl(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function xo(e,t){this.g=e,this.h=t}function hu(e,t){if(ui(t))throw Error("division by zero");if(ui(e))return new xo(Pr,Pr);if(gn(e))return t=hu(xe(e),t),new xo(xe(t.g),xe(t.h));if(gn(t))return t=hu(e,xe(t)),new xo(xe(t.g),t.h);if(30<e.g.length){if(gn(e)||gn(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Fd,i=t;0>=i.X(e);)n=Cy(n),i=Cy(i);var s=_r(n,1),r=_r(i,1);for(i=_r(i,2),n=_r(n,2);!ui(i);){var o=r.add(i);0>=o.X(e)&&(s=s.add(n),r=o),i=_r(i,1),n=_r(n,1)}return t=uu(e,s.R(t)),new xo(s,t)}for(s=Pr;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),i=Math.ceil(Math.log(n)/Math.LN2),i=48>=i?1:Math.pow(2,i-48),r=Wn(n),o=r.R(t);gn(o)||0<o.X(e);)n-=i,r=Wn(n),o=r.R(t);ui(r)&&(r=Fd),s=s.add(r),e=uu(e,o)}return new xo(s,e)}j.gb=function(e){return hu(this,e).h};j.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)&e.D(i);return new Dt(n,this.h&e.h)};j.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)|e.D(i);return new Dt(n,this.h|e.h)};j.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)^e.D(i);return new Dt(n,this.h^e.h)};function Cy(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.D(i)<<1|e.D(i-1)>>>31;return new Dt(n,e.h)}function _r(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],r=0;r<i;r++)s[r]=0<t?e.D(r+n)>>>t|e.D(r+n+1)<<32-t:e.D(r+n);return new Dt(s,e.h)}cu.prototype.createWebChannel=cu.prototype.g;un.prototype.send=un.prototype.u;un.prototype.open=un.prototype.m;un.prototype.close=un.prototype.close;ch.NO_ERROR=0;ch.TIMEOUT=8;ch.HTTP_ERROR=6;Y1.COMPLETE="complete";X1.EventType=ul;ul.OPEN="a";ul.CLOSE="b";ul.ERROR="c";ul.MESSAGE="d";we.prototype.listen=we.prototype.O;ie.prototype.listenOnce=ie.prototype.P;ie.prototype.getLastError=ie.prototype.Sa;ie.prototype.getLastErrorCode=ie.prototype.Ia;ie.prototype.getStatus=ie.prototype.da;ie.prototype.getResponseJson=ie.prototype.Wa;ie.prototype.getResponseText=ie.prototype.ja;ie.prototype.send=ie.prototype.ha;ie.prototype.setWithCredentials=ie.prototype.Oa;Cn.prototype.digest=Cn.prototype.l;Cn.prototype.reset=Cn.prototype.reset;Cn.prototype.update=Cn.prototype.j;Dt.prototype.add=Dt.prototype.add;Dt.prototype.multiply=Dt.prototype.R;Dt.prototype.modulo=Dt.prototype.gb;Dt.prototype.compare=Dt.prototype.X;Dt.prototype.toNumber=Dt.prototype.ea;Dt.prototype.toString=Dt.prototype.toString;Dt.prototype.getBits=Dt.prototype.D;Dt.fromNumber=Wn;Dt.fromString=CE;var hO=function(){return new cu},fO=function(){return lh()},xf=ch,dO=Y1,pO=cr,My={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},gO=dl,Yl=X1,mO=ie,_O=Cn,Rr=Dt;const Oy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pe=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Pe.UNAUTHENTICATED=new Pe(null),Pe.GOOGLE_CREDENTIALS=new Pe("google-credentials-uid"),Pe.FIRST_PARTY=new Pe("first-party-uid"),Pe.MOCK_USER=new Pe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ho="10.1.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=new Zu("@firebase/firestore");function Dy(){return Xs.logLevel}function Q(e,...t){if(Xs.logLevel<=St.DEBUG){const n=t.map(Ng);Xs.debug(`Firestore (${ho}): ${e}`,...n)}}function vi(e,...t){if(Xs.logLevel<=St.ERROR){const n=t.map(Ng);Xs.error(`Firestore (${ho}): ${e}`,...n)}}function Wr(e,...t){if(Xs.logLevel<=St.WARN){const n=t.map(Ng);Xs.warn(`Firestore (${ho}): ${e}`,...n)}}function Ng(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(e="Unexpected state"){const t=`FIRESTORE (${ho}) INTERNAL ASSERTION FAILED: `+e;throw vi(t),new Error(t)}function Kt(e,t){e||at()}function mt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends Dn{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class yO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Pe.UNAUTHENTICATED))}shutdown(){}}class vO{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class bO{constructor(t){this.t=t,this.currentUser=Pe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let r=new Ji;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Ji,t.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=r;t.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Ji)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Kt(typeof i.accessToken=="string"),new ME(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string"),new Pe(t)}}class wO{constructor(t,n,i){this.l=t,this.h=n,this.P=i,this.type="FirstParty",this.user=Pe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class EO{constructor(t,n,i){this.l=t,this.h=n,this.P=i}getToken(){return Promise.resolve(new wO(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Pe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class IO{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TO{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){const i=r=>{r.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.R;return this.R=r.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(r.token):Promise.resolve()};this.o=r=>{t.enqueueRetryable(()=>i(r))};const s=r=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.appCheck.addTokenListener(this.o)};this.A.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.A.getImmediate({optional:!0});r?s(r):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Kt(typeof n.token=="string"),this.R=n.token,new IO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{static V(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const s=xO(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=t.charAt(s[r]%t.length))}return i}}function Pt(e,t){return e<t?-1:e>t?1:0}function qr(e,t,n){return e.length===t.length&&e.every((i,s)=>n(i,t[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new K(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new K(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new K(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return fe.fromMillis(Date.now())}static fromDate(t){return fe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*n));return new fe(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ht(t)}static min(){return new ht(new fe(0,0))}static max(){return new ht(new fe(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(t,n,i){n===void 0?n=0:n>t.length&&at(),i===void 0?i=t.length-n:i>t.length-n&&at(),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return La.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof La?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let s=0;s<i;s++){const r=t.get(s),o=n.get(s);if(r<o)return-1;if(r>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}}class jt extends La{construct(t,n,i){return new jt(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new K(M.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new jt(n)}static emptyPath(){return new jt([])}}const AO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Oe extends La{construct(t,n,i){return new Oe(t,n,i)}static isValidIdentifier(t){return AO.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Oe.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Oe(["__name__"])}static fromServerFormat(t){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new K(M.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;s<t.length;){const a=t[s];if(a==="\\"){if(s+1===t.length)throw new K(M.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new K(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(i+=a,s++):(r(),s++)}if(r(),o)throw new K(M.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Oe(n)}static emptyPath(){return new Oe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t){this.path=t}static fromPath(t){return new tt(jt.fromString(t))}static fromName(t){return new tt(jt.fromString(t).popFirst(5))}static empty(){return new tt(jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&jt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return jt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new tt(new jt(t.slice()))}}function SO(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,s=ht.fromTimestamp(i===1e9?new fe(n+1,0):new fe(n,i));return new is(s,tt.empty(),t)}function kO(e){return new is(e.readTime,e.key,-1)}class is{constructor(t,n,i){this.readTime=t,this.documentKey=n,this.largestBatchId=i}static min(){return new is(ht.min(),tt.empty(),-1)}static max(){return new is(ht.max(),tt.empty(),-1)}}function PO(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=tt.comparator(e.documentKey,t.documentKey),n!==0?n:Pt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(e){if(e.code!==M.FAILED_PRECONDITION||e.message!==RO)throw e;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&at(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new L((i,s)=>{this.nextCallback=r=>{this.wrapSuccess(t,r).next(i,s)},this.catchCallback=r=>{this.wrapFailure(n,r).next(i,s)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):L.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):L.reject(n)}static resolve(t){return new L((n,i)=>{n(t)})}static reject(t){return new L((n,i)=>{i(t)})}static waitFor(t){return new L((n,i)=>{let s=0,r=0,o=!1;t.forEach(a=>{++s,a.next(()=>{++r,o&&r===s&&n()},l=>i(l))}),o=!0,r===s&&n()})}static or(t){let n=L.resolve(!1);for(const i of t)n=n.next(s=>s?L.resolve(s):i());return n}static forEach(t,n){const i=[];return t.forEach((s,r)=>{i.push(n.call(this,s,r))}),this.waitFor(i)}static mapArray(t,n){return new L((i,s)=>{const r=t.length,o=new Array(r);let a=0;for(let l=0;l<r;l++){const c=l;n(t[c]).next(u=>{o[c]=u,++a,a===r&&i(o)},u=>s(u))}})}static doWhile(t,n){return new L((i,s)=>{const r=()=>{t()===!0?n().next(()=>{r()},s):i()};r()})}}function _l(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Lg.ae=-1;function _h(e){return e==null}function fu(e){return e===0&&1/e==-1/0}function MO(e){return typeof e=="number"&&Number.isInteger(e)&&!fu(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ur(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function DE(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(t,n){this.comparator=t,this.root=n||Te.EMPTY}insert(t,n){return new Xt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Te.BLACK,null,null))}remove(t){return new Xt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Te.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(t,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(t){let n=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return n+i.left.size;s<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,i)=>(t(n,i),!1))}toString(){const t=[];return this.inorderTraversal((n,i)=>(t.push(`${n}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Xl(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Xl(this.root,t,this.comparator,!1)}getReverseIterator(){return new Xl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Xl(this.root,t,this.comparator,!0)}}class Xl{constructor(t,n,i,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=n?i(t.key,n):1,n&&s&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(r===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Te{constructor(t,n,i,s,r){this.key=t,this.value=n,this.color=i??Te.RED,this.left=s??Te.EMPTY,this.right=r??Te.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,s,r){return new Te(t??this.key,n??this.value,i??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,i){let s=this;const r=i(t,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(t,n,i),null):r===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(t,n,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Te.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,s=this;if(n(t,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(t,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(t,s.key)===0){if(s.right.isEmpty())return Te.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(t,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Te.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Te.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw at();const t=this.left.check();if(t!==this.right.check())throw at();return t+(this.isRed()?0:1)}}Te.EMPTY=null,Te.RED=!0,Te.BLACK=!1;Te.EMPTY=new class{constructor(){this.size=0}get key(){throw at()}get value(){throw at()}get color(){throw at()}get left(){throw at()}get right(){throw at()}copy(t,n,i,s,r){return this}insert(t,n,i){return new Te(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(t){this.comparator=t,this.data=new Xt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,i)=>(t(n),!1))}forEachInRange(t,n){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,t[1])>=0)return;n(s.key)}}forEachWhile(t,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ly(this.data.getIterator())}getIteratorFrom(t){return new Ly(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(i=>{n=n.add(i)}),n}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const n=this.data.getIterator(),i=t.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Ve(this.comparator);return n.data=t,n}}class Ly{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.fields=t,t.sort(Oe.comparator)}static empty(){return new ln([])}unionWith(t){let n=new Ve(Oe.comparator);for(const i of this.fields)n=n.add(i);for(const i of t)n=n.add(i);return new ln(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return qr(this.fields,t.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new NE("Invalid base64 string: "+r):r}}(t);return new Be(n)}static fromUint8Array(t){const n=function(s){let r="";for(let o=0;o<s.length;++o)r+=String.fromCharCode(s[o]);return r}(t);return new Be(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const OO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(e){if(Kt(!!e),typeof e=="string"){let t=0;const n=OO.exec(e);if(Kt(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),t=Number(s)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ce(e.seconds),nanos:ce(e.nanos)}}function ce(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function Qs(e){return typeof e=="string"?Be.fromBase64String(e):Be.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vg(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Fg(e){const t=e.mapValue.fields.__previous_value__;return Vg(t)?Fg(t):t}function Va(e){const t=ss(e.mapValue.fields.__local_write_time__.timestampValue);return new fe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(t,n,i,s,r,o,a,l,c){this.databaseId=t,this.appId=n,this.persistenceKey=i,this.host=s,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Fa{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Fa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Fa&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Js(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Vg(e)?4:NO(e)?9007199254740991:10:at()}function ti(e,t){if(e===t)return!0;const n=Js(e);if(n!==Js(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Va(e).isEqual(Va(t));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const o=ss(s.timestampValue),a=ss(r.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(s,r){return Qs(s.bytesValue).isEqual(Qs(r.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(s,r){return ce(s.geoPointValue.latitude)===ce(r.geoPointValue.latitude)&&ce(s.geoPointValue.longitude)===ce(r.geoPointValue.longitude)}(e,t);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return ce(s.integerValue)===ce(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const o=ce(s.doubleValue),a=ce(r.doubleValue);return o===a?fu(o)===fu(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return qr(e.arrayValue.values||[],t.arrayValue.values||[],ti);case 10:return function(s,r){const o=s.mapValue.fields||{},a=r.mapValue.fields||{};if(Ny(o)!==Ny(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ti(o[l],a[l])))return!1;return!0}(e,t);default:return at()}}function Ua(e,t){return(e.values||[]).find(n=>ti(n,t))!==void 0}function Kr(e,t){if(e===t)return 0;const n=Js(e),i=Js(t);if(n!==i)return Pt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pt(e.booleanValue,t.booleanValue);case 2:return function(r,o){const a=ce(r.integerValue||r.doubleValue),l=ce(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return Vy(e.timestampValue,t.timestampValue);case 4:return Vy(Va(e),Va(t));case 5:return Pt(e.stringValue,t.stringValue);case 6:return function(r,o){const a=Qs(r),l=Qs(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(r,o){const a=r.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Pt(a[c],l[c]);if(u!==0)return u}return Pt(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(r,o){const a=Pt(ce(r.latitude),ce(o.latitude));return a!==0?a:Pt(ce(r.longitude),ce(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(r,o){const a=r.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=Kr(a[c],l[c]);if(u)return u}return Pt(a.length,l.length)}(e.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===Ql.mapValue&&o===Ql.mapValue)return 0;if(r===Ql.mapValue)return 1;if(o===Ql.mapValue)return-1;const a=r.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const f=Pt(l[h],u[h]);if(f!==0)return f;const d=Kr(a[l[h]],c[u[h]]);if(d!==0)return d}return Pt(l.length,u.length)}(e.mapValue,t.mapValue);default:throw at()}}function Vy(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Pt(e,t);const n=ss(e),i=ss(t),s=Pt(n.seconds,i.seconds);return s!==0?s:Pt(n.nanos,i.nanos)}function Gr(e){return Ud(e)}function Ud(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const i=ss(n);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return Qs(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return tt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let i="[",s=!0;for(const r of n.values||[])s?s=!1:i+=",",i+=Ud(r);return i+"]"}(e.arrayValue):"mapValue"in e?function(n){const i=Object.keys(n.fields||{}).sort();let s="{",r=!0;for(const o of i)r?r=!1:s+=",",s+=`${o}:${Ud(n.fields[o])}`;return s+"}"}(e.mapValue):at()}function Fy(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Bd(e){return!!e&&"integerValue"in e}function Ug(e){return!!e&&"arrayValue"in e}function Uy(e){return!!e&&"nullValue"in e}function By(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Pc(e){return!!e&&"mapValue"in e}function ia(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ur(e.mapValue.fields,(n,i)=>t.mapValue.fields[n]=ia(i)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ia(e.arrayValue.values[n]);return t}return Object.assign({},e)}function NO(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t){this.value=t}static empty(){return new Qe({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let i=0;i<t.length-1;++i)if(n=(n.mapValue.fields||{})[t.get(i)],!Pc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=ia(n)}setAll(t){let n=Oe.emptyPath(),i={},s=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,s),i={},s=[],n=a.popLast()}o?i[a.lastSegment()]=ia(o):s.push(a.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,i,s)}delete(t){const n=this.field(t.popLast());Pc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ti(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<t.length;++i){let s=n.mapValue.fields[t.get(i)];Pc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[t.get(i)]=s),n=s}return n.mapValue.fields}applyChanges(t,n,i){ur(n,(s,r)=>t[s]=r);for(const s of i)delete t[s]}clone(){return new Qe(ia(this.value))}}function LE(e){const t=[];return ur(e.fields,(n,i)=>{const s=new Oe([n]);if(Pc(i)){const r=LE(i.mapValue).fields;if(r.length===0)t.push(s);else for(const o of r)t.push(s.child(o))}else t.push(s)}),new ln(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t,n,i,s,r,o,a){this.key=t,this.documentType=n,this.version=i,this.readTime=s,this.createTime=r,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Ce(t,0,ht.min(),ht.min(),ht.min(),Qe.empty(),0)}static newFoundDocument(t,n,i,s){return new Ce(t,1,n,ht.min(),i,s,0)}static newNoDocument(t,n){return new Ce(t,2,n,ht.min(),ht.min(),Qe.empty(),0)}static newUnknownDocument(t,n){return new Ce(t,3,n,ht.min(),ht.min(),Qe.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(ht.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Qe.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Qe.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ht.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ce&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ce(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(t,n){this.position=t,this.inclusive=n}}function $y(e,t,n){let i=0;for(let s=0;s<e.position.length;s++){const r=t[s],o=e.position[s];if(r.field.isKeyField()?i=tt.comparator(tt.fromName(o.referenceValue),n.key):i=Kr(o,n.data.field(r.field)),r.dir==="desc"&&(i*=-1),i!==0)break}return i}function zy(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ti(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(t,n="asc"){this.field=t,this.dir=n}}function LO(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{}class ue extends VE{constructor(t,n,i){super(),this.field=t,this.op=n,this.value=i}static create(t,n,i){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,i):new FO(t,n,i):n==="array-contains"?new $O(t,i):n==="in"?new zO(t,i):n==="not-in"?new jO(t,i):n==="array-contains-any"?new HO(t,i):new ue(t,n,i)}static createKeyFieldInFilter(t,n,i){return n==="in"?new UO(t,i):new BO(t,i)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Kr(n,this.value)):n!==null&&Js(this.value)===Js(n)&&this.matchesComparison(Kr(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return at()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Mn extends VE{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new Mn(t,n)}matches(t){return FE(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.le(n=>n.isInequality());return t!==null?t.field:null}le(t){for(const n of this.getFlattenedFilters())if(t(n))return n;return null}}function FE(e){return e.op==="and"}function UE(e){return VO(e)&&FE(e)}function VO(e){for(const t of e.filters)if(t instanceof Mn)return!1;return!0}function $d(e){if(e instanceof ue)return e.field.canonicalString()+e.op.toString()+Gr(e.value);if(UE(e))return e.filters.map(t=>$d(t)).join(",");{const t=e.filters.map(n=>$d(n)).join(",");return`${e.op}(${t})`}}function BE(e,t){return e instanceof ue?function(i,s){return s instanceof ue&&i.op===s.op&&i.field.isEqual(s.field)&&ti(i.value,s.value)}(e,t):e instanceof Mn?function(i,s){return s instanceof Mn&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((r,o,a)=>r&&BE(o,s.filters[a]),!0):!1}(e,t):void at()}function $E(e){return e instanceof ue?function(n){return`${n.field.canonicalString()} ${n.op} ${Gr(n.value)}`}(e):e instanceof Mn?function(n){return n.op.toString()+" {"+n.getFilters().map($E).join(" ,")+"}"}(e):"Filter"}class FO extends ue{constructor(t,n,i){super(t,n,i),this.key=tt.fromName(i.referenceValue)}matches(t){const n=tt.comparator(t.key,this.key);return this.matchesComparison(n)}}class UO extends ue{constructor(t,n){super(t,"in",n),this.keys=zE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class BO extends ue{constructor(t,n){super(t,"not-in",n),this.keys=zE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function zE(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>tt.fromName(i.referenceValue))}class $O extends ue{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Ug(n)&&Ua(n.arrayValue,this.value)}}class zO extends ue{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Ua(this.value.arrayValue,n)}}class jO extends ue{constructor(t,n){super(t,"not-in",n)}matches(t){if(Ua(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Ua(this.value.arrayValue,n)}}class HO extends ue{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Ug(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Ua(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(t,n=null,i=[],s=[],r=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=i,this.filters=s,this.limit=r,this.startAt=o,this.endAt=a,this.he=null}}function jy(e,t=null,n=[],i=[],s=null,r=null,o=null){return new WO(e,t,n,i,s,r,o)}function Bg(e){const t=mt(e);if(t.he===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(i=>$d(i)).join(","),n+="|ob:",n+=t.orderBy.map(i=>function(r){return r.field.canonicalString()+r.dir}(i)).join(","),_h(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(i=>Gr(i)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(i=>Gr(i)).join(",")),t.he=n}return t.he}function $g(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!LO(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!BE(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!zy(e.startAt,t.startAt)&&zy(e.endAt,t.endAt)}function zd(e){return tt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(t,n=null,i=[],s=[],r=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=o,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function qO(e,t,n,i,s,r,o,a){return new yl(e,t,n,i,s,r,o,a)}function yh(e){return new yl(e)}function Hy(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function jE(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function zg(e){for(const t of e.filters){const n=t.getFirstInequalityField();if(n!==null)return n}return null}function HE(e){return e.collectionGroup!==null}function Cr(e){const t=mt(e);if(t.Pe===null){t.Pe=[];const n=zg(t),i=jE(t);if(n!==null&&i===null)n.isKeyField()||t.Pe.push(new sa(n)),t.Pe.push(new sa(Oe.keyField(),"asc"));else{let s=!1;for(const r of t.explicitOrderBy)t.Pe.push(r),r.field.isKeyField()&&(s=!0);if(!s){const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new sa(Oe.keyField(),r))}}}return t.Pe}function bi(e){const t=mt(e);if(!t.Ie)if(t.limitType==="F")t.Ie=jy(t.path,t.collectionGroup,Cr(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const r of Cr(t)){const o=r.dir==="desc"?"asc":"desc";n.push(new sa(r.field,o))}const i=t.endAt?new du(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new du(t.startAt.position,t.startAt.inclusive):null;t.Ie=jy(t.path,t.collectionGroup,n,t.filters,t.limit,i,s)}return t.Ie}function jd(e,t){t.getFirstInequalityField(),zg(e);const n=e.filters.concat([t]);return new yl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Hd(e,t,n){return new yl(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function vh(e,t){return $g(bi(e),bi(t))&&e.limitType===t.limitType}function WE(e){return`${Bg(bi(e))}|lt:${e.limitType}`}function Wd(e){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(s=>$E(s)).join(", ")}]`),_h(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>Gr(s)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>Gr(s)).join(",")),`Target(${i})`}(bi(e))}; limitType=${e.limitType})`}function bh(e,t){return t.isFoundDocument()&&function(i,s){const r=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(r):tt.isDocumentKey(i.path)?i.path.isEqual(r):i.path.isImmediateParentOf(r)}(e,t)&&function(i,s){for(const r of Cr(i))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(e,t)&&function(i,s){for(const r of i.filters)if(!r.matches(s))return!1;return!0}(e,t)&&function(i,s){return!(i.startAt&&!function(o,a,l){const c=$y(o,a,l);return o.inclusive?c<=0:c<0}(i.startAt,Cr(i),s)||i.endAt&&!function(o,a,l){const c=$y(o,a,l);return o.inclusive?c>=0:c>0}(i.endAt,Cr(i),s))}(e,t)}function KO(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function qE(e){return(t,n)=>{let i=!1;for(const s of Cr(e)){const r=GO(s,t,n);if(r!==0)return r;i=i||s.field.isKeyField()}return 0}}function GO(e,t,n){const i=e.field.isKeyField()?tt.comparator(t.key,n.key):function(r,o,a){const l=o.data.field(r),c=a.data.field(r);return l!==null&&c!==null?Kr(l,c):at()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return at()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i!==void 0){for(const[s,r]of i)if(this.equalsFn(s,t))return r}}has(t){return this.get(t)!==void 0}set(t,n){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return this.inner[i]=[[t,n]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],t))return void(s[r]=[t,n]);s.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),i=this.inner[n];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return i.length===1?delete this.inner[n]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(t){ur(this.inner,(n,i)=>{for(const[s,r]of i)t(s,r)})}isEmpty(){return DE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=new Xt(tt.comparator);function wi(){return YO}const KE=new Xt(tt.comparator);function Fo(...e){let t=KE;for(const n of e)t=t.insert(n.key,n);return t}function GE(e){let t=KE;return e.forEach((n,i)=>t=t.insert(n,i.overlayedDocument)),t}function Os(){return ra()}function YE(){return ra()}function ra(){return new fo(e=>e.toString(),(e,t)=>e.isEqual(t))}const XO=new Xt(tt.comparator),QO=new Ve(tt.comparator);function vt(...e){let t=QO;for(const n of e)t=t.add(n);return t}const JO=new Ve(Pt);function ZO(){return JO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fu(t)?"-0":t}}function QE(e){return{integerValue:""+e}}function tD(e,t){return MO(t)?QE(t):XE(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(){this._=void 0}}function eD(e,t,n){return e instanceof pu?function(s,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&Vg(r)&&(r=Fg(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(n,t):e instanceof Yr?ZE(e,t):e instanceof Ba?tI(e,t):function(s,r){const o=JE(s,r),a=Wy(o)+Wy(s.Te);return Bd(o)&&Bd(s.Te)?QE(a):XE(s.serializer,a)}(e,t)}function nD(e,t,n){return e instanceof Yr?ZE(e,t):e instanceof Ba?tI(e,t):n}function JE(e,t){return e instanceof gu?function(i){return Bd(i)||function(r){return!!r&&"doubleValue"in r}(i)}(t)?t:{integerValue:0}:null}class pu extends wh{}class Yr extends wh{constructor(t){super(),this.elements=t}}function ZE(e,t){const n=eI(t);for(const i of e.elements)n.some(s=>ti(s,i))||n.push(i);return{arrayValue:{values:n}}}class Ba extends wh{constructor(t){super(),this.elements=t}}function tI(e,t){let n=eI(t);for(const i of e.elements)n=n.filter(s=>!ti(s,i));return{arrayValue:{values:n}}}class gu extends wh{constructor(t,n){super(),this.serializer=t,this.Te=n}}function Wy(e){return ce(e.integerValue||e.doubleValue)}function eI(e){return Ug(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(t,n){this.field=t,this.transform=n}}function sD(e,t){return e.field.isEqual(t.field)&&function(i,s){return i instanceof Yr&&s instanceof Yr||i instanceof Ba&&s instanceof Ba?qr(i.elements,s.elements,ti):i instanceof gu&&s instanceof gu?ti(i.Te,s.Te):i instanceof pu&&s instanceof pu}(e.transform,t.transform)}class rD{constructor(t,n){this.version=t,this.transformResults=n}}class yn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new yn}static exists(t){return new yn(void 0,t)}static updateTime(t){return new yn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Rc(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Eh{}function nI(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new jg(e.key,yn.none()):new vl(e.key,e.data,yn.none());{const n=e.data,i=Qe.empty();let s=new Ve(Oe.comparator);for(let r of t.fields)if(!s.has(r)){let o=n.field(r);o===null&&r.length>1&&(r=r.popLast(),o=n.field(r)),o===null?i.delete(r):i.set(r,o),s=s.add(r)}return new gs(e.key,i,new ln(s.toArray()),yn.none())}}function oD(e,t,n){e instanceof vl?function(s,r,o){const a=s.value.clone(),l=Ky(s.fieldTransforms,r,o.transformResults);a.setAll(l),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof gs?function(s,r,o){if(!Rc(s.precondition,r))return void r.convertToUnknownDocument(o.version);const a=Ky(s.fieldTransforms,r,o.transformResults),l=r.data;l.setAll(iI(s)),l.setAll(a),r.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(s,r,o){r.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function oa(e,t,n,i){return e instanceof vl?function(r,o,a,l){if(!Rc(r.precondition,o))return a;const c=r.value.clone(),u=Gy(r.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(e,t,n,i):e instanceof gs?function(r,o,a,l){if(!Rc(r.precondition,o))return a;const c=Gy(r.fieldTransforms,l,o),u=o.data;return u.setAll(iI(r)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(h=>h.field))}(e,t,n,i):function(r,o,a){return Rc(r.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function aD(e,t){let n=null;for(const i of e.fieldTransforms){const s=t.data.field(i.field),r=JE(i.transform,s||null);r!=null&&(n===null&&(n=Qe.empty()),n.set(i.field,r))}return n||null}function qy(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&qr(i,s,(r,o)=>sD(r,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class vl extends Eh{constructor(t,n,i,s=[]){super(),this.key=t,this.value=n,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class gs extends Eh{constructor(t,n,i,s,r=[]){super(),this.key=t,this.data=n,this.fieldMask=i,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function iI(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function Ky(e,t,n){const i=new Map;Kt(e.length===n.length);for(let s=0;s<n.length;s++){const r=e[s],o=r.transform,a=t.data.field(r.field);i.set(r.field,nD(o,a,n[s]))}return i}function Gy(e,t,n){const i=new Map;for(const s of e){const r=s.transform,o=n.data.field(s.field);i.set(s.field,eD(r,o,t))}return i}class jg extends Eh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lD extends Eh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(t,n,i,s){this.batchId=t,this.localWriteTime=n,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(t,n){const i=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const r=this.mutations[s];r.key.isEqual(t.key)&&oD(r,t,i[s])}}applyToLocalView(t,n){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(n=oa(i,t,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(n=oa(i,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const i=YE();return this.mutations.forEach(s=>{const r=t.get(s.key),o=r.overlayedDocument;let a=this.applyToLocalView(o,r.mutatedFields);a=n.has(s.key)?null:a;const l=nI(o,a);l!==null&&i.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ht.min())}),i}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),vt())}isEqual(t){return this.batchId===t.batchId&&qr(this.mutations,t.mutations,(n,i)=>qy(n,i))&&qr(this.baseMutations,t.baseMutations,(n,i)=>qy(n,i))}}class Hg{constructor(t,n,i,s){this.batch=t,this.commitVersion=n,this.mutationResults=i,this.docVersions=s}static from(t,n,i){Kt(t.mutations.length===i.length);let s=function(){return XO}();const r=t.mutations;for(let o=0;o<r.length;o++)s=s.insert(r[o].key,i[o].version);return new Hg(t,n,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le,It;function fD(e){switch(e){default:return at();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function sI(e){if(e===void 0)return vi("GRPC error has no .code"),M.UNKNOWN;switch(e){case le.OK:return M.OK;case le.CANCELLED:return M.CANCELLED;case le.UNKNOWN:return M.UNKNOWN;case le.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case le.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case le.INTERNAL:return M.INTERNAL;case le.UNAVAILABLE:return M.UNAVAILABLE;case le.UNAUTHENTICATED:return M.UNAUTHENTICATED;case le.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case le.NOT_FOUND:return M.NOT_FOUND;case le.ALREADY_EXISTS:return M.ALREADY_EXISTS;case le.PERMISSION_DENIED:return M.PERMISSION_DENIED;case le.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case le.ABORTED:return M.ABORTED;case le.OUT_OF_RANGE:return M.OUT_OF_RANGE;case le.UNIMPLEMENTED:return M.UNIMPLEMENTED;case le.DATA_LOSS:return M.DATA_LOSS;default:return at()}}(It=le||(le={}))[It.OK=0]="OK",It[It.CANCELLED=1]="CANCELLED",It[It.UNKNOWN=2]="UNKNOWN",It[It.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",It[It.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",It[It.NOT_FOUND=5]="NOT_FOUND",It[It.ALREADY_EXISTS=6]="ALREADY_EXISTS",It[It.PERMISSION_DENIED=7]="PERMISSION_DENIED",It[It.UNAUTHENTICATED=16]="UNAUTHENTICATED",It[It.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",It[It.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",It[It.ABORTED=10]="ABORTED",It[It.OUT_OF_RANGE=11]="OUT_OF_RANGE",It[It.UNIMPLEMENTED=12]="UNIMPLEMENTED",It[It.INTERNAL=13]="INTERNAL",It[It.UNAVAILABLE=14]="UNAVAILABLE",It[It.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Jl}static getOrCreateInstance(){return Jl===null&&(Jl=new Wg),Jl}onExistenceFilterMismatch(t){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,t),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(t))}}let Jl=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=new Rr([4294967295,4294967295],0);function Yy(e){const t=dD().encode(e),n=new _O;return n.update(t),new Uint8Array(n.digest())}function Xy(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),s=t.getUint32(8,!0),r=t.getUint32(12,!0);return[new Rr([n,i],0),new Rr([s,r],0)]}class qg{constructor(t,n,i){if(this.bitmap=t,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Uo(`Invalid padding: ${n}`);if(i<0)throw new Uo(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Uo(`Invalid hash count: ${i}`);if(t.length===0&&n!==0)throw new Uo(`Invalid padding when bitmap length is 0: ${n}`);this.de=8*t.length-n,this.Ae=Rr.fromNumber(this.de)}Re(t,n,i){let s=t.add(n.multiply(Rr.fromNumber(i)));return s.compare(pD)===1&&(s=new Rr([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ae).toNumber()}Ve(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.de===0)return!1;const n=Yy(t),[i,s]=Xy(n);for(let r=0;r<this.hashCount;r++){const o=this.Re(i,s,r);if(!this.Ve(o))return!1}return!0}static create(t,n,i){const s=t%8==0?0:8-t%8,r=new Uint8Array(Math.ceil(t/8)),o=new qg(r,s,n);return i.forEach(a=>o.insert(a)),o}insert(t){if(this.de===0)return;const n=Yy(t),[i,s]=Xy(n);for(let r=0;r<this.hashCount;r++){const o=this.Re(i,s,r);this.me(o)}}me(t){const n=Math.floor(t/8),i=t%8;this.bitmap[n]|=1<<i}}class Uo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(t,n,i,s,r){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,n,i){const s=new Map;return s.set(t,bl.createSynthesizedTargetChangeForCurrentChange(t,n,i)),new Ih(ht.min(),s,new Xt(Pt),wi(),vt())}}class bl{constructor(t,n,i,s,r){this.resumeToken=t,this.current=n,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,n,i){return new bl(i,n,vt(),vt(),vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(t,n,i,s){this.fe=t,this.removedTargetIds=n,this.key=i,this.ge=s}}class rI{constructor(t,n){this.targetId=t,this.pe=n}}class oI{constructor(t,n,i=Be.EMPTY_BYTE_STRING,s=null){this.state=t,this.targetIds=n,this.resumeToken=i,this.cause=s}}class Qy{constructor(){this.ye=0,this.we=Zy(),this.Se=Be.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}get current(){return this.be}get resumeToken(){return this.Se}get ve(){return this.ye!==0}get Ce(){return this.De}Fe(t){t.approximateByteSize()>0&&(this.De=!0,this.Se=t)}Me(){let t=vt(),n=vt(),i=vt();return this.we.forEach((s,r)=>{switch(r){case 0:t=t.add(s);break;case 2:n=n.add(s);break;case 1:i=i.add(s);break;default:at()}}),new bl(this.Se,this.be,t,n,i)}xe(){this.De=!1,this.we=Zy()}Oe(t,n){this.De=!0,this.we=this.we.insert(t,n)}Ne(t){this.De=!0,this.we=this.we.remove(t)}Be(){this.ye+=1}Le(){this.ye-=1}ke(){this.De=!0,this.be=!0}}class gD{constructor(t){this.qe=t,this.Qe=new Map,this.Ke=wi(),this.$e=Jy(),this.Ue=new Xt(Pt)}We(t){for(const n of t.fe)t.ge&&t.ge.isFoundDocument()?this.Ge(n,t.ge):this.ze(n,t.key,t.ge);for(const n of t.removedTargetIds)this.ze(n,t.key,t.ge)}je(t){this.forEachTarget(t,n=>{const i=this.He(n);switch(t.state){case 0:this.Je(n)&&i.Fe(t.resumeToken);break;case 1:i.Le(),i.ve||i.xe(),i.Fe(t.resumeToken);break;case 2:i.Le(),i.ve||this.removeTarget(n);break;case 3:this.Je(n)&&(i.ke(),i.Fe(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Fe(t.resumeToken));break;default:at()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Qe.forEach((i,s)=>{this.Je(s)&&n(s)})}Ze(t){var n,i;const s=t.targetId,r=t.pe.count,o=this.Xe(s);if(o){const a=o.target;if(zd(a))if(r===0){const l=new tt(a.path);this.ze(s,l,Ce.newNoDocument(l,ht.min()))}else Kt(r===1);else{const l=this.et(s);if(l!==r){const c=this.tt(t,l);if(c.status!==0){this.Ye(s);const u=c.status===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(s,u)}(n=Wg.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(h,f,d,p){var g,m,_,y,w,E;const I={localCacheCount:d,existenceFilterCount:p.count},x=p.unchangedNames;return x&&(I.bloomFilter={applied:h===0,hashCount:(g=x==null?void 0:x.hashCount)!==null&&g!==void 0?g:0,bitmapLength:(y=(_=(m=x==null?void 0:x.bits)===null||m===void 0?void 0:m.bitmap)===null||_===void 0?void 0:_.length)!==null&&y!==void 0?y:0,padding:(E=(w=x==null?void 0:x.bits)===null||w===void 0?void 0:w.padding)!==null&&E!==void 0?E:0},f&&(I.bloomFilter.mightContain=f)),I}(c.status,(i=c.nt)!==null&&i!==void 0?i:null,l,t.pe))}}}}tt(t,n){const{unchangedNames:i,count:s}=t.pe;if(!i||!i.bits)return{status:1};const{bits:{bitmap:r="",padding:o=0},hashCount:a=0}=i;let l,c;try{l=Qs(r).toUint8Array()}catch(h){if(h instanceof NE)return Wr("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw h}try{c=new qg(l,o,a)}catch(h){return Wr(h instanceof Uo?"BloomFilter error: ":"Applying bloom filter failed: ",h),{status:1}}const u=h=>{const f=this.qe.rt();return c.mightContain(`projects/${f.projectId}/databases/${f.database}/documents/${h}`)};return c.de===0?{status:1}:{status:s===n-this.it(t.targetId,u)?0:2,nt:u}}it(t,n){const i=this.qe.getRemoteKeysForTarget(t);let s=0;return i.forEach(r=>{n(r.path.canonicalString())||(this.ze(t,r,null),s++)}),s}st(t){const n=new Map;this.Qe.forEach((r,o)=>{const a=this.Xe(o);if(a){if(r.current&&zd(a.target)){const l=new tt(a.target.path);this.Ke.get(l)!==null||this.ot(o,l)||this.ze(o,l,Ce.newNoDocument(l,t))}r.Ce&&(n.set(o,r.Me()),r.xe())}});let i=vt();this.$e.forEach((r,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Xe(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(r))}),this.Ke.forEach((r,o)=>o.setReadTime(t));const s=new Ih(t,n,this.Ue,this.Ke,i);return this.Ke=wi(),this.$e=Jy(),this.Ue=new Xt(Pt),s}Ge(t,n){if(!this.Je(t))return;const i=this.ot(t,n.key)?2:0;this.He(t).Oe(n.key,i),this.Ke=this.Ke.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t))}ze(t,n,i){if(!this.Je(t))return;const s=this.He(t);this.ot(t,n)?s.Oe(n,1):s.Ne(n),this.$e=this.$e.insert(n,this._t(n).delete(t)),i&&(this.Ke=this.Ke.insert(n,i))}removeTarget(t){this.Qe.delete(t)}et(t){const n=this.He(t).Me();return this.qe.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Be(t){this.He(t).Be()}He(t){let n=this.Qe.get(t);return n||(n=new Qy,this.Qe.set(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new Ve(Pt),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.Qe.get(t);return n&&n.ve?null:this.qe.ut(t)}Ye(t){this.Qe.set(t,new Qy),this.qe.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ot(t,n){return this.qe.getRemoteKeysForTarget(t).has(n)}}function Jy(){return new Xt(tt.comparator)}function Zy(){return new Xt(tt.comparator)}const mD=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),_D=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),yD=(()=>({and:"AND",or:"OR"}))();class vD{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function qd(e,t){return e.useProto3Json||_h(t)?t:{value:t}}function mu(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function aI(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function bD(e,t){return mu(e,t.toTimestamp())}function Gn(e){return Kt(!!e),ht.fromTimestamp(function(n){const i=ss(n);return new fe(i.seconds,i.nanos)}(e))}function Kg(e,t){return function(i){return new jt(["projects",i.projectId,"databases",i.database])}(e).child("documents").child(t).canonicalString()}function lI(e){const t=jt.fromString(e);return Kt(fI(t)),t}function Kd(e,t){return Kg(e.databaseId,t.path)}function Af(e,t){const n=lI(t);if(n.get(1)!==e.databaseId.projectId)throw new K(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new K(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new tt(cI(n))}function Gd(e,t){return Kg(e.databaseId,t)}function wD(e){const t=lI(e);return t.length===4?jt.emptyPath():cI(t)}function Yd(e){return new jt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function cI(e){return Kt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function tv(e,t,n){return{name:Kd(e,t),fields:n.value.mapValue.fields}}function ED(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:at()}(t.targetChange.targetChangeType||"NO_CHANGE"),s=t.targetChange.targetIds||[],r=function(c,u){return c.useProto3Json?(Kt(u===void 0||typeof u=="string"),Be.fromBase64String(u||"")):(Kt(u===void 0||u instanceof Uint8Array),Be.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(c){const u=c.code===void 0?M.UNKNOWN:sI(c.code);return new K(u,c.message||"")}(o);n=new oI(i,s,r,a||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const s=Af(e,i.document.name),r=Gn(i.document.updateTime),o=i.document.createTime?Gn(i.document.createTime):ht.min(),a=new Qe({mapValue:{fields:i.document.fields}}),l=Ce.newFoundDocument(s,r,o,a),c=i.targetIds||[],u=i.removedTargetIds||[];n=new Cc(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const s=Af(e,i.document),r=i.readTime?Gn(i.readTime):ht.min(),o=Ce.newNoDocument(s,r),a=i.removedTargetIds||[];n=new Cc([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const s=Af(e,i.document),r=i.removedTargetIds||[];n=new Cc([],r,s,null)}else{if(!("filter"in t))return at();{t.filter;const i=t.filter;i.targetId;const{count:s=0,unchangedNames:r}=i,o=new hD(s,r),a=i.targetId;n=new rI(a,o)}}return n}function ID(e,t){let n;if(t instanceof vl)n={update:tv(e,t.key,t.value)};else if(t instanceof jg)n={delete:Kd(e,t.key)};else if(t instanceof gs)n={update:tv(e,t.key,t.data),updateMask:MD(t.fieldMask)};else{if(!(t instanceof lD))return at();n={verify:Kd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const a=o.transform;if(a instanceof pu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Yr)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ba)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof gu)return{fieldPath:o.field.canonicalString(),increment:a.Te};throw at()}(0,i))),t.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:bD(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:at()}(e,t.precondition)),n}function TD(e,t){return e&&e.length>0?(Kt(t!==void 0),e.map(n=>function(s,r){let o=s.updateTime?Gn(s.updateTime):Gn(r);return o.isEqual(ht.min())&&(o=Gn(r)),new rD(o,s.transformResults||[])}(n,t))):[]}function xD(e,t){return{documents:[Gd(e,t.path)]}}function AD(e,t){const n={structuredQuery:{}},i=t.path;t.collectionGroup!==null?(n.parent=Gd(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Gd(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const s=function(l){if(l.length!==0)return hI(Mn.create(l,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const r=function(l){if(l.length!==0)return l.map(c=>function(h){return{field:wr(h.field),direction:PD(h.dir)}}(c))}(t.orderBy);r&&(n.structuredQuery.orderBy=r);const o=qd(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function SD(e){let t=wD(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let s=null;if(i>0){Kt(i===1);const u=n.from[0];u.allDescendants?s=u.collectionId:t=t.child(u.collectionId)}let r=[];n.where&&(r=function(h){const f=uI(h);return f instanceof Mn&&UE(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(p){return new sa(Er(p.field),function(m){switch(m){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,_h(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,d=h.values||[];return new du(d,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,d=h.values||[];return new du(d,f)}(n.endAt)),qO(t,s,o,r,a,"F",l,c)}function kD(e,t){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return at()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function uI(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Er(n.unaryFilter.field);return ue.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Er(n.unaryFilter.field);return ue.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Er(n.unaryFilter.field);return ue.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Er(n.unaryFilter.field);return ue.create(o,"!=",{nullValue:"NULL_VALUE"});default:return at()}}(e):e.fieldFilter!==void 0?function(n){return ue.create(Er(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return at()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Mn.create(n.compositeFilter.filters.map(i=>uI(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return at()}}(n.compositeFilter.op))}(e):at()}function PD(e){return mD[e]}function RD(e){return _D[e]}function CD(e){return yD[e]}function wr(e){return{fieldPath:e.canonicalString()}}function Er(e){return Oe.fromServerFormat(e.fieldPath)}function hI(e){return e instanceof ue?function(n){if(n.op==="=="){if(By(n.value))return{unaryFilter:{field:wr(n.field),op:"IS_NAN"}};if(Uy(n.value))return{unaryFilter:{field:wr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(By(n.value))return{unaryFilter:{field:wr(n.field),op:"IS_NOT_NAN"}};if(Uy(n.value))return{unaryFilter:{field:wr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wr(n.field),op:RD(n.op),value:n.value}}}(e):e instanceof Mn?function(n){const i=n.getFilters().map(s=>hI(s));return i.length===1?i[0]:{compositeFilter:{op:CD(n.op),filters:i}}}(e):at()}function MD(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function fI(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(t,n,i,s,r=ht.min(),o=ht.min(),a=Be.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new $i(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new $i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(t){this.ct=t}}function DD(e){const t=SD({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Hd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.sn=new LD}addToCollectionParentIndex(t,n){return this.sn.add(n),L.resolve()}getCollectionParents(t,n){return L.resolve(this.sn.getEntries(n))}addFieldIndex(t,n){return L.resolve()}deleteFieldIndex(t,n){return L.resolve()}getDocumentsMatchingTarget(t,n){return L.resolve(null)}getIndexType(t,n){return L.resolve(0)}getFieldIndexes(t,n){return L.resolve([])}getNextCollectionGroupToUpdate(t){return L.resolve(null)}getMinOffset(t,n){return L.resolve(is.min())}getMinOffsetFromCollectionGroup(t,n){return L.resolve(is.min())}updateCollectionGroup(t,n,i){return L.resolve()}updateIndexEntries(t,n){return L.resolve()}}class LD{constructor(){this.index={}}add(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n]||new Ve(jt.comparator),r=!s.has(i);return this.index[n]=s.add(i),r}has(t){const n=t.lastSegment(),i=t.popLast(),s=this.index[n];return s&&s.has(i)}getEntries(t){return(this.index[t]||new Ve(jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(t){this.Mn=t}next(){return this.Mn+=2,this.Mn}static xn(){return new Xr(0)}static On(){return new Xr(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this.changes=new fo(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Ce.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?L.resolve(i):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(t,n,i,s){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=s}getDocument(t,n){let i=null;return this.documentOverlayCache.getOverlay(t,n).next(s=>(i=s,this.remoteDocumentCache.getEntry(t,n))).next(s=>(i!==null&&oa(i.mutation,s,ln.empty(),fe.now()),s))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.getLocalViewOfDocuments(t,i,vt()).next(()=>i))}getLocalViewOfDocuments(t,n,i=vt()){const s=Os();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,i).next(r=>{let o=Fo();return r.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const i=Os();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,vt()))}populateOverlays(t,n,i){const s=[];return i.forEach(r=>{n.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(t,s).next(r=>{r.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,i,s){let r=wi();const o=ra(),a=function(){return ra()}();return n.forEach((l,c)=>{const u=i.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof gs)?r=r.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),oa(u.mutation,c,u.mutation.getFieldMask(),fe.now())):o.set(c.key,ln.empty())}),this.recalculateAndSaveOverlays(t,r).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new FD(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(t,n){const i=ra();let s=new Xt((o,a)=>o-a),r=vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=i.get(l)||ln.empty();u=a.applyToLocalView(c,u),i.set(l,u);const h=(s.get(a.batchId)||vt()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=YE();u.forEach(f=>{if(!r.has(f)){const d=nI(n.get(f),i.get(f));d!==null&&h.set(f,d),r=r.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,c,h))}return L.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,n,i){return function(r){return tt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):HE(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,i):this.getDocumentsMatchingCollectionQuery(t,n,i)}getNextDocuments(t,n,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,i,s).next(r=>{const o=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,i.largestBatchId,s-r.size):L.resolve(Os());let a=-1,l=r;return o.next(c=>L.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),r.get(u)?L.resolve():this.remoteDocumentCache.getEntry(t,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(t,c,r)).next(()=>this.computeViews(t,l,c,vt())).next(u=>({batchId:a,changes:GE(u)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new tt(n)).next(i=>{let s=Fo();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(t,n,i){const s=n.collectionGroup;let r=Fo();return this.indexManager.getCollectionParents(t,s).next(o=>L.forEach(o,a=>{const l=function(u,h){return new yl(h,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(t,l,i).next(c=>{c.forEach((u,h)=>{r=r.insert(u,h)})})}).next(()=>r))}getDocumentsMatchingCollectionQuery(t,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,i.largestBatchId).next(r=>(s=r,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,i,s))).next(r=>{s.forEach((a,l)=>{const c=l.getKey();r.get(c)===null&&(r=r.insert(c,Ce.newInvalidDocument(c)))});let o=Fo();return r.forEach((a,l)=>{const c=s.get(a);c!==void 0&&oa(c.mutation,l,ln.empty(),fe.now()),bh(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(t){this.serializer=t,this.ar=new Map,this.ur=new Map}getBundleMetadata(t,n){return L.resolve(this.ar.get(n))}saveBundleMetadata(t,n){return this.ar.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Gn(s.createTime)}}(n)),L.resolve()}getNamedQuery(t,n){return L.resolve(this.ur.get(n))}saveNamedQuery(t,n){return this.ur.set(n.name,function(s){return{name:s.name,query:DD(s.bundledQuery),readTime:Gn(s.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this.overlays=new Xt(tt.comparator),this.cr=new Map}getOverlay(t,n){return L.resolve(this.overlays.get(n))}getOverlays(t,n){const i=Os();return L.forEach(n,s=>this.getOverlay(t,s).next(r=>{r!==null&&i.set(s,r)})).next(()=>i)}saveOverlays(t,n,i){return i.forEach((s,r)=>{this.ht(t,n,r)}),L.resolve()}removeOverlaysForBatchId(t,n,i){const s=this.cr.get(i);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.cr.delete(i)),L.resolve()}getOverlaysForCollection(t,n,i){const s=Os(),r=n.length+1,o=new tt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===r&&l.largestBatchId>i&&s.set(l.getKey(),l)}return L.resolve(s)}getOverlaysForCollectionGroup(t,n,i,s){let r=new Xt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>i){let u=r.get(c.largestBatchId);u===null&&(u=Os(),r=r.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Os(),l=r.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return L.resolve(a)}ht(t,n,i){const s=this.overlays.get(i.key);if(s!==null){const o=this.cr.get(s.largestBatchId).delete(i.key);this.cr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new uD(n,i));let r=this.cr.get(n);r===void 0&&(r=vt(),this.cr.set(n,r)),this.cr.set(n,r.add(i.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(){this.lr=new Ve(pe.hr),this.Pr=new Ve(pe.Ir)}isEmpty(){return this.lr.isEmpty()}addReference(t,n){const i=new pe(t,n);this.lr=this.lr.add(i),this.Pr=this.Pr.add(i)}Tr(t,n){t.forEach(i=>this.addReference(i,n))}removeReference(t,n){this.Er(new pe(t,n))}dr(t,n){t.forEach(i=>this.removeReference(i,n))}Ar(t){const n=new tt(new jt([])),i=new pe(n,t),s=new pe(n,t+1),r=[];return this.Pr.forEachInRange([i,s],o=>{this.Er(o),r.push(o.key)}),r}Rr(){this.lr.forEach(t=>this.Er(t))}Er(t){this.lr=this.lr.delete(t),this.Pr=this.Pr.delete(t)}Vr(t){const n=new tt(new jt([])),i=new pe(n,t),s=new pe(n,t+1);let r=vt();return this.Pr.forEachInRange([i,s],o=>{r=r.add(o.key)}),r}containsKey(t){const n=new pe(t,0),i=this.lr.firstAfterOrEqual(n);return i!==null&&t.isEqual(i.key)}}class pe{constructor(t,n){this.key=t,this.mr=n}static hr(t,n){return tt.comparator(t.key,n.key)||Pt(t.mr,n.mr)}static Ir(t,n){return Pt(t.mr,n.mr)||tt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.gr=1,this.pr=new Ve(pe.hr)}checkEmpty(t){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,i,s){const r=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new cD(r,n,i,s);this.mutationQueue.push(o);for(const a of s)this.pr=this.pr.add(new pe(a.key,r)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return L.resolve(o)}lookupMutationBatch(t,n){return L.resolve(this.yr(n))}getNextMutationBatchAfterBatchId(t,n){const i=n+1,s=this.wr(i),r=s<0?0:s;return L.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.gr-1)}getAllMutationBatches(t){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const i=new pe(n,0),s=new pe(n,Number.POSITIVE_INFINITY),r=[];return this.pr.forEachInRange([i,s],o=>{const a=this.yr(o.mr);r.push(a)}),L.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,n){let i=new Ve(Pt);return n.forEach(s=>{const r=new pe(s,0),o=new pe(s,Number.POSITIVE_INFINITY);this.pr.forEachInRange([r,o],a=>{i=i.add(a.mr)})}),L.resolve(this.Sr(i))}getAllMutationBatchesAffectingQuery(t,n){const i=n.path,s=i.length+1;let r=i;tt.isDocumentKey(r)||(r=r.child(""));const o=new pe(new tt(r),0);let a=new Ve(Pt);return this.pr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.mr)),!0)},o),L.resolve(this.Sr(a))}Sr(t){const n=[];return t.forEach(i=>{const s=this.yr(i);s!==null&&n.push(s)}),n}removeMutationBatch(t,n){Kt(this.br(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.pr;return L.forEach(n.mutations,s=>{const r=new pe(s.key,n.batchId);return i=i.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,s.key)}).next(()=>{this.pr=i})}Cn(t){}containsKey(t,n){const i=new pe(n,0),s=this.pr.firstAfterOrEqual(i);return L.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(t){return this.mutationQueue.length,L.resolve()}br(t,n){return this.wr(t)}wr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}yr(t){const n=this.wr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(t){this.Dr=t,this.docs=function(){return new Xt(tt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const i=n.key,s=this.docs.get(i),r=s?s.size:0,o=this.Dr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const i=this.docs.get(n);return L.resolve(i?i.document.mutableCopy():Ce.newInvalidDocument(n))}getEntries(t,n){let i=wi();return n.forEach(s=>{const r=this.docs.get(s);i=i.insert(s,r?r.document.mutableCopy():Ce.newInvalidDocument(s))}),L.resolve(i)}getDocumentsMatchingQuery(t,n,i,s){let r=wi();const o=n.path,a=new tt(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||PO(kO(u),i)<=0||(s.has(u.key)||bh(n,u))&&(r=r.insert(u.key,u.mutableCopy()))}return L.resolve(r)}getAllFromCollectionGroup(t,n,i,s){at()}vr(t,n){return L.forEach(this.docs,i=>n(i))}newChangeBuffer(t){return new HD(this)}getSize(t){return L.resolve(this.size)}}class HD extends VD{constructor(t){super(),this.sr=t}applyChanges(t){const n=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?n.push(this.sr.addEntry(t,s)):this.sr.removeEntry(i)}),L.waitFor(n)}getFromCache(t,n){return this.sr.getEntry(t,n)}getAllFromCache(t,n){return this.sr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(t){this.persistence=t,this.Cr=new fo(n=>Bg(n),$g),this.lastRemoteSnapshotVersion=ht.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new Gg,this.targetCount=0,this.Or=Xr.xn()}forEachTarget(t,n){return this.Cr.forEach((i,s)=>n(s)),L.resolve()}getLastRemoteSnapshotVersion(t){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return L.resolve(this.Fr)}allocateTargetId(t){return this.highestTargetId=this.Or.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(t,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Fr&&(this.Fr=n),L.resolve()}Ln(t){this.Cr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Or=new Xr(n),this.highestTargetId=n),t.sequenceNumber>this.Fr&&(this.Fr=t.sequenceNumber)}addTargetData(t,n){return this.Ln(n),this.targetCount+=1,L.resolve()}updateTargetData(t,n){return this.Ln(n),L.resolve()}removeTargetData(t,n){return this.Cr.delete(n.target),this.Mr.Ar(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(t,n,i){let s=0;const r=[];return this.Cr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Cr.delete(o),r.push(this.removeMatchingKeysForTargetId(t,a.targetId)),s++)}),L.waitFor(r).next(()=>s)}getTargetCount(t){return L.resolve(this.targetCount)}getTargetData(t,n){const i=this.Cr.get(n)||null;return L.resolve(i)}addMatchingKeys(t,n,i){return this.Mr.Tr(n,i),L.resolve()}removeMatchingKeys(t,n,i){this.Mr.dr(n,i);const s=this.persistence.referenceDelegate,r=[];return s&&n.forEach(o=>{r.push(s.markPotentiallyOrphaned(t,o))}),L.waitFor(r)}removeMatchingKeysForTargetId(t,n){return this.Mr.Ar(n),L.resolve()}getMatchingKeysForTargetId(t,n){const i=this.Mr.Vr(n);return L.resolve(i)}containsKey(t,n){return L.resolve(this.Mr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(t,n){this.Nr={},this.overlays={},this.Br=new Lg(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=t(this),this.kr=new WD(this),this.indexManager=new ND,this.remoteDocumentCache=function(s){return new jD(s)}(i=>this.referenceDelegate.qr(i)),this.serializer=new OD(n),this.Qr=new BD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Lr=!1,Promise.resolve()}get started(){return this.Lr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new $D,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let i=this.Nr[t.toKey()];return i||(i=new zD(n,this.referenceDelegate),this.Nr[t.toKey()]=i),i}getTargetCache(){return this.kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Qr}runTransaction(t,n,i){Q("MemoryPersistence","Starting transaction:",t);const s=new KD(this.Br.next());return this.referenceDelegate.Kr(),i(s).next(r=>this.referenceDelegate.$r(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Ur(t,n){return L.or(Object.values(this.Nr).map(i=>()=>i.containsKey(t,n)))}}class KD extends CO{constructor(t){super(),this.currentSequenceNumber=t}}class Yg{constructor(t){this.persistence=t,this.Wr=new Gg,this.Gr=null}static zr(t){return new Yg(t)}get jr(){if(this.Gr)return this.Gr;throw at()}addReference(t,n,i){return this.Wr.addReference(i,n),this.jr.delete(i.toString()),L.resolve()}removeReference(t,n,i){return this.Wr.removeReference(i,n),this.jr.add(i.toString()),L.resolve()}markPotentiallyOrphaned(t,n){return this.jr.add(n.toString()),L.resolve()}removeTarget(t,n){this.Wr.Ar(n.targetId).forEach(s=>this.jr.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,n.targetId).next(s=>{s.forEach(r=>this.jr.add(r.toString()))}).next(()=>i.removeTargetData(t,n))}Kr(){this.Gr=new Set}$r(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.jr,i=>{const s=tt.fromPath(i);return this.Hr(t,s).next(r=>{r||n.removeEntry(s,ht.min())})}).next(()=>(this.Gr=null,n.apply(t)))}updateLimboDocument(t,n){return this.Hr(t,n).next(i=>{i?this.jr.delete(n.toString()):this.jr.add(n.toString())})}qr(t){return 0}Hr(t,n){return L.or([()=>L.resolve(this.Wr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ur(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(t,n,i,s){this.targetId=t,this.fromCache=n,this.Li=i,this.ki=s}static qi(t,n){let i=vt(),s=vt();for(const r of n.docChanges)switch(r.type){case 0:i=i.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new Xg(t,n.fromCache,i,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(){this.Qi=!1}initialize(t,n){this.Ki=t,this.indexManager=n,this.Qi=!0}getDocumentsMatchingQuery(t,n,i,s){return this.$i(t,n).next(r=>r||this.Ui(t,n,s,i)).next(r=>r||this.Wi(t,n))}$i(t,n){if(Hy(n))return L.resolve(null);let i=bi(n);return this.indexManager.getIndexType(t,i).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Hd(n,null,"F"),i=bi(n)),this.indexManager.getDocumentsMatchingTarget(t,i).next(r=>{const o=vt(...r);return this.Ki.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,i).next(l=>{const c=this.Gi(n,a);return this.zi(n,c,o,l.readTime)?this.$i(t,Hd(n,null,"F")):this.ji(t,c,n,l)}))})))}Ui(t,n,i,s){return Hy(n)||s.isEqual(ht.min())?this.Wi(t,n):this.Ki.getDocuments(t,i).next(r=>{const o=this.Gi(n,r);return this.zi(n,o,i,s)?this.Wi(t,n):(Dy()<=St.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Wd(n)),this.ji(t,o,n,SO(s,-1)))})}Gi(t,n){let i=new Ve(qE(t));return n.forEach((s,r)=>{bh(t,r)&&(i=i.add(r))}),i}zi(t,n,i,s){if(t.limit===null)return!1;if(i.size!==n.size)return!0;const r=t.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}Wi(t,n){return Dy()<=St.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",Wd(n)),this.Ki.getDocumentsMatchingQuery(t,n,is.min())}ji(t,n,i,s){return this.Ki.getDocumentsMatchingQuery(t,i,s).next(r=>(n.forEach(o=>{r=r.insert(o.key,o)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(t,n,i,s){this.persistence=t,this.Hi=n,this.serializer=s,this.Ji=new Xt(Pt),this.Yi=new fo(r=>Bg(r),$g),this.Zi=new Map,this.Xi=t.getRemoteDocumentCache(),this.kr=t.getTargetCache(),this.Qr=t.getBundleCache(),this.es(i)}es(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new UD(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ji))}}function XD(e,t,n,i){return new YD(e,t,n,i)}async function dI(e,t){const n=mt(e);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let s;return n.mutationQueue.getAllMutationBatches(i).next(r=>(s=r,n.es(t),n.mutationQueue.getAllMutationBatches(i))).next(r=>{const o=[],a=[];let l=vt();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of r){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(i,l).next(c=>({ts:c,removedBatchIds:o,addedBatchIds:a}))})})}function QD(e,t){const n=mt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=t.batch.keys(),r=n.Xi.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,f=h.keys();let d=L.resolve();return f.forEach(p=>{d=d.next(()=>u.getEntry(l,p)).next(g=>{const m=c.docVersions.get(p);Kt(m!==null),g.version.compareTo(m)<0&&(h.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),d.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,i,t,r).next(()=>r.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,s,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=vt();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>n.localDocuments.getDocuments(i,s))})}function pI(e){const t=mt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.kr.getLastRemoteSnapshotVersion(n))}function JD(e,t){const n=mt(e),i=t.snapshotVersion;let s=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=n.Xi.newChangeBuffer({trackRemovals:!0});s=n.Ji;const a=[];t.targetChanges.forEach((u,h)=>{const f=s.get(h);if(!f)return;a.push(n.kr.removeMatchingKeys(r,u.removedDocuments,h).next(()=>n.kr.addMatchingKeys(r,u.addedDocuments,h)));let d=f.withSequenceNumber(r.currentSequenceNumber);t.targetMismatches.get(h)!==null?d=d.withResumeToken(Be.EMPTY_BYTE_STRING,ht.min()).withLastLimboFreeSnapshotVersion(ht.min()):u.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(u.resumeToken,i)),s=s.insert(h,d),function(g,m,_){return g.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,d,u)&&a.push(n.kr.updateTargetData(r,d))});let l=wi(),c=vt();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(r,u))}),a.push(ZD(r,o,t.documentUpdates).next(u=>{l=u.ns,c=u.rs})),!i.isEqual(ht.min())){const u=n.kr.getLastRemoteSnapshotVersion(r).next(h=>n.kr.setTargetsMetadata(r,r.currentSequenceNumber,i));a.push(u)}return L.waitFor(a).next(()=>o.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,l,c)).next(()=>l)}).then(r=>(n.Ji=s,r))}function ZD(e,t,n){let i=vt(),s=vt();return n.forEach(r=>i=i.add(r)),t.getEntries(e,i).next(r=>{let o=wi();return n.forEach((a,l)=>{const c=r.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ht.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):Q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ns:o,rs:s}})}function tN(e,t){const n=mt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function eN(e,t){const n=mt(e);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return n.kr.getTargetData(i,t).next(r=>r?(s=r,L.resolve(s)):n.kr.allocateTargetId(i).next(o=>(s=new $i(t,o,"TargetPurposeListen",i.currentSequenceNumber),n.kr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=n.Ji.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(i.targetId,i),n.Yi.set(t,i.targetId)),i})}async function Xd(e,t,n){const i=mt(e),s=i.Ji.get(t),r=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",r,o=>i.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!_l(o))throw o;Q("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}i.Ji=i.Ji.remove(t),i.Yi.delete(s.target)}function ev(e,t,n){const i=mt(e);let s=ht.min(),r=vt();return i.persistence.runTransaction("Execute query","readonly",o=>function(l,c,u){const h=mt(l),f=h.Yi.get(u);return f!==void 0?L.resolve(h.Ji.get(f)):h.kr.getTargetData(c,u)}(i,o,bi(t)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,i.kr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{r=l})}).next(()=>i.Hi.getDocumentsMatchingQuery(o,t,n?s:ht.min(),n?r:vt())).next(a=>(nN(i,KO(t),a),{documents:a,ss:r})))}function nN(e,t,n){let i=e.Zi.get(t)||ht.min();n.forEach((s,r)=>{r.readTime.compareTo(i)>0&&(i=r.readTime)}),e.Zi.set(t,i)}class nv{constructor(){this.activeTargetIds=ZO()}hs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ps(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ls(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class iN{constructor(){this.Hs=new nv,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,i){}addLocalQueryTarget(t){return this.Hs.hs(t),this.Js[t]||"not-current"}updateQueryState(t,n,i){this.Js[t]=n}removeLocalQueryTarget(t){this.Hs.Ps(t)}isLocalQueryTarget(t){return this.Hs.activeTargetIds.has(t)}clearQueryState(t){delete this.Js[t]}getAllActiveQueryTargets(){return this.Hs.activeTargetIds}isActiveQueryTarget(t){return this.Hs.activeTargetIds.has(t)}start(){return this.Hs=new nv,Promise.resolve()}handleUserChange(t,n,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{Ys(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(){this.Zs=()=>this.Xs(),this.eo=()=>this.no(),this.ro=[],this.io()}Ys(t){this.ro.push(t)}shutdown(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}Xs(){Q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ro)t(0)}no(){Q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ro)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zl=null;function Sf(){return Zl===null?Zl=function(){return 268435456+Math.round(2147483648*Math.random())}():Zl++,"0x"+Zl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(t){this.so=t.so,this.oo=t.oo}_o(t){this.ao=t}uo(t){this.co=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.so(t)}ho(){this.ao()}Po(t){this.co(t)}Io(t){this.lo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Se="WebChannelConnection";class aN extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.To=i+"://"+n.host,this.Eo=`projects/${s}/databases/${r}`,this.Ao=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${r}`}get Ro(){return!1}Vo(n,i,s,r,o){const a=Sf(),l=this.mo(n,i);Q("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.Eo,"x-goog-request-params":this.Ao};return this.fo(c,r,o),this.po(n,l,c,s).then(u=>(Q("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Wr("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}yo(n,i,s,r,o,a){return this.Vo(n,i,s,r,o)}fo(n,i,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ho}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((r,o)=>n[o]=r),s&&s.headers.forEach((r,o)=>n[o]=r)}mo(n,i){const s=rN[n];return`${this.To}/v1/${i}:${s}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}po(t,n,i,s){const r=Sf();return new Promise((o,a)=>{const l=new mO;l.setWithCredentials(!0),l.listenOnce(dO.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case xf.NO_ERROR:const u=l.getResponseJson();Q(Se,`XHR for RPC '${t}' ${r} received:`,JSON.stringify(u)),o(u);break;case xf.TIMEOUT:Q(Se,`RPC '${t}' ${r} timed out`),a(new K(M.DEADLINE_EXCEEDED,"Request time out"));break;case xf.HTTP_ERROR:const h=l.getStatus();if(Q(Se,`RPC '${t}' ${r} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const d=f==null?void 0:f.error;if(d&&d.status&&d.message){const p=function(m){const _=m.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(_)>=0?_:M.UNKNOWN}(d.status);a(new K(p,d.message))}else a(new K(M.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new K(M.UNAVAILABLE,"Connection failed."));break;default:at()}}finally{Q(Se,`RPC '${t}' ${r} completed.`)}});const c=JSON.stringify(s);Q(Se,`RPC '${t}' ${r} sending request:`,s),l.send(n,"POST",c,i,15)})}wo(t,n,i){const s=Sf(),r=[this.To,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=hO(),a=fO(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new gO({})),this.fo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const u=r.join("");Q(Se,`Creating RPC '${t}' stream ${s}: ${u}`,l);const h=o.createWebChannel(u,l);let f=!1,d=!1;const p=new oN({so:m=>{d?Q(Se,`Not sending because RPC '${t}' stream ${s} is closed:`,m):(f||(Q(Se,`Opening RPC '${t}' stream ${s} transport.`),h.open(),f=!0),Q(Se,`RPC '${t}' stream ${s} sending:`,m),h.send(m))},oo:()=>h.close()}),g=(m,_,y)=>{m.listen(_,w=>{try{y(w)}catch(E){setTimeout(()=>{throw E},0)}})};return g(h,Yl.EventType.OPEN,()=>{d||Q(Se,`RPC '${t}' stream ${s} transport opened.`)}),g(h,Yl.EventType.CLOSE,()=>{d||(d=!0,Q(Se,`RPC '${t}' stream ${s} transport closed`),p.Po())}),g(h,Yl.EventType.ERROR,m=>{d||(d=!0,Wr(Se,`RPC '${t}' stream ${s} transport errored:`,m),p.Po(new K(M.UNAVAILABLE,"The operation could not be completed")))}),g(h,Yl.EventType.MESSAGE,m=>{var _;if(!d){const y=m.data[0];Kt(!!y);const w=y,E=w.error||((_=w[0])===null||_===void 0?void 0:_.error);if(E){Q(Se,`RPC '${t}' stream ${s} received error:`,E);const I=E.status;let x=function(C){const $=le[C];if($!==void 0)return sI($)}(I),k=E.message;x===void 0&&(x=M.INTERNAL,k="Unknown error status: "+I+" with message "+E.message),d=!0,p.Po(new K(x,k)),h.close()}else Q(Se,`RPC '${t}' stream ${s} received:`,y),p.Io(y)}}),g(a,pO.STAT_EVENT,m=>{m.stat===My.PROXY?Q(Se,`RPC '${t}' stream ${s} detected buffering proxy`):m.stat===My.NOPROXY&&Q(Se,`RPC '${t}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{p.ho()},0),p}}function kf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(e){return new vD(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(t,n,i=1e3,s=1.5,r=6e4){this.ii=t,this.timerId=n,this.So=i,this.bo=s,this.Do=r,this.vo=0,this.Co=null,this.Fo=Date.now(),this.reset()}reset(){this.vo=0}Mo(){this.vo=this.Do}xo(t){this.cancel();const n=Math.floor(this.vo+this.Oo()),i=Math.max(0,Date.now()-this.Fo),s=Math.max(0,n-i);s>0&&Q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.vo} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Co=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Fo=Date.now(),t())),this.vo*=this.bo,this.vo<this.So&&(this.vo=this.So),this.vo>this.Do&&(this.vo=this.Do)}No(){this.Co!==null&&(this.Co.skipDelay(),this.Co=null)}cancel(){this.Co!==null&&(this.Co.cancel(),this.Co=null)}Oo(){return(Math.random()-.5)*this.vo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(t,n,i,s,r,o,a,l){this.ii=t,this.Bo=i,this.Lo=s,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.ko=0,this.qo=null,this.Qo=null,this.stream=null,this.Ko=new gI(t,n)}$o(){return this.state===1||this.state===5||this.Uo()}Uo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Wo()}async stop(){this.$o()&&await this.close(0)}Go(){this.state=0,this.Ko.reset()}zo(){this.Uo()&&this.qo===null&&(this.qo=this.ii.enqueueAfterDelay(this.Bo,6e4,()=>this.jo()))}Ho(t){this.Jo(),this.stream.send(t)}async jo(){if(this.Uo())return this.close(0)}Jo(){this.qo&&(this.qo.cancel(),this.qo=null)}Yo(){this.Qo&&(this.Qo.cancel(),this.Qo=null)}async close(t,n){this.Jo(),this.Yo(),this.Ko.cancel(),this.ko++,t!==4?this.Ko.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(vi(n.toString()),vi("Using maximum backoff delay to prevent overloading the backend."),this.Ko.Mo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Zo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.uo(n)}Zo(){}auth(){this.state=1;const t=this.Xo(this.ko),n=this.ko;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.ko===n&&this.e_(i,s)},i=>{t(()=>{const s=new K(M.UNKNOWN,"Fetching auth token failed: "+i.message);return this.t_(s)})})}e_(t,n){const i=this.Xo(this.ko);this.stream=this.n_(t,n),this.stream._o(()=>{i(()=>(this.state=2,this.Qo=this.ii.enqueueAfterDelay(this.Lo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener._o()))}),this.stream.uo(s=>{i(()=>this.t_(s))}),this.stream.onMessage(s=>{i(()=>this.onMessage(s))})}Wo(){this.state=5,this.Ko.xo(async()=>{this.state=0,this.start()})}t_(t){return Q("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return n=>{this.ii.enqueueAndForget(()=>this.ko===t?n():(Q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lN extends mI{constructor(t,n,i,s,r,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,s,o),this.serializer=r}n_(t,n){return this.connection.wo("Listen",t,n)}onMessage(t){this.Ko.reset();const n=ED(this.serializer,t),i=function(r){if(!("targetChange"in r))return ht.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?ht.min():o.readTime?Gn(o.readTime):ht.min()}(t);return this.listener.r_(n,i)}i_(t){const n={};n.database=Yd(this.serializer),n.addTarget=function(r,o){let a;const l=o.target;if(a=zd(l)?{documents:xD(r,l)}:{query:AD(r,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=aI(r,o.resumeToken);const c=qd(r,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ht.min())>0){a.readTime=mu(r,o.snapshotVersion.toTimestamp());const c=qd(r,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,t);const i=kD(this.serializer,t);i&&(n.labels=i),this.Ho(n)}s_(t){const n={};n.database=Yd(this.serializer),n.removeTarget=t,this.Ho(n)}}class cN extends mI{constructor(t,n,i,s,r,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,s,o),this.serializer=r,this.o_=!1}get __(){return this.o_}start(){this.o_=!1,this.lastStreamToken=void 0,super.start()}Zo(){this.o_&&this.a_([])}n_(t,n){return this.connection.wo("Write",t,n)}onMessage(t){if(Kt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.o_){this.Ko.reset();const n=TD(t.writeResults,t.commitTime),i=Gn(t.commitTime);return this.listener.u_(i,n)}return Kt(!t.writeResults||t.writeResults.length===0),this.o_=!0,this.listener.c_()}l_(){const t={};t.database=Yd(this.serializer),this.Ho(t)}a_(t){const n={streamToken:this.lastStreamToken,writes:t.map(i=>ID(this.serializer,i))};this.Ho(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN extends class{}{constructor(t,n,i,s){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=i,this.serializer=s,this.h_=!1}P_(){if(this.h_)throw new K(M.FAILED_PRECONDITION,"The client has already been terminated.")}Vo(t,n,i){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,r])=>this.connection.Vo(t,n,i,s,r)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(M.UNKNOWN,s.toString())})}yo(t,n,i,s){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.yo(t,n,i,r,o,s)).catch(r=>{throw r.name==="FirebaseError"?(r.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new K(M.UNKNOWN,r.toString())})}terminate(){this.h_=!0}}class hN{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.T_=0,this.E_=null,this.d_=!0}A_(){this.T_===0&&(this.R_("Unknown"),this.E_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.E_=null,this.V_("Backend didn't respond within 10 seconds."),this.R_("Offline"),Promise.resolve())))}m_(t){this.state==="Online"?this.R_("Unknown"):(this.T_++,this.T_>=1&&(this.f_(),this.V_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.R_("Offline")))}set(t){this.f_(),this.T_=0,t==="Online"&&(this.d_=!1),this.R_(t)}R_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}V_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.d_?(vi(n),this.d_=!1):Q("OnlineStateTracker",n)}f_(){this.E_!==null&&(this.E_.cancel(),this.E_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(t,n,i,s,r){this.localStore=t,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.g_=[],this.p_=new Map,this.y_=new Set,this.w_=[],this.S_=r,this.S_.Ys(o=>{i.enqueueAndForget(async()=>{hr(this)&&(Q("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=mt(l);c.y_.add(4),await wl(c),c.b_.set("Unknown"),c.y_.delete(4),await xh(c)}(this))})}),this.b_=new hN(i,s)}}async function xh(e){if(hr(e))for(const t of e.w_)await t(!0)}async function wl(e){for(const t of e.w_)await t(!1)}function _I(e,t){const n=mt(e);n.p_.has(t.targetId)||(n.p_.set(t.targetId,t),Zg(n)?Jg(n):po(n).Uo()&&Qg(n,t))}function yI(e,t){const n=mt(e),i=po(n);n.p_.delete(t),i.Uo()&&vI(n,t),n.p_.size===0&&(i.Uo()?i.zo():hr(n)&&n.b_.set("Unknown"))}function Qg(e,t){if(e.D_.Be(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ht.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}po(e).i_(t)}function vI(e,t){e.D_.Be(t),po(e).s_(t)}function Jg(e){e.D_=new gD({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>e.p_.get(t)||null,rt:()=>e.datastore.serializer.databaseId}),po(e).start(),e.b_.A_()}function Zg(e){return hr(e)&&!po(e).$o()&&e.p_.size>0}function hr(e){return mt(e).y_.size===0}function bI(e){e.D_=void 0}async function dN(e){e.p_.forEach((t,n)=>{Qg(e,t)})}async function pN(e,t){bI(e),Zg(e)?(e.b_.m_(t),Jg(e)):e.b_.set("Unknown")}async function gN(e,t,n){if(e.b_.set("Online"),t instanceof oI&&t.state===2&&t.cause)try{await async function(s,r){const o=r.cause;for(const a of r.targetIds)s.p_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.p_.delete(a),s.D_.removeTarget(a))}(e,t)}catch(i){Q("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),await _u(e,i)}else if(t instanceof Cc?e.D_.We(t):t instanceof rI?e.D_.Ze(t):e.D_.je(t),!n.isEqual(ht.min()))try{const i=await pI(e.localStore);n.compareTo(i)>=0&&await function(r,o){const a=r.D_.st(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=r.p_.get(c);u&&r.p_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=r.p_.get(l);if(!u)return;r.p_.set(l,u.withResumeToken(Be.EMPTY_BYTE_STRING,u.snapshotVersion)),vI(r,l);const h=new $i(u.target,l,c,u.sequenceNumber);Qg(r,h)}),r.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(i){Q("RemoteStore","Failed to raise snapshot:",i),await _u(e,i)}}async function _u(e,t,n){if(!_l(t))throw t;e.y_.add(1),await wl(e),e.b_.set("Offline"),n||(n=()=>pI(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Q("RemoteStore","Retrying IndexedDB access"),await n(),e.y_.delete(1),await xh(e)})}function wI(e,t){return t().catch(n=>_u(e,n,t))}async function Ah(e){const t=mt(e),n=rs(t);let i=t.g_.length>0?t.g_[t.g_.length-1].batchId:-1;for(;mN(t);)try{const s=await tN(t.localStore,i);if(s===null){t.g_.length===0&&n.zo();break}i=s.batchId,_N(t,s)}catch(s){await _u(t,s)}EI(t)&&II(t)}function mN(e){return hr(e)&&e.g_.length<10}function _N(e,t){e.g_.push(t);const n=rs(e);n.Uo()&&n.__&&n.a_(t.mutations)}function EI(e){return hr(e)&&!rs(e).$o()&&e.g_.length>0}function II(e){rs(e).start()}async function yN(e){rs(e).l_()}async function vN(e){const t=rs(e);for(const n of e.g_)t.a_(n.mutations)}async function bN(e,t,n){const i=e.g_.shift(),s=Hg.from(i,t,n);await wI(e,()=>e.remoteSyncer.applySuccessfulWrite(s)),await Ah(e)}async function wN(e,t){t&&rs(e).__&&await async function(i,s){if(function(o){return fD(o)&&o!==M.ABORTED}(s.code)){const r=i.g_.shift();rs(i).Go(),await wI(i,()=>i.remoteSyncer.rejectFailedWrite(r.batchId,s)),await Ah(i)}}(e,t),EI(e)&&II(e)}async function sv(e,t){const n=mt(e);n.asyncQueue.verifyOperationInProgress(),Q("RemoteStore","RemoteStore received new credentials");const i=hr(n);n.y_.add(3),await wl(n),i&&n.b_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.y_.delete(3),await xh(n)}async function EN(e,t){const n=mt(e);t?(n.y_.delete(2),await xh(n)):t||(n.y_.add(2),await wl(n),n.b_.set("Unknown"))}function po(e){return e.v_||(e.v_=function(n,i,s){const r=mt(n);return r.P_(),new lN(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(e.datastore,e.asyncQueue,{_o:dN.bind(null,e),uo:pN.bind(null,e),r_:gN.bind(null,e)}),e.w_.push(async t=>{t?(e.v_.Go(),Zg(e)?Jg(e):e.b_.set("Unknown")):(await e.v_.stop(),bI(e))})),e.v_}function rs(e){return e.C_||(e.C_=function(n,i,s){const r=mt(n);return r.P_(),new cN(i,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(e.datastore,e.asyncQueue,{_o:yN.bind(null,e),uo:wN.bind(null,e),c_:vN.bind(null,e),u_:bN.bind(null,e)}),e.w_.push(async t=>{t?(e.C_.Go(),await Ah(e)):(await e.C_.stop(),e.g_.length>0&&(Q("RemoteStore",`Stopping write stream with ${e.g_.length} pending writes`),e.g_=[]))})),e.C_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(t,n,i,s,r){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new Ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,n,i,s,r){const o=Date.now()+i,a=new tm(t,n,o,s,r);return a.start(i),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(M.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function em(e,t){if(vi("AsyncQueue",`${t}: ${e}`),_l(e))return new K(M.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(t){this.comparator=t?(n,i)=>t(n,i)||tt.comparator(n.key,i.key):(n,i)=>tt.comparator(n.key,i.key),this.keyedMap=Fo(),this.sortedSet=new Xt(this.comparator)}static emptySet(t){return new Mr(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,i)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Mr)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,r=i.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const i=new Mr;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(){this.F_=new Xt(tt.comparator)}track(t){const n=t.doc.key,i=this.F_.get(n);i?t.type!==0&&i.type===3?this.F_=this.F_.insert(n,t):t.type===3&&i.type!==1?this.F_=this.F_.insert(n,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.F_=this.F_.insert(n,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.F_=this.F_.insert(n,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.F_=this.F_.remove(n):t.type===1&&i.type===2?this.F_=this.F_.insert(n,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.F_=this.F_.insert(n,{type:2,doc:t.doc}):at():this.F_=this.F_.insert(n,t)}M_(){const t=[];return this.F_.inorderTraversal((n,i)=>{t.push(i)}),t}}class Qr{constructor(t,n,i,s,r,o,a,l,c){this.query=t,this.docs=n,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,n,i,s,r){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Qr(t,n,Mr.emptySet(n),o,i,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&vh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,i=t.docChanges;if(n.length!==i.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==i[s].type||!n[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(){this.x_=void 0,this.listeners=[]}}class TN{constructor(){this.queries=new fo(t=>WE(t),vh),this.onlineState="Unknown",this.O_=new Set}}async function TI(e,t){const n=mt(e),i=t.query;let s=!1,r=n.queries.get(i);if(r||(s=!0,r=new IN),s)try{r.x_=await n.onListen(i)}catch(o){const a=em(o,`Initialization of query '${Wd(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,r),r.listeners.push(t),t.N_(n.onlineState),r.x_&&t.B_(r.x_)&&nm(n)}async function xI(e,t){const n=mt(e),i=t.query;let s=!1;const r=n.queries.get(i);if(r){const o=r.listeners.indexOf(t);o>=0&&(r.listeners.splice(o,1),s=r.listeners.length===0)}if(s)return n.queries.delete(i),n.onUnlisten(i)}function xN(e,t){const n=mt(e);let i=!1;for(const s of t){const r=s.query,o=n.queries.get(r);if(o){for(const a of o.listeners)a.B_(s)&&(i=!0);o.x_=s}}i&&nm(n)}function AN(e,t,n){const i=mt(e),s=i.queries.get(t);if(s)for(const r of s.listeners)r.onError(n);i.queries.delete(t)}function nm(e){e.O_.forEach(t=>{t.next()})}class AI{constructor(t,n,i){this.query=t,this.L_=n,this.k_=!1,this.q_=null,this.onlineState="Unknown",this.options=i||{}}B_(t){if(!this.options.includeMetadataChanges){const i=[];for(const s of t.docChanges)s.type!==3&&i.push(s);t=new Qr(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.k_?this.Q_(t)&&(this.L_.next(t),n=!0):this.K_(t,this.onlineState)&&(this.U_(t),n=!0),this.q_=t,n}onError(t){this.L_.error(t)}N_(t){this.onlineState=t;let n=!1;return this.q_&&!this.k_&&this.K_(this.q_,t)&&(this.U_(this.q_),n=!0),n}K_(t,n){if(!t.fromCache)return!0;const i=n!=="Offline";return(!this.options.W_||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Q_(t){if(t.docChanges.length>0)return!0;const n=this.q_&&this.q_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}U_(t){t=Qr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.k_=!0,this.L_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(t){this.key=t}}class kI{constructor(t){this.key=t}}class SN{constructor(t,n){this.query=t,this.X_=n,this.ea=null,this.hasCachedResults=!1,this.current=!1,this.ta=vt(),this.mutatedKeys=vt(),this.na=qE(t),this.ra=new Mr(this.na)}get ia(){return this.X_}sa(t,n){const i=n?n.oa:new rv,s=n?n.ra:this.ra;let r=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(t.inorderTraversal((u,h)=>{const f=s.get(u),d=bh(this.query,h)?h:null,p=!!f&&this.mutatedKeys.has(f.key),g=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let m=!1;f&&d?f.data.isEqual(d.data)?p!==g&&(i.track({type:3,doc:d}),m=!0):this._a(f,d)||(i.track({type:2,doc:d}),m=!0,(l&&this.na(d,l)>0||c&&this.na(d,c)<0)&&(a=!0)):!f&&d?(i.track({type:0,doc:d}),m=!0):f&&!d&&(i.track({type:1,doc:f}),m=!0,(l||c)&&(a=!0)),m&&(d?(o=o.add(d),r=g?r.add(u):r.delete(u)):(o=o.delete(u),r=r.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),r=r.delete(u.key),i.track({type:1,doc:u})}return{ra:o,oa:i,zi:a,mutatedKeys:r}}_a(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,i){const s=this.ra;this.ra=t.ra,this.mutatedKeys=t.mutatedKeys;const r=t.oa.M_();r.sort((c,u)=>function(f,d){const p=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at()}};return p(f)-p(d)}(c.type,u.type)||this.na(c.doc,u.doc)),this.aa(i);const o=n?this.ua():[],a=this.ta.size===0&&this.current?1:0,l=a!==this.ea;return this.ea=a,r.length!==0||l?{snapshot:new Qr(this.query,t.ra,s,r,t.mutatedKeys,a===0,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),ca:o}:{ca:o}}N_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ra:this.ra,oa:new rv,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ca:[]}}la(t){return!this.X_.has(t)&&!!this.ra.has(t)&&!this.ra.get(t).hasLocalMutations}aa(t){t&&(t.addedDocuments.forEach(n=>this.X_=this.X_.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.X_=this.X_.delete(n)),this.current=t.current)}ua(){if(!this.current)return[];const t=this.ta;this.ta=vt(),this.ra.forEach(i=>{this.la(i.key)&&(this.ta=this.ta.add(i.key))});const n=[];return t.forEach(i=>{this.ta.has(i)||n.push(new kI(i))}),this.ta.forEach(i=>{t.has(i)||n.push(new SI(i))}),n}ha(t){this.X_=t.ss,this.ta=vt();const n=this.sa(t.documents);return this.applyChanges(n,!0)}Pa(){return Qr.fromInitialDocuments(this.query,this.ra,this.mutatedKeys,this.ea===0,this.hasCachedResults)}}class kN{constructor(t,n,i){this.query=t,this.targetId=n,this.view=i}}class PN{constructor(t){this.key=t,this.Ia=!1}}class RN{constructor(t,n,i,s,r,o){this.localStore=t,this.remoteStore=n,this.eventManager=i,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.Ta={},this.Ea=new fo(a=>WE(a),vh),this.da=new Map,this.Aa=new Set,this.Ra=new Xt(tt.comparator),this.Va=new Map,this.ma=new Gg,this.fa={},this.ga=new Map,this.pa=Xr.On(),this.onlineState="Unknown",this.ya=void 0}get isPrimaryClient(){return this.ya===!0}}async function CN(e,t){const n=$N(e);let i,s;const r=n.Ea.get(t);if(r)i=r.targetId,n.sharedClientState.addLocalQueryTarget(i),s=r.view.Pa();else{const o=await eN(n.localStore,bi(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);i=o.targetId,s=await MN(n,t,i,a==="current",o.resumeToken),n.isPrimaryClient&&_I(n.remoteStore,o)}return s}async function MN(e,t,n,i,s){e.wa=(h,f,d)=>async function(g,m,_,y){let w=m.view.sa(_);w.zi&&(w=await ev(g.localStore,m.query,!1).then(({documents:x})=>m.view.sa(x,w)));const E=y&&y.targetChanges.get(m.targetId),I=m.view.applyChanges(w,g.isPrimaryClient,E);return av(g,m.targetId,I.ca),I.snapshot}(e,h,f,d);const r=await ev(e.localStore,t,!0),o=new SN(t,r.ss),a=o.sa(r.documents),l=bl.createSynthesizedTargetChangeForCurrentChange(n,i&&e.onlineState!=="Offline",s),c=o.applyChanges(a,e.isPrimaryClient,l);av(e,n,c.ca);const u=new kN(t,n,o);return e.Ea.set(t,u),e.da.has(n)?e.da.get(n).push(t):e.da.set(n,[t]),c.snapshot}async function ON(e,t){const n=mt(e),i=n.Ea.get(t),s=n.da.get(i.targetId);if(s.length>1)return n.da.set(i.targetId,s.filter(r=>!vh(r,t))),void n.Ea.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Xd(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),yI(n.remoteStore,i.targetId),Qd(n,i.targetId)}).catch(ml)):(Qd(n,i.targetId),await Xd(n.localStore,i.targetId,!0))}async function DN(e,t,n){const i=zN(e);try{const s=await function(o,a){const l=mt(o),c=fe.now(),u=a.reduce((d,p)=>d.add(p.key),vt());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",d=>{let p=wi(),g=vt();return l.Xi.getEntries(d,u).next(m=>{p=m,p.forEach((_,y)=>{y.isValidDocument()||(g=g.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(d,p)).next(m=>{h=m;const _=[];for(const y of a){const w=aD(y,h.get(y.key).overlayedDocument);w!=null&&_.push(new gs(y.key,w,LE(w.value.mapValue),yn.exists(!0)))}return l.mutationQueue.addMutationBatch(d,c,_,a)}).next(m=>{f=m;const _=m.applyToLocalDocumentSet(h,g);return l.documentOverlayCache.saveOverlays(d,m.batchId,_)})}).then(()=>({batchId:f.batchId,changes:GE(h)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.fa[o.currentUser.toKey()];c||(c=new Xt(Pt)),c=c.insert(a,l),o.fa[o.currentUser.toKey()]=c}(i,s.batchId,n),await El(i,s.changes),await Ah(i.remoteStore)}catch(s){const r=em(s,"Failed to persist write");n.reject(r)}}async function PI(e,t){const n=mt(e);try{const i=await JD(n.localStore,t);t.targetChanges.forEach((s,r)=>{const o=n.Va.get(r);o&&(Kt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ia=!0:s.modifiedDocuments.size>0?Kt(o.Ia):s.removedDocuments.size>0&&(Kt(o.Ia),o.Ia=!1))}),await El(n,i,t)}catch(i){await ml(i)}}function ov(e,t,n){const i=mt(e);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const s=[];i.Ea.forEach((r,o)=>{const a=o.view.N_(t);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=mt(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const f of h.listeners)f.N_(a)&&(c=!0)}),c&&nm(l)}(i.eventManager,t),s.length&&i.Ta.r_(s),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function NN(e,t,n){const i=mt(e);i.sharedClientState.updateQueryState(t,"rejected",n);const s=i.Va.get(t),r=s&&s.key;if(r){let o=new Xt(tt.comparator);o=o.insert(r,Ce.newNoDocument(r,ht.min()));const a=vt().add(r),l=new Ih(ht.min(),new Map,new Xt(Pt),o,a);await PI(i,l),i.Ra=i.Ra.remove(r),i.Va.delete(t),im(i)}else await Xd(i.localStore,t,!1).then(()=>Qd(i,t,n)).catch(ml)}async function LN(e,t){const n=mt(e),i=t.batch.batchId;try{const s=await QD(n.localStore,t);CI(n,i,null),RI(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await El(n,s)}catch(s){await ml(s)}}async function VN(e,t,n){const i=mt(e);try{const s=await function(o,a){const l=mt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Kt(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(i.localStore,t);CI(i,t,n),RI(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await El(i,s)}catch(s){await ml(s)}}function RI(e,t){(e.ga.get(t)||[]).forEach(n=>{n.resolve()}),e.ga.delete(t)}function CI(e,t,n){const i=mt(e);let s=i.fa[i.currentUser.toKey()];if(s){const r=s.get(t);r&&(n?r.reject(n):r.resolve(),s=s.remove(t)),i.fa[i.currentUser.toKey()]=s}}function Qd(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.da.get(t))e.Ea.delete(i),n&&e.Ta.Sa(i,n);e.da.delete(t),e.isPrimaryClient&&e.ma.Ar(t).forEach(i=>{e.ma.containsKey(i)||MI(e,i)})}function MI(e,t){e.Aa.delete(t.path.canonicalString());const n=e.Ra.get(t);n!==null&&(yI(e.remoteStore,n),e.Ra=e.Ra.remove(t),e.Va.delete(n),im(e))}function av(e,t,n){for(const i of n)i instanceof SI?(e.ma.addReference(i.key,t),FN(e,i)):i instanceof kI?(Q("SyncEngine","Document no longer in limbo: "+i.key),e.ma.removeReference(i.key,t),e.ma.containsKey(i.key)||MI(e,i.key)):at()}function FN(e,t){const n=t.key,i=n.path.canonicalString();e.Ra.get(n)||e.Aa.has(i)||(Q("SyncEngine","New document in limbo: "+n),e.Aa.add(i),im(e))}function im(e){for(;e.Aa.size>0&&e.Ra.size<e.maxConcurrentLimboResolutions;){const t=e.Aa.values().next().value;e.Aa.delete(t);const n=new tt(jt.fromString(t)),i=e.pa.next();e.Va.set(i,new PN(n)),e.Ra=e.Ra.insert(n,i),_I(e.remoteStore,new $i(bi(yh(n.path)),i,"TargetPurposeLimboResolution",Lg.ae))}}async function El(e,t,n){const i=mt(e),s=[],r=[],o=[];i.Ea.isEmpty()||(i.Ea.forEach((a,l)=>{o.push(i.wa(l,t,n).then(c=>{if((c||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const u=Xg.qi(l.targetId,c);r.push(u)}}))}),await Promise.all(o),i.Ta.r_(s),await async function(l,c){const u=mt(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>L.forEach(c,f=>L.forEach(f.Li,d=>u.persistence.referenceDelegate.addReference(h,f.targetId,d)).next(()=>L.forEach(f.ki,d=>u.persistence.referenceDelegate.removeReference(h,f.targetId,d)))))}catch(h){if(!_l(h))throw h;Q("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const d=u.Ji.get(f),p=d.snapshotVersion,g=d.withLastLimboFreeSnapshotVersion(p);u.Ji=u.Ji.insert(f,g)}}}(i.localStore,r))}async function UN(e,t){const n=mt(e);if(!n.currentUser.isEqual(t)){Q("SyncEngine","User change. New user:",t.toKey());const i=await dI(n.localStore,t);n.currentUser=t,function(r,o){r.ga.forEach(a=>{a.forEach(l=>{l.reject(new K(M.CANCELLED,o))})}),r.ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await El(n,i.ts)}}function BN(e,t){const n=mt(e),i=n.Va.get(t);if(i&&i.Ia)return vt().add(i.key);{let s=vt();const r=n.da.get(t);if(!r)return s;for(const o of r){const a=n.Ea.get(o);s=s.unionWith(a.view.ia)}return s}}function $N(e){const t=mt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=PI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=BN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=NN.bind(null,t),t.Ta.r_=xN.bind(null,t.eventManager),t.Ta.Sa=AN.bind(null,t.eventManager),t}function zN(e){const t=mt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=LN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=VN.bind(null,t),t}class lv{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Th(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return XD(this.persistence,new GD,t.initialUser,this.serializer)}createPersistence(t){return new qD(Yg.zr,this.serializer)}createSharedClientState(t){return new iN}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class jN{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ov(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=UN.bind(null,this.syncEngine),await EN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new TN}()}createDatastore(t){const n=Th(t.databaseInfo.databaseId),i=function(r){return new aN(r)}(t.databaseInfo);return function(r,o,a,l){return new uN(r,o,a,l)}(t.authCredentials,t.appCheckCredentials,i,n)}createRemoteStore(t){return function(i,s,r,o,a){return new fN(i,s,r,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>ov(this.syncEngine,n,0),function(){return iv.v()?new iv:new sN}())}createSyncEngine(t,n){return function(s,r,o,a,l,c,u){const h=new RN(s,r,o,a,l,c);return u&&(h.ya=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const i=mt(n);Q("RemoteStore","RemoteStore shutting down."),i.y_.add(5),await wl(i),i.S_.shutdown(),i.b_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.va(this.observer.next,t)}error(t){this.observer.error?this.va(this.observer.error,t):vi("Uncaught Error in snapshot listener:",t.toString())}Ca(){this.muted=!0}va(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(t,n,i,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=s,this.user=Pe.UNAUTHENTICATED,this.clientId=OE.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async r=>{Q("FirestoreClient","Received user=",r.uid),await this.authCredentialListener(r),this.user=r}),this.appCheckCredentials.start(i,r=>(Q("FirestoreClient","Received new app check token=",r),this.appCheckCredentialListener(r,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new K(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const i=em(n,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Pf(e,t){e.asyncQueue.verifyOperationInProgress(),Q("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async s=>{i.isEqual(s)||(await dI(t.localStore,s),i=s)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function cv(e,t){e.asyncQueue.verifyOperationInProgress();const n=await qN(e);Q("FirestoreClient","Initializing OnlineComponentProvider");const i=await e.getConfiguration();await t.initialize(n,i),e.setCredentialChangeListener(s=>sv(t.remoteStore,s)),e.setAppCheckTokenChangeListener((s,r)=>sv(t.remoteStore,r)),e._onlineComponents=t}function WN(e){return e.name==="FirebaseError"?e.code===M.FAILED_PRECONDITION||e.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function qN(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Q("FirestoreClient","Using user provided OfflineComponentProvider");try{await Pf(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!WN(n))throw n;Wr("Error using user provided cache. Falling back to memory cache: "+n),await Pf(e,new lv)}}else Q("FirestoreClient","Using default OfflineComponentProvider"),await Pf(e,new lv);return e._offlineComponents}async function DI(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Q("FirestoreClient","Using user provided OnlineComponentProvider"),await cv(e,e._uninitializedComponentsProvider._online)):(Q("FirestoreClient","Using default OnlineComponentProvider"),await cv(e,new jN))),e._onlineComponents}function KN(e){return DI(e).then(t=>t.syncEngine)}async function Jd(e){const t=await DI(e),n=t.eventManager;return n.onListen=CN.bind(null,t.syncEngine),n.onUnlisten=ON.bind(null,t.syncEngine),n}function GN(e,t,n={}){const i=new Ji;return e.asyncQueue.enqueueAndForget(async()=>function(r,o,a,l,c){const u=new OI({next:f=>{o.enqueueAndForget(()=>xI(r,h));const d=f.docs.has(a);!d&&f.fromCache?c.reject(new K(M.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&f.fromCache&&l&&l.source==="server"?c.reject(new K(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new AI(yh(a.path),u,{includeMetadataChanges:!0,W_:!0});return TI(r,h)}(await Jd(e),e.asyncQueue,t,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(e,t,n){if(!n)throw new K(M.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function YN(e,t,n,i){if(t===!0&&i===!0)throw new K(M.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function hv(e){if(!tt.isDocumentKey(e))throw new K(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function fv(e){if(tt.isDocumentKey(e))throw new K(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Sh(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":at()}function vn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new K(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sh(e);throw new K(M.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(t){var n,i;if(t.host===void 0){if(t.ssl!==void 0)throw new K(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new K(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}YN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NI((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new K(M.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new K(M.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new K(M.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class kh{constructor(t,n,i,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new K(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new K(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dv(t),t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new yO;switch(i.type){case"firstParty":return new EO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new K(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=uv.get(n);i&&(Q("ComponentProvider","Removing Datastore"),uv.delete(n),i.terminate())}(this),Promise.resolve()}}function XN(e,t,n,i={}){var s;const r=(e=vn(e,kh))._getSettings(),o=`${t}:${n}`;if(r.host!=="firestore.googleapis.com"&&r.host!==o&&Wr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},r),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=Pe.MOCK_USER;else{a=fR(i.mockUserToken,(s=e._app)===null||s===void 0?void 0:s.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new K(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Pe(c)}e._authCredentials=new vO(new ME(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new go(this.firestore,t,this._query)}}class Fe{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Fe(this.firestore,t,this._key)}}class Zi extends go{constructor(t,n,i){super(t,n,yh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Fe(this.firestore,null,new tt(t))}withConverter(t){return new Zi(this.firestore,t,this._path)}}function Il(e,t,...n){if(e=ne(e),LI("collection","path",t),e instanceof kh){const i=jt.fromString(t,...n);return fv(i),new Zi(e,null,i)}{if(!(e instanceof Fe||e instanceof Zi))throw new K(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(jt.fromString(t,...n));return fv(i),new Zi(e.firestore,null,i)}}function qe(e,t,...n){if(e=ne(e),arguments.length===1&&(t=OE.V()),LI("doc","path",t),e instanceof kh){const i=jt.fromString(t,...n);return hv(i),new Fe(e,null,new tt(i))}{if(!(e instanceof Fe||e instanceof Zi))throw new K(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(jt.fromString(t,...n));return hv(i),new Fe(e.firestore,e instanceof Zi?e.converter:null,new tt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this.Wa=Promise.resolve(),this.Ga=[],this.za=!1,this.ja=[],this.Ha=null,this.Ja=!1,this.Ya=!1,this.Za=[],this.Ko=new gI(this,"async_queue_retry"),this.Xa=()=>{const n=kf();n&&Q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Ko.No()};const t=kf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Xa)}get isShuttingDown(){return this.za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.eu(),this.tu(t)}enterRestrictedMode(t){if(!this.za){this.za=!0,this.Ya=t||!1;const n=kf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xa)}}enqueue(t){if(this.eu(),this.za)return new Promise(()=>{});const n=new Ji;return this.tu(()=>this.za&&this.Ya?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ga.push(t),this.nu()))}async nu(){if(this.Ga.length!==0){try{await this.Ga[0](),this.Ga.shift(),this.Ko.reset()}catch(t){if(!_l(t))throw t;Q("AsyncQueue","Operation failed with retryable error: "+t)}this.Ga.length>0&&this.Ko.xo(()=>this.nu())}}tu(t){const n=this.Wa.then(()=>(this.Ja=!0,t().catch(i=>{this.Ha=i,this.Ja=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw vi("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.Ja=!1,i))));return this.Wa=n,n}enqueueAfterDelay(t,n,i){this.eu(),this.Za.indexOf(t)>-1&&(n=0);const s=tm.createAndSchedule(this,t,n,i,r=>this.ru(r));return this.ja.push(s),s}eu(){this.Ha&&at()}verifyOperationInProgress(){}async iu(){let t;do t=this.Wa,await t;while(t!==this.Wa)}su(t){for(const n of this.ja)if(n.timerId===t)return!0;return!1}ou(t){return this.iu().then(()=>{this.ja.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.ja)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.iu()})}_u(t){this.Za.push(t)}ru(t){const n=this.ja.indexOf(t);this.ja.splice(n,1)}}function pv(e){return function(n,i){if(typeof n!="object"||n===null)return!1;const s=n;for(const r of i)if(r in s&&typeof s[r]=="function")return!0;return!1}(e,["next","error","complete"])}class os extends kh{constructor(t,n,i,s){super(t,n,i,s),this.type="firestore",this._queue=function(){return new QN}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||VI(this),this._firestoreClient.terminate()}}function JN(e,t){const n=typeof e=="object"?e:og(),i=typeof e=="string"?e:t||"(default)",s=lr(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const r=uR("firestore");r&&XN(s,...r)}return s}function sm(e){return e._firestoreClient||VI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function VI(e){var t,n,i;const s=e._freezeSettings(),r=function(a,l,c,u){return new DO(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,NI(u.experimentalLongPollingOptions),u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,s);e._firestoreClient=new HN(e._authCredentials,e._appCheckCredentials,e._queue,r),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Jr(Be.fromBase64String(t))}catch(n){throw new K(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Jr(Be.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new K(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Oe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new K(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new K(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=/^__.*__$/;class tL{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return this.fieldMask!==null?new gs(t,this.data,this.fieldMask,n,this.fieldTransforms):new vl(t,this.data,n,this.fieldTransforms)}}class FI{constructor(t,n,i){this.data=t,this.fieldMask=n,this.fieldTransforms=i}toMutation(t,n){return new gs(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function UI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at()}}class Ch{constructor(t,n,i,s,r,o){this.settings=t,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=s,r===void 0&&this.au(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get uu(){return this.settings.uu}cu(t){return new Ch(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}lu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.cu({path:i,hu:!1});return s.Pu(t),s}Iu(t){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(t),s=this.cu({path:i,hu:!1});return s.au(),s}Tu(t){return this.cu({path:void 0,hu:!0})}Eu(t){return yu(t,this.settings.methodName,this.settings.du||!1,this.path,this.settings.Au)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}au(){if(this.path)for(let t=0;t<this.path.length;t++)this.Pu(this.path.get(t))}Pu(t){if(t.length===0)throw this.Eu("Document fields must not be empty");if(UI(this.uu)&&ZN.test(t))throw this.Eu('Document fields cannot begin and end with "__"')}}class eL{constructor(t,n,i){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=i||Th(t)}Ru(t,n,i,s=!1){return new Ch({uu:t,methodName:n,Au:i,path:Oe.emptyPath(),hu:!1,du:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Mh(e){const t=e._freezeSettings(),n=Th(e._databaseId);return new eL(e._databaseId,!!t.ignoreUndefinedProperties,n)}function BI(e,t,n,i,s,r={}){const o=e.Ru(r.merge||r.mergeFields?2:0,t,n,s);om("Data must be an object, but it was:",o,i);const a=$I(i,o);let l,c;if(r.merge)l=new ln(o.fieldMask),c=o.fieldTransforms;else if(r.mergeFields){const u=[];for(const h of r.mergeFields){const f=Zd(t,h,n);if(!o.contains(f))throw new K(M.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);jI(u,f)||u.push(f)}l=new ln(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new tL(new Qe(a),l,c)}class Oh extends Rh{_toFieldTransform(t){if(t.uu!==2)throw t.uu===1?t.Eu(`${this._methodName}() can only appear at the top level of your update data`):t.Eu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Oh}}function nL(e,t,n){return new Ch({uu:3,Au:t.settings.Au,methodName:e._methodName,hu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class iL extends Rh{constructor(t,n){super(t),this.Vu=n}_toFieldTransform(t){const n=nL(this,t,!0),i=this.Vu.map(r=>mo(r,n)),s=new Yr(i);return new iD(t.path,s)}isEqual(t){return this===t}}function sL(e,t,n,i){const s=e.Ru(1,t,n);om("Data must be an object, but it was:",s,i);const r=[],o=Qe.empty();ur(i,(l,c)=>{const u=am(t,l,n);c=ne(c);const h=s.Iu(u);if(c instanceof Oh)r.push(u);else{const f=mo(c,h);f!=null&&(r.push(u),o.set(u,f))}});const a=new ln(r);return new FI(o,a,s.fieldTransforms)}function rL(e,t,n,i,s,r){const o=e.Ru(1,t,n),a=[Zd(t,i,n)],l=[s];if(r.length%2!=0)throw new K(M.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<r.length;f+=2)a.push(Zd(t,r[f])),l.push(r[f+1]);const c=[],u=Qe.empty();for(let f=a.length-1;f>=0;--f)if(!jI(c,a[f])){const d=a[f];let p=l[f];p=ne(p);const g=o.Iu(d);if(p instanceof Oh)c.push(d);else{const m=mo(p,g);m!=null&&(c.push(d),u.set(d,m))}}const h=new ln(c);return new FI(u,h,o.fieldTransforms)}function oL(e,t,n,i=!1){return mo(n,e.Ru(i?4:3,t))}function mo(e,t){if(zI(e=ne(e)))return om("Unsupported field value:",t,e),$I(e,t);if(e instanceof Rh)return function(i,s){if(!UI(s.uu))throw s.Eu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Eu(`${i._methodName}() is not currently supported inside arrays`);const r=i._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.hu&&t.uu!==4)throw t.Eu("Nested arrays are not supported");return function(i,s){const r=[];let o=0;for(const a of i){let l=mo(a,s.Tu(o));l==null&&(l={nullValue:"NULL_VALUE"}),r.push(l),o++}return{arrayValue:{values:r}}}(e,t)}return function(i,s){if((i=ne(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return tD(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const r=fe.fromDate(i);return{timestampValue:mu(s.serializer,r)}}if(i instanceof fe){const r=new fe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:mu(s.serializer,r)}}if(i instanceof rm)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Jr)return{bytesValue:aI(s.serializer,i._byteString)};if(i instanceof Fe){const r=s.databaseId,o=i.firestore._databaseId;if(!o.isEqual(r))throw s.Eu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Kg(i.firestore._databaseId||s.databaseId,i._key.path)}}throw s.Eu(`Unsupported field value: ${Sh(i)}`)}(e,t)}function $I(e,t){const n={};return DE(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ur(e,(i,s)=>{const r=mo(s,t.lu(i));r!=null&&(n[i]=r)}),{mapValue:{fields:n}}}function zI(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof fe||e instanceof rm||e instanceof Jr||e instanceof Fe||e instanceof Rh)}function om(e,t,n){if(!zI(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const i=Sh(n);throw i==="an object"?t.Eu(e+" a custom object"):t.Eu(e+" "+i)}}function Zd(e,t,n){if((t=ne(t))instanceof Ph)return t._internalPath;if(typeof t=="string")return am(e,t);throw yu("Field path arguments must be of type string or ",e,!1,void 0,n)}const aL=new RegExp("[~\\*/\\[\\]]");function am(e,t,n){if(t.search(aL)>=0)throw yu(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Ph(...t.split("."))._internalPath}catch{throw yu(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function yu(e,t,n,i,s){const r=i&&!i.isEmpty(),o=s!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(r||o)&&(l+=" (found",r&&(l+=` in field ${i}`),o&&(l+=` in document ${s}`),l+=")"),new K(M.INVALID_ARGUMENT,a+e+l)}function jI(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(t,n,i,s,r){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Fe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new lL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(lm("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lL extends HI{data(){return super.data()}}function lm(e,t){return typeof t=="string"?am(e,t):t instanceof Ph?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new K(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cm{}class uL extends cm{}function um(e,t,...n){let i=[];t instanceof cm&&i.push(t),i=i.concat(n),function(r){const o=r.filter(l=>l instanceof hm).length,a=r.filter(l=>l instanceof Dh).length;if(o>1||o>0&&a>0)throw new K(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const s of i)e=s._apply(e);return e}class Dh extends uL{constructor(t,n,i){super(),this._field=t,this._op=n,this._value=i,this.type="where"}static _create(t,n,i){return new Dh(t,n,i)}_apply(t){const n=this._parse(t);return qI(t._query,n),new go(t.firestore,t.converter,jd(t._query,n))}_parse(t){const n=Mh(t.firestore);return function(r,o,a,l,c,u,h){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new K(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){mv(h,u);const d=[];for(const p of h)d.push(gv(l,r,p));f={arrayValue:{values:d}}}else f=gv(l,r,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||mv(h,u),f=oL(a,o,h,u==="in"||u==="not-in");return ue.create(c,u,f)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function WI(e,t,n){const i=t,s=lm("where",e);return Dh._create(s,i,n)}class hm extends cm{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new hm(t,n)}_parse(t){const n=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Mn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(s,r){let o=s;const a=r.getFlattenedFilters();for(const l of a)qI(o,l),o=jd(o,l)}(t._query,n),new go(t.firestore,t.converter,jd(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function gv(e,t,n){if(typeof(n=ne(n))=="string"){if(n==="")throw new K(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HE(t)&&n.indexOf("/")!==-1)throw new K(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(jt.fromString(n));if(!tt.isDocumentKey(i))throw new K(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Fy(e,new tt(i))}if(n instanceof Fe)return Fy(e,n._key);throw new K(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sh(n)}.`)}function mv(e,t){if(!Array.isArray(e)||e.length===0)throw new K(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function qI(e,t){if(t.isInequality()){const i=zg(e),s=t.field;if(i!==null&&!i.isEqual(s))throw new K(M.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${s.toString()}'`);const r=jE(e);r!==null&&hL(e,s,r)}const n=function(s,r){for(const o of s)for(const a of o.getFlattenedFilters())if(r.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new K(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new K(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function hL(e,t,n){if(!n.isEqual(t))throw new K(M.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class fL{convertValue(t,n="none"){switch(Js(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ce(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Qs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw at()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const i={};return ur(t,(s,r)=>{i[s]=this.convertValue(r,n)}),i}convertGeoPoint(t){return new rm(ce(t.latitude),ce(t.longitude))}convertArray(t,n){return(t.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(t,n){switch(n){case"previous":const i=Fg(t);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Va(t));default:return null}}convertTimestamp(t){const n=ss(t);return new fe(n.seconds,n.nanos)}convertDocumentKey(t,n){const i=jt.fromString(t);Kt(fI(i));const s=new Fa(i.get(1),i.get(3)),r=new tt(i.popFirst(5));return s.isEqual(n)||vi(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class GI extends HI{constructor(t,n,i,s,r,o){super(t,n,i,s,o),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(lm("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Mc extends GI{data(t={}){return super.data(t)}}class dL{constructor(t,n,i,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new Bo(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Mc(this._firestore,this._userDataWriter,i.key,i,new Bo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Mc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Bo(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>r||a.type!==3).map(a=>{const l=new Mc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Bo(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:pL(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function pL(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(e){e=vn(e,Fe);const t=vn(e.firestore,os);return GN(sm(t),e._key).then(n=>QI(t,e,n))}class YI extends fL{constructor(t){super(),this.firestore=t}convertBytes(t){return new Jr(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Fe(this.firestore,null,n)}}function mL(e,t,n){e=vn(e,Fe);const i=vn(e.firestore,os),s=KI(e.converter,t,n);return Lh(i,[BI(Mh(i),"setDoc",e._key,s,e.converter!==null,n).toMutation(e._key,yn.none())])}function Tl(e,t,n,...i){e=vn(e,Fe);const s=vn(e.firestore,os),r=Mh(s);let o;return o=typeof(t=ne(t))=="string"||t instanceof Ph?rL(r,"updateDoc",e._key,t,n,i):sL(r,"updateDoc",e._key,t),Lh(s,[o.toMutation(e._key,yn.exists(!0))])}function aa(e){return Lh(vn(e.firestore,os),[new jg(e._key,yn.none())])}function XI(e,t){const n=vn(e.firestore,os),i=qe(e),s=KI(e.converter,t);return Lh(n,[BI(Mh(e.firestore),"addDoc",i._key,s,e.converter!==null,{}).toMutation(i._key,yn.exists(!1))]).then(()=>i)}function Nh(e,...t){var n,i,s;e=ne(e);let r={includeMetadataChanges:!1},o=0;typeof t[o]!="object"||pv(t[o])||(r=t[o],o++);const a={includeMetadataChanges:r.includeMetadataChanges};if(pv(t[o])){const h=t[o];t[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),t[o+1]=(i=h.error)===null||i===void 0?void 0:i.bind(h),t[o+2]=(s=h.complete)===null||s===void 0?void 0:s.bind(h)}let l,c,u;if(e instanceof Fe)c=vn(e.firestore,os),u=yh(e._key.path),l={next:h=>{t[o]&&t[o](QI(c,e,h))},error:t[o+1],complete:t[o+2]};else{const h=vn(e,go);c=vn(h.firestore,os),u=h._query;const f=new YI(c);l={next:d=>{t[o]&&t[o](new dL(c,f,h,d))},error:t[o+1],complete:t[o+2]},cL(e._query)}return function(f,d,p,g){const m=new OI(g),_=new AI(d,m,p);return f.asyncQueue.enqueueAndForget(async()=>TI(await Jd(f),_)),()=>{m.Ca(),f.asyncQueue.enqueueAndForget(async()=>xI(await Jd(f),_))}}(sm(c),u,a,l)}function Lh(e,t){return function(i,s){const r=new Ji;return i.asyncQueue.enqueueAndForget(async()=>DN(await KN(i),s,r)),r.promise}(sm(e),t)}function QI(e,t,n){const i=n.docs.get(t._key),s=new YI(e);return new GI(e,s,t._key,i,new Bo(n.hasPendingWrites,n.fromCache),t.converter)}function _L(...e){return new iL("arrayUnion",e)}(function(t,n=!0){(function(s){ho=s})(lo),Zn(new Rn("firestore",(i,{instanceIdentifier:s,options:r})=>{const o=i.getProvider("app").getImmediate(),a=new os(new bO(i.getProvider("auth-internal")),new TO(i.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new K(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fa(c.options.projectId,u)}(o,s),o);return r=Object.assign({useFetchStreams:n},r),a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),_n(Oy,"4.1.0",t),_n(Oy,"4.1.0","esm2017")})();function fm(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)t.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]]);return n}function JI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yL=JI,ZI=new ar("auth","Firebase",JI());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=new Zu("@firebase/auth");function vL(e,...t){vu.logLevel<=St.WARN&&vu.warn(`Auth (${lo}): ${e}`,...t)}function Oc(e,...t){vu.logLevel<=St.ERROR&&vu.error(`Auth (${lo}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(e,...t){throw dm(e,...t)}function Yn(e,...t){return dm(e,...t)}function tT(e,t,n){const i=Object.assign(Object.assign({},yL()),{[t]:n});return new ar("auth","Firebase",i).create(t,{appName:e.name})}function bL(e,t,n){const i=n;if(!(t instanceof i))throw i.name!==t.constructor.name&&bn(e,"argument-error"),tT(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dm(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return ZI.create(e,...t)}function ot(e,t,...n){if(!e)throw dm(t,...n)}function hi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Oc(t),new Error(t)}function Ei(e,t){e||hi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function wL(){return _v()==="http:"||_v()==="https:"}function _v(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wL()||Jw()||"connection"in navigator)?navigator.onLine:!0}function IL(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ei(n>t,"Short delay should be less than long delay!"),this.isMobile=dR()||pR()}get(){return EL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pm(e,t){Ei(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL=new xl(3e4,6e4);function _o(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function yo(e,t,n,i,s={}){return nT(e,s,async()=>{let r={},o={};i&&(t==="GET"?o=i:r={body:JSON.stringify(i)});const a=ol(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),eT.fetch()(iT(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},r))})}async function nT(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},TL),t);try{const s=new AL(e),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw tc(e,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw tc(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw tc(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw tc(e,"user-disabled",o);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw tT(e,u,c);bn(e,u)}}catch(s){if(s instanceof Dn)throw s;bn(e,"network-request-failed",{message:String(s)})}}async function Al(e,t,n,i,s={}){const r=await yo(e,t,n,i,s);return"mfaPendingCredential"in r&&bn(e,"multi-factor-auth-required",{_serverResponse:r}),r}function iT(e,t,n,i){const s=`${t}${n}?${i}`;return e.config.emulator?pm(e.config,s):`${e.config.apiScheme}://${s}`}class AL{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Yn(this.auth,"network-request-failed")),xL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function tc(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Yn(e,t,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SL(e,t){return yo(e,"POST","/v1/accounts:delete",t)}async function kL(e,t){return yo(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function PL(e,t=!1){const n=ne(e),i=await n.getIdToken(t),s=gm(i);ot(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:la(Rf(s.auth_time)),issuedAtTime:la(Rf(s.iat)),expirationTime:la(Rf(s.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function Rf(e){return Number(e)*1e3}function gm(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const s=Gw(n);return s?JSON.parse(s):(Oc("Failed to decode base64 JWT payload"),null)}catch(s){return Oc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function RL(e){const t=gm(e);return ot(t,"internal-error"),ot(typeof t.exp<"u","internal-error"),ot(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof Dn&&CL(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function CL({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=la(this.lastLoginAt),this.creationTime=la(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bu(e){var t;const n=e.auth,i=await e.getIdToken(),s=await $a(e,kL(n,{idToken:i}));ot(s==null?void 0:s.users.length,n,"internal-error");const r=s.users[0];e._notifyReloadListener(r);const o=!((t=r.providerUserInfo)===null||t===void 0)&&t.length?NL(r.providerUserInfo):[],a=DL(e.providerData,o),l=e.isAnonymous,c=!(e.email&&r.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new sT(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(e,h)}async function OL(e){const t=ne(e);await bu(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function DL(e,t){return[...e.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function NL(e){return e.map(t=>{var{providerId:n}=t,i=fm(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LL(e,t){const n=await nT(e,{},async()=>{const i=ol({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:r}=e.config,o=iT(e,s,"/v1/token",`key=${r}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",eT.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ot(t.idToken,"internal-error"),ot(typeof t.idToken<"u","internal-error"),ot(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):RL(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return ot(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await LL(t,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,o=new za;return i&&(ot(typeof i=="string","internal-error",{appName:t}),o.refreshToken=i),s&&(ot(typeof s=="string","internal-error",{appName:t}),o.accessToken=s),r&&(ot(typeof r=="number","internal-error",{appName:t}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new za,this.toJSON())}_performRefresh(){return hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oi(e,t){ot(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class $s{constructor(t){var{uid:n,auth:i,stsTokenManager:s}=t,r=fm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ML(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new sT(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const n=await $a(this,this.stsTokenManager.getToken(this.auth,t));return ot(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return PL(this,t)}reload(){return OL(this)}_assign(t){this!==t&&(ot(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new $s(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){ot(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await bu(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await $a(this,SL(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,s,r,o,a,l,c,u;const h=(i=n.displayName)!==null&&i!==void 0?i:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,d=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,m=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:w,emailVerified:E,isAnonymous:I,providerData:x,stsTokenManager:k}=n;ot(w&&k,t,"internal-error");const S=za.fromJSON(this.name,k);ot(typeof w=="string",t,"internal-error"),Oi(h,t.name),Oi(f,t.name),ot(typeof E=="boolean",t,"internal-error"),ot(typeof I=="boolean",t,"internal-error"),Oi(d,t.name),Oi(p,t.name),Oi(g,t.name),Oi(m,t.name),Oi(_,t.name),Oi(y,t.name);const C=new $s({uid:w,auth:t,email:f,emailVerified:E,displayName:h,isAnonymous:I,photoURL:p,phoneNumber:d,tenantId:g,stsTokenManager:S,createdAt:_,lastLoginAt:y});return x&&Array.isArray(x)&&(C.providerData=x.map($=>Object.assign({},$))),m&&(C._redirectEventId=m),C}static async _fromIdTokenResponse(t,n,i=!1){const s=new za;s.updateFromServerResponse(n);const r=new $s({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await bu(r),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=new Map;function fi(e){Ei(e instanceof Function,"Expected a class definition");let t=yv.get(e);return t?(Ei(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,yv.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}rT.type="NONE";const vv=rT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(e,t,n){return`firebase:${e}:${t}:${n}`}class Or{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=Dc(this.userKey,s.apiKey,r),this.fullPersistenceKey=Dc("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?$s._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new Or(fi(vv),t,i);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=s[0]||fi(vv);const o=Dc(i,t.config.apiKey,t.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=$s._fromJSON(t,u);c!==r&&(a=h),r=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new Or(r,t,i):(r=l[0],a&&await r._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==r)try{await c._remove(o)}catch{}})),new Or(r,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(lT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(oT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(uT(t))return"Blackberry";if(hT(t))return"Webos";if(mm(t))return"Safari";if((t.includes("chrome/")||aT(t))&&!t.includes("edge/"))return"Chrome";if(cT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function oT(e=Ue()){return/firefox\//i.test(e)}function mm(e=Ue()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function aT(e=Ue()){return/crios\//i.test(e)}function lT(e=Ue()){return/iemobile/i.test(e)}function cT(e=Ue()){return/android/i.test(e)}function uT(e=Ue()){return/blackberry/i.test(e)}function hT(e=Ue()){return/webos/i.test(e)}function Vh(e=Ue()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function VL(e=Ue()){var t;return Vh(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function FL(){return gR()&&document.documentMode===10}function fT(e=Ue()){return Vh(e)||cT(e)||hT(e)||uT(e)||/windows phone/i.test(e)||lT(e)}function UL(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(e,t=[]){let n;switch(e){case"Browser":n=bv(Ue());break;case"Worker":n=`${bv(Ue())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${lo}/${i}`}async function pT(e,t){return yo(e,"GET","/v2/recaptchaConfig",_o(e,t))}function wv(e){return e!==void 0&&e.enterprise!==void 0}class gT{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function mT(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=s=>{const r=Yn("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",BL().appendChild(i)})}function $L(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const zL="https://www.google.com/recaptcha/enterprise.js?render=",jL="recaptcha-enterprise",HL="NO_RECAPTCHA";class _T{constructor(t){this.type=jL,this.auth=fr(t)}async verify(t="verify",n=!1){async function i(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,a)=>{pT(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new gT(l);return r.tenantId==null?r._agentRecaptchaConfig=c:r._tenantRecaptchaConfigs[r.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(r,o,a){const l=window.grecaptcha;wv(l)?l.enterprise.ready(()=>{l.enterprise.execute(r,{action:t}).then(c=>{o(c)}).catch(()=>{o(HL)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((r,o)=>{i(this.auth).then(a=>{if(!n&&wv(window.grecaptcha))s(a,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}mT(zL+a).then(()=>{s(a,r,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function wu(e,t,n,i=!1){const s=new _T(e);let r;try{r=await s.verify(n)}catch{r=await s.verify(n,!0)}const o=Object.assign({},t);return i?Object.assign(o,{captchaResp:r}):Object.assign(o,{captchaResponse:r}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=r=>new Promise((o,a)=>{try{const l=t(r);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(t,n,i,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ev(this),this.idTokenSubscription=new Ev(this),this.beforeStateQueue=new WL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=fi(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Or.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const i=await this.assertedPersistence.getCurrentUser();let s=i,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ot(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await bu(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=IL()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?ne(t):null;return n&&ot(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&ot(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(fi(t))})}async initializeRecaptchaConfig(){const t=await pT(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new gT(t);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new _T(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new ar("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&fi(t)||this._popupRedirectResolver;ot(n,this,"argument-error"),this.redirectPersistenceManager=await Or.create(this,[fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ot(o,this,"internal-error"),o.then(()=>r(this.currentUser)),typeof n=="function"?t.addObserver(n,i,s):t.addObserver(n)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ot(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=dT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&vL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function fr(e){return ne(e)}class Ev{constructor(t){this.auth=t,this.observer=null,this.addObserver=wR(n=>this.observer=n)}get next(){return ot(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(e,t){const n=lr(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(Aa(r,t??{}))return s;bn(s,"already-initialized")}return n.initialize({options:t})}function GL(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(fi);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function YL(e,t,n){const i=fr(e);ot(i._canInitEmulator,i,"emulator-config-failed"),ot(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),r=yT(t),{host:o,port:a}=XL(t),l=a===null?"":`:${a}`;i.config.emulator={url:`${r}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||QL()}function yT(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function XL(e){const t=yT(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:Iv(i.substr(r.length+1))}}else{const[r,o]=i.split(":");return{host:r,port:Iv(o)}}}function Iv(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function QL(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return hi("not implemented")}_getIdTokenResponse(t){return hi("not implemented")}_linkToIdToken(t,n){return hi("not implemented")}_getReauthenticationResolver(t){return hi("not implemented")}}async function JL(e,t){return yo(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cf(e,t){return Al(e,"POST","/v1/accounts:signInWithPassword",_o(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZL(e,t){return Al(e,"POST","/v1/accounts:signInWithEmailLink",_o(e,t))}async function tV(e,t){return Al(e,"POST","/v1/accounts:signInWithEmailLink",_o(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja extends _m{constructor(t,n,i,s=null){super("password",i),this._email=t,this._password=n,this._tenantId=s}static _fromEmailAndPassword(t,n){return new ja(t,n,"password")}static _fromEmailAndCode(t,n,i=null){return new ja(t,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){var n;switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=t._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const s=await wu(t,i,"signInWithPassword");return Cf(t,s)}else return Cf(t,i).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const r=await wu(t,i,"signInWithPassword");return Cf(t,r)}else return Promise.reject(s)});case"emailLink":return ZL(t,{email:this._email,oobCode:this._password});default:bn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":return JL(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return tV(t,{idToken:n,email:this._email,oobCode:this._password});default:bn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dr(e,t){return Al(e,"POST","/v1/accounts:signInWithIdp",_o(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV="http://localhost";class Zs extends _m{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Zs(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):bn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s}=n,r=fm(n,["providerId","signInMethod"]);if(!i||!s)return null;const o=new Zs(i,s);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Dr(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,Dr(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Dr(t,n)}buildRequest(){const t={requestUri:eV,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=ol(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nV(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function iV(e){const t=Do(No(e)).link,n=t?Do(No(t)).deep_link_id:null,i=Do(No(e)).deep_link_id;return(i?Do(No(i)).link:null)||i||n||t||e}class ym{constructor(t){var n,i,s,r,o,a;const l=Do(No(t)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(i=l.oobCode)!==null&&i!==void 0?i:null,h=nV((s=l.mode)!==null&&s!==void 0?s:null);ot(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(r=l.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){const n=iV(t);try{return new ym(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.providerId=vo.PROVIDER_ID}static credential(t,n){return ja._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const i=ym.parseLink(n);return ot(i,"argument-error"),ja._fromEmailAndCode(t,i.code,i.tenantId)}}vo.PROVIDER_ID="password";vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl extends vm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Sl{constructor(){super("facebook.com")}static credential(t){return Zs._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fi.credentialFromTaggedObject(t)}static credentialFromError(t){return Fi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fi.credential(t.oauthAccessToken)}catch{return null}}}Fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn extends Sl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Zs._fromParams({providerId:jn.PROVIDER_ID,signInMethod:jn.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return jn.credentialFromTaggedObject(t)}static credentialFromError(t){return jn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return jn.credential(n,i)}catch{return null}}}jn.GOOGLE_SIGN_IN_METHOD="google.com";jn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends Sl{constructor(){super("github.com")}static credential(t){return Zs._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ui.credentialFromTaggedObject(t)}static credentialFromError(t){return Ui.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ui.credential(t.oauthAccessToken)}catch{return null}}}Ui.GITHUB_SIGN_IN_METHOD="github.com";Ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends Sl{constructor(){super("twitter.com")}static credential(t,n){return Zs._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Bi.credentialFromTaggedObject(t)}static credentialFromError(t){return Bi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Bi.credential(n,i)}catch{return null}}}Bi.TWITTER_SIGN_IN_METHOD="twitter.com";Bi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mf(e,t){return Al(e,"POST","/v1/accounts:signUp",_o(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,s=!1){const r=await $s._fromIdTokenResponse(t,i,s),o=Tv(i);return new tr({user:r,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const s=Tv(i);return new tr({user:t,providerId:s,_tokenResponse:i,operationType:n})}}function Tv(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends Dn{constructor(t,n,i,s){var r;super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Eu.prototype),this.customData={appName:t.name,tenantId:(r=t.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,s){return new Eu(t,n,i,s)}}function vT(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Eu._fromErrorAndOperation(e,r,t,i):r})}async function sV(e,t,n=!1){const i=await $a(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return tr._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rV(e,t,n=!1){const{auth:i}=e,s="reauthenticate";try{const r=await $a(e,vT(i,s,t,e),n);ot(r.idToken,i,"internal-error");const o=gm(r.idToken);ot(o,i,"internal-error");const{sub:a}=o;return ot(e.uid===a,i,"user-mismatch"),tr._forOperation(e,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&bn(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bT(e,t,n=!1){const i="signIn",s=await vT(e,i,t),r=await tr._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(r.user),r}async function oV(e,t){return bT(fr(e),t)}async function aV(e,t,n){var i;const s=fr(e),r={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((i=s._getRecaptchaConfig())===null||i===void 0)&&i.emailPasswordEnabled){const c=await wu(s,r,"signUpPassword");o=Mf(s,c)}else o=Mf(s,r).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const u=await wu(s,r,"signUpPassword");return Mf(s,u)}else return Promise.reject(c)});const a=await o.catch(c=>Promise.reject(c)),l=await tr._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(l.user),l}function lV(e,t,n){return oV(ne(e),vo.credential(t,n))}function cV(e,t,n,i){return ne(e).onIdTokenChanged(t,n,i)}function uV(e,t,n){return ne(e).beforeAuthStateChanged(t,n)}function hV(e,t,n,i){return ne(e).onAuthStateChanged(t,n,i)}function fV(e){return ne(e).signOut()}async function dV(e){return ne(e).delete()}const Iu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Iu,"1"),this.storage.removeItem(Iu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(){const e=Ue();return mm(e)||Vh(e)}const gV=1e3,mV=10;class ET extends wT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=pV()&&UL(),this.fallbackToPolling=fT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&t(n,s,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(i);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},r=this.storage.getItem(i);FL()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,mV):s()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},gV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}ET.type="LOCAL";const _V=ET;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT extends wT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}IT.type="SESSION";const TT=IT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yV(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const i=new Fh(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:s,data:r}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,r)),l=await yV(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,o;return new Promise((a,l)=>{const c=bm("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(f.data.response);break;default:clearTimeout(u),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(){return window}function bV(e){Xn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(){return typeof Xn().WorkerGlobalScope<"u"&&typeof Xn().importScripts=="function"}async function wV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EV(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function IV(){return xT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="firebaseLocalStorageDb",TV=1,Tu="firebaseLocalStorage",ST="fbase_key";class kl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Uh(e,t){return e.transaction([Tu],t?"readwrite":"readonly").objectStore(Tu)}function xV(){const e=indexedDB.deleteDatabase(AT);return new kl(e).toPromise()}function ep(){const e=indexedDB.open(AT,TV);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(Tu,{keyPath:ST})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(Tu)?t(i):(i.close(),await xV(),t(await ep()))})})}async function xv(e,t,n){const i=Uh(e,!0).put({[ST]:t,value:n});return new kl(i).toPromise()}async function AV(e,t){const n=Uh(e,!1).get(t),i=await new kl(n).toPromise();return i===void 0?null:i.value}function Av(e,t){const n=Uh(e,!0).delete(t);return new kl(n).toPromise()}const SV=800,kV=3;class kT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ep(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>kV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fh._getInstance(IV()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await wV(),!this.activeServiceWorker)return;this.sender=new vV(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||EV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ep();return await xv(t,Iu,"1"),await Av(t,Iu),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>xv(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>AV(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Av(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const r=Uh(s,!1).getAll();return new kl(r).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;for(const{fbase_key:s,value:r}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),SV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kT.type="LOCAL";const PV=kT;new xl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(e,t){return t?fi(t):(ot(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm extends _m{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Dr(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Dr(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Dr(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function RV(e){return bT(e.auth,new wm(e),e.bypassAuthState)}function CV(e){const{auth:t,user:n}=e;return ot(n,t,"internal-error"),rV(n,new wm(e),e.bypassAuthState)}async function MV(e){const{auth:t,user:n}=e;return ot(n,t,"internal-error"),sV(n,new wm(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(t,n,i,s,r=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return RV;case"linkViaPopup":case"linkViaRedirect":return MV;case"reauthViaPopup":case"reauthViaRedirect":return CV;default:bn(this.auth,"internal-error")}}resolve(t){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV=new xl(2e3,1e4);async function CT(e,t,n){const i=fr(e);bL(e,t,vm);const s=PT(i,n);return new Ds(i,"signInViaPopup",t,s).executeNotNull()}class Ds extends RT{constructor(t,n,i,s,r){super(t,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,Ds.currentPopupAction&&Ds.currentPopupAction.cancel(),Ds.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ot(t,this.auth,"internal-error"),t}async onExecution(){Ei(this.filter.length===1,"Popup operations only handle one event");const t=bm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ds.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,OV.get())};t()}}Ds.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV="pendingRedirect",Nc=new Map;class NV extends RT{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Nc.get(this.auth._key());if(!t){try{const i=await LV(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Nc.set(this.auth._key(),t)}return this.bypassAuthState||Nc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LV(e,t){const n=UV(t),i=FV(e);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function VV(e,t){Nc.set(e._key(),t)}function FV(e){return fi(e._redirectPersistence)}function UV(e){return Dc(DV,e.config.apiKey,e.name)}async function BV(e,t,n=!1){const i=fr(e),s=PT(i,t),o=await new NV(i,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=10*60*1e3;class zV{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!jV(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!MT(t)){const s=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Yn(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=$V&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sv(t))}saveEventToCache(t){this.cachedEventUids.add(Sv(t)),this.lastProcessedEventTime=Date.now()}}function Sv(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function MT({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function jV(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MT(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HV(e,t={}){return yo(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qV=/^https?/;async function KV(e){if(e.config.emulator)return;const{authorizedDomains:t}=await HV(e);for(const n of t)try{if(GV(n))return}catch{}bn(e,"unauthorized-domain")}function GV(e){const t=tp(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!qV.test(n))return!1;if(WV.test(e))return i===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV=new xl(3e4,6e4);function kv(){const e=Xn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function XV(e){return new Promise((t,n)=>{var i,s,r;function o(){kv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{kv(),n(Yn(e,"network-request-failed"))},timeout:YV.get()})}if(!((s=(i=Xn().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)t(gapi.iframes.getContext());else if(!((r=Xn().gapi)===null||r===void 0)&&r.load)o();else{const a=$L("iframefcb");return Xn()[a]=()=>{gapi.load?o():n(Yn(e,"network-request-failed"))},mT(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw Lc=null,t})}let Lc=null;function QV(e){return Lc=Lc||XV(e),Lc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV=new xl(5e3,15e3),ZV="__/auth/iframe",t4="emulator/auth/iframe",e4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},n4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function i4(e){const t=e.config;ot(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?pm(t,t4):`https://${e.config.authDomain}/${ZV}`,i={apiKey:t.apiKey,appName:e.name,v:lo},s=n4.get(e.config.apiHost);s&&(i.eid=s);const r=e._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${ol(i).slice(1)}`}async function s4(e){const t=await QV(e),n=Xn().gapi;return ot(n,e,"internal-error"),t.open({where:document.body,url:i4(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:e4,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const o=Yn(e,"network-request-failed"),a=Xn().setTimeout(()=>{r(o)},JV.get());function l(){Xn().clearTimeout(a),s(i)}i.ping(l).then(l,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},o4=500,a4=600,l4="_blank",c4="http://localhost";class Pv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function u4(e,t,n,i=o4,s=a4){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},r4),{width:i.toString(),height:s.toString(),top:r,left:o}),c=Ue().toLowerCase();n&&(a=aT(c)?l4:n),oT(c)&&(t=t||c4,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[d,p])=>`${f}${d}=${p},`,"");if(VL(c)&&a!=="_self")return h4(t||"",a),new Pv(null);const h=window.open(t||"",a,u);ot(h,e,"popup-blocked");try{h.focus()}catch{}return new Pv(h)}function h4(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f4="__/auth/handler",d4="emulator/auth/handler",p4=encodeURIComponent("fac");async function Rv(e,t,n,i,s,r){ot(e.config.authDomain,e,"auth-domain-config-required"),ot(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:lo,eventId:s};if(t instanceof vm){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",bR(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,h]of Object.entries(r||{}))o[u]=h}if(t instanceof Sl){const u=t.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await e._getAppCheckToken(),c=l?`#${p4}=${encodeURIComponent(l)}`:"";return`${g4(e)}?${ol(a).slice(1)}${c}`}function g4({config:e}){return e.emulator?pm(e,d4):`https://${e.authDomain}/${f4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of="webStorageSupport";class m4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TT,this._completeRedirectFn=BV,this._overrideRedirectResult=VV}async _openPopup(t,n,i,s){var r;Ei((r=this.eventManagers[t._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await Rv(t,n,i,tp(),s);return u4(t,o,bm())}async _openRedirect(t,n,i,s){await this._originValidation(t);const r=await Rv(t,n,i,tp(),s);return bV(r),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(Ei(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await s4(t),i=new zV(t);return n.register("authEvent",s=>(ot(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Of,{type:Of},s=>{var r;const o=(r=s==null?void 0:s[0])===null||r===void 0?void 0:r[Of];o!==void 0&&n(!!o),bn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=KV(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return fT()||mm()||Vh()}}const _4=m4;var Cv="@firebase/auth",Mv="1.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ot(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function b4(e){Zn(new Rn("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),r=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;ot(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:dT(e)},c=new qL(i,s,r,l);return GL(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Zn(new Rn("auth-internal",t=>{const n=fr(t.getProvider("auth").getImmediate());return(i=>new y4(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_n(Cv,Mv,v4(e)),_n(Cv,Mv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4=5*60,E4=Qw("authIdTokenMaxAge")||w4;let Ov=null;const I4=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>E4)return;const s=n==null?void 0:n.token;Ov!==s&&(Ov=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function T4(e=og()){const t=lr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=KL(e,{popupRedirectResolver:_4,persistence:[PV,_V,TT]}),i=Qw("authTokenSyncURL");if(i){const r=I4(i);uV(n,r,()=>r(n.currentUser)),cV(n,o=>r(o))}const s=Yw("auth");return s&&YL(n,`http://${s}`),n}b4("Browser");const x4={apiKey:"AIzaSyDPHqqYyhuEJ7fIpRksToVYC5zbM1onZ3w",authDomain:"flex-fa8c8.firebaseapp.com",projectId:"flex-fa8c8",storageBucket:"flex-fa8c8.appspot.com",messagingSenderId:"824163771541",appId:"1:824163771541:web:83622e1bb9f3aada3f679c",measurementId:"G-SY23L7GKQC"},A4=i1(x4),ye=JN();aM(A4);const Gt=T4(),Dv=(e,t)=>mL(qe(Il(ye,"users"),e),t),S4=(e,t)=>Nh(um(qe(ye,"users",e)),t),k4=(e,t)=>Tl(qe(ye,"users",e),{color:t}),P4=(e,t)=>Tl(qe(ye,"users",e),{username:t}),R4=(e,t)=>Tl(qe(ye,"users",e),{height:t}),C4=(e,t)=>Tl(qe(ye,"users",e),{weight:t}),M4=e=>{Nh(um(Il(ye,"routines"),WI("uid","==",e)),t=>{t.forEach(n=>{n.data().exercises.forEach(i=>{aa(qe(ye,"exercises",i))}),aa(qe(ye,"routines",n.id))})}),aa(qe(ye,"users",e)),dV(Gt.currentUser)},O4=e=>XI(Il(ye,"routines"),e),D4=(e,t)=>Nh(um(Il(ye,"routines"),WI("uid","==",e)),t),N4=async e=>{(await gL(qe(ye,"routines",e))).data().exercises.forEach(n=>{aa(qe(ye,"exercises",n))}),aa(qe(ye,"routines",e))},L4=async(e,t)=>{const n=await XI(Il(ye,"exercises"),e);await Tl(qe(ye,"routines",t),{exercises:_L(n.id)})},V4=(e,t)=>Nh(qe(ye,"exercises",e),t);const F4={class:"view"},U4={key:1,class:"footer"},B4={__name:"App",setup(e){const t=Hw(),n=Ju(),i=fs(),s=["workouts","stats","user"],r=lt(!1);return hV(Gt,o=>{o?(r.value=!0,S4(Gt.currentUser.uid,a=>{i.username=Gt.currentUser.providerData[0].providerId=="google.com"?Gt.currentUser.displayName:a.data().username,i.color=a.data().color,i.height=a.data().height,i.weight=a.data().weight}),n.push({path:"/workouts"})):(r.value=!1,n.push({path:"/"}))}),(o,a)=>(pt(),wt(Re,null,[s.includes(Rt(t).name)?(pt(),Ps(nR,{key:0,title:Rt(t).name},null,8,["title"])):Ie("",!0),A("div",F4,[kt(Rt(jw),null,{default:Ws(({Component:l,route:c})=>[(pt(),Ps(MS(l)))]),_:1})]),r.value?(pt(),wt("div",U4,[kt(QP)])):Ie("",!0)],64))}},$4=On(B4,[["__scopeId","data-v-295cdb1d"]]);const z4=e=>(rr("data-v-d2ad9a4c"),e=e(),or(),e),j4={class:"page"},H4=z4(()=>A("header",{class:"center"},[A("img",{src:Ww,alt:"FLEX",class:"w-32"}),A("h1",null,"FLEX"),A("p",null,"Sculpt your success")],-1)),W4={__name:"Home",setup(e){return(t,n)=>(pt(),wt("div",j4,[H4,kt(Rt(jr),{class:"button signup",to:"/signup"},{default:Ws(()=>[fd(" Sign-Up ")]),_:1}),kt(Rt(jr),{class:"button login",to:"/login"},{default:Ws(()=>[fd(" Log-in ")]),_:1})]))}},q4=On(W4,[["__scopeId","data-v-d2ad9a4c"]]);const Pl=e=>(rr("data-v-600cacba"),e=e(),or(),e),K4={class:"page"},G4=Pl(()=>A("header",{class:"center"},[A("h1",null,"Welcome!"),A("h3",null,"SignUp to create an account")],-1)),Y4={class:"field"},X4={class:"field"},Q4={class:"field"},J4=["type"],Z4={class:"field"},tF=["type"],eF=Pl(()=>A("hr",null,null,-1)),nF={key:0},iF=Pl(()=>A("p",null,"continue with Google",-1)),sF=Pl(()=>A("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/706px-Google_%22G%22_Logo.svg.png",className:"w-8"},null,-1)),rF=[iF,sF],oF=Pl(()=>A("p",null,"back",-1)),aF={__name:"Signup",setup(e){const t=Ju(),n=fs(),i=lt(""),s=lt(""),r=lt(""),o=lt(""),a=lt(!1),l=lt(!1),c=()=>{r.value==o.value?aV(Gt,s.value,r.value).then(h=>{Dv(Gt.currentUser.uid,{username:i.value,color:n.color,height:0,weight:0}),n.username.value=i.value,t.push({path:"/workouts"})}).catch(h=>{l.value=!0}):(l.value=!0,r.value="",o.value="")},u=()=>{CT(Gt,new jn).then(h=>{Dv(Gt.currentUser.uid,{username:Gt.currentUser.displayName,color:n.color,height:0,weight:0}),n.username.value=Gt.currentUser.displayName}).catch(h=>{l.value=!0})};return(h,f)=>{const d=ao("font-awesome-icon");return pt(),wt("div",K4,[G4,A("div",Y4,[ge(A("input",{placeholder:"username",type:"username","onUpdate:modelValue":f[0]||(f[0]=p=>i.value=p)},null,512),[[Xe,i.value]])]),A("div",X4,[ge(A("input",{placeholder:"email",type:"email","onUpdate:modelValue":f[1]||(f[1]=p=>s.value=p)},null,512),[[Xe,s.value]])]),A("div",Q4,[ge(A("input",{placeholder:"password",type:a.value?"text":"password","onUpdate:modelValue":f[2]||(f[2]=p=>r.value=p)},null,8,J4),[[Ta,r.value]]),kt(d,{class:"eye",icon:a.value?"eye-slash":"eye",onClick:f[3]||(f[3]=p=>a.value=!a.value),alt:"eyePassword"},null,8,["icon"])]),A("div",Z4,[ge(A("input",{placeholder:"confirm password",type:a.value?"text":"password","onUpdate:modelValue":f[4]||(f[4]=p=>o.value=p)},null,8,tF),[[Ta,o.value]])]),A("button",{class:"login",onClick:f[5]||(f[5]=p=>c())},"SignUp"),eF,l.value?(pt(),wt("h3",nF,"Vaya, ha ocurrido un error...")):Ie("",!0),A("button",{class:"google",onClick:u},rF),kt(Rt(jr),{to:"/"},{default:Ws(()=>[oF]),_:1})])}}},lF=On(aF,[["__scopeId","data-v-600cacba"]]);const Rl=e=>(rr("data-v-c4b12d73"),e=e(),or(),e),cF={class:"page"},uF=Rl(()=>A("header",{class:"center"},[A("h1",null,"Welcome!"),A("h3",null,"Login to start using Flex")],-1)),hF={class:"field"},fF={class:"field"},dF=["type"],pF=Rl(()=>A("hr",null,null,-1)),gF={key:0},mF=Rl(()=>A("p",null,"continue with Google",-1)),_F=Rl(()=>A("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Google_%22G%22_Logo.svg/706px-Google_%22G%22_Logo.svg.png",className:"w-8"},null,-1)),yF=[mF,_F],vF=Rl(()=>A("p",null,"back",-1)),bF={__name:"Login",setup(e){Ju();const t=lt(""),n=lt(""),i=lt(!1),s=lt(!1),r=()=>{lV(Gt,t.value,n.value).then(o=>{}).catch(o=>{s.value=!0})};return(o,a)=>{const l=ao("font-awesome-icon");return pt(),wt("div",cF,[uF,A("div",hF,[ge(A("input",{placeholder:"email",type:"text","onUpdate:modelValue":a[0]||(a[0]=c=>t.value=c)},null,512),[[Xe,t.value]])]),A("div",fF,[ge(A("input",{placeholder:"password",type:i.value?"text":"password","onUpdate:modelValue":a[1]||(a[1]=c=>n.value=c)},null,8,dF),[[Ta,n.value]]),kt(l,{class:"eye",icon:i.value?"eye-slash":"eye",onClick:a[2]||(a[2]=c=>i.value=!i.value),alt:"eyePassword"},null,8,["icon"])]),A("button",{class:"login",onClick:a[3]||(a[3]=c=>r())},"LogIn"),pF,s.value?(pt(),wt("h3",gF,"Vaya, ha ocurrido un error...")):Ie("",!0),A("button",{class:"google",onClick:a[4]||(a[4]=c=>Rt(CT)(Rt(Gt),new Rt(jn)()))},yF),kt(Rt(jr),{class:"absolute bottom-12",to:"/"},{default:Ws(()=>[vF]),_:1})])}}},wF=On(bF,[["__scopeId","data-v-c4b12d73"]]),OT="/Flex/assets/addExe-bbc541e7.png";const Em=e=>(rr("data-v-133f5392"),e=e(),or(),e),EF={class:"header"},IF={class:"props"},TF={class:"prop-cont"},xF=Em(()=>A("p",null,"Series",-1)),AF={class:"prop-cont"},SF=Em(()=>A("p",null,"Reps",-1)),kF={class:"prop-cont"},PF=Em(()=>A("p",null,"Weight",-1)),RF={__name:"ExeCard",props:{name:"Exercise",series:0,reps:"0",weight:"0"},setup(e){const t=e,n=fs();return(i,s)=>{const r=ao("font-awesome-icon");return pt(),wt("div",{class:"exeCard center",style:mi({borderColor:Rt(n).color})},[A("div",EF,[A("h3",null,on(t.name),1),kt(r,{class:"gear",icon:"gear",alt:"options"})]),A("div",IF,[A("div",TF,[xF,A("p",null,on(t.series),1)]),A("div",AF,[SF,A("p",null,on(t.reps),1)]),A("div",kF,[PF,A("p",null,on(t.weight),1)])])],4)}}},CF=On(RF,[["__scopeId","data-v-133f5392"]]);function MF(e){return Lp()?(U0(e),!0):!1}function DT(e){return typeof e=="function"?e():Rt(e)}const NT=typeof window<"u",np=()=>{},OF=DF();function DF(){var e;return NT&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent)}function $o(e){var t;const n=DT(e);return(t=n==null?void 0:n.$el)!=null?t:n}const LT=NT?window:void 0;function Df(...e){let t,n,i,s;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,i,s]=e,t=LT):[t,n,i,s]=e,!t)return np;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const r=[],o=()=>{r.forEach(u=>u()),r.length=0},a=(u,h,f,d)=>(u.addEventListener(h,f,d),()=>u.removeEventListener(h,f,d)),l=Kn(()=>[$o(t),DT(s)],([u,h])=>{o(),u&&r.push(...n.flatMap(f=>i.map(d=>a(u,f,d,h))))},{immediate:!0,flush:"post"}),c=()=>{l(),o()};return MF(c),c}let Nv=!1;function Nf(e,t,n={}){const{window:i=LT,ignore:s=[],capture:r=!0,detectIframe:o=!1}=n;if(!i)return;OF&&!Nv&&(Nv=!0,Array.from(i.document.body.children).forEach(f=>f.addEventListener("click",np)),i.document.documentElement.addEventListener("click",np));let a=!0;const l=f=>s.some(d=>{if(typeof d=="string")return Array.from(i.document.querySelectorAll(d)).some(p=>p===f.target||f.composedPath().includes(p));{const p=$o(d);return p&&(f.target===p||f.composedPath().includes(p))}}),u=[Df(i,"click",f=>{const d=$o(e);if(!(!d||d===f.target||f.composedPath().includes(d))){if(f.detail===0&&(a=!l(f)),!a){a=!0;return}t(f)}},{passive:!0,capture:r}),Df(i,"pointerdown",f=>{const d=$o(e);d&&(a=!f.composedPath().includes(d)&&!l(f))},{passive:!0}),o&&Df(i,"blur",f=>{setTimeout(()=>{var d;const p=$o(e);((d=i.document.activeElement)==null?void 0:d.tagName)==="IFRAME"&&!(p!=null&&p.contains(i.document.activeElement))&&t(f)},0)})].filter(Boolean);return()=>u.forEach(f=>f())}const Si=e=>(rr("data-v-2b25da0a"),e=e(),or(),e),NF={class:"page"},LF={class:"selector-container"},VF=["value"],FF={class:"exercises-container"},UF={key:0,class:"modal-bg"},BF=Si(()=>A("h1",{class:"listTitle"},"Your Workouts",-1)),$F=[BF],zF={class:"workoutsList"},jF={class:"workout"},HF={class:"options"},WF={key:0,class:"modal-bg"},qF=Si(()=>A("img",{src:OT,alt:"addExercise"},null,-1)),KF=[qF],GF={class:"exNameData"},YF=Si(()=>A("label",{for:"name"},"Exercise name",-1)),XF={class:"center exercise-data"},QF=Si(()=>A("label",{for:"series"},"series",-1)),JF=Si(()=>A("label",{for:"reps"},"reps",-1)),ZF=Si(()=>A("label",{for:"weight"},"weight",-1)),t5={key:0,class:"modal-bg"},e5=Si(()=>A("img",{src:OT,alt:"addExercise"},null,-1)),n5=[e5],i5={class:"exNameData"},s5=Si(()=>A("label",{for:"name"},"Workout name",-1)),r5={class:"center frequency"},o5=Si(()=>A("h1",null,"Frequency:",-1)),a5={class:"days"},l5=["onClick"],c5={__name:"Workouts",setup(e){const t=fs(),n=lt([]),i=lt({}),s=lt([]),r=()=>{D4(Gt.currentUser.uid,U=>{U.forEach(H=>{n.value.push({id:H.id,...H.data()})}),n.value[0]&&(i.value=n.value[0])})},o=()=>{s.value=[],i.value[["exercises"]].forEach(U=>{V4(U,H=>{s.value.push({id:H.id,...H.data()})})})};Kn(i,U=>o()),Gp(()=>r());const a=lt(!1),l=lt(!1),c=lt(!1),u=lt(null),h=lt(null),f=lt(null);Nf(u,()=>k()),Nf(h,()=>$()),Nf(f,()=>S());const d=lt(""),p=lt(null),g=lt(""),m=lt(""),_=lt(""),y=lt([{name:"M",isSelected:!1},{name:"TU",isSelected:!1},{name:"W",isSelected:!1},{name:"TH",isSelected:!1},{name:"F",isSelected:!1},{name:"SA",isSelected:!1},{name:"SU",isSelected:!1}]),w=()=>{},E=U=>{N4(U),n.value=[]},I=()=>{a.value=!1,c.value=!0},x=()=>{if(_=="")console.log("No ha rellenado el campo");else try{O4({name:_.value,exercises:[],frequency:y.value.filter(U=>U.isSelected).map(U=>U.name),uid:Gt.currentUser.uid}),n.value=[],S()}catch(U){console.log("Error al aadir: ",U)}},k=()=>{a.value=!1},S=()=>{c.value=!1,_.value="",y.value.forEach(U=>{U.isSelected=!1})},C=()=>{const U={name:d.value,reps:g.value,series:p.value,weight:m.value};L4(U,i.value.id),n.value=[],$()},$=()=>{l.value=!1,d.value="",p.value=null,g.value="",m.value=""};return(U,H)=>{const Et=ao("font-awesome-icon");return pt(),wt(Re,null,[A("div",NF,[A("div",LF,[ge(A("select",{class:"selector","onUpdate:modelValue":H[0]||(H[0]=st=>i.value=st)},[(pt(!0),wt(Re,null,Mo(n.value,st=>(pt(),wt("option",{value:st},on(st.name),9,VF))),256))],512),[[Sw,i.value]]),kt(Et,{class:"iconList",icon:"list",alt:"eyePassword",onClick:H[1]||(H[1]=st=>a.value=!a.value)})]),A("div",FF,[(pt(!0),wt(Re,null,Mo(s.value,st=>(pt(),Ps(CF,{name:st.name,series:st.series,reps:st.reps,weight:st.weight},null,8,["name","series","reps","weight"]))),256)),i.value.id?(pt(),wt("button",{key:0,class:"add center",onClick:H[2]||(H[2]=st=>l.value=!l.value)},"add exercise +")):Ie("",!0)])]),(pt(),Ps(Zh,{to:"#listWorkouts"},[a.value?(pt(),wt("div",UF,[A("div",{class:"modal",ref_key:"listModal",ref:u},[A("header",{class:"center",style:mi({borderColor:Rt(t).color})},$F,4),A("div",zF,[(pt(!0),wt(Re,null,Mo(n.value,st=>(pt(),wt("div",jF,[A("h1",null,on(st.name),1),A("div",HF,[kt(Et,{icon:"fa-pen-to-square",alt:"eyePassword",onClick:w}),kt(Et,{icon:"trash",alt:"eyePassword",onClick:ft=>E(st.id)},null,8,["onClick"])])]))),256))]),A("button",{class:"add center",onClick:I},"add workout +")],512)])):Ie("",!0)])),(pt(),Ps(Zh,{to:"#addExercise"},[l.value?(pt(),wt("div",WF,[A("div",{class:"modal",ref_key:"exeModal",ref:h},[A("header",{class:"center",style:mi({borderColor:Rt(t).color})},KF,4),A("div",GF,[YF,ge(A("input",{type:"text",id:"name",placeholder:"Ex: Bench Press","onUpdate:modelValue":H[3]||(H[3]=st=>d.value=st)},null,512),[[Xe,d.value]])]),A("div",XF,[A("div",null,[QF,ge(A("input",{type:"number",id:"series","onUpdate:modelValue":H[4]||(H[4]=st=>p.value=st),placeholder:"0"},null,512),[[Xe,p.value]])]),A("div",null,[JF,ge(A("input",{type:"text",id:"reps","onUpdate:modelValue":H[5]||(H[5]=st=>g.value=st),placeholder:"0-0-0"},null,512),[[Xe,g.value]])]),A("div",null,[ZF,ge(A("input",{type:"text",id:"weight","onUpdate:modelValue":H[6]||(H[6]=st=>m.value=st),placeholder:"0"},null,512),[[Xe,m.value]])])]),A("div",{class:"buttons"},[A("button",{onClick:C},"save"),A("button",{onClick:$},"cancel")])],512)])):Ie("",!0)])),(pt(),Ps(Zh,{to:"#addWorkout"},[c.value?(pt(),wt("div",t5,[A("div",{class:"modal",ref_key:"workModal",ref:f},[A("header",{class:"center",style:mi({borderColor:Rt(t).color})},n5,4),A("div",i5,[s5,ge(A("input",{type:"text",id:"name",placeholder:"Ex: Push B","onUpdate:modelValue":H[7]||(H[7]=st=>_.value=st)},null,512),[[Xe,_.value]])]),A("div",r5,[o5,A("div",a5,[(pt(!0),wt(Re,null,Mo(y.value,st=>(pt(),wt("button",{class:sl(["day",st.isSelected?"bg-orange":"bg-salmon"]),onClick:ft=>st.isSelected=!st.isSelected},on(st.name),11,l5))),256))])]),A("div",{class:"buttons"},[A("button",{onClick:x},"save"),A("button",{onClick:S},"cancel")])],512)])):Ie("",!0)]))],64)}}},u5=On(c5,[["__scopeId","data-v-2b25da0a"]]);/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Cl(e){return e+.5|0}const zi=(e,t,n)=>Math.max(Math.min(e,n),t);function zo(e){return zi(Cl(e*2.55),0,255)}function ts(e){return zi(Cl(e*255),0,255)}function oi(e){return zi(Cl(e/2.55)/100,0,1)}function Lv(e){return zi(Cl(e*100),0,100)}const pn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ip=[..."0123456789ABCDEF"],h5=e=>ip[e&15],f5=e=>ip[(e&240)>>4]+ip[e&15],ec=e=>(e&240)>>4===(e&15),d5=e=>ec(e.r)&&ec(e.g)&&ec(e.b)&&ec(e.a);function p5(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&pn[e[1]]*17,g:255&pn[e[2]]*17,b:255&pn[e[3]]*17,a:t===5?pn[e[4]]*17:255}:(t===7||t===9)&&(n={r:pn[e[1]]<<4|pn[e[2]],g:pn[e[3]]<<4|pn[e[4]],b:pn[e[5]]<<4|pn[e[6]],a:t===9?pn[e[7]]<<4|pn[e[8]]:255})),n}const g5=(e,t)=>e<255?t(e):"";function m5(e){var t=d5(e)?h5:f5;return e?"#"+t(e.r)+t(e.g)+t(e.b)+g5(e.a,t):void 0}const _5=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function VT(e,t,n){const i=t*Math.min(n,1-n),s=(r,o=(r+e/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[s(0),s(8),s(4)]}function y5(e,t,n){const i=(s,r=(s+e/60)%6)=>n-n*t*Math.max(Math.min(r,4-r,1),0);return[i(5),i(3),i(1)]}function v5(e,t,n){const i=VT(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)i[s]*=1-t-n,i[s]+=t;return i}function b5(e,t,n,i,s){return e===s?(t-n)/i+(t<n?6:0):t===s?(n-e)/i+2:(e-t)/i+4}function Im(e){const n=e.r/255,i=e.g/255,s=e.b/255,r=Math.max(n,i,s),o=Math.min(n,i,s),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=b5(n,i,s,u,r),l=l*60+.5),[l|0,c||0,a]}function Tm(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(ts)}function xm(e,t,n){return Tm(VT,e,t,n)}function w5(e,t,n){return Tm(v5,e,t,n)}function E5(e,t,n){return Tm(y5,e,t,n)}function FT(e){return(e%360+360)%360}function I5(e){const t=_5.exec(e);let n=255,i;if(!t)return;t[5]!==i&&(n=t[6]?zo(+t[5]):ts(+t[5]));const s=FT(+t[2]),r=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?i=w5(s,r,o):t[1]==="hsv"?i=E5(s,r,o):i=xm(s,r,o),{r:i[0],g:i[1],b:i[2],a:n}}function T5(e,t){var n=Im(e);n[0]=FT(n[0]+t),n=xm(n),e.r=n[0],e.g=n[1],e.b=n[2]}function x5(e){if(!e)return;const t=Im(e),n=t[0],i=Lv(t[1]),s=Lv(t[2]);return e.a<255?`hsla(${n}, ${i}%, ${s}%, ${oi(e.a)})`:`hsl(${n}, ${i}%, ${s}%)`}const Vv={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Fv={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function A5(){const e={},t=Object.keys(Fv),n=Object.keys(Vv);let i,s,r,o,a;for(i=0;i<t.length;i++){for(o=a=t[i],s=0;s<n.length;s++)r=n[s],a=a.replace(r,Vv[r]);r=parseInt(Fv[o],16),e[a]=[r>>16&255,r>>8&255,r&255]}return e}let nc;function S5(e){nc||(nc=A5(),nc.transparent=[0,0,0,0]);const t=nc[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const k5=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function P5(e){const t=k5.exec(e);let n=255,i,s,r;if(t){if(t[7]!==i){const o=+t[7];n=t[8]?zo(o):zi(o*255,0,255)}return i=+t[1],s=+t[3],r=+t[5],i=255&(t[2]?zo(i):zi(i,0,255)),s=255&(t[4]?zo(s):zi(s,0,255)),r=255&(t[6]?zo(r):zi(r,0,255)),{r:i,g:s,b:r,a:n}}}function R5(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${oi(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Lf=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,yr=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function C5(e,t,n){const i=yr(oi(e.r)),s=yr(oi(e.g)),r=yr(oi(e.b));return{r:ts(Lf(i+n*(yr(oi(t.r))-i))),g:ts(Lf(s+n*(yr(oi(t.g))-s))),b:ts(Lf(r+n*(yr(oi(t.b))-r))),a:e.a+n*(t.a-e.a)}}function ic(e,t,n){if(e){let i=Im(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,t===0?360:1)),i=xm(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function UT(e,t){return e&&Object.assign(t||{},e)}function Uv(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=ts(e[3]))):(t=UT(e,{r:0,g:0,b:0,a:1}),t.a=ts(t.a)),t}function M5(e){return e.charAt(0)==="r"?P5(e):I5(e)}class Ha{constructor(t){if(t instanceof Ha)return t;const n=typeof t;let i;n==="object"?i=Uv(t):n==="string"&&(i=p5(t)||S5(t)||M5(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=UT(this._rgb);return t&&(t.a=oi(t.a)),t}set rgb(t){this._rgb=Uv(t)}rgbString(){return this._valid?R5(this._rgb):void 0}hexString(){return this._valid?m5(this._rgb):void 0}hslString(){return this._valid?x5(this._rgb):void 0}mix(t,n){if(t){const i=this.rgb,s=t.rgb;let r;const o=n===r?.5:n,a=2*o-1,l=i.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,i.r=255&c*i.r+r*s.r+.5,i.g=255&c*i.g+r*s.g+.5,i.b=255&c*i.b+r*s.b+.5,i.a=o*i.a+(1-o)*s.a,this.rgb=i}return this}interpolate(t,n){return t&&(this._rgb=C5(this._rgb,t._rgb,n)),this}clone(){return new Ha(this.rgb)}alpha(t){return this._rgb.a=ts(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Cl(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return ic(this._rgb,2,t),this}darken(t){return ic(this._rgb,2,-t),this}saturate(t){return ic(this._rgb,1,t),this}desaturate(t){return ic(this._rgb,1,-t),this}rotate(t){return T5(this._rgb,t),this}}/*!
 * Chart.js v4.3.3
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function ni(){}const O5=(()=>{let e=0;return()=>e++})();function xt(e){return e===null||typeof e>"u"}function Ht(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function bt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Zt(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function nn(e,t){return Zt(e)?e:t}function gt(e,t){return typeof e>"u"?t:e}const D5=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,BT=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Ft(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function Ot(e,t,n,i){let s,r,o;if(Ht(e))if(r=e.length,i)for(s=r-1;s>=0;s--)t.call(n,e[s],s);else for(s=0;s<r;s++)t.call(n,e[s],s);else if(bt(e))for(o=Object.keys(e),r=o.length,s=0;s<r;s++)t.call(n,e[o[s]],o[s])}function xu(e,t){let n,i,s,r;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(s=e[n],r=t[n],s.datasetIndex!==r.datasetIndex||s.index!==r.index)return!1;return!0}function Au(e){if(Ht(e))return e.map(Au);if(bt(e)){const t=Object.create(null),n=Object.keys(e),i=n.length;let s=0;for(;s<i;++s)t[n[s]]=Au(e[n[s]]);return t}return e}function $T(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function N5(e,t,n,i){if(!$T(e))return;const s=t[e],r=n[e];bt(s)&&bt(r)?Wa(s,r,i):t[e]=Au(r)}function Wa(e,t,n){const i=Ht(t)?t:[t],s=i.length;if(!bt(e))return e;n=n||{};const r=n.merger||N5;let o;for(let a=0;a<s;++a){if(o=i[a],!bt(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],e,o,n)}return e}function ca(e,t){return Wa(e,t,{merger:L5})}function L5(e,t,n){if(!$T(e))return;const i=t[e],s=n[e];bt(i)&&bt(s)?ca(i,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Au(s))}const Bv={"":e=>e,x:e=>e.x,y:e=>e.y};function V5(e){const t=e.split("."),n=[];let i="";for(const s of t)i+=s,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function F5(e){const t=V5(e);return n=>{for(const i of t){if(i==="")break;n=n&&n[i]}return n}}function as(e,t){return(Bv[t]||(Bv[t]=F5(t)))(e)}function Am(e){return e.charAt(0).toUpperCase()+e.slice(1)}const qa=e=>typeof e<"u",ls=e=>typeof e=="function",$v=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function U5(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Yt=Math.PI,Wt=2*Yt,B5=Wt+Yt,Su=Number.POSITIVE_INFINITY,$5=Yt/180,te=Yt/2,vs=Yt/4,zv=Yt*2/3,ji=Math.log10,Qn=Math.sign;function ua(e,t,n){return Math.abs(e-t)<n}function jv(e){const t=Math.round(e);e=ua(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(ji(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function z5(e){const t=[],n=Math.sqrt(e);let i;for(i=1;i<n;i++)e%i===0&&(t.push(i),t.push(e/i));return n===(n|0)&&t.push(n),t.sort((s,r)=>s-r).pop(),t}function Zr(e){return!isNaN(parseFloat(e))&&isFinite(e)}function j5(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function zT(e,t,n){let i,s,r;for(i=0,s=e.length;i<s;i++)r=e[i][n],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function Tn(e){return e*(Yt/180)}function Sm(e){return e*(180/Yt)}function Hv(e){if(!Zt(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function jT(e,t){const n=t.x-e.x,i=t.y-e.y,s=Math.sqrt(n*n+i*i);let r=Math.atan2(i,n);return r<-.5*Yt&&(r+=Wt),{angle:r,distance:s}}function sp(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function H5(e,t){return(e-t+B5)%Wt-Yt}function rn(e){return(e%Wt+Wt)%Wt}function Ka(e,t,n,i){const s=rn(e),r=rn(t),o=rn(n),a=rn(r-s),l=rn(o-s),c=rn(s-r),u=rn(s-o);return s===r||s===o||i&&r===o||a>l&&c<u}function ve(e,t,n){return Math.max(t,Math.min(n,e))}function W5(e){return ve(e,-32768,32767)}function di(e,t,n,i=1e-6){return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function km(e,t,n){n=n||(o=>e[o]<t);let i=e.length-1,s=0,r;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const pi=(e,t,n,i)=>km(e,n,i?s=>{const r=e[s][t];return r<n||r===n&&e[s+1][t]===n}:s=>e[s][t]<n),q5=(e,t,n)=>km(e,n,i=>e[i][t]>=n);function K5(e,t,n){let i=0,s=e.length;for(;i<s&&e[i]<t;)i++;for(;s>i&&e[s-1]>n;)s--;return i>0||s<e.length?e.slice(i,s):e}const HT=["push","pop","shift","splice","unshift"];function G5(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),HT.forEach(n=>{const i="_onData"+Am(n),s=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...r){const o=s.apply(this,r);return e._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...r)}),o}})})}function Wv(e,t){const n=e._chartjs;if(!n)return;const i=n.listeners,s=i.indexOf(t);s!==-1&&i.splice(s,1),!(i.length>0)&&(HT.forEach(r=>{delete e[r]}),delete e._chartjs)}function WT(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const qT=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function KT(e,t){let n=[],i=!1;return function(...s){n=s,i||(i=!0,qT.call(window,()=>{i=!1,e.apply(t,n)}))}}function Y5(e,t){let n;return function(...i){return t?(clearTimeout(n),n=setTimeout(e,t,i)):e.apply(this,i),t}}const Pm=e=>e==="start"?"left":e==="end"?"right":"center",ke=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,X5=(e,t,n,i)=>e===(i?"left":"right")?n:e==="center"?(t+n)/2:t;function GT(e,t,n){const i=t.length;let s=0,r=i;if(e._sorted){const{iScale:o,_parsed:a}=e,l=o.axis,{min:c,max:u,minDefined:h,maxDefined:f}=o.getUserBounds();h&&(s=ve(Math.min(pi(a,l,c).lo,n?i:pi(t,l,o.getPixelForValue(c)).lo),0,i-1)),f?r=ve(Math.max(pi(a,o.axis,u,!0).hi+1,n?0:pi(t,l,o.getPixelForValue(u),!0).hi+1),s,i)-s:r=i-s}return{start:s,count:r}}function YT(e){const{xScale:t,yScale:n,_scaleRanges:i}=e,s={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=s,!0;const r=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,s),r}const sc=e=>e===0||e===1,qv=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Wt/n)),Kv=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Wt/n)+1,ha={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*te)+1,easeOutSine:e=>Math.sin(e*te),easeInOutSine:e=>-.5*(Math.cos(Yt*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>sc(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>sc(e)?e:qv(e,.075,.3),easeOutElastic:e=>sc(e)?e:Kv(e,.075,.3),easeInOutElastic(e){return sc(e)?e:e<.5?.5*qv(e*2,.1125,.45):.5+.5*Kv(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-ha.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?ha.easeInBounce(e*2)*.5:ha.easeOutBounce(e*2-1)*.5+.5};function Rm(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Gv(e){return Rm(e)?e:new Ha(e)}function Vf(e){return Rm(e)?e:new Ha(e).saturate(.5).darken(.1).hexString()}const Q5=["x","y","borderWidth","radius","tension"],J5=["color","borderColor","backgroundColor"];function Z5(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:J5},numbers:{type:"number",properties:Q5}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function t3(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Yv=new Map;function e3(e,t){t=t||{};const n=e+JSON.stringify(t);let i=Yv.get(n);return i||(i=new Intl.NumberFormat(e,t),Yv.set(n,i)),i}function Ml(e,t,n){return e3(t,n).format(e)}const XT={values(e){return Ht(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const i=this.chart.options.locale;let s,r=e;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),r=n3(e,n)}const o=ji(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Ml(e,i,l)},logarithmic(e,t,n){if(e===0)return"0";const i=n[t].significand||e/Math.pow(10,Math.floor(ji(e)));return[1,2,3,5,10,15].includes(i)||t>.8*n.length?XT.numeric.call(this,e,t,n):""}};function n3(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Bh={formatters:XT};function i3(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Bh.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const er=Object.create(null),rp=Object.create(null);function fa(e,t){if(!t)return e;const n=t.split(".");for(let i=0,s=n.length;i<s;++i){const r=n[i];e=e[r]||(e[r]=Object.create(null))}return e}function Ff(e,t,n){return typeof t=="string"?Wa(fa(e,t),n):Wa(fa(e,""),t)}class s3{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,s)=>Vf(s.backgroundColor),this.hoverBorderColor=(i,s)=>Vf(s.borderColor),this.hoverColor=(i,s)=>Vf(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return Ff(this,t,n)}get(t){return fa(this,t)}describe(t,n){return Ff(rp,t,n)}override(t,n){return Ff(er,t,n)}route(t,n,i,s){const r=fa(this,t),o=fa(this,i),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[s];return bt(l)?Object.assign({},c,l):gt(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(n=>n(this))}}var ee=new s3({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Z5,t3,i3]);function r3(e){return!e||xt(e.size)||xt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function ku(e,t,n,i,s){let r=t[s];return r||(r=t[s]=e.measureText(s).width,n.push(s)),r>i&&(i=r),i}function o3(e,t,n,i){i=i||{};let s=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(s=i.data={},r=i.garbageCollect=[],i.font=t),e.save(),e.font=t;let o=0;const a=n.length;let l,c,u,h,f;for(l=0;l<a;l++)if(h=n[l],h!=null&&!Ht(h))o=ku(e,s,r,o,h);else if(Ht(h))for(c=0,u=h.length;c<u;c++)f=h[c],f!=null&&!Ht(f)&&(o=ku(e,s,r,o,f));e.restore();const d=r.length/2;if(d>n.length){for(l=0;l<d;l++)delete s[r[l]];r.splice(0,d)}return o}function bs(e,t,n){const i=e.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((t-s)*i)/i+s}function Xv(e,t){t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function op(e,t,n,i){QT(e,t,n,i,null)}function QT(e,t,n,i,s){let r,o,a,l,c,u,h,f;const d=t.pointStyle,p=t.rotation,g=t.radius;let m=(p||0)*$5;if(d&&typeof d=="object"&&(r=d.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){e.save(),e.translate(n,i),e.rotate(m),e.drawImage(d,-d.width/2,-d.height/2,d.width,d.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),d){default:s?e.ellipse(n,i,s/2,g,0,0,Wt):e.arc(n,i,g,0,Wt),e.closePath();break;case"triangle":u=s?s/2:g,e.moveTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=zv,e.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=zv,e.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),e.closePath();break;case"rectRounded":c=g*.516,l=g-c,o=Math.cos(m+vs)*l,h=Math.cos(m+vs)*(s?s/2-c:l),a=Math.sin(m+vs)*l,f=Math.sin(m+vs)*(s?s/2-c:l),e.arc(n-h,i-a,c,m-Yt,m-te),e.arc(n+f,i-o,c,m-te,m),e.arc(n+h,i+a,c,m,m+te),e.arc(n-f,i+o,c,m+te,m+Yt),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=s?s/2:l,e.rect(n-u,i-l,2*u,2*l);break}m+=vs;case"rectRot":h=Math.cos(m)*(s?s/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(s?s/2:g),e.moveTo(n-h,i-a),e.lineTo(n+f,i-o),e.lineTo(n+h,i+a),e.lineTo(n-f,i+o),e.closePath();break;case"crossRot":m+=vs;case"cross":h=Math.cos(m)*(s?s/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(s?s/2:g),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+f,i-o),e.lineTo(n-f,i+o);break;case"star":h=Math.cos(m)*(s?s/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(s?s/2:g),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+f,i-o),e.lineTo(n-f,i+o),m+=vs,h=Math.cos(m)*(s?s/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,f=Math.sin(m)*(s?s/2:g),e.moveTo(n-h,i-a),e.lineTo(n+h,i+a),e.moveTo(n+f,i-o),e.lineTo(n-f,i+o);break;case"line":o=s?s/2:Math.cos(m)*g,a=Math.sin(m)*g,e.moveTo(n-o,i-a),e.lineTo(n+o,i+a);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(m)*(s?s/2:g),i+Math.sin(m)*g);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function gi(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function $h(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function zh(e){e.restore()}function a3(e,t,n,i,s){if(!t)return e.lineTo(n.x,n.y);if(s==="middle"){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else s==="after"!=!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function l3(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function c3(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),xt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function u3(e,t,n,i,s){if(s.strikethrough||s.underline){const r=e.measureText(i),o=t-r.actualBoundingBoxLeft,a=t+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,u=s.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(o,u),e.lineTo(a,u),e.stroke()}}function h3(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function nr(e,t,n,i,s,r={}){const o=Ht(t)?t:[t],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(e.save(),e.font=s.string,c3(e,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&h3(e,r.backdrop),a&&(r.strokeColor&&(e.strokeStyle=r.strokeColor),xt(r.strokeWidth)||(e.lineWidth=r.strokeWidth),e.strokeText(c,n,i,r.maxWidth)),e.fillText(c,n,i,r.maxWidth),u3(e,n,i,c,r),i+=Number(s.lineHeight);e.restore()}function Ga(e,t){const{x:n,y:i,w:s,h:r,radius:o}=t;e.arc(n+o.topLeft,i+o.topLeft,o.topLeft,-te,Yt,!0),e.lineTo(n,i+r-o.bottomLeft),e.arc(n+o.bottomLeft,i+r-o.bottomLeft,o.bottomLeft,Yt,te,!0),e.lineTo(n+s-o.bottomRight,i+r),e.arc(n+s-o.bottomRight,i+r-o.bottomRight,o.bottomRight,te,0,!0),e.lineTo(n+s,i+o.topRight),e.arc(n+s-o.topRight,i+o.topRight,o.topRight,0,-te,!0),e.lineTo(n+o.topLeft,i)}const f3=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,d3=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function p3(e,t){const n=(""+e).match(f3);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const g3=e=>+e||0;function Cm(e,t){const n={},i=bt(t),s=i?Object.keys(t):t,r=bt(e)?i?o=>gt(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of s)n[o]=g3(r(o));return n}function JT(e){return Cm(e,{top:"y",right:"x",bottom:"y",left:"x"})}function zs(e){return Cm(e,["topLeft","topRight","bottomLeft","bottomRight"])}function $e(e){const t=JT(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function he(e,t){e=e||{},t=t||ee.font;let n=gt(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let i=gt(e.style,t.style);i&&!(""+i).match(d3)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const s={family:gt(e.family,t.family),lineHeight:p3(gt(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:gt(e.weight,t.weight),string:""};return s.string=r3(s),s}function jo(e,t,n,i){let s=!0,r,o,a;for(r=0,o=e.length;r<o;++r)if(a=e[r],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),s=!1),n!==void 0&&Ht(a)&&(a=a[n%a.length],s=!1),a!==void 0))return i&&!s&&(i.cacheable=!1),a}function m3(e,t,n){const{min:i,max:s}=e,r=BT(t,(s-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(r)),max:o(s,r)}}function ms(e,t){return Object.assign(Object.create(e),t)}function Mm(e,t=[""],n,i,s=()=>e[0]){const r=n||e;typeof i>"u"&&(i=nx("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:i,_getTarget:s,override:a=>Mm([a,...e],t,r,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return tx(a,l,()=>T3(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return Jv(a).includes(l)},ownKeys(a){return Jv(a)},set(a,l,c){const u=a._storage||(a._storage=s());return a[l]=u[l]=c,delete a._keys,!0}})}function to(e,t,n,i){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:ZT(e,i),setContext:r=>to(e,r,n,i),override:r=>to(e.override(r),t,n,i)};return new Proxy(s,{deleteProperty(r,o){return delete r[o],delete e[o],!0},get(r,o,a){return tx(r,o,()=>y3(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(r,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(r,o,a){return e[o]=a,delete r[o],!0}})}function ZT(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:i=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:i,isScriptable:ls(n)?n:()=>n,isIndexable:ls(i)?i:()=>i}}const _3=(e,t)=>e?e+Am(t):t,Om=(e,t)=>bt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function tx(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];const i=n();return e[t]=i,i}function y3(e,t,n){const{_proxy:i,_context:s,_subProxy:r,_descriptors:o}=e;let a=i[t];return ls(a)&&o.isScriptable(t)&&(a=v3(t,a,e,n)),Ht(a)&&a.length&&(a=b3(t,a,e,o.isIndexable)),Om(t,a)&&(a=to(a,s,r&&r[t],o)),a}function v3(e,t,n,i){const{_proxy:s,_context:r,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(r,o||i);return a.delete(e),Om(e,l)&&(l=Dm(s._scopes,s,e,l)),l}function b3(e,t,n,i){const{_proxy:s,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&i(e))return t[r.index%t.length];if(bt(t[0])){const l=t,c=s._scopes.filter(u=>u!==l);t=[];for(const u of l){const h=Dm(c,s,e,u);t.push(to(h,r,o&&o[e],a))}}return t}function ex(e,t,n){return ls(e)?e(t,n):e}const w3=(e,t)=>e===!0?t:typeof e=="string"?as(t,e):void 0;function E3(e,t,n,i,s){for(const r of t){const o=w3(n,r);if(o){e.add(o);const a=ex(o._fallback,n,s);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function Dm(e,t,n,i){const s=t._rootScopes,r=ex(t._fallback,n,i),o=[...e,...s],a=new Set;a.add(i);let l=Qv(a,o,n,r||n,i);return l===null||typeof r<"u"&&r!==n&&(l=Qv(a,o,r,l,i),l===null)?!1:Mm(Array.from(a),[""],s,r,()=>I3(t,n,i))}function Qv(e,t,n,i,s){for(;n;)n=E3(e,t,n,i,s);return n}function I3(e,t,n){const i=e._getTarget();t in i||(i[t]={});const s=i[t];return Ht(s)&&bt(n)?n:s||{}}function T3(e,t,n,i){let s;for(const r of t)if(s=nx(_3(r,e),n),typeof s<"u")return Om(e,s)?Dm(n,i,e,s):s}function nx(e,t){for(const n of t){if(!n)continue;const i=n[e];if(typeof i<"u")return i}}function Jv(e){let t=e._keys;return t||(t=e._keys=x3(e._scopes)),t}function x3(e){const t=new Set;for(const n of e)for(const i of Object.keys(n).filter(s=>!s.startsWith("_")))t.add(i);return Array.from(t)}function ix(e,t,n,i){const{iScale:s}=e,{key:r="r"}=this._parsing,o=new Array(i);let a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=t[c],o[a]={r:s.parse(as(u,r),c)};return o}const A3=Number.EPSILON||1e-14,eo=(e,t)=>t<e.length&&!e[t].skip&&e[t],sx=e=>e==="x"?"y":"x";function S3(e,t,n,i){const s=e.skip?t:e,r=t,o=n.skip?t:n,a=sp(r,s),l=sp(o,r);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=i*c,f=i*u;return{previous:{x:r.x-h*(o.x-s.x),y:r.y-h*(o.y-s.y)},next:{x:r.x+f*(o.x-s.x),y:r.y+f*(o.y-s.y)}}}function k3(e,t,n){const i=e.length;let s,r,o,a,l,c=eo(e,0);for(let u=0;u<i-1;++u)if(l=c,c=eo(e,u+1),!(!l||!c)){if(ua(t[u],0,A3)){n[u]=n[u+1]=0;continue}s=n[u]/t[u],r=n[u+1]/t[u],a=Math.pow(s,2)+Math.pow(r,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=s*o*t[u],n[u+1]=r*o*t[u])}}function P3(e,t,n="x"){const i=sx(n),s=e.length;let r,o,a,l=eo(e,0);for(let c=0;c<s;++c){if(o=a,a=l,l=eo(e,c+1),!a)continue;const u=a[n],h=a[i];o&&(r=(u-o[n])/3,a[`cp1${n}`]=u-r,a[`cp1${i}`]=h-r*t[c]),l&&(r=(l[n]-u)/3,a[`cp2${n}`]=u+r,a[`cp2${i}`]=h+r*t[c])}}function R3(e,t="x"){const n=sx(t),i=e.length,s=Array(i).fill(0),r=Array(i);let o,a,l,c=eo(e,0);for(o=0;o<i;++o)if(a=l,l=c,c=eo(e,o+1),!!l){if(c){const u=c[t]-l[t];s[o]=u!==0?(c[n]-l[n])/u:0}r[o]=a?c?Qn(s[o-1])!==Qn(s[o])?0:(s[o-1]+s[o])/2:s[o-1]:s[o]}k3(e,s,r),P3(e,r,t)}function rc(e,t,n){return Math.max(Math.min(e,n),t)}function C3(e,t){let n,i,s,r,o,a=gi(e[0],t);for(n=0,i=e.length;n<i;++n)o=r,r=a,a=n<i-1&&gi(e[n+1],t),r&&(s=e[n],o&&(s.cp1x=rc(s.cp1x,t.left,t.right),s.cp1y=rc(s.cp1y,t.top,t.bottom)),a&&(s.cp2x=rc(s.cp2x,t.left,t.right),s.cp2y=rc(s.cp2y,t.top,t.bottom)))}function M3(e,t,n,i,s){let r,o,a,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")R3(e,s);else{let c=i?e[e.length-1]:e[0];for(r=0,o=e.length;r<o;++r)a=e[r],l=S3(c,a,e[Math.min(r+1,o-(i?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&C3(e,n)}function rx(){return typeof window<"u"&&typeof document<"u"}function Nm(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Pu(e,t,n){let i;return typeof e=="string"?(i=parseInt(e,10),e.indexOf("%")!==-1&&(i=i/100*t.parentNode[n])):i=e,i}const jh=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function O3(e,t){return jh(e).getPropertyValue(t)}const D3=["top","right","bottom","left"];function js(e,t,n){const i={};n=n?"-"+n:"";for(let s=0;s<4;s++){const r=D3[s];i[r]=parseFloat(e[t+"-"+r+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const N3=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function L3(e,t){const n=e.touches,i=n&&n.length?n[0]:e,{offsetX:s,offsetY:r}=i;let o=!1,a,l;if(N3(s,r,e.target))a=s,l=r;else{const c=t.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Ts(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:i}=t,s=jh(n),r=s.boxSizing==="border-box",o=js(s,"padding"),a=js(s,"border","width"),{x:l,y:c,box:u}=L3(e,n),h=o.left+(u&&a.left),f=o.top+(u&&a.top);let{width:d,height:p}=t;return r&&(d-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-h)/d*n.width/i),y:Math.round((c-f)/p*n.height/i)}}function V3(e,t,n){let i,s;if(t===void 0||n===void 0){const r=Nm(e);if(!r)t=e.clientWidth,n=e.clientHeight;else{const o=r.getBoundingClientRect(),a=jh(r),l=js(a,"border","width"),c=js(a,"padding");t=o.width-c.width-l.width,n=o.height-c.height-l.height,i=Pu(a.maxWidth,r,"clientWidth"),s=Pu(a.maxHeight,r,"clientHeight")}}return{width:t,height:n,maxWidth:i||Su,maxHeight:s||Su}}const oc=e=>Math.round(e*10)/10;function F3(e,t,n,i){const s=jh(e),r=js(s,"margin"),o=Pu(s.maxWidth,e,"clientWidth")||Su,a=Pu(s.maxHeight,e,"clientHeight")||Su,l=V3(e,t,n);let{width:c,height:u}=l;if(s.boxSizing==="content-box"){const f=js(s,"border","width"),d=js(s,"padding");c-=d.width+f.width,u-=d.height+f.height}return c=Math.max(0,c-r.width),u=Math.max(0,i?c/i:u-r.height),c=oc(Math.min(c,o,l.maxWidth)),u=oc(Math.min(u,a,l.maxHeight)),c&&!u&&(u=oc(c/2)),(t!==void 0||n!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=oc(Math.floor(u*i))),{width:c,height:u}}function Zv(e,t,n){const i=t||1,s=Math.floor(e.height*i),r=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==i||o.height!==s||o.width!==r?(e.currentDevicePixelRatio=i,o.height=s,o.width=r,e.ctx.setTransform(i,0,0,i,0,0),!0):!1}const U3=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}return e}();function tb(e,t){const n=O3(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function xs(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function B3(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:i==="middle"?n<.5?e.y:t.y:i==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function $3(e,t,n,i){const s={x:e.cp2x,y:e.cp2y},r={x:t.cp1x,y:t.cp1y},o=xs(e,s,n),a=xs(s,r,n),l=xs(r,t,n),c=xs(o,a,n),u=xs(a,l,n);return xs(c,u,n)}const z3=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},j3=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Nr(e,t,n){return e?z3(t,n):j3()}function ox(e,t){let n,i;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function ax(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function lx(e){return e==="angle"?{between:Ka,compare:H5,normalize:rn}:{between:di,compare:(t,n)=>t-n,normalize:t=>t}}function eb({start:e,end:t,count:n,loop:i,style:s}){return{start:e%n,end:t%n,loop:i&&(t-e+1)%n===0,style:s}}function H3(e,t,n){const{property:i,start:s,end:r}=n,{between:o,normalize:a}=lx(i),l=t.length;let{start:c,end:u,loop:h}=e,f,d;if(h){for(c+=l,u+=l,f=0,d=l;f<d&&o(a(t[c%l][i]),s,r);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:h,style:e.style}}function cx(e,t,n){if(!n)return[e];const{property:i,start:s,end:r}=n,o=t.length,{compare:a,between:l,normalize:c}=lx(i),{start:u,end:h,loop:f,style:d}=H3(e,t,n),p=[];let g=!1,m=null,_,y,w;const E=()=>l(s,w,_)&&a(s,w)!==0,I=()=>a(r,_)===0||l(r,w,_),x=()=>g||E(),k=()=>!g||I();for(let S=u,C=u;S<=h;++S)y=t[S%o],!y.skip&&(_=c(y[i]),_!==w&&(g=l(_,s,r),m===null&&x()&&(m=a(_,s)===0?S:C),m!==null&&k()&&(p.push(eb({start:m,end:S,loop:f,count:o,style:d})),m=null),C=S,w=_));return m!==null&&p.push(eb({start:m,end:h,loop:f,count:o,style:d})),p}function ux(e,t){const n=[],i=e.segments;for(let s=0;s<i.length;s++){const r=cx(i[s],e.points,t);r.length&&n.push(...r)}return n}function W3(e,t,n,i){let s=0,r=t-1;if(n&&!i)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,n&&(r+=s);r>s&&e[r%t].skip;)r--;return r%=t,{start:s,end:r}}function q3(e,t,n,i){const s=e.length,r=[];let o=t,a=e[t],l;for(l=t+1;l<=n;++l){const c=e[l%s];c.skip||c.stop?a.skip||(i=!1,r.push({start:t%s,end:(l-1)%s,loop:i}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&r.push({start:t%s,end:o%s,loop:i}),r}function K3(e,t){const n=e.points,i=e.options.spanGaps,s=n.length;if(!s)return[];const r=!!e._loop,{start:o,end:a}=W3(n,s,r,i);if(i===!0)return nb(e,[{start:o,end:a,loop:r}],n,t);const l=a<o?a+s:a,c=!!e._fullLoop&&o===0&&a===s-1;return nb(e,q3(n,o,l,c),n,t)}function nb(e,t,n,i){return!i||!i.setContext||!n?t:G3(e,t,n,i)}function G3(e,t,n,i){const s=e._chart.getContext(),r=ib(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=n.length,c=[];let u=r,h=t[0].start,f=h;function d(p,g,m,_){const y=a?-1:1;if(p!==g){for(p+=l;n[p%l].skip;)p-=y;for(;n[g%l].skip;)g+=y;p%l!==g%l&&(c.push({start:p%l,end:g%l,loop:m,style:_}),u=_,h=g%l)}}for(const p of t){h=a?h:p.start;let g=n[h%l],m;for(f=h+1;f<=p.end;f++){const _=n[f%l];m=ib(i.setContext(ms(s,{type:"segment",p0:g,p1:_,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),Y3(m,u)&&d(h,f-1,p.loop,u),g=_,u=m}h<f-1&&d(h,f-1,p.loop,u)}return c}function ib(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Y3(e,t){if(!t)return!1;const n=[],i=function(s,r){return Rm(r)?(n.includes(r)||n.push(r),n.indexOf(r)):r};return JSON.stringify(e,i)!==JSON.stringify(t,i)}/*!
 * Chart.js v4.3.3
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class X3{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,i,s){const r=n.listeners[s],o=n.duration;r.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=qT.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((i,s)=>{if(!i.running||!i.items.length)return;const r=i.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(s.draw(),this._notify(s,i,t,"progress")),r.length||(i.running=!1,this._notify(s,i,t,"complete"),i.initial=!1),n+=r.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let i=n.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,i)),i}listen(t,n,i){this._getAnims(t).listeners[n].push(i)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,s)=>Math.max(i,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const i=n.items;let s=i.length-1;for(;s>=0;--s)i[s].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ii=new X3;const sb="transparent",Q3={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const i=Gv(e||sb),s=i.valid&&Gv(t||sb);return s&&s.valid?s.mix(i,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class J3{constructor(t,n,i,s){const r=n[i];s=jo([t.to,s,r,t.from]);const o=jo([t.from,r,s]);this._active=!0,this._fn=t.fn||Q3[t.type||typeof o],this._easing=ha[t.easing]||ha.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=o,this._to=s,this._promises=void 0}active(){return this._active}update(t,n,i){if(this._active){this._notify(!1);const s=this._target[this._prop],r=i-this._start,o=this._duration-r;this._start=i,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=jo([t.to,n,s,t.from]),this._from=jo([t.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,i=this._duration,s=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||n<i),!this._active){this._target[s]=a,this._notify(!0);return}if(n<0){this._target[s]=r;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(r,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,i)=>{t.push({res:n,rej:i})})}_notify(t){const n=t?"res":"rej",i=this._promises||[];for(let s=0;s<i.length;s++)i[s][n]()}}class hx{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!bt(t))return;const n=Object.keys(ee.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(s=>{const r=t[s];if(!bt(r))return;const o={};for(const a of n)o[a]=r[a];(Ht(r.properties)&&r.properties||[s]).forEach(a=>{(a===s||!i.has(a))&&i.set(a,o)})})}_animateOptions(t,n){const i=n.options,s=t6(t,i);if(!s)return[];const r=this._createAnimations(s,i);return i.$shared&&Z3(t.options.$animations,i).then(()=>{t.options=i},()=>{}),r}_createAnimations(t,n){const i=this._properties,s=[],r=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(t,n));continue}const u=n[c];let h=r[c];const f=i.get(c);if(h)if(f&&h.active()){h.update(f,u,a);continue}else h.cancel();if(!f||!f.duration){t[c]=u;continue}r[c]=h=new J3(f,t,c,u),s.push(h)}return s}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const i=this._createAnimations(t,n);if(i.length)return ii.add(this._chart,i),!0}}function Z3(e,t){const n=[],i=Object.keys(t);for(let s=0;s<i.length;s++){const r=e[i[s]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function t6(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function rb(e,t){const n=e&&e.options||{},i=n.reverse,s=n.min===void 0?t:0,r=n.max===void 0?t:0;return{start:i?r:s,end:i?s:r}}function e6(e,t,n){if(n===!1)return!1;const i=rb(e,n),s=rb(t,n);return{top:s.end,right:i.end,bottom:s.start,left:i.start}}function n6(e){let t,n,i,s;return bt(e)?(t=e.top,n=e.right,i=e.bottom,s=e.left):t=n=i=s=e,{top:t,right:n,bottom:i,left:s,disabled:e===!1}}function fx(e,t){const n=[],i=e._getSortedDatasetMetas(t);let s,r;for(s=0,r=i.length;s<r;++s)n.push(i[s].index);return n}function ob(e,t,n,i={}){const s=e.keys,r=i.mode==="single";let o,a,l,c;if(t!==null){for(o=0,a=s.length;o<a;++o){if(l=+s[o],l===n){if(i.all)continue;break}c=e.values[l],Zt(c)&&(r||t===0||Qn(t)===Qn(c))&&(t+=c)}return t}}function i6(e){const t=Object.keys(e),n=new Array(t.length);let i,s,r;for(i=0,s=t.length;i<s;++i)r=t[i],n[i]={x:r,y:e[r]};return n}function ab(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function s6(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function r6(e){const{min:t,max:n,minDefined:i,maxDefined:s}=e.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function o6(e,t,n){const i=e[t]||(e[t]={});return i[n]||(i[n]={})}function lb(e,t,n,i){for(const s of t.getMatchingVisibleMetas(i).reverse()){const r=e[s.index];if(n&&r>0||!n&&r<0)return s.index}return null}function cb(e,t){const{chart:n,_cachedMeta:i}=e,s=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=i,l=r.axis,c=o.axis,u=s6(r,o,i),h=t.length;let f;for(let d=0;d<h;++d){const p=t[d],{[l]:g,[c]:m}=p,_=p._stacks||(p._stacks={});f=_[c]=o6(s,u,g),f[a]=m,f._top=lb(f,o,!0,i.type),f._bottom=lb(f,o,!1,i.type);const y=f._visualValues||(f._visualValues={});y[a]=m}}function Uf(e,t){const n=e.scales;return Object.keys(n).filter(i=>n[i].axis===t).shift()}function a6(e,t){return ms(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function l6(e,t,n){return ms(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function Ao(e,t){const n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){t=t||e._parsed;for(const s of t){const r=s._stacks;if(!r||r[i]===void 0||r[i][n]===void 0)return;delete r[i][n],r[i]._visualValues!==void 0&&r[i]._visualValues[n]!==void 0&&delete r[i]._visualValues[n]}}}const Bf=e=>e==="reset"||e==="none",ub=(e,t)=>t?e:Object.assign({},e),c6=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:fx(n,!0),values:null};class kn{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=ab(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Ao(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,i=this.getDataset(),s=(h,f,d,p)=>h==="x"?f:h==="r"?p:d,r=n.xAxisID=gt(i.xAxisID,Uf(t,"x")),o=n.yAxisID=gt(i.yAxisID,Uf(t,"y")),a=n.rAxisID=gt(i.rAxisID,Uf(t,"r")),l=n.indexAxis,c=n.iAxisID=s(l,r,o,a),u=n.vAxisID=s(l,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Wv(this._data,this),t._stacked&&Ao(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),i=this._data;if(bt(n))this._data=i6(n);else if(i!==n){if(i){Wv(i,this);const s=this._cachedMeta;Ao(s),s._parsed=[]}n&&Object.isExtensible(n)&&G5(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,i=this.getDataset();let s=!1;this._dataCheck();const r=n._stacked;n._stacked=ab(n.vScale,n),n.stack!==i.stack&&(s=!0,Ao(n),n.stack=i.stack),this._resyncElements(t),(s||r!==n._stacked)&&cb(this,n._parsed)}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:i,_data:s}=this,{iScale:r,_stacked:o}=i,a=r.axis;let l=t===0&&n===s.length?!0:i._sorted,c=t>0&&i._parsed[t-1],u,h,f;if(this._parsing===!1)i._parsed=s,i._sorted=!0,f=s;else{Ht(s[t])?f=this.parseArrayData(i,s,t,n):bt(s[t])?f=this.parseObjectData(i,s,t,n):f=this.parsePrimitiveData(i,s,t,n);const d=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<n;++u)i._parsed[u+t]=h=f[u],l&&(d()&&(l=!1),c=h);i._sorted=l}o&&cb(this,f)}parsePrimitiveData(t,n,i,s){const{iScale:r,vScale:o}=t,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,h=new Array(s);let f,d,p;for(f=0,d=s;f<d;++f)p=f+i,h[f]={[a]:u||r.parse(c[p],p),[l]:o.parse(n[p],p)};return h}parseArrayData(t,n,i,s){const{xScale:r,yScale:o}=t,a=new Array(s);let l,c,u,h;for(l=0,c=s;l<c;++l)u=l+i,h=n[u],a[l]={x:r.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(t,n,i,s){const{xScale:r,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s);let u,h,f,d;for(u=0,h=s;u<h;++u)f=u+i,d=n[f],c[u]={x:r.parse(as(d,a),f),y:o.parse(as(d,l),f)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,i){const s=this.chart,r=this._cachedMeta,o=n[t.axis],a={keys:fx(s,!0),values:n._stacks[t.axis]._visualValues};return ob(a,o,r.index,{mode:i})}updateRangeFromParsed(t,n,i,s){const r=i[n.axis];let o=r===null?NaN:r;const a=s&&i._stacks[n.axis];s&&a&&(s.values=a,o=ob(s,r,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const i=this._cachedMeta,s=i._parsed,r=i._sorted&&t===i.iScale,o=s.length,a=this._getOtherScale(t),l=c6(n,i,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=r6(a);let f,d;function p(){d=s[f];const g=d[a.axis];return!Zt(d[t.axis])||u>g||h<g}for(f=0;f<o&&!(!p()&&(this.updateRangeFromParsed(c,t,d,l),r));++f);if(r){for(f=o-1;f>=0;--f)if(!p()){this.updateRangeFromParsed(c,t,d,l);break}}return c}getAllParsedValues(t){const n=this._cachedMeta._parsed,i=[];let s,r,o;for(s=0,r=n.length;s<r;++s)o=n[s][t.axis],Zt(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,i=n.iScale,s=n.vScale,r=this.getParsed(t);return{label:i?""+i.getLabelForValue(r[i.axis]):"",value:s?""+s.getLabelForValue(r[s.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=n6(gt(this.options.clip,e6(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,i=this._cachedMeta,s=i.data||[],r=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop;let u;for(i.dataset&&i.dataset.draw(t,r,a,l),u=a;u<a+l;++u){const h=s[u];h.hidden||(h.active&&c?o.push(h):h.draw(t,r))}for(u=0;u<o.length;++u)o[u].draw(t,r)}getStyle(t,n){const i=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,n,i){const s=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];r=o.$context||(o.$context=l6(this.getContext(),t,o)),r.parsed=this.getParsed(t),r.raw=s.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=a6(this.chart.getContext(),this.index)),r.dataset=s,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=i,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",i){const s=n==="active",r=this._cachedDataOpts,o=t+"-"+n,a=r[o],l=this.enableOptionSharing&&qa(i);if(a)return ub(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),h=s?[`${t}Hover`,"hover",t,""]:[t,""],f=c.getOptionScopes(this.getDataset(),u),d=Object.keys(ee.elements[t]),p=()=>this.getContext(i,s,n),g=c.resolveNamedOptions(f,d,p,h);return g.$shared&&(g.$shared=l,r[o]=Object.freeze(ub(g,l))),g}_resolveAnimations(t,n,i){const s=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let l;if(s.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),f=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(f,this.getContext(t,i,n))}const c=new hx(s,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||Bf(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const i=this.resolveDataElementOptions(t,n),s=this._sharedOptions,r=this.getSharedOptions(i),o=this.includeOptions(n,r)||r!==s;return this.updateSharedOptions(r,n,i),{sharedOptions:r,includeOptions:o}}updateElement(t,n,i,s){Bf(s)?Object.assign(t,i):this._resolveAnimations(n,s).update(t,i)}updateSharedOptions(t,n,i){t&&!Bf(n)&&this._resolveAnimations(void 0,n).update(t,i)}_setStyle(t,n,i,s){t.active=s;const r=this.getStyle(n,s);this._resolveAnimations(n,i,s).update(t,{options:!s&&this.getSharedOptions(r)||r})}removeHoverStyle(t,n,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,n,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,i=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const s=i.length,r=n.length,o=Math.min(r,s);o&&this.parse(0,o),r>s?this._insertElements(s,r-s,t):r<s&&this._removeElements(r,s-r)}_insertElements(t,n,i=!0){const s=this._cachedMeta,r=s.data,o=t+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(r),a=t;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(t,n),i&&this.updateElements(r,t,n,"reset")}updateElements(t,n,i,s){}_removeElements(t,n){const i=this._cachedMeta;if(this._parsing){const s=i._parsed.splice(t,n);i._stacked&&Ao(i,s)}i.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,i,s]=t;this[n](i,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}F(kn,"defaults",{}),F(kn,"datasetElementType",null),F(kn,"dataElementType",null);function u6(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let i=[];for(let s=0,r=n.length;s<r;s++)i=i.concat(n[s].controller.getAllParsedValues(e));e._cache.$bar=WT(i.sort((s,r)=>s-r))}return e._cache.$bar}function h6(e){const t=e.iScale,n=u6(t,e.type);let i=t._length,s,r,o,a;const l=()=>{o===32767||o===-32768||(qa(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(s=0,r=n.length;s<r;++s)o=t.getPixelForValue(n[s]),l();for(a=void 0,s=0,r=t.ticks.length;s<r;++s)o=t.getPixelForTick(s),l();return i}function f6(e,t,n,i){const s=n.barThickness;let r,o;return xt(s)?(r=t.min*n.categoryPercentage,o=n.barPercentage):(r=s*i,o=1),{chunk:r/i,ratio:o,start:t.pixels[e]-r/2}}function d6(e,t,n,i){const s=t.pixels,r=s[e];let o=e>0?s[e-1]:null,a=e<s.length-1?s[e+1]:null;const l=n.categoryPercentage;o===null&&(o=r-(a===null?t.end-t.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}function p6(e,t,n,i){const s=n.parse(e[0],i),r=n.parse(e[1],i),o=Math.min(s,r),a=Math.max(s,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:s,end:r,min:o,max:a}}function dx(e,t,n,i){return Ht(e)?p6(e,t,n,i):t[n.axis]=n.parse(e,i),t}function hb(e,t,n,i){const s=e.iScale,r=e.vScale,o=s.getLabels(),a=s===r,l=[];let c,u,h,f;for(c=n,u=n+i;c<u;++c)f=t[c],h={},h[s.axis]=a||s.parse(o[c],c),l.push(dx(f,h,r,c));return l}function $f(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function g6(e,t,n){return e!==0?Qn(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function m6(e){let t,n,i,s,r;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(s="end",r="start"):(s="start",r="end"),{start:n,end:i,reverse:t,top:s,bottom:r}}function _6(e,t,n,i){let s=t.borderSkipped;const r={};if(!s){e.borderSkipped=r;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=m6(e);s==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?s=c:(n._bottom||0)===i?s=u:(r[fb(u,o,a,l)]=!0,s=c)),r[fb(s,o,a,l)]=!0,e.borderSkipped=r}function fb(e,t,n,i){return i?(e=y6(e,t,n),e=db(e,n,t)):e=db(e,t,n),e}function y6(e,t,n){return e===t?n:e===n?t:e}function db(e,t,n){return e==="start"?t:e==="end"?n:e}function v6(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class Vc extends kn{parsePrimitiveData(t,n,i,s){return hb(t,n,i,s)}parseArrayData(t,n,i,s){return hb(t,n,i,s)}parseObjectData(t,n,i,s){const{iScale:r,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let f,d,p,g;for(f=i,d=i+s;f<d;++f)g=n[f],p={},p[r.axis]=r.parse(as(g,c),f),h.push(dx(as(g,u),p,o,f));return h}updateRangeFromParsed(t,n,i,s){super.updateRangeFromParsed(t,n,i,s);const r=i._custom;r&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:i,vScale:s}=n,r=this.getParsed(t),o=r._custom,a=$f(o)?"["+o.start+", "+o.end+"]":""+s.getLabelForValue(r[s.axis]);return{label:""+i.getLabelForValue(r[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,i,s){const r=s==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(n,s);for(let d=n;d<n+i;d++){const p=this.getParsed(d),g=r||xt(p[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(d),m=this._calculateBarIndexPixels(d,u),_=(p._stacks||{})[a.axis],y={horizontal:c,base:g.base,enableBorderRadius:!_||$f(p._custom)||o===_._top||o===_._bottom,x:c?g.head:m.center,y:c?m.center:g.head,height:c?m.size:Math.abs(g.size),width:c?Math.abs(g.size):m.size};f&&(y.options=h||this.resolveDataElementOptions(d,t[d].active?"active":s));const w=y.options||t[d].options;_6(y,w,_,o),v6(y,w,u.ratio),this.updateElement(t[d],d,y,s)}}_getStacks(t,n){const{iScale:i}=this._cachedMeta,s=i.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),r=i.options.stacked,o=[],a=l=>{const c=l.controller.getParsed(n),u=c&&c[l.vScale.axis];if(xt(u)||isNaN(u))return!0};for(const l of s)if(!(n!==void 0&&a(l))&&((r===!1||o.indexOf(l.stack)===-1||r===void 0&&l.stack===void 0)&&o.push(l.stack),l.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,n,i){const s=this._getStacks(t,i),r=n!==void 0?s.indexOf(n):-1;return r===-1?s.length-1:r}_getRuler(){const t=this.options,n=this._cachedMeta,i=n.iScale,s=[];let r,o;for(r=0,o=n.data.length;r<o;++r)s.push(i.getPixelForValue(this.getParsed(r)[i.axis],r));const a=t.barThickness;return{min:a||h6(n),pixels:s,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:i,index:s},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(t),c=l._custom,u=$f(c);let h=l[n.axis],f=0,d=i?this.applyStack(n,l,i):h,p,g;d!==h&&(f=d-h,d=h),u&&(h=c.barStart,d=c.barEnd-c.barStart,h!==0&&Qn(h)!==Qn(c.barEnd)&&(f=0),f+=h);const m=!xt(r)&&!u?r:f;let _=n.getPixelForValue(m);if(this.chart.getDataVisibility(t)?p=n.getPixelForValue(f+d):p=_,g=p-_,Math.abs(g)<o){g=g6(g,n,a)*o,h===a&&(_-=g/2);const y=n.getPixelForDecimal(0),w=n.getPixelForDecimal(1),E=Math.min(y,w),I=Math.max(y,w);_=Math.max(Math.min(_,I),E),p=_+g,i&&!u&&(l._stacks[n.axis]._visualValues[s]=n.getValueForPixel(p)-n.getValueForPixel(_))}if(_===n.getPixelForValue(a)){const y=Qn(g)*n.getLineWidthForValue(a)/2;_+=y,g-=y}return{size:g,base:_,head:p,center:p+g/2}}_calculateBarIndexPixels(t,n){const i=n.scale,s=this.options,r=s.skipNull,o=gt(s.maxBarThickness,1/0);let a,l;if(n.grouped){const c=r?this._getStackCount(t):n.stackCount,u=s.barThickness==="flex"?d6(t,n,s,c):f6(t,n,s,c),h=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0);a=u.start+u.chunk*h+u.chunk/2,l=Math.min(o,u.chunk*u.ratio)}else a=i.getPixelForValue(this.getParsed(t)[i.axis],t),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,i=t.data,s=i.length;let r=0;for(;r<s;++r)this.getParsed(r)[n.axis]!==null&&i[r].draw(this._ctx)}}F(Vc,"id","bar"),F(Vc,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),F(Vc,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Fc extends kn{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,n,i,s){const r=super.parsePrimitiveData(t,n,i,s);for(let o=0;o<r.length;o++)r[o]._custom=this.resolveDataElementOptions(o+i).radius;return r}parseArrayData(t,n,i,s){const r=super.parseArrayData(t,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=gt(a[2],this.resolveDataElementOptions(o+i).radius)}return r}parseObjectData(t,n,i,s){const r=super.parseObjectData(t,n,i,s);for(let o=0;o<r.length;o++){const a=n[i+o];r[o]._custom=gt(a&&a.r&&+a.r,this.resolveDataElementOptions(o+i).radius)}return r}getMaxOverflow(){const t=this._cachedMeta.data;let n=0;for(let i=t.length-1;i>=0;--i)n=Math.max(n,t[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,o=this.getParsed(t),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y),c=o._custom;return{label:i[t]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(t){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,t)}updateElements(t,n,i,s){const r=s==="reset",{iScale:o,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(n,s),u=o.axis,h=a.axis;for(let f=n;f<n+i;f++){const d=t[f],p=!r&&this.getParsed(f),g={},m=g[u]=r?o.getPixelForDecimal(.5):o.getPixelForValue(p[u]),_=g[h]=r?a.getBasePixel():a.getPixelForValue(p[h]);g.skip=isNaN(m)||isNaN(_),c&&(g.options=l||this.resolveDataElementOptions(f,d.active?"active":s),r&&(g.options.radius=0)),this.updateElement(d,f,g,s)}}resolveDataElementOptions(t,n){const i=this.getParsed(t);let s=super.resolveDataElementOptions(t,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const r=s.radius;return n!=="active"&&(s.radius=0),s.radius+=gt(i&&i._custom,r),s}}F(Fc,"id","bubble"),F(Fc,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),F(Fc,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function b6(e,t,n){let i=1,s=1,r=0,o=0;if(t<Wt){const a=e,l=a+t,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),f=Math.sin(l),d=(w,E,I)=>Ka(w,a,l,!0)?1:Math.max(E,E*n,I,I*n),p=(w,E,I)=>Ka(w,a,l,!0)?-1:Math.min(E,E*n,I,I*n),g=d(0,c,h),m=d(te,u,f),_=p(Yt,c,h),y=p(Yt+te,u,f);i=(g-_)/2,s=(m-y)/2,r=-(g+_)/2,o=-(m+y)/2}return{ratioX:i,ratioY:s,offsetX:r,offsetY:o}}class Ns extends kn{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const i=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=i;else{let r=l=>+i[l];if(bt(i[t])){const{key:l="value"}=this._parsing;r=c=>+as(i[c],l)}let o,a;for(o=t,a=t+n;o<a;++o)s._parsed[o]=r(o)}}_getRotation(){return Tn(this.options.rotation-90)}_getCircumference(){return Tn(this.options.circumference)}_getRotationExtents(){let t=Wt,n=-Wt;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const s=this.chart.getDatasetMeta(i).controller,r=s._getRotation(),o=s._getCircumference();t=Math.min(t,r),n=Math.max(n,r+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:i}=n,s=this._cachedMeta,r=s.data,o=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(D5(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:d,offsetX:p,offsetY:g}=b6(h,u,l),m=(i.width-o)/f,_=(i.height-o)/d,y=Math.max(Math.min(m,_)/2,0),w=BT(this.options.radius,y),E=Math.max(w*l,0),I=(w-E)/this._getVisibleDatasetWeightTotal();this.offsetX=p*w,this.offsetY=g*w,s.total=this.calculateTotal(),this.outerRadius=w-I*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-I*c,0),this.updateElements(r,0,r.length,t)}_circumference(t,n){const i=this.options,s=this._cachedMeta,r=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*r/Wt)}updateElements(t,n,i,s){const r=s==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,u=(a.left+a.right)/2,h=(a.top+a.bottom)/2,f=r&&c.animateScale,d=f?0:this.innerRadius,p=f?0:this.outerRadius,{sharedOptions:g,includeOptions:m}=this._getSharedOptions(n,s);let _=this._getRotation(),y;for(y=0;y<n;++y)_+=this._circumference(y,r);for(y=n;y<n+i;++y){const w=this._circumference(y,r),E=t[y],I={x:u+this.offsetX,y:h+this.offsetY,startAngle:_,endAngle:_+w,circumference:w,outerRadius:p,innerRadius:d};m&&(I.options=g||this.resolveDataElementOptions(y,E.active?"active":s)),_+=w,this.updateElement(E,y,I,s)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let i=0,s;for(s=0;s<n.length;s++){const r=t._parsed[s];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(i+=Math.abs(r))}return i}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?Wt*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=Ml(n._parsed[t],i.options.locale);return{label:s[t]||"",value:r}}getMaxBorderWidth(t){let n=0;const i=this.chart;let s,r,o,a,l;if(!t){for(s=0,r=i.data.datasets.length;s<r;++s)if(i.isDatasetVisible(s)){o=i.getDatasetMeta(s),t=o.data,a=o.controller;break}}if(!t)return 0;for(s=0,r=t.length;s<r;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let i=0,s=t.length;i<s;++i){const r=this.resolveDataElementOptions(i);n=Math.max(n,r.offset||0,r.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(t){return Math.max(gt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}F(Ns,"id","doughnut"),F(Ns,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),F(Ns,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),F(Ns,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return n.labels.map((r,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class Uc extends kn{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:i,data:s=[],_dataset:r}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=GT(n,s,o);this._drawStart=a,this._drawCount=l,YT(n)&&(a=0,l=s.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!r._decimated,i.points=s;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(i,void 0,{animated:!o,options:c},t),this.updateElements(s,a,l,t)}updateElements(t,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(n,s),f=o.axis,d=a.axis,{spanGaps:p,segment:g}=this.options,m=Zr(p)?p:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||r||s==="none",y=n+i,w=t.length;let E=n>0&&this.getParsed(n-1);for(let I=0;I<w;++I){const x=t[I],k=_?x:{};if(I<n||I>=y){k.skip=!0;continue}const S=this.getParsed(I),C=xt(S[d]),$=k[f]=o.getPixelForValue(S[f],I),U=k[d]=r||C?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,S,l):S[d],I);k.skip=isNaN($)||isNaN(U)||C,k.stop=I>0&&Math.abs(S[f]-E[f])>m,g&&(k.parsed=S,k.raw=c.data[I]),h&&(k.options=u||this.resolveDataElementOptions(I,x.active?"active":s)),_||this.updateElement(x,I,k,s),E=S}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,i=n.options&&n.options.borderWidth||0,s=t.data||[];if(!s.length)return i;const r=s[0].size(this.resolveDataElementOptions(0)),o=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,r,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}F(Uc,"id","line"),F(Uc,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),F(Uc,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class da extends kn{constructor(t,n){super(t,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const n=this._cachedMeta,i=this.chart,s=i.data.labels||[],r=Ml(n._parsed[t].r,i.options.locale);return{label:s[t]||"",value:r}}parseObjectData(t,n,i,s){return ix.bind(this)(t,n,i,s)}update(t){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,t)}getMinMax(){const t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,s)=>{const r=this.getParsed(s).r;!isNaN(r)&&this.chart.getDataVisibility(s)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))}),n}_updateRadius(){const t=this.chart,n=t.chartArea,i=t.options,s=Math.min(n.right-n.left,n.bottom-n.top),r=Math.max(s/2,0),o=Math.max(i.cutoutPercentage?r/100*i.cutoutPercentage:1,0),a=(r-o)/t.getVisibleDatasetCount();this.outerRadius=r-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,n,i,s){const r=s==="reset",o=this.chart,l=o.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,h=c.yCenter,f=c.getIndexAngle(0)-.5*Yt;let d=f,p;const g=360/this.countVisibleElements();for(p=0;p<n;++p)d+=this._computeAngle(p,s,g);for(p=n;p<n+i;p++){const m=t[p];let _=d,y=d+this._computeAngle(p,s,g),w=o.getDataVisibility(p)?c.getDistanceFromCenterForValue(this.getParsed(p).r):0;d=y,r&&(l.animateScale&&(w=0),l.animateRotate&&(_=y=f));const E={x:u,y:h,innerRadius:0,outerRadius:w,startAngle:_,endAngle:y,options:this.resolveDataElementOptions(p,m.active?"active":s)};this.updateElement(m,p,E,s)}}countVisibleElements(){const t=this._cachedMeta;let n=0;return t.data.forEach((i,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(t,n,i){return this.chart.getDataVisibility(t)?Tn(this.resolveDataElementOptions(t,n).angle||i):0}}F(da,"id","polarArea"),F(da,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),F(da,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:s}}=t.legend.options;return n.labels.map((r,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:r,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:s,lineWidth:l.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class ap extends Ns{}F(ap,"id","pie"),F(ap,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Bc extends kn{getLabelAndValue(t){const n=this._cachedMeta.vScale,i=this.getParsed(t);return{label:n.getLabels()[t],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(t,n,i,s){return ix.bind(this)(t,n,i,s)}update(t){const n=this._cachedMeta,i=n.dataset,s=n.data||[],r=n.iScale.getLabels();if(i.points=s,t!=="resize"){const o=this.resolveDatasetElementOptions(t);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:r.length===s.length,options:o};this.updateElement(i,void 0,a,t)}this.updateElements(s,0,s.length,t)}updateElements(t,n,i,s){const r=this._cachedMeta.rScale,o=s==="reset";for(let a=n;a<n+i;a++){const l=t[a],c=this.resolveDataElementOptions(a,l.active?"active":s),u=r.getPointPositionForValue(a,this.getParsed(a).r),h=o?r.xCenter:u.x,f=o?r.yCenter:u.y,d={x:h,y:f,angle:u.angle,skip:isNaN(h)||isNaN(f),options:c};this.updateElement(l,a,d,s)}}}F(Bc,"id","radar"),F(Bc,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),F(Bc,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class $c extends kn{getLabelAndValue(t){const n=this._cachedMeta,i=this.chart.data.labels||[],{xScale:s,yScale:r}=n,o=this.getParsed(t),a=s.getLabelForValue(o.x),l=r.getLabelForValue(o.y);return{label:i[t]||"",value:"("+a+", "+l+")"}}update(t){const n=this._cachedMeta,{data:i=[]}=n,s=this.chart._animationsDisabled;let{start:r,count:o}=GT(n,i,s);if(this._drawStart=r,this._drawCount=o,YT(n)&&(r=0,o=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=i;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!s,options:c},t)}else this.datasetElementType&&(delete n.dataset,this.datasetElementType=!1);this.updateElements(i,r,o,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,n,i,s){const r=s==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(n,s),h=this.getSharedOptions(u),f=this.includeOptions(s,h),d=o.axis,p=a.axis,{spanGaps:g,segment:m}=this.options,_=Zr(g)?g:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||r||s==="none";let w=n>0&&this.getParsed(n-1);for(let E=n;E<n+i;++E){const I=t[E],x=this.getParsed(E),k=y?I:{},S=xt(x[p]),C=k[d]=o.getPixelForValue(x[d],E),$=k[p]=r||S?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,x,l):x[p],E);k.skip=isNaN(C)||isNaN($)||S,k.stop=E>0&&Math.abs(x[d]-w[d])>_,m&&(k.parsed=x,k.raw=c.data[E]),f&&(k.options=h||this.resolveDataElementOptions(E,I.active?"active":s)),y||this.updateElement(I,E,k,s),w=x}this.updateSharedOptions(h,s,u)}getMaxOverflow(){const t=this._cachedMeta,n=t.data||[];if(!this.options.showLine){let a=0;for(let l=n.length-1;l>=0;--l)a=Math.max(a,n[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const i=t.dataset,s=i.options&&i.options.borderWidth||0;if(!n.length)return s;const r=n[0].size(this.resolveDataElementOptions(0)),o=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,r,o)/2}}F($c,"id","scatter"),F($c,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),F($c,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var w6=Object.freeze({__proto__:null,BarController:Vc,BubbleController:Fc,DoughnutController:Ns,LineController:Uc,PieController:ap,PolarAreaController:da,RadarController:Bc,ScatterController:$c});function ws(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Lm{constructor(t){F(this,"options");this.options=t||{}}static override(t){Object.assign(Lm.prototype,t)}init(){}formats(){return ws()}parse(){return ws()}format(){return ws()}add(){return ws()}diff(){return ws()}startOf(){return ws()}endOf(){return ws()}}var E6={_date:Lm};function I6(e,t,n,i){const{controller:s,data:r,_sorted:o}=e,a=s._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&o&&r.length){const l=a._reversePixels?q5:pi;if(i){if(s._sharedOptions){const c=r[0],u=typeof c.getRange=="function"&&c.getRange(t);if(u){const h=l(r,t,n-u),f=l(r,t,n+u);return{lo:h.lo,hi:f.hi}}}}else return l(r,t,n)}return{lo:0,hi:r.length-1}}function Ol(e,t,n,i,s){const r=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:h,hi:f}=I6(r[a],t,o,s);for(let d=h;d<=f;++d){const p=u[d];p.skip||i(p,c,d)}}}function T6(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(i,s){const r=t?Math.abs(i.x-s.x):0,o=n?Math.abs(i.y-s.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function zf(e,t,n,i,s){const r=[];return!s&&!e.isPointInArea(t)||Ol(e,n,t,function(a,l,c){!s&&!gi(a,e.chartArea,0)||a.inRange(t.x,t.y,i)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function x6(e,t,n,i){let s=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:h}=jT(o,{x:t.x,y:t.y});Ka(h,c,u)&&s.push({element:o,datasetIndex:a,index:l})}return Ol(e,n,t,r),s}function A6(e,t,n,i,s,r){let o=[];const a=T6(n);let l=Number.POSITIVE_INFINITY;function c(u,h,f){const d=u.inRange(t.x,t.y,s);if(i&&!d)return;const p=u.getCenterPoint(s);if(!(!!r||e.isPointInArea(p))&&!d)return;const m=a(t,p);m<l?(o=[{element:u,datasetIndex:h,index:f}],l=m):m===l&&o.push({element:u,datasetIndex:h,index:f})}return Ol(e,n,t,c),o}function jf(e,t,n,i,s,r){return!r&&!e.isPointInArea(t)?[]:n==="r"&&!i?x6(e,t,n,s):A6(e,t,n,i,s,r)}function pb(e,t,n,i,s){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Ol(e,n,t,(l,c,u)=>{l[o](t[n],s)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(t.x,t.y,s))}),i&&!a?[]:r}var S6={evaluateInteractionItems:Ol,modes:{index(e,t,n,i){const s=Ts(t,e),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?zf(e,s,r,i,o):jf(e,s,r,!1,i,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(e,t,n,i){const s=Ts(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?zf(e,s,r,i,o):jf(e,s,r,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(e,t,n,i){const s=Ts(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;return zf(e,s,r,i,o)},nearest(e,t,n,i){const s=Ts(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;return jf(e,s,r,n.intersect,i,o)},x(e,t,n,i){const s=Ts(t,e);return pb(e,s,"x",n.intersect,i)},y(e,t,n,i){const s=Ts(t,e);return pb(e,s,"y",n.intersect,i)}}};const px=["left","top","right","bottom"];function So(e,t){return e.filter(n=>n.pos===t)}function gb(e,t){return e.filter(n=>px.indexOf(n.pos)===-1&&n.box.axis===t)}function ko(e,t){return e.sort((n,i)=>{const s=t?i:n,r=t?n:i;return s.weight===r.weight?s.index-r.index:s.weight-r.weight})}function k6(e){const t=[];let n,i,s,r,o,a;for(n=0,i=(e||[]).length;n<i;++n)s=e[n],{position:r,options:{stack:o,stackWeight:a=1}}=s,t.push({index:n,box:s,pos:r,horizontal:s.isHorizontal(),weight:s.weight,stack:o&&r+o,stackWeight:a});return t}function P6(e){const t={};for(const n of e){const{stack:i,pos:s,stackWeight:r}=n;if(!i||!px.includes(s))continue;const o=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}function R6(e,t){const n=P6(e),{vBoxMaxWidth:i,hBoxMaxHeight:s}=t;let r,o,a;for(r=0,o=e.length;r<o;++r){a=e[r];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&t.availableWidth,a.height=s):(a.width=i,a.height=u?u*s:l&&t.availableHeight)}return n}function C6(e){const t=k6(e),n=ko(t.filter(c=>c.box.fullSize),!0),i=ko(So(t,"left"),!0),s=ko(So(t,"right")),r=ko(So(t,"top"),!0),o=ko(So(t,"bottom")),a=gb(t,"x"),l=gb(t,"y");return{fullSize:n,leftAndTop:i.concat(r),rightAndBottom:s.concat(l).concat(o).concat(a),chartArea:So(t,"chartArea"),vertical:i.concat(s).concat(l),horizontal:r.concat(o).concat(a)}}function mb(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function gx(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function M6(e,t,n,i){const{pos:s,box:r}=n,o=e.maxPadding;if(!bt(s)){n.size&&(e[s]-=n.size);const h=i[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?r.height:r.width),n.size=h.size/h.count,e[s]+=n.size}r.getPadding&&gx(o,r.getPadding());const a=Math.max(0,t.outerWidth-mb(o,e,"left","right")),l=Math.max(0,t.outerHeight-mb(o,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function O6(e){const t=e.maxPadding;function n(i){const s=Math.max(t[i]-e[i],0);return e[i]+=s,s}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function D6(e,t){const n=t.maxPadding;function i(s){const r={left:0,top:0,right:0,bottom:0};return s.forEach(o=>{r[o]=Math.max(t[o],n[o])}),r}return i(e?["left","right"]:["top","bottom"])}function Ho(e,t,n,i){const s=[];let r,o,a,l,c,u;for(r=0,o=e.length,c=0;r<o;++r){a=e[r],l=a.box,l.update(a.width||t.w,a.height||t.h,D6(a.horizontal,t));const{same:h,other:f}=M6(t,n,a,i);c|=h&&s.length,u=u||f,l.fullSize||s.push(a)}return c&&Ho(s,t,n,i)||u}function ac(e,t,n,i,s){e.top=n,e.left=t,e.right=t+i,e.bottom=n+s,e.width=i,e.height=s}function _b(e,t,n,i){const s=n.padding;let{x:r,y:o}=t;for(const a of e){const l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=t.w*u,f=c.size||l.height;qa(c.start)&&(o=c.start),l.fullSize?ac(l,s.left,o,n.outerWidth-s.right-s.left,f):ac(l,t.left+c.placed,o,h,f),c.start=o,c.placed+=h,o=l.bottom}else{const h=t.h*u,f=c.size||l.width;qa(c.start)&&(r=c.start),l.fullSize?ac(l,r,s.top,f,n.outerHeight-s.bottom-s.top):ac(l,r,t.top+c.placed,f,h),c.start=r,c.placed+=h,r=l.right}}t.x=r,t.y=o}var De={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,i){if(!e)return;const s=$e(e.options.layout.padding),r=Math.max(t-s.width,0),o=Math.max(n-s.height,0),a=C6(e.boxes),l=a.vertical,c=a.horizontal;Ot(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const u=l.reduce((g,m)=>m.box.options&&m.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),f=Object.assign({},s);gx(f,$e(i));const d=Object.assign({maxPadding:f,w:r,h:o,x:s.left,y:s.top},s),p=R6(l.concat(c),h);Ho(a.fullSize,d,h,p),Ho(l,d,h,p),Ho(c,d,h,p)&&Ho(l,d,h,p),O6(d),_b(a.leftAndTop,d,h,p),d.x+=d.w,d.y+=d.h,_b(a.rightAndBottom,d,h,p),e.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},Ot(a.chartArea,g=>{const m=g.box;Object.assign(m,e.chartArea),m.update(d.w,d.h,{left:0,top:0,right:0,bottom:0})})}};class mx{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,i){}removeEventListener(t,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,i,s){return n=Math.max(0,n||t.width),i=i||t.height,{width:n,height:Math.max(0,s?Math.floor(n/s):i)}}isAttached(t){return!0}updateConfig(t){}}class N6 extends mx{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const zc="$chartjs",L6={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},yb=e=>e===null||e==="";function V6(e,t){const n=e.style,i=e.getAttribute("height"),s=e.getAttribute("width");if(e[zc]={initial:{height:i,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",yb(s)){const r=tb(e,"width");r!==void 0&&(e.width=r)}if(yb(i))if(e.style.height==="")e.height=e.width/(t||2);else{const r=tb(e,"height");r!==void 0&&(e.height=r)}return e}const _x=U3?{passive:!0}:!1;function F6(e,t,n){e.addEventListener(t,n,_x)}function U6(e,t,n){e.canvas.removeEventListener(t,n,_x)}function B6(e,t){const n=L6[e.type]||e.type,{x:i,y:s}=Ts(e,t);return{type:n,chart:t,native:e,x:i!==void 0?i:null,y:s!==void 0?s:null}}function Ru(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function $6(e,t,n){const i=e.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Ru(a.addedNodes,i),o=o&&!Ru(a.removedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function z6(e,t,n){const i=e.canvas,s=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Ru(a.removedNodes,i),o=o&&!Ru(a.addedNodes,i);o&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const Ya=new Map;let vb=0;function yx(){const e=window.devicePixelRatio;e!==vb&&(vb=e,Ya.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function j6(e,t){Ya.size||window.addEventListener("resize",yx),Ya.set(e,t)}function H6(e){Ya.delete(e),Ya.size||window.removeEventListener("resize",yx)}function W6(e,t,n){const i=e.canvas,s=i&&Nm(i);if(!s)return;const r=KT((a,l)=>{const c=s.clientWidth;n(a,l),c<s.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(s),j6(e,r),o}function Hf(e,t,n){n&&n.disconnect(),t==="resize"&&H6(e)}function q6(e,t,n){const i=e.canvas,s=KT(r=>{e.ctx!==null&&n(B6(r,e))},e);return F6(i,t,s),s}class K6 extends mx{acquireContext(t,n){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(V6(t,n),i):null}releaseContext(t){const n=t.canvas;if(!n[zc])return!1;const i=n[zc].initial;["height","width"].forEach(r=>{const o=i[r];xt(o)?n.removeAttribute(r):n.setAttribute(r,o)});const s=i.style||{};return Object.keys(s).forEach(r=>{n.style[r]=s[r]}),n.width=n.width,delete n[zc],!0}addEventListener(t,n,i){this.removeEventListener(t,n);const s=t.$proxies||(t.$proxies={}),o={attach:$6,detach:z6,resize:W6}[n]||q6;s[n]=o(t,n,i)}removeEventListener(t,n){const i=t.$proxies||(t.$proxies={}),s=i[n];if(!s)return;({attach:Hf,detach:Hf,resize:Hf}[n]||U6)(t,n,s),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,i,s){return F3(t,n,i,s)}isAttached(t){const n=Nm(t);return!!(n&&n.isConnected)}}function G6(e){return!rx()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?N6:K6}var Ic;let ki=(Ic=class{constructor(){F(this,"x");F(this,"y");F(this,"active",!1);F(this,"options");F(this,"$animations")}tooltipPosition(t){const{x:n,y:i}=this.getProps(["x","y"],t);return{x:n,y:i}}hasValue(){return Zr(this.x)&&Zr(this.y)}getProps(t,n){const i=this.$animations;if(!n||!i)return this;const s={};return t.forEach(r=>{s[r]=i[r]&&i[r].active()?i[r]._to:this[r]}),s}},F(Ic,"defaults",{}),F(Ic,"defaultRoutes"),Ic);function Y6(e,t){const n=e.options.ticks,i=X6(e),s=Math.min(n.maxTicksLimit||i,i),r=n.major.enabled?J6(t):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>s)return Z6(t,c,r,o/s),c;const u=Q6(r,t,s);if(o>0){let h,f;const d=o>1?Math.round((l-a)/(o-1)):null;for(lc(t,c,u,xt(d)?0:a-d,a),h=0,f=o-1;h<f;h++)lc(t,c,u,r[h],r[h+1]);return lc(t,c,u,l,xt(d)?t.length:l+d),c}return lc(t,c,u),c}function X6(e){const t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(i,s))}function Q6(e,t,n){const i=t9(e),s=t.length/n;if(!i)return Math.max(s,1);const r=z5(i);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>s)return l}return Math.max(s,1)}function J6(e){const t=[];let n,i;for(n=0,i=e.length;n<i;n++)e[n].major&&t.push(n);return t}function Z6(e,t,n,i){let s=0,r=n[0],o;for(i=Math.ceil(i),o=0;o<e.length;o++)o===r&&(t.push(e[o]),s++,r=n[s*i])}function lc(e,t,n,i,s){const r=gt(i,0),o=Math.min(gt(s,e.length),e.length);let a=0,l,c,u;for(n=Math.ceil(n),s&&(l=s-i,n=l/Math.floor(l/n)),u=r;u<0;)a++,u=Math.round(r+a*n);for(c=Math.max(r,0);c<o;c++)c===u&&(t.push(e[c]),a++,u=Math.round(r+a*n))}function t9(e){const t=e.length;let n,i;if(t<2)return!1;for(i=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==i)return!1;return i}const e9=e=>e==="left"?"right":e==="right"?"left":e,bb=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,wb=(e,t)=>Math.min(t||e,e);function Eb(e,t){const n=[],i=e.length/t,s=e.length;let r=0;for(;r<s;r+=i)n.push(e[Math.floor(r)]);return n}function n9(e,t,n){const i=e.ticks.length,s=Math.min(t,i-1),r=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(s),c;if(!(n&&(i===1?c=Math.max(l-r,o-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(s-1))/2,l+=s<t?c:-c,l<r-a||l>o+a)))return l}function i9(e,t){Ot(e,n=>{const i=n.gc,s=i.length/2;let r;if(s>t){for(r=0;r<s;++r)delete n.data[i[r]];i.splice(0,s)}})}function Po(e){return e.drawTicks?e.tickLength:0}function Ib(e,t){if(!e.display)return 0;const n=he(e.font,t),i=$e(e.padding);return(Ht(e.text)?e.text.length:1)*n.lineHeight+i.height}function s9(e,t){return ms(e,{scale:t,type:"scale"})}function r9(e,t,n){return ms(e,{tick:n,index:t,type:"tick"})}function o9(e,t,n){let i=Pm(e);return(n&&t!=="right"||!n&&t==="right")&&(i=e9(i)),i}function a9(e,t,n,i){const{top:s,left:r,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:u}=l;let h=0,f,d,p;const g=o-s,m=a-r;if(e.isHorizontal()){if(d=ke(i,r,a),bt(n)){const _=Object.keys(n)[0],y=n[_];p=u[_].getPixelForValue(y)+g-t}else n==="center"?p=(c.bottom+c.top)/2+g-t:p=bb(e,n,t);f=a-r}else{if(bt(n)){const _=Object.keys(n)[0],y=n[_];d=u[_].getPixelForValue(y)-m+t}else n==="center"?d=(c.left+c.right)/2-m+t:d=bb(e,n,t);p=ke(i,o,s),h=n==="left"?-te:te}return{titleX:d,titleY:p,maxWidth:f,rotation:h}}class dr extends ki{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:i,_suggestedMax:s}=this;return t=nn(t,Number.POSITIVE_INFINITY),n=nn(n,Number.NEGATIVE_INFINITY),i=nn(i,Number.POSITIVE_INFINITY),s=nn(s,Number.NEGATIVE_INFINITY),{min:nn(t,i),max:nn(n,s),minDefined:Zt(t),maxDefined:Zt(n)}}getMinMax(t){let{min:n,max:i,minDefined:s,maxDefined:r}=this.getUserBounds(),o;if(s&&r)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),s||(n=Math.min(n,o.min)),r||(i=Math.max(i,o.max));return n=r&&n>i?i:n,i=s&&n>i?n:i,{min:nn(n,nn(i,n)),max:nn(i,nn(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ft(this.options.beforeUpdate,[this])}update(t,n,i){const{beginAtZero:s,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=m3(this,r,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Eb(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Y6(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,t=!t),this._startPixel=n,this._endPixel=i,this._reversePixels=t,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ft(this.options.afterUpdate,[this])}beforeSetDimensions(){Ft(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ft(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Ft(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ft(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let i,s,r;for(i=0,s=t.length;i<s;i++)r=t[i],r.label=Ft(n.callback,[r.value,i,t],this)}afterTickToLabelConversion(){Ft(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ft(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,i=wb(this.ticks.length,t.ticks.maxTicksLimit),s=n.minRotation||0,r=n.maxRotation;let o=s,a,l,c;if(!this._isVisible()||!n.display||s>=r||i<=1||!this.isHorizontal()){this.labelRotation=s;return}const u=this._getLabelSizes(),h=u.widest.width,f=u.highest.height,d=ve(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/i:d/(i-1),h+6>a&&(a=d/(i-(t.offset?.5:1)),l=this.maxHeight-Po(t.grid)-n.padding-Ib(t.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),o=Sm(Math.min(Math.asin(ve((u.highest.height+6)/a,-1,1)),Math.asin(ve(l/c,-1,1))-Math.asin(ve(f/c,-1,1)))),o=Math.max(s,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ft(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ft(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:i,title:s,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=Ib(s,n.options.font);if(a?(t.width=this.maxWidth,t.height=Po(r)+l):(t.height=this.maxHeight,t.width=Po(r)+l),i.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:f}=this._getLabelSizes(),d=i.padding*2,p=Tn(this.labelRotation),g=Math.cos(p),m=Math.sin(p);if(a){const _=i.mirror?0:m*h.width+g*f.height;t.height=Math.min(this.maxHeight,t.height+_+d)}else{const _=i.mirror?0:g*h.width+m*f.height;t.width=Math.min(this.maxWidth,t.width+_+d)}this._calculatePadding(c,u,m,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,i,s){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,d=0;l?c?(f=s*t.width,d=i*n.height):(f=i*t.height,d=s*n.width):r==="start"?d=n.width:r==="end"?f=t.width:r!=="inner"&&(f=t.width/2,d=n.width/2),this.paddingLeft=Math.max((f-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((d-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=t.height/2;r==="start"?(u=0,h=t.height):r==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ft(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,i;for(n=0,i=t.length;n<i;n++)xt(t[n].label)&&(t.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=Eb(i,n)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,i){const{ctx:s,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(n/wb(n,i));let c=0,u=0,h,f,d,p,g,m,_,y,w,E,I;for(h=0;h<n;h+=l){if(p=t[h].label,g=this._resolveTickFontOptions(h),s.font=m=g.string,_=r[m]=r[m]||{data:{},gc:[]},y=g.lineHeight,w=E=0,!xt(p)&&!Ht(p))w=ku(s,_.data,_.gc,w,p),E=y;else if(Ht(p))for(f=0,d=p.length;f<d;++f)I=p[f],!xt(I)&&!Ht(I)&&(w=ku(s,_.data,_.gc,w,I),E+=y);o.push(w),a.push(E),c=Math.max(w,c),u=Math.max(E,u)}i9(r,n);const x=o.indexOf(c),k=a.indexOf(u),S=C=>({width:o[C]||0,height:a[C]||0});return{first:S(0),last:S(n-1),widest:S(x),highest:S(k),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return W5(this._alignToPixels?bs(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const i=n[t];return i.$context||(i.$context=r9(this.getContext(),t,i))}return this.$context||(this.$context=s9(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=Tn(this.labelRotation),i=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*i>a*s?a/i:l/s:l*s<a*i?l/i:a/s}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,i=this.chart,s=this.options,{grid:r,position:o,border:a}=s,l=r.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=Po(r),d=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,m=g/2,_=function(J){return bs(i,J,g)};let y,w,E,I,x,k,S,C,$,U,H,Et;if(o==="top")y=_(this.bottom),k=this.bottom-f,C=y-m,U=_(t.top)+m,Et=t.bottom;else if(o==="bottom")y=_(this.top),U=t.top,Et=_(t.bottom)-m,k=y+m,C=this.top+f;else if(o==="left")y=_(this.right),x=this.right-f,S=y-m,$=_(t.left)+m,H=t.right;else if(o==="right")y=_(this.left),$=t.left,H=_(t.right)-m,x=y+m,S=this.left+f;else if(n==="x"){if(o==="center")y=_((t.top+t.bottom)/2+.5);else if(bt(o)){const J=Object.keys(o)[0],rt=o[J];y=_(this.chart.scales[J].getPixelForValue(rt))}U=t.top,Et=t.bottom,k=y+m,C=k+f}else if(n==="y"){if(o==="center")y=_((t.left+t.right)/2);else if(bt(o)){const J=Object.keys(o)[0],rt=o[J];y=_(this.chart.scales[J].getPixelForValue(rt))}x=y-m,S=x-f,$=t.left,H=t.right}const st=gt(s.ticks.maxTicksLimit,h),ft=Math.max(1,Math.ceil(h/st));for(w=0;w<h;w+=ft){const J=this.getContext(w),rt=r.setContext(J),dt=a.setContext(J),Lt=rt.lineWidth,ze=rt.color,je=dt.dash||[],se=dt.dashOffset,fn=rt.tickWidth,dn=rt.tickColor,Nn=rt.tickBorderDash||[],Qt=rt.tickBorderDashOffset;E=n9(this,w,l),E!==void 0&&(I=bs(i,E,Lt),c?x=S=$=H=I:k=C=U=Et=I,d.push({tx1:x,ty1:k,tx2:S,ty2:C,x1:$,y1:U,x2:H,y2:Et,width:Lt,color:ze,borderDash:je,borderDashOffset:se,tickWidth:fn,tickColor:dn,tickBorderDash:Nn,tickBorderDashOffset:Qt}))}return this._ticksLength=h,this._borderValue=y,d}_computeLabelItems(t){const n=this.axis,i=this.options,{position:s,ticks:r}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=r,f=Po(i.grid),d=f+u,p=h?-u:d,g=-Tn(this.labelRotation),m=[];let _,y,w,E,I,x,k,S,C,$,U,H,Et="middle";if(s==="top")x=this.bottom-p,k=this._getXAxisLabelAlignment();else if(s==="bottom")x=this.top+p,k=this._getXAxisLabelAlignment();else if(s==="left"){const ft=this._getYAxisLabelAlignment(f);k=ft.textAlign,I=ft.x}else if(s==="right"){const ft=this._getYAxisLabelAlignment(f);k=ft.textAlign,I=ft.x}else if(n==="x"){if(s==="center")x=(t.top+t.bottom)/2+d;else if(bt(s)){const ft=Object.keys(s)[0],J=s[ft];x=this.chart.scales[ft].getPixelForValue(J)+d}k=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")I=(t.left+t.right)/2-d;else if(bt(s)){const ft=Object.keys(s)[0],J=s[ft];I=this.chart.scales[ft].getPixelForValue(J)}k=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?Et="top":l==="end"&&(Et="bottom"));const st=this._getLabelSizes();for(_=0,y=a.length;_<y;++_){w=a[_],E=w.label;const ft=r.setContext(this.getContext(_));S=this.getPixelForTick(_)+r.labelOffset,C=this._resolveTickFontOptions(_),$=C.lineHeight,U=Ht(E)?E.length:1;const J=U/2,rt=ft.color,dt=ft.textStrokeColor,Lt=ft.textStrokeWidth;let ze=k;o?(I=S,k==="inner"&&(_===y-1?ze=this.options.reverse?"left":"right":_===0?ze=this.options.reverse?"right":"left":ze="center"),s==="top"?c==="near"||g!==0?H=-U*$+$/2:c==="center"?H=-st.highest.height/2-J*$+$:H=-st.highest.height+$/2:c==="near"||g!==0?H=$/2:c==="center"?H=st.highest.height/2-J*$:H=st.highest.height-U*$,h&&(H*=-1),g!==0&&!ft.showLabelBackdrop&&(I+=$/2*Math.sin(g))):(x=S,H=(1-U)*$/2);let je;if(ft.showLabelBackdrop){const se=$e(ft.backdropPadding),fn=st.heights[_],dn=st.widths[_];let Nn=H-se.top,Qt=0-se.left;switch(Et){case"middle":Nn-=fn/2;break;case"bottom":Nn-=fn;break}switch(k){case"center":Qt-=dn/2;break;case"right":Qt-=dn;break}je={left:Qt,top:Nn,width:dn+se.width,height:fn+se.height,color:ft.backdropColor}}m.push({label:E,font:C,textOffset:H,options:{rotation:g,color:rt,strokeColor:dt,strokeWidth:Lt,textAlign:ze,textBaseline:Et,translation:[I,x],backdrop:je}})}return m}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-Tn(this.labelRotation))return t==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:i,mirror:s,padding:r}}=this.options,o=this._getLabelSizes(),a=t+r,l=o.widest.width;let c,u;return n==="left"?s?(u=this.right+r,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?s?(u=this.left+r,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:i,top:s,width:r,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(i,s,r,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(r=>r.value===t);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){const n=this.options.grid,i=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(r=0,o=s.length;r<o;++r){const l=s[r];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:i,grid:s}}=this,r=i.setContext(this.getContext()),o=i.display?r.width:0;if(!o)return;const a=s.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,f;this.isHorizontal()?(c=bs(t,this.left,o)-o/2,u=bs(t,this.right,a)+a/2,h=f=l):(h=bs(t,this.top,o)-o/2,f=bs(t,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(c,h),n.lineTo(u,f),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,s=this._computeLabelArea();s&&$h(i,s);const r=this.getLabelItems(t);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;nr(i,c,0,u,l,a)}s&&zh(i)}drawTitle(){const{ctx:t,options:{position:n,title:i,reverse:s}}=this;if(!i.display)return;const r=he(i.font),o=$e(i.padding),a=i.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||bt(n)?(l+=o.bottom,Ht(i.text)&&(l+=r.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:f}=a9(this,l,n,a);nr(t,i.text,0,0,r,{color:i.color,maxWidth:h,rotation:f,textAlign:o9(a,n,s),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,i=gt(t.grid&&t.grid.z,-1),s=gt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==dr.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:i,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",s=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[i]===this.id&&(!t||a.type===t)&&s.push(a)}return s}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return he(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class cc{constructor(t,n,i){this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let i;u9(n)&&(i=this.register(n));const s=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in s||(s[r]=t,l9(t,o,i),this.override&&ee.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,i=t.id,s=this.scope;i in n&&delete n[i],s&&i in ee[s]&&(delete ee[s][i],this.override&&delete er[i])}}function l9(e,t,n){const i=Wa(Object.create(null),[n?ee.get(n):{},ee.get(t),e.defaults]);ee.set(t,i),e.defaultRoutes&&c9(t,e.defaultRoutes),e.descriptors&&ee.describe(t,e.descriptors)}function c9(e,t){Object.keys(t).forEach(n=>{const i=n.split("."),s=i.pop(),r=[e].concat(i).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");ee.route(r,s,l,a)})}function u9(e){return"id"in e&&"defaults"in e}class h9{constructor(){this.controllers=new cc(kn,"datasets",!0),this.elements=new cc(ki,"elements"),this.plugins=new cc(Object,"plugins"),this.scales=new cc(dr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,i){[...n].forEach(s=>{const r=i||this._getRegistryForType(s);i||r.isForType(s)||r===this.plugins&&s.id?this._exec(t,r,s):Ot(s,o=>{const a=i||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,i){const s=Am(t);Ft(i["before"+s],[],i),n[t](i),Ft(i["after"+s],[],i)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(t))return i}return this.plugins}_get(t,n,i){const s=n.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return s}}var Un=new h9;class f9{constructor(){this._init=[]}notify(t,n,i,s){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=s?this._descriptors(t).filter(s):this._descriptors(t),o=this._notify(r,t,n,i);return n==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,i,s){s=s||{};for(const r of t){const o=r.plugin,a=o[i],l=[n,s,r.options];if(Ft(a,l,o)===!1&&s.cancelable)return!1}return!0}invalidate(){xt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const i=t&&t.config,s=gt(i.options&&i.options.plugins,{}),r=d9(i);return s===!1&&!n?[]:g9(t,r,s,n)}_notifyStateChanges(t){const n=this._oldCache||[],i=this._cache,s=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(s(n,i),t,"stop"),this._notify(s(i,n),t,"start")}}function d9(e){const t={},n=[],i=Object.keys(Un.plugins.items);for(let r=0;r<i.length;r++)n.push(Un.getPlugin(i[r]));const s=e.plugins||[];for(let r=0;r<s.length;r++){const o=s[r];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function p9(e,t){return!t&&e===!1?null:e===!0?{}:e}function g9(e,{plugins:t,localIds:n},i,s){const r=[],o=e.getContext();for(const a of t){const l=a.id,c=p9(i[l],s);c!==null&&r.push({plugin:a,options:m9(e.config,{plugin:a,local:n[l]},c,o)})}return r}function m9(e,{plugin:t,local:n},i,s){const r=e.pluginScopeKeys(t),o=e.getOptionScopes(i,r);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function lp(e,t){const n=ee.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function _9(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function y9(e,t){return e===t?"_index_":"_value_"}function Tb(e){if(e==="x"||e==="y"||e==="r")return e}function v9(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function cp(e,...t){if(Tb(e))return e;for(const n of t){const i=n.axis||v9(n.position)||e.length>1&&Tb(e[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function xb(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function b9(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(i=>i.xAxisID===e||i.yAxisID===e);if(n.length)return xb(e,"x",n[0])||xb(e,"y",n[0])}return{}}function w9(e,t){const n=er[e.type]||{scales:{}},i=t.scales||{},s=lp(e.type,t),r=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!bt(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=cp(o,a,b9(o,e),ee.scales[a.type]),c=y9(l,s),u=n.scales||{};r[o]=ca(Object.create(null),[{axis:l},a,u[l],u[c]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||lp(a,t),u=(er[a]||{}).scales||{};Object.keys(u).forEach(h=>{const f=_9(h,l),d=o[f+"AxisID"]||f;r[d]=r[d]||Object.create(null),ca(r[d],[{axis:f},i[d],u[h]])})}),Object.keys(r).forEach(o=>{const a=r[o];ca(a,[ee.scales[a.type],ee.scale])}),r}function vx(e){const t=e.options||(e.options={});t.plugins=gt(t.plugins,{}),t.scales=w9(e,t)}function bx(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function E9(e){return e=e||{},e.data=bx(e.data),vx(e),e}const Ab=new Map,wx=new Set;function uc(e,t){let n=Ab.get(e);return n||(n=t(),Ab.set(e,n),wx.add(n)),n}const Ro=(e,t,n)=>{const i=as(t,n);i!==void 0&&e.add(i)};class I9{constructor(t){this._config=E9(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=bx(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),vx(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return uc(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return uc(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return uc(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,i=this.type;return uc(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const i=this._scopeCache;let s=i.get(t);return(!s||n)&&(s=new Map,i.set(t,s)),s}getOptionScopes(t,n,i){const{options:s,type:r}=this,o=this._cachedScopes(t,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{t&&(l.add(t),u.forEach(h=>Ro(l,t,h))),u.forEach(h=>Ro(l,s,h)),u.forEach(h=>Ro(l,er[r]||{},h)),u.forEach(h=>Ro(l,ee,h)),u.forEach(h=>Ro(l,rp,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),wx.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:t,type:n}=this;return[t,er[n]||{},ee.datasets[n]||{},{type:n},ee,rp]}resolveNamedOptions(t,n,i,s=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=Sb(this._resolverCache,t,s);let l=o;if(x9(o,n)){r.$shared=!1,i=ls(i)?i():i;const c=this.createResolver(t,i,a);l=to(o,i,c)}for(const c of n)r[c]=l[c];return r}createResolver(t,n,i=[""],s){const{resolver:r}=Sb(this._resolverCache,t,i);return bt(n)?to(r,n,void 0,s):r}}function Sb(e,t,n){let i=e.get(t);i||(i=new Map,e.set(t,i));const s=n.join();let r=i.get(s);return r||(r={resolver:Mm(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(s,r)),r}const T9=e=>bt(e)&&Object.getOwnPropertyNames(e).reduce((t,n)=>t||ls(e[n]),!1);function x9(e,t){const{isScriptable:n,isIndexable:i}=ZT(e);for(const s of t){const r=n(s),o=i(s),a=(o||r)&&e[s];if(r&&(ls(a)||T9(a))||o&&Ht(a))return!0}return!1}var A9="4.3.3";const S9=["top","bottom","left","right","chartArea"];function kb(e,t){return e==="top"||e==="bottom"||S9.indexOf(e)===-1&&t==="x"}function Pb(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function Rb(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Ft(n&&n.onComplete,[e],t)}function k9(e){const t=e.chart,n=t.options.animation;Ft(n&&n.onProgress,[e],t)}function Ex(e){return rx()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const jc={},Cb=e=>{const t=Ex(e);return Object.values(jc).filter(n=>n.canvas===t).pop()};function P9(e,t,n){const i=Object.keys(e);for(const s of i){const r=+s;if(r>=t){const o=e[s];delete e[s],(n>0||r>t)&&(e[r+n]=o)}}}function R9(e,t,n,i){return!n||e.type==="mouseout"?null:i?t:e}function C9(e){const{xScale:t,yScale:n}=e;if(t&&n)return{left:t.left,right:t.right,top:n.top,bottom:n.bottom}}class ai{static register(...t){Un.add(...t),Mb()}static unregister(...t){Un.remove(...t),Mb()}constructor(t,n){const i=this.config=new I9(n),s=Ex(t),r=Cb(s);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||G6(s)),this.platform.updateConfig(i);const a=this.platform.acquireContext(s,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=O5(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new f9,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Y5(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],jc[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}ii.listen(this,"complete",Rb),ii.listen(this,"progress",k9),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:i,height:s,_aspectRatio:r}=this;return xt(t)?n&&r?r:s?i/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Un}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Zv(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Xv(this.canvas,this.ctx),this}stop(){return ii.stop(this),this}resize(t,n){ii.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const i=this.options,s=this.canvas,r=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(s,t,n,r),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,Zv(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Ft(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ot(n,(i,s)=>{i.id=s})}buildOrUpdateScales(){const t=this.options,n=t.scales,i=this.scales,s=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],l=cp(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Ot(r,o=>{const a=o.options,l=a.id,c=cp(l,a),u=gt(a.type,o.dtype);(a.position===void 0||kb(a.position,c)!==kb(o.dposition))&&(a.position=o.dposition),s[l]=!0;let h=null;if(l in i&&i[l].type===u)h=i[l];else{const f=Un.getScale(u);h=new f({id:l,type:u,ctx:this.ctx,chart:this}),i[h.id]=h}h.init(a,t)}),Ot(s,(o,a)=>{o||delete i[a]}),Ot(i,o=>{De.configure(this,o,o.options),De.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,i=t.length;if(t.sort((s,r)=>s.index-r.index),i>n){for(let s=n;s<i;++s)this._destroyDatasetMeta(s);t.splice(n,i-n)}this._sortedMetasets=t.slice(0).sort(Pb("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((i,s)=>{n.filter(r=>r===i._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let i,s;for(this._removeUnreferencedMetasets(),i=0,s=n.length;i<s;i++){const r=n[i];let o=this.getDatasetMeta(i);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=r.indexAxis||lp(a,this.options),o.order=r.order||0,o.index=i,o.label=""+r.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Un.getController(a),{datasetElementType:c,dataElementType:u}=ee.datasets[a];Object.assign(l,{dataElementType:Un.getElement(u),datasetElementType:c&&Un.getElement(c)}),o.controller=new l(this,i),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){Ot(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),f=!s&&r.indexOf(h)===-1;h.buildOrUpdateElements(f),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),s||Ot(r,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Pb("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Ot(this.scales,t=>{De.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!$v(n,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:s,count:r}of n){const o=i==="_removeElements"?-r:r;P9(t,s,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=r=>new Set(t.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),s=i(0);for(let r=1;r<n;r++)if(!$v(s,i(r)))return;return Array.from(s).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;De.update(this,this.width,this.height,t);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Ot(this.boxes,s=>{i&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,r)=>{s._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,ls(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const i=this.getDatasetMeta(t),s={meta:i,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(i.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ii.has(this)?this.attached&&!ii.running(this)&&ii.start(this):(this.draw(),Rb({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:s}=this._resizeBeforeDraw;this._resize(i,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,i=[];let s,r;for(s=0,r=n.length;s<r;++s){const o=n[s];(!t||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,i=t._clip,s=!i.disabled,r=C9(t)||this.chartArea,o={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(s&&$h(n,{left:i.left===!1?0:r.left-i.left,right:i.right===!1?this.width:r.right+i.right,top:i.top===!1?0:r.top-i.top,bottom:i.bottom===!1?this.height:r.bottom+i.bottom}),t.controller.draw(),s&&zh(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(t){return gi(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,i,s){const r=S6.modes[n];return typeof r=="function"?r(this,t,i,s):[]}getDatasetMeta(t){const n=this.data.datasets[t],i=this._metasets;let s=i.filter(r=>r&&r._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},i.push(s)),s}getContext(){return this.$context||(this.$context=ms(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(t,n){const i=this.getDatasetMeta(t);i.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,i){const s=i?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,s);qa(n)?(r.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),o.update(r,{visible:i}),this.update(a=>a.datasetIndex===t?s:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),ii.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Xv(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete jc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,i=(r,o)=>{n.addEventListener(this,r,o),t[r]=o},s=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};Ot(this.options.events,r=>i(r,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,i=(l,c)=>{n.addEventListener(this,l,c),t[l]=c},s=(l,c)=>{t[l]&&(n.removeEventListener(this,l,c),delete t[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{s("attach",a),this.attached=!0,this.resize(),i("resize",r),i("detach",o)};o=()=>{this.attached=!1,s("resize",r),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Ot(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Ot(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,i){const s=i?"set":"remove";let r,o,a,l;for(n==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[s+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],i=t.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!xu(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(t,n,i){return this._plugins.notify(this,t,n,i)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,i){const s=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=r(n,t),a=i?t:r(t,n);o.length&&this.updateHoverStyle(o,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(t,n){const i={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},s=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,s)===!1)return;const r=this._handleEvent(t,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,s),(r||i.changed)&&this.render(),this}_handleEvent(t,n,i){const{_active:s=[],options:r}=this,o=n,a=this._getActiveElements(t,s,i,o),l=U5(t),c=R9(t,this._lastEvent,i,l);i&&(this._lastEvent=null,Ft(r.onHover,[t,a,this],this),l&&Ft(r.onClick,[t,a,this],this));const u=!xu(a,s);return(u||n)&&(this._active=a,this._updateHoverStyles(a,s,n)),this._lastEvent=c,u}_getActiveElements(t,n,i,s){if(t.type==="mouseout")return[];if(!i)return n;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,s)}}F(ai,"defaults",ee),F(ai,"instances",jc),F(ai,"overrides",er),F(ai,"registry",Un),F(ai,"version",A9),F(ai,"getChart",Cb);function Mb(){return Ot(ai.instances,e=>e._plugins.invalidate())}function M9(e,t,n){const{startAngle:i,pixelMargin:s,x:r,y:o,outerRadius:a,innerRadius:l}=t;let c=s/a;e.beginPath(),e.arc(r,o,a,i-c,n+c),l>s?(c=s/l,e.arc(r,o,l,n+c,i-c,!0)):e.arc(r,o,s,n+te,i-te),e.closePath(),e.clip()}function O9(e){return Cm(e,["outerStart","outerEnd","innerStart","innerEnd"])}function D9(e,t,n,i){const s=O9(e.options.borderRadius),r=(n-t)/2,o=Math.min(r,i*t/2),a=l=>{const c=(n-Math.min(r,l))*i/2;return ve(l,0,Math.min(r,c))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:ve(s.innerStart,0,o),innerEnd:ve(s.innerEnd,0,o)}}function vr(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function Cu(e,t,n,i,s,r){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=t,h=Math.max(t.outerRadius+i+n-c,0),f=u>0?u+i+n+c:0;let d=0;const p=s-l;if(i){const ft=u>0?u-i:0,J=h>0?h-i:0,rt=(ft+J)/2,dt=rt!==0?p*rt/(rt+i):p;d=(p-dt)/2}const g=Math.max(.001,p*h-n/Yt)/h,m=(p-g)/2,_=l+m+d,y=s-m-d,{outerStart:w,outerEnd:E,innerStart:I,innerEnd:x}=D9(t,f,h,y-_),k=h-w,S=h-E,C=_+w/k,$=y-E/S,U=f+I,H=f+x,Et=_+I/U,st=y-x/H;if(e.beginPath(),r){const ft=(C+$)/2;if(e.arc(o,a,h,C,ft),e.arc(o,a,h,ft,$),E>0){const Lt=vr(S,$,o,a);e.arc(Lt.x,Lt.y,E,$,y+te)}const J=vr(H,y,o,a);if(e.lineTo(J.x,J.y),x>0){const Lt=vr(H,st,o,a);e.arc(Lt.x,Lt.y,x,y+te,st+Math.PI)}const rt=(y-x/f+(_+I/f))/2;if(e.arc(o,a,f,y-x/f,rt,!0),e.arc(o,a,f,rt,_+I/f,!0),I>0){const Lt=vr(U,Et,o,a);e.arc(Lt.x,Lt.y,I,Et+Math.PI,_-te)}const dt=vr(k,_,o,a);if(e.lineTo(dt.x,dt.y),w>0){const Lt=vr(k,C,o,a);e.arc(Lt.x,Lt.y,w,_-te,C)}}else{e.moveTo(o,a);const ft=Math.cos(C)*h+o,J=Math.sin(C)*h+a;e.lineTo(ft,J);const rt=Math.cos($)*h+o,dt=Math.sin($)*h+a;e.lineTo(rt,dt)}e.closePath()}function N9(e,t,n,i,s){const{fullCircles:r,startAngle:o,circumference:a}=t;let l=t.endAngle;if(r){Cu(e,t,n,i,l,s);for(let c=0;c<r;++c)e.fill();isNaN(a)||(l=o+(a%Wt||Wt))}return Cu(e,t,n,i,l,s),e.fill(),l}function L9(e,t,n,i,s){const{fullCircles:r,startAngle:o,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:f}=l,d=l.borderAlign==="inner";if(!c)return;e.setLineDash(h||[]),e.lineDashOffset=f,d?(e.lineWidth=c*2,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let p=t.endAngle;if(r){Cu(e,t,n,i,p,s);for(let g=0;g<r;++g)e.stroke();isNaN(a)||(p=o+(a%Wt||Wt))}d&&M9(e,t,p),r||(Cu(e,t,n,i,p,s),e.stroke())}class Wo extends ki{constructor(n){super();F(this,"circumference");F(this,"endAngle");F(this,"fullCircles");F(this,"innerRadius");F(this,"outerRadius");F(this,"pixelMargin");F(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.getProps(["x","y"],s),{angle:o,distance:a}=jT(r,{x:n,y:i}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],s),d=(this.options.spacing+this.options.borderWidth)/2,g=gt(f,c-l)>=Wt||Ka(o,l,c),m=di(a,u+d,h+d);return g&&m}getCenterPoint(n){const{x:i,y:s,startAngle:r,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:u}=this.options,h=(r+o)/2,f=(a+l+u+c)/2;return{x:i+Math.cos(h)*f,y:s+Math.sin(h)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:s}=this,r=(i.offset||0)/4,o=(i.spacing||0)/2,a=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=s>Wt?Math.floor(s/Wt):0,s===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*r,Math.sin(l)*r);const c=1-Math.sin(Math.min(Yt,s||0)),u=r*c;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,N9(n,this,u,o,a),L9(n,this,u,o,a),n.restore()}}F(Wo,"id","arc"),F(Wo,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),F(Wo,"defaultRoutes",{backgroundColor:"backgroundColor"}),F(Wo,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function Ix(e,t,n=t){e.lineCap=gt(n.borderCapStyle,t.borderCapStyle),e.setLineDash(gt(n.borderDash,t.borderDash)),e.lineDashOffset=gt(n.borderDashOffset,t.borderDashOffset),e.lineJoin=gt(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=gt(n.borderWidth,t.borderWidth),e.strokeStyle=gt(n.borderColor,t.borderColor)}function V9(e,t,n){e.lineTo(n.x,n.y)}function F9(e){return e.stepped?a3:e.tension||e.cubicInterpolationMode==="monotone"?l3:V9}function Tx(e,t,n={}){const i=e.length,{start:s=0,end:r=i-1}=n,{start:o,end:a}=t,l=Math.max(s,o),c=Math.min(r,a),u=s<o&&r<o||s>a&&r>a;return{count:i,start:l,loop:t.loop,ilen:c<l&&!u?i+c-l:c-l}}function U9(e,t,n,i){const{points:s,options:r}=t,{count:o,start:a,loop:l,ilen:c}=Tx(s,n,i),u=F9(r);let{move:h=!0,reverse:f}=i||{},d,p,g;for(d=0;d<=c;++d)p=s[(a+(f?c-d:d))%o],!p.skip&&(h?(e.moveTo(p.x,p.y),h=!1):u(e,g,p,f,r.stepped),g=p);return l&&(p=s[(a+(f?c:0))%o],u(e,g,p,f,r.stepped)),!!l}function B9(e,t,n,i){const s=t.points,{count:r,start:o,ilen:a}=Tx(s,n,i),{move:l=!0,reverse:c}=i||{};let u=0,h=0,f,d,p,g,m,_;const y=E=>(o+(c?a-E:E))%r,w=()=>{g!==m&&(e.lineTo(u,m),e.lineTo(u,g),e.lineTo(u,_))};for(l&&(d=s[y(0)],e.moveTo(d.x,d.y)),f=0;f<=a;++f){if(d=s[y(f)],d.skip)continue;const E=d.x,I=d.y,x=E|0;x===p?(I<g?g=I:I>m&&(m=I),u=(h*u+E)/++h):(w(),e.lineTo(E,I),p=x,h=0,g=m=I),_=I}w()}function up(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?B9:U9}function $9(e){return e.stepped?B3:e.tension||e.cubicInterpolationMode==="monotone"?$3:xs}function z9(e,t,n,i){let s=t._path;s||(s=t._path=new Path2D,t.path(s,n,i)&&s.closePath()),Ix(e,t.options),e.stroke(s)}function j9(e,t,n,i){const{segments:s,options:r}=t,o=up(t);for(const a of s)Ix(e,r,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}const H9=typeof Path2D=="function";function W9(e,t,n,i){H9&&!t.options.segment?z9(e,t,n,i):j9(e,t,n,i)}class Hi extends ki{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const s=i.spanGaps?this._loop:this._fullLoop;M3(this._points,i,t,s,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=K3(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,i=t.length;return i&&n[t[i-1].end]}interpolate(t,n){const i=this.options,s=t[n],r=this.points,o=ux(this,{property:n,start:s,end:s});if(!o.length)return;const a=[],l=$9(i);let c,u;for(c=0,u=o.length;c<u;++c){const{start:h,end:f}=o[c],d=r[h],p=r[f];if(d===p){a.push(d);continue}const g=Math.abs((s-d[n])/(p[n]-d[n])),m=l(d,p,g,i.stepped);m[n]=t[n],a.push(m)}return a.length===1?a[0]:a}pathSegment(t,n,i){return up(this)(t,this,n,i)}path(t,n,i){const s=this.segments,r=up(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of s)o&=r(t,this,a,{start:n,end:n+i-1});return!!o}draw(t,n,i,s){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),W9(t,this,i,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}F(Hi,"id","line"),F(Hi,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),F(Hi,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),F(Hi,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function Ob(e,t,n,i){const s=e.options,{[n]:r}=e.getProps([n],i);return Math.abs(t-r)<s.radius+s.hitRadius}class Hc extends ki{constructor(n){super();F(this,"parsed");F(this,"skip");F(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,s){const r=this.options,{x:o,y:a}=this.getProps(["x","y"],s);return Math.pow(n-o,2)+Math.pow(i-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(n,i){return Ob(this,n,"x",i)}inYRange(n,i){return Ob(this,n,"y",i)}getCenterPoint(n){const{x:i,y:s}=this.getProps(["x","y"],n);return{x:i,y:s}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const s=i&&n.borderWidth||0;return(i+s)*2}draw(n,i){const s=this.options;this.skip||s.radius<.1||!gi(this,i,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,op(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}F(Hc,"id","point"),F(Hc,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),F(Hc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function xx(e,t){const{x:n,y:i,base:s,width:r,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,c,u,h;return e.horizontal?(h=o/2,a=Math.min(n,s),l=Math.max(n,s),c=i-h,u=i+h):(h=r/2,a=n-h,l=n+h,c=Math.min(i,s),u=Math.max(i,s)),{left:a,top:c,right:l,bottom:u}}function Wi(e,t,n,i){return e?0:ve(t,n,i)}function q9(e,t,n){const i=e.options.borderWidth,s=e.borderSkipped,r=JT(i);return{t:Wi(s.top,r.top,0,n),r:Wi(s.right,r.right,0,t),b:Wi(s.bottom,r.bottom,0,n),l:Wi(s.left,r.left,0,t)}}function K9(e,t,n){const{enableBorderRadius:i}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,r=zs(s),o=Math.min(t,n),a=e.borderSkipped,l=i||bt(s);return{topLeft:Wi(!l||a.top||a.left,r.topLeft,0,o),topRight:Wi(!l||a.top||a.right,r.topRight,0,o),bottomLeft:Wi(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:Wi(!l||a.bottom||a.right,r.bottomRight,0,o)}}function G9(e){const t=xx(e),n=t.right-t.left,i=t.bottom-t.top,s=q9(e,n/2,i/2),r=K9(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:r},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:i-s.t-s.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,r.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(s.b,s.r))}}}}function Wf(e,t,n,i){const s=t===null,r=n===null,a=e&&!(s&&r)&&xx(e,i);return a&&(s||di(t,a.left,a.right))&&(r||di(n,a.top,a.bottom))}function Y9(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function X9(e,t){e.rect(t.x,t.y,t.w,t.h)}function qf(e,t,n={}){const i=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,r=(e.x+e.w!==n.x+n.w?t:0)-i,o=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+i,y:e.y+s,w:e.w+r,h:e.h+o,radius:e.radius}}class Wc extends ki{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:i,backgroundColor:s}}=this,{inner:r,outer:o}=G9(this),a=Y9(o.radius)?Ga:X9;t.save(),(o.w!==r.w||o.h!==r.h)&&(t.beginPath(),a(t,qf(o,n,r)),t.clip(),a(t,qf(r,-n,o)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),a(t,qf(r,n)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,n,i){return Wf(this,t,n,i)}inXRange(t,n){return Wf(this,t,null,n)}inYRange(t,n){return Wf(this,null,t,n)}getCenterPoint(t){const{x:n,y:i,base:s,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(n+s)/2:n,y:r?i:(i+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}F(Wc,"id","bar"),F(Wc,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),F(Wc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Q9=Object.freeze({__proto__:null,ArcElement:Wo,BarElement:Wc,LineElement:Hi,PointElement:Hc});const hp=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Db=hp.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function Ax(e){return hp[e%hp.length]}function Sx(e){return Db[e%Db.length]}function J9(e,t){return e.borderColor=Ax(t),e.backgroundColor=Sx(t),++t}function Z9(e,t){return e.backgroundColor=e.data.map(()=>Ax(t++)),t}function tU(e,t){return e.backgroundColor=e.data.map(()=>Sx(t++)),t}function eU(e){let t=0;return(n,i)=>{const s=e.getDatasetMeta(i).controller;s instanceof Ns?t=Z9(n,t):s instanceof da?t=tU(n,t):s&&(t=J9(n,t))}}function Nb(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function nU(e){return e&&(e.borderColor||e.backgroundColor)}var iU={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:i},options:s}=e.config,{elements:r}=s;if(!n.forceOverride&&(Nb(i)||nU(s)||r&&Nb(r)))return;const o=eU(e);i.forEach(o)}};function sU(e,t,n,i,s){const r=s.samples||i;if(r>=n)return e.slice(t,t+n);const o=[],a=(n-2)/(r-2);let l=0;const c=t+n-1;let u=t,h,f,d,p,g;for(o[l++]=e[u],h=0;h<r-2;h++){let m=0,_=0,y;const w=Math.floor((h+1)*a)+1+t,E=Math.min(Math.floor((h+2)*a)+1,n)+t,I=E-w;for(y=w;y<E;y++)m+=e[y].x,_+=e[y].y;m/=I,_/=I;const x=Math.floor(h*a)+1+t,k=Math.min(Math.floor((h+1)*a)+1,n)+t,{x:S,y:C}=e[u];for(d=p=-1,y=x;y<k;y++)p=.5*Math.abs((S-m)*(e[y].y-C)-(S-e[y].x)*(_-C)),p>d&&(d=p,f=e[y],g=y);o[l++]=f,u=g}return o[l++]=e[c],o}function rU(e,t,n,i){let s=0,r=0,o,a,l,c,u,h,f,d,p,g;const m=[],_=t+n-1,y=e[t].x,E=e[_].x-y;for(o=t;o<t+n;++o){a=e[o],l=(a.x-y)/E*i,c=a.y;const I=l|0;if(I===u)c<p?(p=c,h=o):c>g&&(g=c,f=o),s=(r*s+a.x)/++r;else{const x=o-1;if(!xt(h)&&!xt(f)){const k=Math.min(h,f),S=Math.max(h,f);k!==d&&k!==x&&m.push({...e[k],x:s}),S!==d&&S!==x&&m.push({...e[S],x:s})}o>0&&x!==d&&m.push(e[x]),m.push(a),u=I,r=0,p=g=c,h=f=d=o}}return m}function kx(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Lb(e){e.data.datasets.forEach(t=>{kx(t)})}function oU(e,t){const n=t.length;let i=0,s;const{iScale:r}=e,{min:o,max:a,minDefined:l,maxDefined:c}=r.getUserBounds();return l&&(i=ve(pi(t,r.axis,o).lo,0,n-1)),c?s=ve(pi(t,r.axis,a).hi+1,i,n)-i:s=n-i,{start:i,count:s}}var aU={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled){Lb(e);return}const i=e.width;e.data.datasets.forEach((s,r)=>{const{_data:o,indexAxis:a}=s,l=e.getDatasetMeta(r),c=o||s.data;if(jo([a,e.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=e.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||e.options.parsing)return;let{start:h,count:f}=oU(l,c);const d=n.threshold||4*i;if(f<=d){kx(s);return}xt(o)&&(s._data=c,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let p;switch(n.algorithm){case"lttb":p=sU(c,h,f,i,n);break;case"min-max":p=rU(c,h,f,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}s._decimated=p})},destroy(e){Lb(e)}};function lU(e,t,n){const i=e.segments,s=e.points,r=t.points,o=[];for(const a of i){let{start:l,end:c}=a;c=Vm(l,c,s);const u=fp(n,s[l],s[c],a.loop);if(!t.segments){o.push({source:a,target:u,start:s[l],end:s[c]});continue}const h=ux(t,u);for(const f of h){const d=fp(n,r[f.start],r[f.end],f.loop),p=cx(a,s,d);for(const g of p)o.push({source:g,target:f,start:{[n]:Vb(u,d,"start",Math.max)},end:{[n]:Vb(u,d,"end",Math.min)}})}}return o}function fp(e,t,n,i){if(i)return;let s=t[e],r=n[e];return e==="angle"&&(s=rn(s),r=rn(r)),{property:e,start:s,end:r}}function cU(e,t){const{x:n=null,y:i=null}=e||{},s=t.points,r=[];return t.segments.forEach(({start:o,end:a})=>{a=Vm(o,a,s);const l=s[o],c=s[a];i!==null?(r.push({x:l.x,y:i}),r.push({x:c.x,y:i})):n!==null&&(r.push({x:n,y:l.y}),r.push({x:n,y:c.y}))}),r}function Vm(e,t,n){for(;t>e;t--){const i=n[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function Vb(e,t,n,i){return e&&t?i(e[n],t[n]):e?e[n]:t?t[n]:0}function Px(e,t){let n=[],i=!1;return Ht(e)?(i=!0,n=e):n=cU(e,t),n.length?new Hi({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function Fb(e){return e&&e.fill!==!1}function uU(e,t,n){let s=e[t].fill;const r=[t];let o;if(!n)return s;for(;s!==!1&&r.indexOf(s)===-1;){if(!Zt(s))return s;if(o=e[s],!o)return!1;if(o.visible)return s;r.push(s),s=o.fill}return!1}function hU(e,t,n){const i=gU(e);if(bt(i))return isNaN(i.value)?!1:i;let s=parseFloat(i);return Zt(s)&&Math.floor(s)===s?fU(i[0],t,s,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function fU(e,t,n,i){return(e==="-"||e==="+")&&(n=t+n),n===t||n<0||n>=i?!1:n}function dU(e,t){let n=null;return e==="start"?n=t.bottom:e==="end"?n=t.top:bt(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}function pU(e,t,n){let i;return e==="start"?i=n:e==="end"?i=t.options.reverse?t.min:t.max:bt(e)?i=e.value:i=t.getBaseValue(),i}function gU(e){const t=e.options,n=t.fill;let i=gt(n&&n.target,n);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function mU(e){const{scale:t,index:n,line:i}=e,s=[],r=i.segments,o=i.points,a=_U(t,n);a.push(Px({x:null,y:t.bottom},i));for(let l=0;l<r.length;l++){const c=r[l];for(let u=c.start;u<=c.end;u++)yU(s,o[u],a)}return new Hi({points:s,options:{}})}function _U(e,t){const n=[],i=e.getMatchingVisibleMetas("line");for(let s=0;s<i.length;s++){const r=i[s];if(r.index===t)break;r.hidden||n.unshift(r.dataset)}return n}function yU(e,t,n){const i=[];for(let s=0;s<n.length;s++){const r=n[s],{first:o,last:a,point:l}=vU(r,t,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(e.push(l),!a)break}}e.push(...i)}function vU(e,t,n){const i=e.interpolate(t,n);if(!i)return{};const s=i[n],r=e.segments,o=e.points;let a=!1,l=!1;for(let c=0;c<r.length;c++){const u=r[c],h=o[u.start][n],f=o[u.end][n];if(di(s,h,f)){a=s===h,l=s===f;break}}return{first:a,last:l,point:i}}class Rx{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,n,i){const{x:s,y:r,radius:o}=this;return n=n||{start:0,end:Wt},t.arc(s,r,o,n.end,n.start,!0),!i.bounds}interpolate(t){const{x:n,y:i,radius:s}=this,r=t.angle;return{x:n+Math.cos(r)*s,y:i+Math.sin(r)*s,angle:r}}}function bU(e){const{chart:t,fill:n,line:i}=e;if(Zt(n))return wU(t,n);if(n==="stack")return mU(e);if(n==="shape")return!0;const s=EU(e);return s instanceof Rx?s:Px(s,i)}function wU(e,t){const n=e.getDatasetMeta(t);return n&&e.isDatasetVisible(t)?n.dataset:null}function EU(e){return(e.scale||{}).getPointPositionForValue?TU(e):IU(e)}function IU(e){const{scale:t={},fill:n}=e,i=dU(n,t);if(Zt(i)){const s=t.isHorizontal();return{x:s?i:null,y:s?null:i}}return null}function TU(e){const{scale:t,fill:n}=e,i=t.options,s=t.getLabels().length,r=i.reverse?t.max:t.min,o=pU(n,t,r),a=[];if(i.grid.circular){const l=t.getPointPositionForValue(0,r);return new Rx({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(o)})}for(let l=0;l<s;++l)a.push(t.getPointPositionForValue(l,o));return a}function Kf(e,t,n){const i=bU(t),{line:s,scale:r,axis:o}=t,a=s.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:h=c}=l||{};i&&s.points.length&&($h(e,n),xU(e,{line:s,target:i,above:u,below:h,area:n,scale:r,axis:o}),zh(e))}function xU(e,t){const{line:n,target:i,above:s,below:r,area:o,scale:a}=t,l=n._loop?"angle":t.axis;e.save(),l==="x"&&r!==s&&(Ub(e,i,o.top),Bb(e,{line:n,target:i,color:s,scale:a,property:l}),e.restore(),e.save(),Ub(e,i,o.bottom)),Bb(e,{line:n,target:i,color:r,scale:a,property:l}),e.restore()}function Ub(e,t,n){const{segments:i,points:s}=t;let r=!0,o=!1;e.beginPath();for(const a of i){const{start:l,end:c}=a,u=s[l],h=s[Vm(l,c,s)];r?(e.moveTo(u.x,u.y),r=!1):(e.lineTo(u.x,n),e.lineTo(u.x,u.y)),o=!!t.pathSegment(e,a,{move:o}),o?e.closePath():e.lineTo(h.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function Bb(e,t){const{line:n,target:i,property:s,color:r,scale:o}=t,a=lU(n,i,s);for(const{source:l,target:c,start:u,end:h}of a){const{style:{backgroundColor:f=r}={}}=l,d=i!==!0;e.save(),e.fillStyle=f,AU(e,o,d&&fp(s,u,h)),e.beginPath();const p=!!n.pathSegment(e,l);let g;if(d){p?e.closePath():$b(e,i,h,s);const m=!!i.pathSegment(e,c,{move:p,reverse:!0});g=p&&m,g||$b(e,i,u,s)}e.closePath(),e.fill(g?"evenodd":"nonzero"),e.restore()}}function AU(e,t,n){const{top:i,bottom:s}=t.chart.chartArea,{property:r,start:o,end:a}=n||{};r==="x"&&(e.beginPath(),e.rect(o,i,a-o,s-i),e.clip())}function $b(e,t,n,i){const s=t.interpolate(n,i);s&&e.lineTo(s.x,s.y)}var SU={id:"filler",afterDatasetsUpdate(e,t,n){const i=(e.data.datasets||[]).length,s=[];let r,o,a,l;for(o=0;o<i;++o)r=e.getDatasetMeta(o),a=r.dataset,l=null,a&&a.options&&a instanceof Hi&&(l={visible:e.isDatasetVisible(o),index:o,fill:hU(a,o,i),chart:e,axis:r.controller.options.indexAxis,scale:r.vScale,line:a}),r.$filler=l,s.push(l);for(o=0;o<i;++o)l=s[o],!(!l||l.fill===!1)&&(l.fill=uU(s,o,n.propagate))},beforeDraw(e,t,n){const i=n.drawTime==="beforeDraw",s=e.getSortedVisibleDatasetMetas(),r=e.chartArea;for(let o=s.length-1;o>=0;--o){const a=s[o].$filler;a&&(a.line.updateControlPoints(r,a.axis),i&&a.fill&&Kf(e.ctx,a,r))}},beforeDatasetsDraw(e,t,n){if(n.drawTime!=="beforeDatasetsDraw")return;const i=e.getSortedVisibleDatasetMetas();for(let s=i.length-1;s>=0;--s){const r=i[s].$filler;Fb(r)&&Kf(e.ctx,r,e.chartArea)}},beforeDatasetDraw(e,t,n){const i=t.meta.$filler;!Fb(i)||n.drawTime!=="beforeDatasetDraw"||Kf(e.ctx,i,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const zb=(e,t)=>{let{boxHeight:n=t,boxWidth:i=t}=e;return e.usePointStyle&&(n=Math.min(n,t),i=e.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(t,n)}},kU=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class jb extends ki{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,i){this.maxWidth=t,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Ft(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(i=>t.filter(i,this.chart.data))),t.sort&&(n=n.sort((i,s)=>t.sort(i,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,s=he(i.font),r=s.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=zb(i,r);let c,u;n.font=s.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,s,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,n,i,s){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=s+a;let h=t;r.textAlign="left",r.textBaseline="middle";let f=-1,d=-u;return this.legendItems.forEach((p,g)=>{const m=i+n/2+r.measureText(p.text).width;(g===0||c[c.length-1]+m+2*a>o)&&(h+=u,c[c.length-(g>0?0:1)]=0,d+=u,f++),l[g]={left:0,top:d,row:f,width:m,height:s},c[c.length-1]+=m+a}),h}_fitCols(t,n,i,s){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-t;let h=a,f=0,d=0,p=0,g=0;return this.legendItems.forEach((m,_)=>{const{itemWidth:y,itemHeight:w}=PU(i,n,r,m,s);_>0&&d+w+2*a>u&&(h+=f+a,c.push({width:f,height:d}),p+=f+a,g++,f=d=0),l[_]={left:p,top:d,col:g,width:y,height:w},f=Math.max(f,y),d+=w+a}),h+=f,c.push({width:f,height:d}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:s},rtl:r}}=this,o=Nr(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=ke(i,this.left+s,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=ke(i,this.left+s,this.right-this.lineWidths[a])),c.top+=this.top+t+s,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+s}else{let a=0,l=ke(i,this.top+t+s,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=ke(i,this.top+t+s,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+s,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;$h(t,this),this._draw(),zh(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:i,ctx:s}=this,{align:r,labels:o}=t,a=ee.color,l=Nr(t.rtl,this.left,this.width),c=he(o.font),{padding:u}=o,h=c.size,f=h/2;let d;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;const{boxWidth:p,boxHeight:g,itemHeight:m}=zb(o,h),_=function(x,k,S){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;s.save();const C=gt(S.lineWidth,1);if(s.fillStyle=gt(S.fillStyle,a),s.lineCap=gt(S.lineCap,"butt"),s.lineDashOffset=gt(S.lineDashOffset,0),s.lineJoin=gt(S.lineJoin,"miter"),s.lineWidth=C,s.strokeStyle=gt(S.strokeStyle,a),s.setLineDash(gt(S.lineDash,[])),o.usePointStyle){const $={radius:g*Math.SQRT2/2,pointStyle:S.pointStyle,rotation:S.rotation,borderWidth:C},U=l.xPlus(x,p/2),H=k+f;QT(s,$,U,H,o.pointStyleWidth&&p)}else{const $=k+Math.max((h-g)/2,0),U=l.leftForLtr(x,p),H=zs(S.borderRadius);s.beginPath(),Object.values(H).some(Et=>Et!==0)?Ga(s,{x:U,y:$,w:p,h:g,radius:H}):s.rect(U,$,p,g),s.fill(),C!==0&&s.stroke()}s.restore()},y=function(x,k,S){nr(s,S.text,x,k+m/2,c,{strikethrough:S.hidden,textAlign:l.textAlign(S.textAlign)})},w=this.isHorizontal(),E=this._computeTitleHeight();w?d={x:ke(r,this.left+u,this.right-i[0]),y:this.top+u+E,line:0}:d={x:this.left+u,y:ke(r,this.top+E+u,this.bottom-n[0].height),line:0},ox(this.ctx,t.textDirection);const I=m+u;this.legendItems.forEach((x,k)=>{s.strokeStyle=x.fontColor,s.fillStyle=x.fontColor;const S=s.measureText(x.text).width,C=l.textAlign(x.textAlign||(x.textAlign=o.textAlign)),$=p+f+S;let U=d.x,H=d.y;l.setWidth(this.width),w?k>0&&U+$+u>this.right&&(H=d.y+=I,d.line++,U=d.x=ke(r,this.left+u,this.right-i[d.line])):k>0&&H+I>this.bottom&&(U=d.x=U+n[d.line].width+u,d.line++,H=d.y=ke(r,this.top+E+u,this.bottom-n[d.line].height));const Et=l.x(U);if(_(Et,H,x),U=X5(C,U+p+f,w?U+$:this.right,t.rtl),y(l.x(U),H,x),w)d.x+=$+u;else if(typeof x.text!="string"){const st=c.lineHeight;d.y+=Cx(x,st)+u}else d.y+=I}),ax(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,i=he(n.font),s=$e(n.padding);if(!n.display)return;const r=Nr(t.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,c=s.top+l;let u,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,h=ke(t.align,h,this.right-f);else{const p=this.columnSizes.reduce((g,m)=>Math.max(g,m.height),0);u=c+ke(t.align,this.top,this.bottom-p-t.labels.padding-this._computeTitleHeight())}const d=ke(a,h,h+f);o.textAlign=r.textAlign(Pm(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,nr(o,n.text,d,u,i)}_computeTitleHeight(){const t=this.options.title,n=he(t.font),i=$e(t.padding);return t.display?n.lineHeight+i.height:0}_getLegendItemAt(t,n){let i,s,r;if(di(t,this.left,this.right)&&di(n,this.top,this.bottom)){for(r=this.legendHitBoxes,i=0;i<r.length;++i)if(s=r[i],di(t,s.left,s.left+s.width)&&di(n,s.top,s.top+s.height))return this.legendItems[i]}return null}handleEvent(t){const n=this.options;if(!MU(t.type,n))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const s=this._hoveredItem,r=kU(s,i);s&&!r&&Ft(n.onLeave,[t,s,this],this),this._hoveredItem=i,i&&!r&&Ft(n.onHover,[t,i,this],this)}else i&&Ft(n.onClick,[t,i,this],this)}}function PU(e,t,n,i,s){const r=RU(i,e,t,n),o=CU(s,i,t.lineHeight);return{itemWidth:r,itemHeight:o}}function RU(e,t,n,i){let s=e.text;return s&&typeof s!="string"&&(s=s.reduce((r,o)=>r.length>o.length?r:o)),t+n.size/2+i.measureText(s).width}function CU(e,t,n){let i=e;return typeof t.text!="string"&&(i=Cx(t,n)),i}function Cx(e,t){const n=e.text?e.text.length:0;return t*n}function MU(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var OU={id:"legend",_element:jb,start(e,t,n){const i=e.legend=new jb({ctx:e.ctx,options:n,chart:e});De.configure(e,i,n),De.addBox(e,i)},stop(e){De.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const i=e.legend;De.configure(e,i,n),i.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const i=t.datasetIndex,s=n.chart;s.isDatasetVisible(i)?(s.hide(i),t.hidden=!0):(s.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:s,color:r,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=$e(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:s||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Fm extends ki{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const s=Ht(i.text)?i.text.length:1;this._padding=$e(i.padding);const r=s*he(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:i,bottom:s,right:r,options:o}=this,a=o.align;let l=0,c,u,h;return this.isHorizontal()?(u=ke(a,i,r),h=n+t,c=r-i):(o.position==="left"?(u=i+t,h=ke(a,s,n),l=Yt*-.5):(u=r-t,h=ke(a,n,s),l=Yt*.5),c=s-n),{titleX:u,titleY:h,maxWidth:c,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const i=he(n.font),r=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(r);nr(t,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:Pm(n.align),textBaseline:"middle",translation:[o,a]})}}function DU(e,t){const n=new Fm({ctx:e.ctx,options:t,chart:e});De.configure(e,n,t),De.addBox(e,n),e.titleBlock=n}var NU={id:"title",_element:Fm,start(e,t,n){DU(e,n)},stop(e){const t=e.titleBlock;De.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const i=e.titleBlock;De.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const hc=new WeakMap;var LU={id:"subtitle",start(e,t,n){const i=new Fm({ctx:e.ctx,options:n,chart:e});De.configure(e,i,n),De.addBox(e,i),hc.set(e,i)},stop(e){De.removeBox(e,hc.get(e)),hc.delete(e)},beforeUpdate(e,t,n){const i=hc.get(e);De.configure(e,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const qo={average(e){if(!e.length)return!1;let t,n,i=0,s=0,r=0;for(t=0,n=e.length;t<n;++t){const o=e[t].element;if(o&&o.hasValue()){const a=o.tooltipPosition();i+=a.x,s+=a.y,++r}}return{x:i/r,y:s/r}},nearest(e,t){if(!e.length)return!1;let n=t.x,i=t.y,s=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=e.length;r<o;++r){const l=e[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=sp(t,c);u<s&&(s=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function Fn(e,t){return t&&(Ht(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function si(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function VU(e,t){const{element:n,datasetIndex:i,index:s}=t,r=e.getDatasetMeta(i).controller,{label:o,value:a}=r.getLabelAndValue(s);return{chart:e,label:o,parsed:r.getParsed(s),raw:e.data.datasets[i].data[s],formattedValue:a,dataset:r.getDataset(),dataIndex:s,datasetIndex:i,element:n}}function Hb(e,t){const n=e.chart.ctx,{body:i,footer:s,title:r}=e,{boxWidth:o,boxHeight:a}=t,l=he(t.bodyFont),c=he(t.titleFont),u=he(t.footerFont),h=r.length,f=s.length,d=i.length,p=$e(t.padding);let g=p.height,m=0,_=i.reduce((E,I)=>E+I.before.length+I.lines.length+I.after.length,0);if(_+=e.beforeBody.length+e.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),_){const E=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=d*E+(_-d)*l.lineHeight+(_-1)*t.bodySpacing}f&&(g+=t.footerMarginTop+f*u.lineHeight+(f-1)*t.footerSpacing);let y=0;const w=function(E){m=Math.max(m,n.measureText(E).width+y)};return n.save(),n.font=c.string,Ot(e.title,w),n.font=l.string,Ot(e.beforeBody.concat(e.afterBody),w),y=t.displayColors?o+2+t.boxPadding:0,Ot(i,E=>{Ot(E.before,w),Ot(E.lines,w),Ot(E.after,w)}),y=0,n.font=u.string,Ot(e.footer,w),n.restore(),m+=p.width,{width:m,height:g}}function FU(e,t){const{y:n,height:i}=t;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}function UU(e,t,n,i){const{x:s,width:r}=i,o=n.caretSize+n.caretPadding;if(e==="left"&&s+r+o>t.width||e==="right"&&s-r-o<0)return!0}function BU(e,t,n,i){const{x:s,width:r}=n,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return i==="center"?c=s<=(a+l)/2?"left":"right":s<=r/2?c="left":s>=o-r/2&&(c="right"),UU(c,e,t,n)&&(c="center"),c}function Wb(e,t,n){const i=n.yAlign||t.yAlign||FU(e,n);return{xAlign:n.xAlign||t.xAlign||BU(e,t,n,i),yAlign:i}}function $U(e,t){let{x:n,width:i}=e;return t==="right"?n-=i:t==="center"&&(n-=i/2),n}function zU(e,t,n){let{y:i,height:s}=e;return t==="top"?i+=n:t==="bottom"?i-=s+n:i-=s/2,i}function qb(e,t,n,i){const{caretSize:s,caretPadding:r,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,c=s+r,{topLeft:u,topRight:h,bottomLeft:f,bottomRight:d}=zs(o);let p=$U(t,a);const g=zU(t,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,f)+s:a==="right"&&(p+=Math.max(h,d)+s),{x:ve(p,0,i.width-t.width),y:ve(g,0,i.height-t.height)}}function fc(e,t,n){const i=$e(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-i.right:e.x+i.left}function Kb(e){return Fn([],si(e))}function jU(e,t,n){return ms(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function Gb(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const Mx={beforeTitle:ni,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:ni,beforeBody:ni,beforeLabel:ni,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return xt(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:ni,afterBody:ni,beforeFooter:ni,footer:ni,afterFooter:ni};function Ke(e,t,n,i){const s=e[t].call(n,i);return typeof s>"u"?Mx[t].call(n,i):s}class dp extends ki{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,i=this.options.setContext(this.getContext()),s=i.enabled&&n.options.animation&&i.animations,r=new hx(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=jU(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:i}=n,s=Ke(i,"beforeTitle",this,t),r=Ke(i,"title",this,t),o=Ke(i,"afterTitle",this,t);let a=[];return a=Fn(a,si(s)),a=Fn(a,si(r)),a=Fn(a,si(o)),a}getBeforeBody(t,n){return Kb(Ke(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:i}=n,s=[];return Ot(t,r=>{const o={before:[],lines:[],after:[]},a=Gb(i,r);Fn(o.before,si(Ke(a,"beforeLabel",this,r))),Fn(o.lines,Ke(a,"label",this,r)),Fn(o.after,si(Ke(a,"afterLabel",this,r))),s.push(o)}),s}getAfterBody(t,n){return Kb(Ke(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:i}=n,s=Ke(i,"beforeFooter",this,t),r=Ke(i,"footer",this,t),o=Ke(i,"afterFooter",this,t);let a=[];return a=Fn(a,si(s)),a=Fn(a,si(r)),a=Fn(a,si(o)),a}_createItems(t){const n=this._active,i=this.chart.data,s=[],r=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(VU(this.chart,n[l]));return t.filter&&(a=a.filter((u,h,f)=>t.filter(u,h,f,i))),t.itemSort&&(a=a.sort((u,h)=>t.itemSort(u,h,i))),Ot(a,u=>{const h=Gb(t.callbacks,u);s.push(Ke(h,"labelColor",this,u)),r.push(Ke(h,"labelPointStyle",this,u)),o.push(Ke(h,"labelTextColor",this,u))}),this.labelColors=s,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const i=this.options.setContext(this.getContext()),s=this._active;let r,o=[];if(!s.length)this.opacity!==0&&(r={opacity:0});else{const a=qo[i.position].call(this,s,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=Hb(this,i),c=Object.assign({},a,l),u=Wb(this.chart,i,c),h=qb(i,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,i,s){const r=this.getCaretPosition(t,i,s);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(t,n,i){const{xAlign:s,yAlign:r}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=zs(a),{x:f,y:d}=t,{width:p,height:g}=n;let m,_,y,w,E,I;return r==="center"?(E=d+g/2,s==="left"?(m=f,_=m-o,w=E+o,I=E-o):(m=f+p,_=m+o,w=E-o,I=E+o),y=m):(s==="left"?_=f+Math.max(l,u)+o:s==="right"?_=f+p-Math.max(c,h)-o:_=this.caretX,r==="top"?(w=d,E=w-o,m=_-o,y=_+o):(w=d+g,E=w+o,m=_+o,y=_-o),I=w),{x1:m,x2:_,x3:y,y1:w,y2:E,y3:I}}drawTitle(t,n,i){const s=this.title,r=s.length;let o,a,l;if(r){const c=Nr(i.rtl,this.x,this.width);for(t.x=fc(this,i.titleAlign,i),n.textAlign=c.textAlign(i.titleAlign),n.textBaseline="middle",o=he(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<r;++l)n.fillText(s[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===r&&(t.y+=i.titleMarginBottom-a)}}_drawColorBox(t,n,i,s,r){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:c}=r,u=he(r.bodyFont),h=fc(this,"left",r),f=s.x(h),d=l<u.lineHeight?(u.lineHeight-l)/2:0,p=n.y+d;if(r.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},m=s.leftForLtr(f,c)+c/2,_=p+l/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,op(t,g,m,_),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,op(t,g,m,_)}else{t.lineWidth=bt(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const g=s.leftForLtr(f,c),m=s.leftForLtr(s.xPlus(f,1),c-2),_=zs(o.borderRadius);Object.values(_).some(y=>y!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,Ga(t,{x:g,y:p,w:c,h:l,radius:_}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Ga(t,{x:m,y:p+1,w:c-2,h:l-2,radius:_}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(g,p,c,l),t.strokeRect(g,p,c,l),t.fillStyle=o.backgroundColor,t.fillRect(m,p+1,c-2,l-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,n,i){const{body:s}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=i,h=he(i.bodyFont);let f=h.lineHeight,d=0;const p=Nr(i.rtl,this.x,this.width),g=function(S){n.fillText(S,p.x(t.x+d),t.y+f/2),t.y+=f+r},m=p.textAlign(o);let _,y,w,E,I,x,k;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,t.x=fc(this,m,i),n.fillStyle=i.bodyColor,Ot(this.beforeBody,g),d=a&&m!=="right"?o==="center"?c/2+u:c+2+u:0,E=0,x=s.length;E<x;++E){for(_=s[E],y=this.labelTextColors[E],n.fillStyle=y,Ot(_.before,g),w=_.lines,a&&w.length&&(this._drawColorBox(n,t,E,p,i),f=Math.max(h.lineHeight,l)),I=0,k=w.length;I<k;++I)g(w[I]),f=h.lineHeight;Ot(_.after,g)}d=0,f=h.lineHeight,Ot(this.afterBody,g),t.y-=r}drawFooter(t,n,i){const s=this.footer,r=s.length;let o,a;if(r){const l=Nr(i.rtl,this.x,this.width);for(t.x=fc(this,i.footerAlign,i),t.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=he(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(s[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+i.footerSpacing}}drawBackground(t,n,i,s){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:u}=i,{topLeft:h,topRight:f,bottomLeft:d,bottomRight:p}=zs(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(t,n,i,s),n.lineTo(a+c-f,l),n.quadraticCurveTo(a+c,l,a+c,l+f),o==="center"&&r==="right"&&this.drawCaret(t,n,i,s),n.lineTo(a+c,l+u-p),n.quadraticCurveTo(a+c,l+u,a+c-p,l+u),o==="bottom"&&this.drawCaret(t,n,i,s),n.lineTo(a+d,l+u),n.quadraticCurveTo(a,l+u,a,l+u-d),o==="center"&&r==="left"&&this.drawCaret(t,n,i,s),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,i=this.$animations,s=i&&i.x,r=i&&i.y;if(s||r){const o=qo[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=Hb(this,t),l=Object.assign({},o,this._size),c=Wb(n,t,l),u=qb(t,l,c,n);(s._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},r={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=$e(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=i,this.drawBackground(r,t,s,n),ox(t,n.textDirection),r.y+=o.top,this.drawTitle(r,t,n),this.drawBody(r,t,n),this.drawFooter(r,t,n),ax(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const i=this._active,s=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!xu(i,s),o=this._positionChanged(s,n);(r||o)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,r=this._active||[],o=this._getActiveElements(t,r,n,i),a=this._positionChanged(o,t),l=n||!xu(o,r)||a;return l&&(this._active=o,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,i,s){const r=this.options;if(t.type==="mouseout")return[];if(!s)return n;const o=this.chart.getElementsAtEventForMode(t,r.mode,r,i);return r.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:i,caretY:s,options:r}=this,o=qo[r.position].call(this,t,n);return o!==!1&&(i!==o.x||s!==o.y)}}F(dp,"positioners",qo);var HU={id:"tooltip",_element:dp,positioners:qo,afterInit(e,t,n){n&&(e.tooltip=new dp({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Mx},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},WU=Object.freeze({__proto__:null,Colors:iU,Decimation:aU,Filler:SU,Legend:OU,SubTitle:LU,Title:NU,Tooltip:HU});const qU=(e,t,n,i)=>(typeof t=="string"?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function KU(e,t,n,i){const s=e.indexOf(t);if(s===-1)return qU(e,t,n,i);const r=e.lastIndexOf(t);return s!==r?n:s}const GU=(e,t)=>e===null?null:ve(Math.round(e),0,t);function Yb(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class pp extends dr{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:s,label:r}of n)i[s]===r&&i.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(xt(t))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===t?n:KU(i,t,gt(n,t),this._addedLabels),GU(n,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:i,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),n||(s=this.getLabels().length-1)),this.min=i,this.max=s}buildTicks(){const t=this.min,n=this.max,i=this.options.offset,s=[];let r=this.getLabels();r=t===0&&n===r.length-1?r:r.slice(t,n+1),this._valueRange=Math.max(r.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=t;o<=n;o++)s.push({value:o});return s}getLabelForValue(t){return Yb.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}F(pp,"id","category"),F(pp,"defaults",{ticks:{callback:Yb}});function YU(e,t){const n=[],{bounds:s,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:f}=e,d=r||1,p=u-1,{min:g,max:m}=t,_=!xt(o),y=!xt(a),w=!xt(c),E=(m-g)/(h+1);let I=jv((m-g)/p/d)*d,x,k,S,C;if(I<1e-14&&!_&&!y)return[{value:g},{value:m}];C=Math.ceil(m/I)-Math.floor(g/I),C>p&&(I=jv(C*I/p/d)*d),xt(l)||(x=Math.pow(10,l),I=Math.ceil(I*x)/x),s==="ticks"?(k=Math.floor(g/I)*I,S=Math.ceil(m/I)*I):(k=g,S=m),_&&y&&r&&j5((a-o)/r,I/1e3)?(C=Math.round(Math.min((a-o)/I,u)),I=(a-o)/C,k=o,S=a):w?(k=_?o:k,S=y?a:S,C=c-1,I=(S-k)/C):(C=(S-k)/I,ua(C,Math.round(C),I/1e3)?C=Math.round(C):C=Math.ceil(C));const $=Math.max(Hv(I),Hv(k));x=Math.pow(10,xt(l)?$:l),k=Math.round(k*x)/x,S=Math.round(S*x)/x;let U=0;for(_&&(f&&k!==o?(n.push({value:o}),k<o&&U++,ua(Math.round((k+U*I)*x)/x,o,Xb(o,E,e))&&U++):k<o&&U++);U<C;++U){const H=Math.round((k+U*I)*x)/x;if(y&&H>a)break;n.push({value:H})}return y&&f&&S!==a?n.length&&ua(n[n.length-1].value,a,Xb(a,E,e))?n[n.length-1].value=a:n.push({value:a}):(!y||S===a)&&n.push({value:S}),n}function Xb(e,t,{horizontal:n,minRotation:i}){const s=Tn(i),r=(n?Math.sin(s):Math.cos(s))||.001,o=.75*t*(""+e).length;return Math.min(t/r,o)}class Mu extends dr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return xt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:s,max:r}=this;const o=l=>s=n?s:l,a=l=>r=i?r:l;if(t){const l=Qn(s),c=Qn(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(s===r){let l=r===0?1:Math.abs(r*.05);a(r+l),t||o(s-l)}this.min=s,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=t,s;return i?(s=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const s={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=YU(s,r);return t.bounds==="ticks"&&zT(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const s=(i-n)/Math.max(t.length-1,1)/2;n-=s,i+=s}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(t){return Ml(t,this.chart.options.locale,this.options.ticks.format)}}class gp extends Mu{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Zt(t)?t:0,this.max=Zt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,i=Tn(this.options.ticks.minRotation),s=(t?Math.sin(i):Math.cos(i))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}F(gp,"id","linear"),F(gp,"defaults",{ticks:{callback:Bh.formatters.numeric}});const Xa=e=>Math.floor(ji(e)),Es=(e,t)=>Math.pow(10,Xa(e)+t);function Qb(e){return e/Math.pow(10,Xa(e))===1}function Jb(e,t,n){const i=Math.pow(10,n),s=Math.floor(e/i);return Math.ceil(t/i)-s}function XU(e,t){const n=t-e;let i=Xa(n);for(;Jb(e,t,i)>10;)i++;for(;Jb(e,t,i)<10;)i--;return Math.min(i,Xa(e))}function QU(e,{min:t,max:n}){t=nn(e.min,t);const i=[],s=Xa(t);let r=XU(t,n),o=r<0?Math.pow(10,Math.abs(r)):1;const a=Math.pow(10,r),l=s>r?Math.pow(10,s):0,c=Math.round((t-l)*o)/o,u=Math.floor((t-l)/a/10)*a*10;let h=Math.floor((c-u)/Math.pow(10,r)),f=nn(e.min,Math.round((l+u+h*Math.pow(10,r))*o)/o);for(;f<n;)i.push({value:f,major:Qb(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(r++,h=2,o=r>=0?1:o),f=Math.round((l+u+h*Math.pow(10,r))*o)/o;const d=nn(e.max,f);return i.push({value:d,major:Qb(d),significand:h}),i}class mp extends dr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,n){const i=Mu.prototype.parse.apply(this,[t,n]);if(i===0){this._zero=!0;return}return Zt(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Zt(t)?Math.max(0,t):null,this.max=Zt(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Zt(this._userMin)&&(this.min=t===Es(this.min,0)?Es(this.min,-1):Es(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let i=this.min,s=this.max;const r=a=>i=t?i:a,o=a=>s=n?s:a;i===s&&(i<=0?(r(1),o(10)):(r(Es(i,-1)),o(Es(s,1)))),i<=0&&r(Es(s,-1)),s<=0&&o(Es(i,1)),this.min=i,this.max=s}buildTicks(){const t=this.options,n={min:this._userMin,max:this._userMax},i=QU(n,this);return t.bounds==="ticks"&&zT(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":Ml(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=ji(t),this._valueRange=ji(this.max)-ji(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(ji(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const n=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+n*this._valueRange)}}F(mp,"id","logarithmic"),F(mp,"defaults",{ticks:{callback:Bh.formatters.logarithmic,major:{enabled:!0}}});function _p(e){const t=e.ticks;if(t.display&&e.display){const n=$e(t.backdropPadding);return gt(t.font&&t.font.size,ee.font.size)+n.height}return 0}function JU(e,t,n){return n=Ht(n)?n:[n],{w:o3(e,t.string,n),h:n.length*t.lineHeight}}function Zb(e,t,n,i,s){return e===i||e===s?{start:t-n/2,end:t+n/2}:e<i||e>s?{start:t-n,end:t}:{start:t,end:t+n}}function ZU(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),i=[],s=[],r=e._pointLabels.length,o=e.options.pointLabels,a=o.centerPointLabels?Yt/r:0;for(let l=0;l<r;l++){const c=o.setContext(e.getPointLabelContext(l));s[l]=c.padding;const u=e.getPointPosition(l,e.drawingArea+s[l],a),h=he(c.font),f=JU(e.ctx,h,e._pointLabels[l]);i[l]=f;const d=rn(e.getIndexAngle(l)+a),p=Math.round(Sm(d)),g=Zb(p,u.x,f.w,0,180),m=Zb(p,u.y,f.h,90,270);tB(n,t,d,g,m)}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=iB(e,i,s)}function tB(e,t,n,i,s){const r=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<t.l?(a=(t.l-i.start)/r,e.l=Math.min(e.l,t.l-a)):i.end>t.r&&(a=(i.end-t.r)/r,e.r=Math.max(e.r,t.r+a)),s.start<t.t?(l=(t.t-s.start)/o,e.t=Math.min(e.t,t.t-l)):s.end>t.b&&(l=(s.end-t.b)/o,e.b=Math.max(e.b,t.b+l))}function eB(e,t,n){const i=e.drawingArea,{extra:s,additionalAngle:r,padding:o,size:a}=n,l=e.getPointPosition(t,i+s+o,r),c=Math.round(Sm(rn(l.angle+te))),u=oB(l.y,a.h,c),h=sB(c),f=rB(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:f,top:u,right:f+a.w,bottom:u+a.h}}function nB(e,t){if(!t)return!0;const{left:n,top:i,right:s,bottom:r}=e;return!(gi({x:n,y:i},t)||gi({x:n,y:r},t)||gi({x:s,y:i},t)||gi({x:s,y:r},t))}function iB(e,t,n){const i=[],s=e._pointLabels.length,r=e.options,{centerPointLabels:o,display:a}=r.pointLabels,l={extra:_p(r)/2,additionalAngle:o?Yt/s:0};let c;for(let u=0;u<s;u++){l.padding=n[u],l.size=t[u];const h=eB(e,u,l);i.push(h),a==="auto"&&(h.visible=nB(h,c),h.visible&&(c=h))}return i}function sB(e){return e===0||e===180?"center":e<180?"left":"right"}function rB(e,t,n){return n==="right"?e-=t:n==="center"&&(e-=t/2),e}function oB(e,t,n){return n===90||n===270?e-=t/2:(n>270||n<90)&&(e-=t),e}function aB(e,t,n){const{left:i,top:s,right:r,bottom:o}=n,{backdropColor:a}=t;if(!xt(a)){const l=zs(t.borderRadius),c=$e(t.backdropPadding);e.fillStyle=a;const u=i-c.left,h=s-c.top,f=r-i+c.width,d=o-s+c.height;Object.values(l).some(p=>p!==0)?(e.beginPath(),Ga(e,{x:u,y:h,w:f,h:d,radius:l}),e.fill()):e.fillRect(u,h,f,d)}}function lB(e,t){const{ctx:n,options:{pointLabels:i}}=e;for(let s=t-1;s>=0;s--){const r=e._pointLabelItems[s];if(!r.visible)continue;const o=i.setContext(e.getPointLabelContext(s));aB(n,o,r);const a=he(o.font),{x:l,y:c,textAlign:u}=r;nr(n,e._pointLabels[s],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function Ox(e,t,n,i){const{ctx:s}=e;if(n)s.arc(e.xCenter,e.yCenter,t,0,Wt);else{let r=e.getPointPosition(0,t);s.moveTo(r.x,r.y);for(let o=1;o<i;o++)r=e.getPointPosition(o,t),s.lineTo(r.x,r.y)}}function cB(e,t,n,i,s){const r=e.ctx,o=t.circular,{color:a,lineWidth:l}=t;!o&&!i||!a||!l||n<0||(r.save(),r.strokeStyle=a,r.lineWidth=l,r.setLineDash(s.dash),r.lineDashOffset=s.dashOffset,r.beginPath(),Ox(e,n,o,i),r.closePath(),r.stroke(),r.restore())}function uB(e,t,n){return ms(e,{label:n,index:t,type:"pointLabel"})}class Ko extends Mu{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=$e(_p(this.options)/2),n=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+n/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:t,max:n}=this.getMinMax(!1);this.min=Zt(t)&&!isNaN(t)?t:0,this.max=Zt(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/_p(this.options))}generateTickLabels(t){Mu.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((n,i)=>{const s=Ft(this.options.pointLabels.callback,[n,i],this);return s||s===0?s:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?ZU(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,n,i,s){this.xCenter+=Math.floor((t-n)/2),this.yCenter+=Math.floor((i-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,n,i,s))}getIndexAngle(t){const n=Wt/(this._pointLabels.length||1),i=this.options.startAngle||0;return rn(t*n+Tn(i))}getDistanceFromCenterForValue(t){if(xt(t))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*n:(t-this.min)*n}getValueForDistanceFromCenter(t){if(xt(t))return NaN;const n=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(t){const n=this._pointLabels||[];if(t>=0&&t<n.length){const i=n[t];return uB(this.getContext(),t,i)}}getPointPosition(t,n,i=0){const s=this.getIndexAngle(t)-te+i;return{x:Math.cos(s)*n+this.xCenter,y:Math.sin(s)*n+this.yCenter,angle:s}}getPointPositionForValue(t,n){return this.getPointPosition(t,this.getDistanceFromCenterForValue(n))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:n,top:i,right:s,bottom:r}=this._pointLabelItems[t];return{left:n,top:i,right:s,bottom:r}}drawBackground(){const{backgroundColor:t,grid:{circular:n}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),Ox(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,n=this.options,{angleLines:i,grid:s,border:r}=n,o=this._pointLabels.length;let a,l,c;if(n.pointLabels.display&&lB(this,o),s.display&&this.ticks.forEach((u,h)=>{if(h!==0){l=this.getDistanceFromCenterForValue(u.value);const f=this.getContext(h),d=s.setContext(f),p=r.setContext(f);cB(this,d,l,o,p)}}),i.display){for(t.save(),a=o-1;a>=0;a--){const u=i.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:f}=u;!f||!h||(t.lineWidth=f,t.strokeStyle=h,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const s=this.getIndexAngle(0);let r,o;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&!n.reverse)return;const c=i.setContext(this.getContext(l)),u=he(c.font);if(r=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=u.string,o=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const h=$e(c.backdropPadding);t.fillRect(-o/2-h.left,-r-u.size/2-h.top,o+h.width,u.size+h.height)}nr(t,a.label,0,-r,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}F(Ko,"id","radialLinear"),F(Ko,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Bh.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),F(Ko,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),F(Ko,"descriptors",{angleLines:{_fallback:"grid"}});const Hh={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Je=Object.keys(Hh);function t0(e,t){return e-t}function e0(e,t){if(xt(t))return null;const n=e._adapter,{parser:i,round:s,isoWeekday:r}=e._parseOpts;let o=t;return typeof i=="function"&&(o=i(o)),Zt(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(s&&(o=s==="week"&&(Zr(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,s)),+o)}function n0(e,t,n,i){const s=Je.length;for(let r=Je.indexOf(e);r<s-1;++r){const o=Hh[Je[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=i)return Je[r]}return Je[s-1]}function hB(e,t,n,i,s){for(let r=Je.length-1;r>=Je.indexOf(n);r--){const o=Je[r];if(Hh[o].common&&e._adapter.diff(s,i,o)>=t-1)return o}return Je[n?Je.indexOf(n):0]}function fB(e){for(let t=Je.indexOf(e)+1,n=Je.length;t<n;++t)if(Hh[Je[t]].common)return Je[t]}function i0(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:i,hi:s}=km(n,t),r=n[i]>=t?n[i]:n[s];e[r]=!0}}function dB(e,t,n,i){const s=e._adapter,r=+s.startOf(t[0].value,i),o=t[t.length-1].value;let a,l;for(a=r;a<=o;a=+s.add(a,1,i))l=n[a],l>=0&&(t[l].major=!0);return t}function s0(e,t,n){const i=[],s={},r=t.length;let o,a;for(o=0;o<r;++o)a=t[o],s[a]=o,i.push({value:a,major:!1});return r===0||!n?i:dB(e,i,s,n)}class Qa extends dr{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const i=t.time||(t.time={}),s=this._adapter=new E6._date(t.adapters.date);s.init(n),ca(i.displayFormats,s.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:e0(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,i=t.time.unit||"day";let{min:s,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=Zt(s)&&!isNaN(s)?s:+n.startOf(Date.now(),i),r=Zt(r)&&!isNaN(r)?r:+n.endOf(Date.now(),i)+1,this.min=Math.min(s,r-1),this.max=Math.max(s+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],i=t[t.length-1]),{min:n,max:i}}buildTicks(){const t=this.options,n=t.time,i=t.ticks,s=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const r=this.min,o=this.max,a=K5(s,r,o);return this._unit=n.unit||(i.autoSkip?n0(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):hB(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:fB(this._unit),this.initOffsets(s),t.reverse&&a.reverse(),s0(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,i=0,s,r;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?n=1-s:n=(this.getDecimalForValue(t[1])-s)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?i=r:i=(r-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=ve(n,0,o),i=ve(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const t=this._adapter,n=this.min,i=this.max,s=this.options,r=s.time,o=r.unit||n0(r.minUnit,n,i,this._getLabelCapacity(n)),a=gt(s.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=Zr(l)||l===!0,u={};let h=n,f,d;if(c&&(h=+t.startOf(h,"isoWeek",l)),h=+t.startOf(h,c?"day":o),t.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const p=s.ticks.source==="data"&&this.getDataTimestamps();for(f=h,d=0;f<i;f=+t.add(f,a,o),d++)i0(u,f,p);return(f===i||s.bounds==="ticks"||d===1)&&i0(u,f,p),Object.keys(u).sort(t0).map(g=>+g)}getLabelForValue(t){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(t,i.tooltipFormat):n.format(t,i.displayFormats.datetime)}format(t,n){const s=this.options.time.displayFormats,r=this._unit,o=n||s[r];return this._adapter.format(t,o)}_tickFormatFunction(t,n,i,s){const r=this.options,o=r.ticks.callback;if(o)return Ft(o,[t,n,i],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],f=i[n],d=c&&h&&f&&f.major;return this._adapter.format(t,s||(d?h:u))}generateTickLabels(t){let n,i,s;for(n=0,i=t.length;n<i;++n)s=t[n],s.label=this._tickFormatFunction(s.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,i=this.ctx.measureText(t).width,s=Tn(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(s),o=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:i*r+a*o,h:i*o+a*r}}_getLabelCapacity(t){const n=this.options.time,i=n.displayFormats,s=i[n.unit]||i.millisecond,r=this._tickFormatFunction(t,0,s0(this,[t],this._majorUnit),s),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,i;if(t.length)return t;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,i=s.length;n<i;++n)t=t.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,i;if(t.length)return t;const s=this.getLabels();for(n=0,i=s.length;n<i;++n)t.push(e0(this,s[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return WT(t.sort(t0))}}F(Qa,"id","time"),F(Qa,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function dc(e,t,n){let i=0,s=e.length-1,r,o,a,l;n?(t>=e[i].pos&&t<=e[s].pos&&({lo:i,hi:s}=pi(e,"pos",t)),{pos:r,time:a}=e[i],{pos:o,time:l}=e[s]):(t>=e[i].time&&t<=e[s].time&&({lo:i,hi:s}=pi(e,"time",t)),{time:r,pos:a}=e[i],{time:o,pos:l}=e[s]);const c=o-r;return c?a+(l-a)*(t-r)/c:a}class yp extends Qa{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=dc(n,this.min),this._tableRange=dc(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:i}=this,s=[],r=[];let o,a,l,c,u;for(o=0,a=t.length;o<a;++o)c=t[o],c>=n&&c<=i&&s.push(c);if(s.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=s.length;o<a;++o)u=s[o+1],l=s[o-1],c=s[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const t=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((s,r)=>s-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?t=this.normalize(n.concat(i)):t=n.length?n:i,t=this._cache.all=t,t}getDecimalForValue(t){return(dc(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,i=this.getDecimalForPixel(t)/n.factor-n.end;return dc(this._table,i*this._tableRange+this._minPos,!0)}}F(yp,"id","timeseries"),F(yp,"defaults",Qa.defaults);var pB=Object.freeze({__proto__:null,CategoryScale:pp,LinearScale:gp,LogarithmicScale:mp,RadialLinearScale:Ko,TimeScale:Qa,TimeSeriesScale:yp});const gB=[w6,Q9,WU,pB];ai.register(...gB);const mB={class:"container center"},_B={class:"title"},yB={class:"bar-chart center"},vB={__name:"ChartCard",props:{title:"title",type:"bar",data:{type:Array,required:!0},values:{type:Array,equired:!0}},setup(e){const t=e,n=fs(),i=lt(null);return Gp(()=>{if(i.value){const s=i.value.getContext("2d");new ai(s,{type:t.type,data:{labels:t.data,datasets:[{data:t.values,borderWidth:1,borderColor:n.color,backgroundColor:n.color,pointBackgroundColor:n.color}]},options:{scales:{x:{ticks:{font:{size:18},color:"white"}},y:{beginAtZero:!1,ticks:{font:{size:18},color:"white"}}},plugins:{legend:{display:!1}}}})}}),(s,r)=>(pt(),wt("div",mB,[A("h1",_B,on(t.title),1),A("div",yB,[A("canvas",{ref_key:"chartCanvas",ref:i},null,512)])]))}},Gf=On(vB,[["__scopeId","data-v-86a77dec"]]);const bB={class:"page"},wB={class:"charts"},EB={__name:"Stats",setup(e){const t={title:"Bench Press",data:["Jan","Mar","Apr","May","Jun","Jul"],values:[100,115,120,125,130,145]},n={title:"Deadlift",data:["Jan","Mar","Apr","May","Jun","Jul"],values:[120,140,170,180,190,170]},i={title:"Squat",data:["Jan","Mar","Apr","May","Jun","Jul"],values:[120,130,140,150,160,150]};return(s,r)=>(pt(),wt("div",bB,[A("div",wB,[kt(Gf,{type:"line",title:t.title,data:t.data,values:t.values},null,8,["title","data","values"]),kt(Gf,{type:"bar",title:n.title,data:n.data,values:n.values},null,8,["title","data","values"]),kt(Gf,{type:"line",title:i.title,data:i.data,values:i.values},null,8,["title","data","values"])])]))}},IB=On(EB,[["__scopeId","data-v-320a3b2c"]]);const Pi=e=>(rr("data-v-d97fd209"),e=e(),or(),e),TB={class:"page"},xB=Pi(()=>A("h3",null,"You will achive your goals",-1)),AB={class:"data"},SB={class:"table"},kB={class:"title"},PB=Pi(()=>A("h1",null,"Current Data",-1)),RB={class:"card"},CB={class:"row"},MB=Pi(()=>A("p",null,"Height",-1)),OB={key:0},DB=["placeholder"],NB={class:"row"},LB=Pi(()=>A("p",null,"Weight",-1)),VB={key:0},FB=["placeholder"],UB={class:"row"},BB=Pi(()=>A("p",null,"IMC",-1)),$B={class:"config"},zB=Pi(()=>A("h1",null,"Configuration",-1)),jB={class:"options center"},HB={key:0,class:"change center"},WB=Pi(()=>A("p",null,"Change Username",-1)),qB=["placeholder"],KB={key:1,class:"change center"},GB=Pi(()=>A("p",null," Change Password ",-1)),YB={class:"password"},XB=["type"],QB={class:"password"},JB=["type"],ZB={key:0,class:"save"},t$={class:"changeTheme center"},e$=Pi(()=>A("p",null,"Change Theme",-1)),n$={__name:"User",setup(e){const t=fs(),n=Ju(),i=lt(t.color),s=lt(!1),r=lt(t.height),o=lt(t.weight),a=lt(),l=lt(),c=lt(Math.round(o.value/Math.pow(r.value/100,2))),u=()=>{isNaN(a.value)||(R4(Gt.currentUser.uid,a.value),s.value=!1),isNaN(l.value)||(C4(Gt.currentUser.uid,l.value),s.value=!1)},h=lt(!1),f=lt(""),d=lt(""),p=lt("");Kn(i,y=>{t.color=y,k4(Gt.currentUser.uid,y)});const g=()=>{t.username=f.value,P4(Gt.currentUser.uid,f.value),f.value=""},m=()=>{fV(Gt)},_=()=>{try{M4(Gt.currentUser.uid)}catch(y){console.log("Error al eliminar cuenta",y)}finally{n.push({path:"/"})}};return(y,w)=>{const E=ao("font-awesome-icon");return pt(),wt("div",TB,[A("header",null,[A("h1",null,"Hi, "+on(Rt(t).username),1),xB]),A("section",AB,[A("div",SB,[A("div",kB,[PB,kt(E,{class:sl(s.value?"text-orange":"text-white"),icon:"fa-pen-to-square",onClick:w[0]||(w[0]=I=>s.value=!s.value),alt:"eyePassword"},null,8,["class"])]),A("div",RB,[A("div",CB,[MB,s.value?Ie("",!0):(pt(),wt("p",OB,on(Rt(t).height),1)),s.value?ge((pt(),wt("input",{key:1,type:"text",placeholder:r.value,"onUpdate:modelValue":w[1]||(w[1]=I=>a.value=I)},null,8,DB)),[[Xe,a.value]]):Ie("",!0)]),A("div",NB,[LB,s.value?Ie("",!0):(pt(),wt("p",VB,on(Rt(t).weight),1)),s.value?ge((pt(),wt("input",{key:1,type:"text",placeholder:o.value,"onUpdate:modelValue":w[2]||(w[2]=I=>l.value=I)},null,8,FB)),[[Xe,l.value]]):Ie("",!0)]),A("div",UB,[BB,A("p",null,on(c.value),1)])])]),s.value?(pt(),wt("button",{key:0,class:"save",onClick:u}," save ")):Ie("",!0)]),A("section",$B,[zB,A("div",jB,[Rt(Gt).currentUser.providerData[0].providerId!="google.com"?(pt(),wt("div",HB,[WB,ge(A("input",{type:"username",placeholder:Rt(t).username,name:"",id:"","onUpdate:modelValue":w[3]||(w[3]=I=>f.value=I)},null,8,qB),[[Xe,f.value]]),f.value?(pt(),wt("button",{key:0,class:"save",onClick:g}," save ")):Ie("",!0)])):Ie("",!0),Rt(Gt).currentUser.providerData[0].providerId!="google.com"?(pt(),wt("div",KB,[GB,A("div",YB,[ge(A("input",{placeholder:"Current Password",type:h.value?"text":"password","onUpdate:modelValue":w[4]||(w[4]=I=>d.value=I)},null,8,XB),[[Ta,d.value]]),kt(E,{class:"eye",icon:h.value?"eye-slash":"eye",onClick:w[5]||(w[5]=I=>h.value=!h.value),alt:"eyePassword"},null,8,["icon"])]),A("div",QB,[ge(A("input",{placeholder:"New Password",type:h.value?"text":"password","onUpdate:modelValue":w[6]||(w[6]=I=>p.value=I)},null,8,JB),[[Ta,p.value]])]),d.value&&p.value&&d.value===p.value?(pt(),wt("button",ZB," save ")):Ie("",!0)])):Ie("",!0),A("div",t$,[e$,A("div",null,[ge(A("input",{type:"color",class:"colorSelector","onUpdate:modelValue":w[7]||(w[7]=I=>i.value=I)},null,512),[[Xe,i.value]]),A("p",null,on(i.value),1)])]),A("div",{class:"buttons center"},[A("button",{onClick:m},"logout"),A("button",{class:"deleteAcc",onClick:_},"Delete Account")])])])])}}},i$=On(n$,[["__scopeId","data-v-d97fd209"]]),Dx=qP({history:uP("/Flex/"),routes:[{path:"/",name:"home",component:q4,hasTitle:!1,meta:{requiresAuth:!1}},{path:"/signup",name:"signup",component:lF,hasTitle:!1,meta:{requiresAuth:!1}},{path:"/login",name:"login",component:wF,hasTitle:!1,meta:{requiresAuth:!1}},{path:"/workouts",name:"workouts",component:u5,hasTitle:!0,meta:{requiresAuth:!0}},{path:"/stats",name:"stats",component:IB,hasTitle:!0,meta:{requiresAuth:!0}},{path:"/user",name:"user",component:i$,hasTitle:!0,meta:{requiresAuth:!0}}]});Dx.beforeEach((e,t,n)=>{e.matched.some(i=>i.meta.requiresAuth)?Gt.currentUser?n():(console.log("forbidden"),n("/")):n()});function r0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r0(Object(n),!0).forEach(function(i){de(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r0(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Ou(e){"@babel/helpers - typeof";return Ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ou(e)}function s$(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o0(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r$(e,t,n){return t&&o0(e.prototype,t),n&&o0(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Um(e,t){return a$(e)||c$(e,t)||Nx(e,t)||h$()}function Dl(e){return o$(e)||l$(e)||Nx(e)||u$()}function o$(e){if(Array.isArray(e))return vp(e)}function a$(e){if(Array.isArray(e))return e}function l$(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function c$(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var i=[],s=!0,r=!1,o,a;try{for(n=n.call(e);!(s=(o=n.next()).done)&&(i.push(o.value),!(t&&i.length===t));s=!0);}catch(l){r=!0,a=l}finally{try{!s&&n.return!=null&&n.return()}finally{if(r)throw a}}return i}}function Nx(e,t){if(e){if(typeof e=="string")return vp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vp(e,t)}}function vp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function u$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a0=function(){},Bm={},Lx={},Vx=null,Fx={mark:a0,measure:a0};try{typeof window<"u"&&(Bm=window),typeof document<"u"&&(Lx=document),typeof MutationObserver<"u"&&(Vx=MutationObserver),typeof performance<"u"&&(Fx=performance)}catch{}var f$=Bm.navigator||{},l0=f$.userAgent,c0=l0===void 0?"":l0,cs=Bm,qt=Lx,u0=Vx,pc=Fx;cs.document;var Ri=!!qt.documentElement&&!!qt.head&&typeof qt.addEventListener=="function"&&typeof qt.createElement=="function",Ux=~c0.indexOf("MSIE")||~c0.indexOf("Trident/"),gc,mc,_c,yc,vc,Ii="___FONT_AWESOME___",bp=16,Bx="fa",$x="svg-inline--fa",ir="data-fa-i2svg",wp="data-fa-pseudo-element",d$="data-fa-pseudo-element-pending",$m="data-prefix",zm="data-icon",h0="fontawesome-i2svg",p$="async",g$=["HTML","HEAD","STYLE","SCRIPT"],zx=function(){try{return!0}catch{return!1}}(),$t="classic",Jt="sharp",jm=[$t,Jt];function Nl(e){return new Proxy(e,{get:function(n,i){return i in n?n[i]:n[$t]}})}var Ja=Nl((gc={},de(gc,$t,{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit"}),de(gc,Jt,{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light"}),gc)),Za=Nl((mc={},de(mc,$t,{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"}),de(mc,Jt,{solid:"fass",regular:"fasr",light:"fasl"}),mc)),tl=Nl((_c={},de(_c,$t,{fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"}),de(_c,Jt,{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light"}),_c)),m$=Nl((yc={},de(yc,$t,{"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"}),de(yc,Jt,{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl"}),yc)),_$=/fa(s|r|l|t|d|b|k|ss|sr|sl)?[\-\ ]/,jx="fa-layers-text",y$=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp|Kit)?.*/i,v$=Nl((vc={},de(vc,$t,{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"}),de(vc,Jt,{900:"fass",400:"fasr",300:"fasl"}),vc)),Hx=[1,2,3,4,5,6,7,8,9,10],b$=Hx.concat([11,12,13,14,15,16,17,18,19,20]),w$=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Ls={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},el=new Set;Object.keys(Za[$t]).map(el.add.bind(el));Object.keys(Za[Jt]).map(el.add.bind(el));var E$=[].concat(jm,Dl(el),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",Ls.GROUP,Ls.SWAP_OPACITY,Ls.PRIMARY,Ls.SECONDARY]).concat(Hx.map(function(e){return"".concat(e,"x")})).concat(b$.map(function(e){return"w-".concat(e)})),pa=cs.FontAwesomeConfig||{};function I$(e){var t=qt.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}function T$(e){return e===""?!0:e==="false"?!1:e==="true"?!0:e}if(qt&&typeof qt.querySelector=="function"){var x$=[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];x$.forEach(function(e){var t=Um(e,2),n=t[0],i=t[1],s=T$(I$(n));s!=null&&(pa[i]=s)})}var Wx={styleDefault:"solid",familyDefault:"classic",cssPrefix:Bx,replacementClass:$x,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};pa.familyPrefix&&(pa.cssPrefix=pa.familyPrefix);var no=q(q({},Wx),pa);no.autoReplaceSvg||(no.observeMutations=!1);var X={};Object.keys(Wx).forEach(function(e){Object.defineProperty(X,e,{enumerable:!0,set:function(n){no[e]=n,ga.forEach(function(i){return i(X)})},get:function(){return no[e]}})});Object.defineProperty(X,"familyPrefix",{enumerable:!0,set:function(t){no.cssPrefix=t,ga.forEach(function(n){return n(X)})},get:function(){return no.cssPrefix}});cs.FontAwesomeConfig=X;var ga=[];function A$(e){return ga.push(e),function(){ga.splice(ga.indexOf(e),1)}}var Di=bp,qn={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function S$(e){if(!(!e||!Ri)){var t=qt.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=qt.head.childNodes,i=null,s=n.length-1;s>-1;s--){var r=n[s],o=(r.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(i=r)}return qt.head.insertBefore(t,i),e}}var k$="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function nl(){for(var e=12,t="";e-- >0;)t+=k$[Math.random()*62|0];return t}function bo(e){for(var t=[],n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function Hm(e){return e.classList?bo(e.classList):(e.getAttribute("class")||"").split(" ").filter(function(t){return t})}function qx(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function P$(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,'="').concat(qx(e[n]),'" ')},"").trim()}function Wh(e){return Object.keys(e||{}).reduce(function(t,n){return t+"".concat(n,": ").concat(e[n].trim(),";")},"")}function Wm(e){return e.size!==qn.size||e.x!==qn.x||e.y!==qn.y||e.rotate!==qn.rotate||e.flipX||e.flipY}function R$(e){var t=e.transform,n=e.containerWidth,i=e.iconWidth,s={transform:"translate(".concat(n/2," 256)")},r="translate(".concat(t.x*32,", ").concat(t.y*32,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),a="rotate(".concat(t.rotate," 0 0)"),l={transform:"".concat(r," ").concat(o," ").concat(a)},c={transform:"translate(".concat(i/2*-1," -256)")};return{outer:s,inner:l,path:c}}function C$(e){var t=e.transform,n=e.width,i=n===void 0?bp:n,s=e.height,r=s===void 0?bp:s,o=e.startCentered,a=o===void 0?!1:o,l="";return a&&Ux?l+="translate(".concat(t.x/Di-i/2,"em, ").concat(t.y/Di-r/2,"em) "):a?l+="translate(calc(-50% + ".concat(t.x/Di,"em), calc(-50% + ").concat(t.y/Di,"em)) "):l+="translate(".concat(t.x/Di,"em, ").concat(t.y/Di,"em) "),l+="scale(".concat(t.size/Di*(t.flipX?-1:1),", ").concat(t.size/Di*(t.flipY?-1:1),") "),l+="rotate(".concat(t.rotate,"deg) "),l}var M$=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  -webkit-transform-origin: center center;
          transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-counter-scale, 0.25));
          transform: scale(var(--fa-counter-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom right;
          transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: bottom left;
          transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top right;
          transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  -webkit-transform: scale(var(--fa-layers-scale, 0.25));
          transform: scale(var(--fa-layers-scale, 0.25));
  -webkit-transform-origin: top left;
          transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(var(--fa-li-width, 2em) * -1);
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  -webkit-animation-name: fa-beat;
          animation-name: fa-beat;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  -webkit-animation-name: fa-bounce;
          animation-name: fa-bounce;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  -webkit-animation-name: fa-fade;
          animation-name: fa-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  -webkit-animation-name: fa-beat-fade;
          animation-name: fa-beat-fade;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  -webkit-animation-name: fa-flip;
          animation-name: fa-flip;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);
          animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  -webkit-animation-name: fa-shake;
          animation-name: fa-shake;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-delay: var(--fa-animation-delay, 0s);
          animation-delay: var(--fa-animation-delay, 0s);
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 2s);
          animation-duration: var(--fa-animation-duration, 2s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, linear);
          animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  -webkit-animation-name: fa-spin;
          animation-name: fa-spin;
  -webkit-animation-direction: var(--fa-animation-direction, normal);
          animation-direction: var(--fa-animation-direction, normal);
  -webkit-animation-duration: var(--fa-animation-duration, 1s);
          animation-duration: var(--fa-animation-duration, 1s);
  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);
          animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));
          animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    -webkit-animation-delay: -1ms;
            animation-delay: -1ms;
    -webkit-animation-duration: 1ms;
            animation-duration: 1ms;
    -webkit-animation-iteration-count: 1;
            animation-iteration-count: 1;
    -webkit-transition-delay: 0s;
            transition-delay: 0s;
    -webkit-transition-duration: 0s;
            transition-duration: 0s;
  }
}
@-webkit-keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-beat {
  0%, 90% {
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  45% {
    -webkit-transform: scale(var(--fa-beat-scale, 1.25));
            transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@-webkit-keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-bounce {
  0% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  10% {
    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
  100% {
    -webkit-transform: scale(1, 1) translateY(0);
            transform: scale(1, 1) translateY(0);
  }
}
@-webkit-keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@-webkit-keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    -webkit-transform: scale(1);
            transform: scale(1);
  }
  50% {
    opacity: 1;
    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));
            transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@-webkit-keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-flip {
  50% {
    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@-webkit-keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@keyframes fa-shake {
  0% {
    -webkit-transform: rotate(-15deg);
            transform: rotate(-15deg);
  }
  4% {
    -webkit-transform: rotate(15deg);
            transform: rotate(15deg);
  }
  8%, 24% {
    -webkit-transform: rotate(-18deg);
            transform: rotate(-18deg);
  }
  12%, 28% {
    -webkit-transform: rotate(18deg);
            transform: rotate(18deg);
  }
  16% {
    -webkit-transform: rotate(-22deg);
            transform: rotate(-22deg);
  }
  20% {
    -webkit-transform: rotate(22deg);
            transform: rotate(22deg);
  }
  32% {
    -webkit-transform: rotate(-12deg);
            transform: rotate(-12deg);
  }
  36% {
    -webkit-transform: rotate(12deg);
            transform: rotate(12deg);
  }
  40%, 100% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
            transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(360deg);
            transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  -webkit-transform: rotate(90deg);
          transform: rotate(90deg);
}

.fa-rotate-180 {
  -webkit-transform: rotate(180deg);
          transform: rotate(180deg);
}

.fa-rotate-270 {
  -webkit-transform: rotate(270deg);
          transform: rotate(270deg);
}

.fa-flip-horizontal {
  -webkit-transform: scale(-1, 1);
          transform: scale(-1, 1);
}

.fa-flip-vertical {
  -webkit-transform: scale(1, -1);
          transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  -webkit-transform: scale(-1, -1);
          transform: scale(-1, -1);
}

.fa-rotate-by {
  -webkit-transform: rotate(var(--fa-rotate-angle, none));
          transform: rotate(var(--fa-rotate-angle, none));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function Kx(){var e=Bx,t=$x,n=X.cssPrefix,i=X.replacementClass,s=M$;if(n!==e||i!==t){var r=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),a=new RegExp("\\.".concat(t),"g");s=s.replace(r,".".concat(n,"-")).replace(o,"--".concat(n,"-")).replace(a,".".concat(i))}return s}var f0=!1;function Yf(){X.autoAddCss&&!f0&&(S$(Kx()),f0=!0)}var O$={mixout:function(){return{dom:{css:Kx,insertCss:Yf}}},hooks:function(){return{beforeDOMElementCreation:function(){Yf()},beforeI2svg:function(){Yf()}}}},Ti=cs||{};Ti[Ii]||(Ti[Ii]={});Ti[Ii].styles||(Ti[Ii].styles={});Ti[Ii].hooks||(Ti[Ii].hooks={});Ti[Ii].shims||(Ti[Ii].shims=[]);var xn=Ti[Ii],Gx=[],D$=function e(){qt.removeEventListener("DOMContentLoaded",e),Du=1,Gx.map(function(t){return t()})},Du=!1;Ri&&(Du=(qt.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(qt.readyState),Du||qt.addEventListener("DOMContentLoaded",D$));function N$(e){Ri&&(Du?setTimeout(e,0):Gx.push(e))}function Ll(e){var t=e.tag,n=e.attributes,i=n===void 0?{}:n,s=e.children,r=s===void 0?[]:s;return typeof e=="string"?qx(e):"<".concat(t," ").concat(P$(i),">").concat(r.map(Ll).join(""),"</").concat(t,">")}function d0(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}var L$=function(t,n){return function(i,s,r,o){return t.call(n,i,s,r,o)}},Xf=function(t,n,i,s){var r=Object.keys(t),o=r.length,a=s!==void 0?L$(n,s):n,l,c,u;for(i===void 0?(l=1,u=t[r[0]]):(l=0,u=i);l<o;l++)c=r[l],u=a(u,t[c],c,t);return u};function V$(e){for(var t=[],n=0,i=e.length;n<i;){var s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<i){var r=e.charCodeAt(n++);(r&64512)==56320?t.push(((s&1023)<<10)+(r&1023)+65536):(t.push(s),n--)}else t.push(s)}return t}function Ep(e){var t=V$(e);return t.length===1?t[0].toString(16):null}function F$(e,t){var n=e.length,i=e.charCodeAt(t),s;return i>=55296&&i<=56319&&n>t+1&&(s=e.charCodeAt(t+1),s>=56320&&s<=57343)?(i-55296)*1024+s-56320+65536:i}function p0(e){return Object.keys(e).reduce(function(t,n){var i=e[n],s=!!i.icon;return s?t[i.iconName]=i.icon:t[n]=i,t},{})}function Ip(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.skipHooks,s=i===void 0?!1:i,r=p0(t);typeof xn.hooks.addPack=="function"&&!s?xn.hooks.addPack(e,p0(t)):xn.styles[e]=q(q({},xn.styles[e]||{}),r),e==="fas"&&Ip("fa",t)}var bc,wc,Ec,Tr=xn.styles,U$=xn.shims,B$=(bc={},de(bc,$t,Object.values(tl[$t])),de(bc,Jt,Object.values(tl[Jt])),bc),qm=null,Yx={},Xx={},Qx={},Jx={},Zx={},$$=(wc={},de(wc,$t,Object.keys(Ja[$t])),de(wc,Jt,Object.keys(Ja[Jt])),wc);function z$(e){return~E$.indexOf(e)}function j$(e,t){var n=t.split("-"),i=n[0],s=n.slice(1).join("-");return i===e&&s!==""&&!z$(s)?s:null}var tA=function(){var t=function(r){return Xf(Tr,function(o,a,l){return o[l]=Xf(a,r,{}),o},{})};Yx=t(function(s,r,o){if(r[3]&&(s[r[3]]=o),r[2]){var a=r[2].filter(function(l){return typeof l=="number"});a.forEach(function(l){s[l.toString(16)]=o})}return s}),Xx=t(function(s,r,o){if(s[o]=o,r[2]){var a=r[2].filter(function(l){return typeof l=="string"});a.forEach(function(l){s[l]=o})}return s}),Zx=t(function(s,r,o){var a=r[2];return s[o]=o,a.forEach(function(l){s[l]=o}),s});var n="far"in Tr||X.autoFetchSvg,i=Xf(U$,function(s,r){var o=r[0],a=r[1],l=r[2];return a==="far"&&!n&&(a="fas"),typeof o=="string"&&(s.names[o]={prefix:a,iconName:l}),typeof o=="number"&&(s.unicodes[o.toString(16)]={prefix:a,iconName:l}),s},{names:{},unicodes:{}});Qx=i.names,Jx=i.unicodes,qm=qh(X.styleDefault,{family:X.familyDefault})};A$(function(e){qm=qh(e.styleDefault,{family:X.familyDefault})});tA();function Km(e,t){return(Yx[e]||{})[t]}function H$(e,t){return(Xx[e]||{})[t]}function Vs(e,t){return(Zx[e]||{})[t]}function eA(e){return Qx[e]||{prefix:null,iconName:null}}function W$(e){var t=Jx[e],n=Km("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function us(){return qm}var Gm=function(){return{prefix:null,iconName:null,rest:[]}};function qh(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.family,i=n===void 0?$t:n,s=Ja[i][e],r=Za[i][e]||Za[i][s],o=e in xn.styles?e:null;return r||o||null}var g0=(Ec={},de(Ec,$t,Object.keys(tl[$t])),de(Ec,Jt,Object.keys(tl[Jt])),Ec);function Kh(e){var t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.skipLookups,s=i===void 0?!1:i,r=(t={},de(t,$t,"".concat(X.cssPrefix,"-").concat($t)),de(t,Jt,"".concat(X.cssPrefix,"-").concat(Jt)),t),o=null,a=$t;(e.includes(r[$t])||e.some(function(c){return g0[$t].includes(c)}))&&(a=$t),(e.includes(r[Jt])||e.some(function(c){return g0[Jt].includes(c)}))&&(a=Jt);var l=e.reduce(function(c,u){var h=j$(X.cssPrefix,u);if(Tr[u]?(u=B$[a].includes(u)?m$[a][u]:u,o=u,c.prefix=u):$$[a].indexOf(u)>-1?(o=u,c.prefix=qh(u,{family:a})):h?c.iconName=h:u!==X.replacementClass&&u!==r[$t]&&u!==r[Jt]&&c.rest.push(u),!s&&c.prefix&&c.iconName){var f=o==="fa"?eA(c.iconName):{},d=Vs(c.prefix,c.iconName);f.prefix&&(o=null),c.iconName=f.iconName||d||c.iconName,c.prefix=f.prefix||c.prefix,c.prefix==="far"&&!Tr.far&&Tr.fas&&!X.autoFetchSvg&&(c.prefix="fas")}return c},Gm());return(e.includes("fa-brands")||e.includes("fab"))&&(l.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(l.prefix="fad"),!l.prefix&&a===Jt&&(Tr.fass||X.autoFetchSvg)&&(l.prefix="fass",l.iconName=Vs(l.prefix,l.iconName)||l.iconName),(l.prefix==="fa"||o==="fa")&&(l.prefix=us()||"fas"),l}var q$=function(){function e(){s$(this,e),this.definitions={}}return r$(e,[{key:"add",value:function(){for(var n=this,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];var o=s.reduce(this._pullDefinitions,{});Object.keys(o).forEach(function(a){n.definitions[a]=q(q({},n.definitions[a]||{}),o[a]),Ip(a,o[a]);var l=tl[$t][a];l&&Ip(l,o[a]),tA()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(n,i){var s=i.prefix&&i.iconName&&i.icon?{0:i}:i;return Object.keys(s).map(function(r){var o=s[r],a=o.prefix,l=o.iconName,c=o.icon,u=c[2];n[a]||(n[a]={}),u.length>0&&u.forEach(function(h){typeof h=="string"&&(n[a][h]=c)}),n[a][l]=c}),n}}]),e}(),m0=[],xr={},Lr={},K$=Object.keys(Lr);function G$(e,t){var n=t.mixoutsTo;return m0=e,xr={},Object.keys(Lr).forEach(function(i){K$.indexOf(i)===-1&&delete Lr[i]}),m0.forEach(function(i){var s=i.mixout?i.mixout():{};if(Object.keys(s).forEach(function(o){typeof s[o]=="function"&&(n[o]=s[o]),Ou(s[o])==="object"&&Object.keys(s[o]).forEach(function(a){n[o]||(n[o]={}),n[o][a]=s[o][a]})}),i.hooks){var r=i.hooks();Object.keys(r).forEach(function(o){xr[o]||(xr[o]=[]),xr[o].push(r[o])})}i.provides&&i.provides(Lr)}),n}function Tp(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];var r=xr[e]||[];return r.forEach(function(o){t=o.apply(null,[t].concat(i))}),t}function sr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var s=xr[e]||[];s.forEach(function(r){r.apply(null,n)})}function xi(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Lr[e]?Lr[e].apply(null,t):void 0}function xp(e){e.prefix==="fa"&&(e.prefix="fas");var t=e.iconName,n=e.prefix||us();if(t)return t=Vs(n,t)||t,d0(nA.definitions,n,t)||d0(xn.styles,n,t)}var nA=new q$,Y$=function(){X.autoReplaceSvg=!1,X.observeMutations=!1,sr("noAuto")},X$={i2svg:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Ri?(sr("beforeI2svg",t),xi("pseudoElements2svg",t),xi("i2svg",t)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.autoReplaceSvgRoot;X.autoReplaceSvg===!1&&(X.autoReplaceSvg=!0),X.observeMutations=!0,N$(function(){J$({autoReplaceSvgRoot:n}),sr("watch",t)})}},Q$={icon:function(t){if(t===null)return null;if(Ou(t)==="object"&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:Vs(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&t.length===2){var n=t[1].indexOf("fa-")===0?t[1].slice(3):t[1],i=qh(t[0]);return{prefix:i,iconName:Vs(i,n)||n}}if(typeof t=="string"&&(t.indexOf("".concat(X.cssPrefix,"-"))>-1||t.match(_$))){var s=Kh(t.split(" "),{skipLookups:!0});return{prefix:s.prefix||us(),iconName:Vs(s.prefix,s.iconName)||s.iconName}}if(typeof t=="string"){var r=us();return{prefix:r,iconName:Vs(r,t)||t}}}},hn={noAuto:Y$,config:X,dom:X$,parse:Q$,library:nA,findIconDefinition:xp,toHtml:Ll},J$=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.autoReplaceSvgRoot,i=n===void 0?qt:n;(Object.keys(xn.styles).length>0||X.autoFetchSvg)&&Ri&&X.autoReplaceSvg&&hn.dom.i2svg({node:i})};function Gh(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(function(i){return Ll(i)})}}),Object.defineProperty(e,"node",{get:function(){if(Ri){var i=qt.createElement("div");return i.innerHTML=e.html,i.children}}}),e}function Z$(e){var t=e.children,n=e.main,i=e.mask,s=e.attributes,r=e.styles,o=e.transform;if(Wm(o)&&n.found&&!i.found){var a=n.width,l=n.height,c={x:a/l/2,y:.5};s.style=Wh(q(q({},r),{},{"transform-origin":"".concat(c.x+o.x/16,"em ").concat(c.y+o.y/16,"em")}))}return[{tag:"svg",attributes:s,children:t}]}function tz(e){var t=e.prefix,n=e.iconName,i=e.children,s=e.attributes,r=e.symbol,o=r===!0?"".concat(t,"-").concat(X.cssPrefix,"-").concat(n):r;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:q(q({},s),{},{id:o}),children:i}]}]}function Ym(e){var t=e.icons,n=t.main,i=t.mask,s=e.prefix,r=e.iconName,o=e.transform,a=e.symbol,l=e.title,c=e.maskId,u=e.titleId,h=e.extra,f=e.watchable,d=f===void 0?!1:f,p=i.found?i:n,g=p.width,m=p.height,_=s==="fak",y=[X.replacementClass,r?"".concat(X.cssPrefix,"-").concat(r):""].filter(function(C){return h.classes.indexOf(C)===-1}).filter(function(C){return C!==""||!!C}).concat(h.classes).join(" "),w={children:[],attributes:q(q({},h.attributes),{},{"data-prefix":s,"data-icon":r,class:y,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(m)})},E=_&&!~h.classes.indexOf("fa-fw")?{width:"".concat(g/m*16*.0625,"em")}:{};d&&(w.attributes[ir]=""),l&&(w.children.push({tag:"title",attributes:{id:w.attributes["aria-labelledby"]||"title-".concat(u||nl())},children:[l]}),delete w.attributes.title);var I=q(q({},w),{},{prefix:s,iconName:r,main:n,mask:i,maskId:c,transform:o,symbol:a,styles:q(q({},E),h.styles)}),x=i.found&&n.found?xi("generateAbstractMask",I)||{children:[],attributes:{}}:xi("generateAbstractIcon",I)||{children:[],attributes:{}},k=x.children,S=x.attributes;return I.children=k,I.attributes=S,a?tz(I):Z$(I)}function _0(e){var t=e.content,n=e.width,i=e.height,s=e.transform,r=e.title,o=e.extra,a=e.watchable,l=a===void 0?!1:a,c=q(q(q({},o.attributes),r?{title:r}:{}),{},{class:o.classes.join(" ")});l&&(c[ir]="");var u=q({},o.styles);Wm(s)&&(u.transform=C$({transform:s,startCentered:!0,width:n,height:i}),u["-webkit-transform"]=u.transform);var h=Wh(u);h.length>0&&(c.style=h);var f=[];return f.push({tag:"span",attributes:c,children:[t]}),r&&f.push({tag:"span",attributes:{class:"sr-only"},children:[r]}),f}function ez(e){var t=e.content,n=e.title,i=e.extra,s=q(q(q({},i.attributes),n?{title:n}:{}),{},{class:i.classes.join(" ")}),r=Wh(i.styles);r.length>0&&(s.style=r);var o=[];return o.push({tag:"span",attributes:s,children:[t]}),n&&o.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),o}var Qf=xn.styles;function Ap(e){var t=e[0],n=e[1],i=e.slice(4),s=Um(i,1),r=s[0],o=null;return Array.isArray(r)?o={tag:"g",attributes:{class:"".concat(X.cssPrefix,"-").concat(Ls.GROUP)},children:[{tag:"path",attributes:{class:"".concat(X.cssPrefix,"-").concat(Ls.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(X.cssPrefix,"-").concat(Ls.PRIMARY),fill:"currentColor",d:r[1]}}]}:o={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:t,height:n,icon:o}}var nz={found:!1,width:512,height:512};function iz(e,t){!zx&&!X.showMissingIcons&&e&&console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}function Sp(e,t){var n=t;return t==="fa"&&X.styleDefault!==null&&(t=us()),new Promise(function(i,s){if(xi("missingIconAbstract"),n==="fa"){var r=eA(e)||{};e=r.iconName||e,t=r.prefix||t}if(e&&t&&Qf[t]&&Qf[t][e]){var o=Qf[t][e];return i(Ap(o))}iz(e,t),i(q(q({},nz),{},{icon:X.showMissingIcons&&e?xi("missingIconAbstract")||{}:{}}))})}var y0=function(){},kp=X.measurePerformance&&pc&&pc.mark&&pc.measure?pc:{mark:y0,measure:y0},Go='FA "6.4.2"',sz=function(t){return kp.mark("".concat(Go," ").concat(t," begins")),function(){return iA(t)}},iA=function(t){kp.mark("".concat(Go," ").concat(t," ends")),kp.measure("".concat(Go," ").concat(t),"".concat(Go," ").concat(t," begins"),"".concat(Go," ").concat(t," ends"))},Xm={begin:sz,end:iA},qc=function(){};function v0(e){var t=e.getAttribute?e.getAttribute(ir):null;return typeof t=="string"}function rz(e){var t=e.getAttribute?e.getAttribute($m):null,n=e.getAttribute?e.getAttribute(zm):null;return t&&n}function oz(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(X.replacementClass)}function az(){if(X.autoReplaceSvg===!0)return Kc.replace;var e=Kc[X.autoReplaceSvg];return e||Kc.replace}function lz(e){return qt.createElementNS("http://www.w3.org/2000/svg",e)}function cz(e){return qt.createElement(e)}function sA(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.ceFn,i=n===void 0?e.tag==="svg"?lz:cz:n;if(typeof e=="string")return qt.createTextNode(e);var s=i(e.tag);Object.keys(e.attributes||[]).forEach(function(o){s.setAttribute(o,e.attributes[o])});var r=e.children||[];return r.forEach(function(o){s.appendChild(sA(o,{ceFn:i}))}),s}function uz(e){var t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}var Kc={replace:function(t){var n=t[0];if(n.parentNode)if(t[1].forEach(function(s){n.parentNode.insertBefore(sA(s),n)}),n.getAttribute(ir)===null&&X.keepOriginalSource){var i=qt.createComment(uz(n));n.parentNode.replaceChild(i,n)}else n.remove()},nest:function(t){var n=t[0],i=t[1];if(~Hm(n).indexOf(X.replacementClass))return Kc.replace(t);var s=new RegExp("".concat(X.cssPrefix,"-.*"));if(delete i[0].attributes.id,i[0].attributes.class){var r=i[0].attributes.class.split(" ").reduce(function(a,l){return l===X.replacementClass||l.match(s)?a.toSvg.push(l):a.toNode.push(l),a},{toNode:[],toSvg:[]});i[0].attributes.class=r.toSvg.join(" "),r.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",r.toNode.join(" "))}var o=i.map(function(a){return Ll(a)}).join(`
`);n.setAttribute(ir,""),n.innerHTML=o}};function b0(e){e()}function rA(e,t){var n=typeof t=="function"?t:qc;if(e.length===0)n();else{var i=b0;X.mutateApproach===p$&&(i=cs.requestAnimationFrame||b0),i(function(){var s=az(),r=Xm.begin("mutate");e.map(s),r(),n()})}}var Qm=!1;function oA(){Qm=!0}function Pp(){Qm=!1}var Nu=null;function w0(e){if(u0&&X.observeMutations){var t=e.treeCallback,n=t===void 0?qc:t,i=e.nodeCallback,s=i===void 0?qc:i,r=e.pseudoElementsCallback,o=r===void 0?qc:r,a=e.observeMutationsRoot,l=a===void 0?qt:a;Nu=new u0(function(c){if(!Qm){var u=us();bo(c).forEach(function(h){if(h.type==="childList"&&h.addedNodes.length>0&&!v0(h.addedNodes[0])&&(X.searchPseudoElements&&o(h.target),n(h.target)),h.type==="attributes"&&h.target.parentNode&&X.searchPseudoElements&&o(h.target.parentNode),h.type==="attributes"&&v0(h.target)&&~w$.indexOf(h.attributeName))if(h.attributeName==="class"&&rz(h.target)){var f=Kh(Hm(h.target)),d=f.prefix,p=f.iconName;h.target.setAttribute($m,d||u),p&&h.target.setAttribute(zm,p)}else oz(h.target)&&s(h.target)})}}),Ri&&Nu.observe(l,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function hz(){Nu&&Nu.disconnect()}function fz(e){var t=e.getAttribute("style"),n=[];return t&&(n=t.split(";").reduce(function(i,s){var r=s.split(":"),o=r[0],a=r.slice(1);return o&&a.length>0&&(i[o]=a.join(":").trim()),i},{})),n}function dz(e){var t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),i=e.innerText!==void 0?e.innerText.trim():"",s=Kh(Hm(e));return s.prefix||(s.prefix=us()),t&&n&&(s.prefix=t,s.iconName=n),s.iconName&&s.prefix||(s.prefix&&i.length>0&&(s.iconName=H$(s.prefix,e.innerText)||Km(s.prefix,Ep(e.innerText))),!s.iconName&&X.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=e.firstChild.data)),s}function pz(e){var t=bo(e.attributes).reduce(function(s,r){return s.name!=="class"&&s.name!=="style"&&(s[r.name]=r.value),s},{}),n=e.getAttribute("title"),i=e.getAttribute("data-fa-title-id");return X.autoA11y&&(n?t["aria-labelledby"]="".concat(X.replacementClass,"-title-").concat(i||nl()):(t["aria-hidden"]="true",t.focusable="false")),t}function gz(){return{iconName:null,title:null,titleId:null,prefix:null,transform:qn,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function E0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},n=dz(e),i=n.iconName,s=n.prefix,r=n.rest,o=pz(e),a=Tp("parseNodeAttributes",{},e),l=t.styleParser?fz(e):[];return q({iconName:i,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:s,transform:qn,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:r,styles:l,attributes:o}},a)}var mz=xn.styles;function aA(e){var t=X.autoReplaceSvg==="nest"?E0(e,{styleParser:!1}):E0(e);return~t.extra.classes.indexOf(jx)?xi("generateLayersText",e,t):xi("generateSvgReplacementMutation",e,t)}var hs=new Set;jm.map(function(e){hs.add("fa-".concat(e))});Object.keys(Ja[$t]).map(hs.add.bind(hs));Object.keys(Ja[Jt]).map(hs.add.bind(hs));hs=Dl(hs);function I0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Ri)return Promise.resolve();var n=qt.documentElement.classList,i=function(h){return n.add("".concat(h0,"-").concat(h))},s=function(h){return n.remove("".concat(h0,"-").concat(h))},r=X.autoFetchSvg?hs:jm.map(function(u){return"fa-".concat(u)}).concat(Object.keys(mz));r.includes("fa")||r.push("fa");var o=[".".concat(jx,":not([").concat(ir,"])")].concat(r.map(function(u){return".".concat(u,":not([").concat(ir,"])")})).join(", ");if(o.length===0)return Promise.resolve();var a=[];try{a=bo(e.querySelectorAll(o))}catch{}if(a.length>0)i("pending"),s("complete");else return Promise.resolve();var l=Xm.begin("onTree"),c=a.reduce(function(u,h){try{var f=aA(h);f&&u.push(f)}catch(d){zx||d.name==="MissingIcon"&&console.error(d)}return u},[]);return new Promise(function(u,h){Promise.all(c).then(function(f){rA(f,function(){i("active"),i("complete"),s("pending"),typeof t=="function"&&t(),l(),u()})}).catch(function(f){l(),h(f)})})}function _z(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;aA(e).then(function(n){n&&rA([n],t)})}function yz(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=(t||{}).icon?t:xp(t||{}),s=n.mask;return s&&(s=(s||{}).icon?s:xp(s||{})),e(i,q(q({},n),{},{mask:s}))}}var vz=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.transform,s=i===void 0?qn:i,r=n.symbol,o=r===void 0?!1:r,a=n.mask,l=a===void 0?null:a,c=n.maskId,u=c===void 0?null:c,h=n.title,f=h===void 0?null:h,d=n.titleId,p=d===void 0?null:d,g=n.classes,m=g===void 0?[]:g,_=n.attributes,y=_===void 0?{}:_,w=n.styles,E=w===void 0?{}:w;if(t){var I=t.prefix,x=t.iconName,k=t.icon;return Gh(q({type:"icon"},t),function(){return sr("beforeDOMElementCreation",{iconDefinition:t,params:n}),X.autoA11y&&(f?y["aria-labelledby"]="".concat(X.replacementClass,"-title-").concat(p||nl()):(y["aria-hidden"]="true",y.focusable="false")),Ym({icons:{main:Ap(k),mask:l?Ap(l.icon):{found:!1,width:null,height:null,icon:{}}},prefix:I,iconName:x,transform:q(q({},qn),s),symbol:o,title:f,maskId:u,titleId:p,extra:{attributes:y,styles:E,classes:m}})})}},bz={mixout:function(){return{icon:yz(vz)}},hooks:function(){return{mutationObserverCallbacks:function(n){return n.treeCallback=I0,n.nodeCallback=_z,n}}},provides:function(t){t.i2svg=function(n){var i=n.node,s=i===void 0?qt:i,r=n.callback,o=r===void 0?function(){}:r;return I0(s,o)},t.generateSvgReplacementMutation=function(n,i){var s=i.iconName,r=i.title,o=i.titleId,a=i.prefix,l=i.transform,c=i.symbol,u=i.mask,h=i.maskId,f=i.extra;return new Promise(function(d,p){Promise.all([Sp(s,a),u.iconName?Sp(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(function(g){var m=Um(g,2),_=m[0],y=m[1];d([n,Ym({icons:{main:_,mask:y},prefix:a,iconName:s,transform:l,symbol:c,maskId:h,title:r,titleId:o,extra:f,watchable:!0})])}).catch(p)})},t.generateAbstractIcon=function(n){var i=n.children,s=n.attributes,r=n.main,o=n.transform,a=n.styles,l=Wh(a);l.length>0&&(s.style=l);var c;return Wm(o)&&(c=xi("generateAbstractTransformGrouping",{main:r,transform:o,containerWidth:r.width,iconWidth:r.width})),i.push(c||r.icon),{children:i,attributes:s}}}},wz={mixout:function(){return{layer:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.classes,r=s===void 0?[]:s;return Gh({type:"layer"},function(){sr("beforeDOMElementCreation",{assembler:n,params:i});var o=[];return n(function(a){Array.isArray(a)?a.map(function(l){o=o.concat(l.abstract)}):o=o.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(X.cssPrefix,"-layers")].concat(Dl(r)).join(" ")},children:o}]})}}}},Ez={mixout:function(){return{counter:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.title,r=s===void 0?null:s,o=i.classes,a=o===void 0?[]:o,l=i.attributes,c=l===void 0?{}:l,u=i.styles,h=u===void 0?{}:u;return Gh({type:"counter",content:n},function(){return sr("beforeDOMElementCreation",{content:n,params:i}),ez({content:n.toString(),title:r,extra:{attributes:c,styles:h,classes:["".concat(X.cssPrefix,"-layers-counter")].concat(Dl(a))}})})}}}},Iz={mixout:function(){return{text:function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.transform,r=s===void 0?qn:s,o=i.title,a=o===void 0?null:o,l=i.classes,c=l===void 0?[]:l,u=i.attributes,h=u===void 0?{}:u,f=i.styles,d=f===void 0?{}:f;return Gh({type:"text",content:n},function(){return sr("beforeDOMElementCreation",{content:n,params:i}),_0({content:n,transform:q(q({},qn),r),title:a,extra:{attributes:h,styles:d,classes:["".concat(X.cssPrefix,"-layers-text")].concat(Dl(c))}})})}}},provides:function(t){t.generateLayersText=function(n,i){var s=i.title,r=i.transform,o=i.extra,a=null,l=null;if(Ux){var c=parseInt(getComputedStyle(n).fontSize,10),u=n.getBoundingClientRect();a=u.width/c,l=u.height/c}return X.autoA11y&&!s&&(o.attributes["aria-hidden"]="true"),Promise.resolve([n,_0({content:n.innerHTML,width:a,height:l,transform:r,title:s,extra:o,watchable:!0})])}}},Tz=new RegExp('"',"ug"),T0=[1105920,1112319];function xz(e){var t=e.replace(Tz,""),n=F$(t,0),i=n>=T0[0]&&n<=T0[1],s=t.length===2?t[0]===t[1]:!1;return{value:Ep(s?t[0]:t),isSecondary:i||s}}function x0(e,t){var n="".concat(d$).concat(t.replace(":","-"));return new Promise(function(i,s){if(e.getAttribute(n)!==null)return i();var r=bo(e.children),o=r.filter(function(k){return k.getAttribute(wp)===t})[0],a=cs.getComputedStyle(e,t),l=a.getPropertyValue("font-family").match(y$),c=a.getPropertyValue("font-weight"),u=a.getPropertyValue("content");if(o&&!l)return e.removeChild(o),i();if(l&&u!=="none"&&u!==""){var h=a.getPropertyValue("content"),f=~["Sharp"].indexOf(l[2])?Jt:$t,d=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(l[2])?Za[f][l[2].toLowerCase()]:v$[f][c],p=xz(h),g=p.value,m=p.isSecondary,_=l[0].startsWith("FontAwesome"),y=Km(d,g),w=y;if(_){var E=W$(g);E.iconName&&E.prefix&&(y=E.iconName,d=E.prefix)}if(y&&!m&&(!o||o.getAttribute($m)!==d||o.getAttribute(zm)!==w)){e.setAttribute(n,w),o&&e.removeChild(o);var I=gz(),x=I.extra;x.attributes[wp]=t,Sp(y,d).then(function(k){var S=Ym(q(q({},I),{},{icons:{main:k,mask:Gm()},prefix:d,iconName:w,extra:x,watchable:!0})),C=qt.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?e.insertBefore(C,e.firstChild):e.appendChild(C),C.outerHTML=S.map(function($){return Ll($)}).join(`
`),e.removeAttribute(n),i()}).catch(s)}else i()}else i()})}function Az(e){return Promise.all([x0(e,"::before"),x0(e,"::after")])}function Sz(e){return e.parentNode!==document.head&&!~g$.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(wp)&&(!e.parentNode||e.parentNode.tagName!=="svg")}function A0(e){if(Ri)return new Promise(function(t,n){var i=bo(e.querySelectorAll("*")).filter(Sz).map(Az),s=Xm.begin("searchPseudoElements");oA(),Promise.all(i).then(function(){s(),Pp(),t()}).catch(function(){s(),Pp(),n()})})}var kz={hooks:function(){return{mutationObserverCallbacks:function(n){return n.pseudoElementsCallback=A0,n}}},provides:function(t){t.pseudoElements2svg=function(n){var i=n.node,s=i===void 0?qt:i;X.searchPseudoElements&&A0(s)}}},S0=!1,Pz={mixout:function(){return{dom:{unwatch:function(){oA(),S0=!0}}}},hooks:function(){return{bootstrap:function(){w0(Tp("mutationObserverCallbacks",{}))},noAuto:function(){hz()},watch:function(n){var i=n.observeMutationsRoot;S0?Pp():w0(Tp("mutationObserverCallbacks",{observeMutationsRoot:i}))}}}},k0=function(t){var n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce(function(i,s){var r=s.toLowerCase().split("-"),o=r[0],a=r.slice(1).join("-");if(o&&a==="h")return i.flipX=!0,i;if(o&&a==="v")return i.flipY=!0,i;if(a=parseFloat(a),isNaN(a))return i;switch(o){case"grow":i.size=i.size+a;break;case"shrink":i.size=i.size-a;break;case"left":i.x=i.x-a;break;case"right":i.x=i.x+a;break;case"up":i.y=i.y-a;break;case"down":i.y=i.y+a;break;case"rotate":i.rotate=i.rotate+a;break}return i},n)},Rz={mixout:function(){return{parse:{transform:function(n){return k0(n)}}}},hooks:function(){return{parseNodeAttributes:function(n,i){var s=i.getAttribute("data-fa-transform");return s&&(n.transform=k0(s)),n}}},provides:function(t){t.generateAbstractTransformGrouping=function(n){var i=n.main,s=n.transform,r=n.containerWidth,o=n.iconWidth,a={transform:"translate(".concat(r/2," 256)")},l="translate(".concat(s.x*32,", ").concat(s.y*32,") "),c="scale(".concat(s.size/16*(s.flipX?-1:1),", ").concat(s.size/16*(s.flipY?-1:1),") "),u="rotate(".concat(s.rotate," 0 0)"),h={transform:"".concat(l," ").concat(c," ").concat(u)},f={transform:"translate(".concat(o/2*-1," -256)")},d={outer:a,inner:h,path:f};return{tag:"g",attributes:q({},d.outer),children:[{tag:"g",attributes:q({},d.inner),children:[{tag:i.icon.tag,children:i.icon.children,attributes:q(q({},i.icon.attributes),d.path)}]}]}}}},Jf={x:0,y:0,width:"100%",height:"100%"};function P0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function Cz(e){return e.tag==="g"?e.children:[e]}var Mz={hooks:function(){return{parseNodeAttributes:function(n,i){var s=i.getAttribute("data-fa-mask"),r=s?Kh(s.split(" ").map(function(o){return o.trim()})):Gm();return r.prefix||(r.prefix=us()),n.mask=r,n.maskId=i.getAttribute("data-fa-mask-id"),n}}},provides:function(t){t.generateAbstractMask=function(n){var i=n.children,s=n.attributes,r=n.main,o=n.mask,a=n.maskId,l=n.transform,c=r.width,u=r.icon,h=o.width,f=o.icon,d=R$({transform:l,containerWidth:h,iconWidth:c}),p={tag:"rect",attributes:q(q({},Jf),{},{fill:"white"})},g=u.children?{children:u.children.map(P0)}:{},m={tag:"g",attributes:q({},d.inner),children:[P0(q({tag:u.tag,attributes:q(q({},u.attributes),d.path)},g))]},_={tag:"g",attributes:q({},d.outer),children:[m]},y="mask-".concat(a||nl()),w="clip-".concat(a||nl()),E={tag:"mask",attributes:q(q({},Jf),{},{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,_]},I={tag:"defs",children:[{tag:"clipPath",attributes:{id:w},children:Cz(f)},E]};return i.push(I,{tag:"rect",attributes:q({fill:"currentColor","clip-path":"url(#".concat(w,")"),mask:"url(#".concat(y,")")},Jf)}),{children:i,attributes:s}}}},Oz={provides:function(t){var n=!1;cs.matchMedia&&(n=cs.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){var i=[],s={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};i.push({tag:"path",attributes:q(q({},s),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=q(q({},r),{},{attributeName:"opacity"}),a={tag:"circle",attributes:q(q({},s),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||a.children.push({tag:"animate",attributes:q(q({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:q(q({},o),{},{values:"1;0;1;1;0;1;"})}),i.push(a),i.push({tag:"path",attributes:q(q({},s),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:q(q({},o),{},{values:"1;0;0;0;0;1;"})}]}),n||i.push({tag:"path",attributes:q(q({},s),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:q(q({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:i}}}},Dz={hooks:function(){return{parseNodeAttributes:function(n,i){var s=i.getAttribute("data-fa-symbol"),r=s===null?!1:s===""?!0:s;return n.symbol=r,n}}}},Nz=[O$,bz,wz,Ez,Iz,kz,Pz,Rz,Mz,Oz,Dz];G$(Nz,{mixoutsTo:hn});hn.noAuto;hn.config;var Lz=hn.library;hn.dom;var Rp=hn.parse;hn.findIconDefinition;hn.toHtml;var Vz=hn.icon;hn.layer;hn.text;hn.counter;function R0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,i)}return n}function ci(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R0(Object(n),!0).forEach(function(i){Ge(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R0(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function Lu(e){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(e)}function Ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fz(e,t){if(e==null)return{};var n={},i=Object.keys(e),s,r;for(r=0;r<i.length;r++)s=i[r],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Uz(e,t){if(e==null)return{};var n=Fz(e,t),i,s;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}var Bz=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},lA={exports:{}};(function(e){(function(t){var n=function(_,y,w){if(!c(y)||h(y)||f(y)||d(y)||l(y))return y;var E,I=0,x=0;if(u(y))for(E=[],x=y.length;I<x;I++)E.push(n(_,y[I],w));else{E={};for(var k in y)Object.prototype.hasOwnProperty.call(y,k)&&(E[_(k,w)]=n(_,y[k],w))}return E},i=function(_,y){y=y||{};var w=y.separator||"_",E=y.split||/(?=[A-Z])/;return _.split(E).join(w)},s=function(_){return p(_)?_:(_=_.replace(/[\-_\s]+(.)?/g,function(y,w){return w?w.toUpperCase():""}),_.substr(0,1).toLowerCase()+_.substr(1))},r=function(_){var y=s(_);return y.substr(0,1).toUpperCase()+y.substr(1)},o=function(_,y){return i(_,y).toLowerCase()},a=Object.prototype.toString,l=function(_){return typeof _=="function"},c=function(_){return _===Object(_)},u=function(_){return a.call(_)=="[object Array]"},h=function(_){return a.call(_)=="[object Date]"},f=function(_){return a.call(_)=="[object RegExp]"},d=function(_){return a.call(_)=="[object Boolean]"},p=function(_){return _=_-0,_===_},g=function(_,y){var w=y&&"process"in y?y.process:y;return typeof w!="function"?_:function(E,I){return w(E,_,I)}},m={camelize:s,decamelize:o,pascalize:r,depascalize:o,camelizeKeys:function(_,y){return n(g(s,y),_)},decamelizeKeys:function(_,y){return n(g(o,y),_,y)},pascalizeKeys:function(_,y){return n(g(r,y),_)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};e.exports?e.exports=m:t.humps=m})(Bz)})(lA);var $z=lA.exports,zz=["class","style"];function jz(e){return e.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,n){var i=n.indexOf(":"),s=$z.camelize(n.slice(0,i)),r=n.slice(i+1).trim();return t[s]=r,t},{})}function Hz(e){return e.split(/\s+/).reduce(function(t,n){return t[n]=!0,t},{})}function cA(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var i=(e.children||[]).map(function(l){return cA(l)}),s=Object.keys(e.attributes||{}).reduce(function(l,c){var u=e.attributes[c];switch(c){case"class":l.class=Hz(u);break;case"style":l.style=jz(u);break;default:l.attrs[c]=u}return l},{attrs:{},class:{},style:{}});n.class;var r=n.style,o=r===void 0?{}:r,a=Uz(n,zz);return eg(e.tag,ci(ci(ci({},t),{},{class:s.class,style:ci(ci({},s.style),o)},s.attrs),a),i)}var uA=!1;try{uA=!0}catch{}function Wz(){if(!uA&&console&&typeof console.error=="function"){var e;(e=console).error.apply(e,arguments)}}function Zf(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?Ge({},e,t):{}}function qz(e){var t,n=(t={"fa-spin":e.spin,"fa-pulse":e.pulse,"fa-fw":e.fixedWidth,"fa-border":e.border,"fa-li":e.listItem,"fa-inverse":e.inverse,"fa-flip":e.flip===!0,"fa-flip-horizontal":e.flip==="horizontal"||e.flip==="both","fa-flip-vertical":e.flip==="vertical"||e.flip==="both"},Ge(t,"fa-".concat(e.size),e.size!==null),Ge(t,"fa-rotate-".concat(e.rotation),e.rotation!==null),Ge(t,"fa-pull-".concat(e.pull),e.pull!==null),Ge(t,"fa-swap-opacity",e.swapOpacity),Ge(t,"fa-bounce",e.bounce),Ge(t,"fa-shake",e.shake),Ge(t,"fa-beat",e.beat),Ge(t,"fa-fade",e.fade),Ge(t,"fa-beat-fade",e.beatFade),Ge(t,"fa-flash",e.flash),Ge(t,"fa-spin-pulse",e.spinPulse),Ge(t,"fa-spin-reverse",e.spinReverse),t);return Object.keys(n).map(function(i){return n[i]?i:null}).filter(function(i){return i})}function C0(e){if(e&&Lu(e)==="object"&&e.prefix&&e.iconName&&e.icon)return e;if(Rp.icon)return Rp.icon(e);if(e===null)return null;if(Lu(e)==="object"&&e.prefix&&e.iconName)return e;if(Array.isArray(e)&&e.length===2)return{prefix:e[0],iconName:e[1]};if(typeof e=="string")return{prefix:"fas",iconName:e}}var Kz=Kp({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:[Boolean,String],default:!1,validator:function(t){return[!0,!1,"horizontal","vertical","both"].indexOf(t)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(t){return["right","left"].indexOf(t)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(t){return[90,180,270].indexOf(Number.parseInt(t,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(t){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(t)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},inverse:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},shake:{type:Boolean,default:!1},beat:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},beatFade:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1}},setup:function(t,n){var i=n.attrs,s=me(function(){return C0(t.icon)}),r=me(function(){return Zf("classes",qz(t))}),o=me(function(){return Zf("transform",typeof t.transform=="string"?Rp.transform(t.transform):t.transform)}),a=me(function(){return Zf("mask",C0(t.mask))}),l=me(function(){return Vz(s.value,ci(ci(ci(ci({},r.value),o.value),a.value),{},{symbol:t.symbol,title:t.title}))});Kn(l,function(u){if(!u)return Wz("Could not find one or more icon(s)",s.value,a.value)},{immediate:!0});var c=me(function(){return l.value?cA(l.value.abstract[0],{},i):null});return function(){return c.value}}}),Gz={prefix:"fas",iconName:"list",icon:[512,512,["list-squares"],"f03a","M40 48C26.7 48 16 58.7 16 72v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V72c0-13.3-10.7-24-24-24H40zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32H480c17.7 0 32-14.3 32-32s-14.3-32-32-32H192zM16 232v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V232c0-13.3-10.7-24-24-24H40c-13.3 0-24 10.7-24 24zM40 368c-13.3 0-24 10.7-24 24v48c0 13.3 10.7 24 24 24H88c13.3 0 24-10.7 24-24V392c0-13.3-10.7-24-24-24H40z"]},Yz={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"]},Xz={prefix:"fas",iconName:"eye-slash",icon:[640,512,[],"f070","M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z"]},Qz={prefix:"fas",iconName:"chart-simple",icon:[448,512,[],"e473","M160 80c0-26.5 21.5-48 48-48h32c26.5 0 48 21.5 48 48V432c0 26.5-21.5 48-48 48H208c-26.5 0-48-21.5-48-48V80zM0 272c0-26.5 21.5-48 48-48H80c26.5 0 48 21.5 48 48V432c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V272zM368 96h32c26.5 0 48 21.5 48 48V432c0 26.5-21.5 48-48 48H368c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48z"]},Jz={prefix:"fas",iconName:"user",icon:[448,512,[128100,62144],"f007","M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"]},Zz={prefix:"fas",iconName:"eye",icon:[576,512,[128065],"f06e","M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z"]},tj={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32H32C14.3 32 0 46.3 0 64S14.3 96 32 96H416c17.7 0 32-14.3 32-32s-14.3-32-32-32H320l-7.2-14.3C307.4 6.8 296.3 0 284.2 0H163.8c-12.1 0-23.2 6.8-28.6 17.7zM416 128H32L53.2 467c1.6 25.3 22.6 45 47.9 45H346.9c25.3 0 46.3-19.7 47.9-45L416 128z"]},ej={prefix:"fas",iconName:"dumbbell",icon:[640,512,[],"f44b","M96 64c0-17.7 14.3-32 32-32h32c17.7 0 32 14.3 32 32V224v64V448c0 17.7-14.3 32-32 32H128c-17.7 0-32-14.3-32-32V384H64c-17.7 0-32-14.3-32-32V288c-17.7 0-32-14.3-32-32s14.3-32 32-32V160c0-17.7 14.3-32 32-32H96V64zm448 0v64h32c17.7 0 32 14.3 32 32v64c17.7 0 32 14.3 32 32s-14.3 32-32 32v64c0 17.7-14.3 32-32 32H544v64c0 17.7-14.3 32-32 32H480c-17.7 0-32-14.3-32-32V288 224 64c0-17.7 14.3-32 32-32h32c17.7 0 32 14.3 32 32zM416 224v64H224V224H416z"]},nj={prefix:"fas",iconName:"gear",icon:[512,512,[9881,"cog"],"f013","M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"]},ij={prefix:"fas",iconName:"circle-plus",icon:[512,512,["plus-circle"],"f055","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM232 344V280H168c-13.3 0-24-10.7-24-24s10.7-24 24-24h64V168c0-13.3 10.7-24 24-24s24 10.7 24 24v64h64c13.3 0 24 10.7 24 24s-10.7 24-24 24H280v64c0 13.3-10.7 24-24 24s-24-10.7-24-24z"]};Lz.add(Jz,ej,Qz,ij,Zz,Gz,Xz,Yz,tj,nj);const Yh=Vk($4);Yh.component("font-awesome-icon",Kz);Yh.use(Bk());Yh.use(Dx);Yh.mount("#app");
